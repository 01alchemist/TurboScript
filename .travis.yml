notifications:
  slack: turboscript:9IeY6sX0PuLan9Q4Ad1Ggylp
  
language: node_js

node_js:
  - 'stable'
  - '6'

sudo: false

env:
  - workerCount=3

matrix:
  fast_finish: true

install:
  - rm -rf node && mkdir node && curl https://nodejs.org/download/nightly/v8.0.0-nightly20170406a94a5da78c/node-v8.0.0-nightly20170406a94a5da78c-linux-x64.tar.xz -s -o node-v8.tar.xz && tar -xJf node-v8.tar.xz -C node --strip-components 1
  - npm uninstall turboscript
  - npm install
  - npm update

script:
  - npm run build
  - yarn tests:verbose

cache:
  yarn: true
  directories:
    - node_modules

git:
  depth: 1
