declare function log(v: string): void;
//declare function unsafe():void;

export class Vector3{
    x: float32;
    y: float32;
    z: float32;

    constructor(x: float32, y:float32, z:float32): void {
        this.y = y;
        this.x = x;
        this.z = z;
    }

    add(b:Vector3):Vector3{
        let c = new Vector3();
        c.x = this.x + b.x;
        c.y = this.y + b.y;
        c.z = this.z + b.z;
        return c;
    }
}

@unsafe
export class Vector {

    x: float32;
    y: float32;
    z: float32;

    constructor(x: float32, y:float32, z:float32): void {
        this.x = x;
        this.y = y;
        this.z = z;
    }

    add(b:Vector):Vector3 {
        let c = new Vector3();
        c.x = this.x + b.x;
        c.y = this.y + b.y;
        c.z = this.z + b.z;
        return c;
    }

    add_vec3(b:Vector3):Vector3 {
        let c = new Vector3();
        c.x = this.x + b.x;
        c.y = this.y + b.y;
        c.z = this.z + b.z;
        return c;
    }

    toString():string {
        let x = this.x;
        let y = this.y;
        return `{"x":${x},"y":${y}}`;
    }
}

// enum ShapeType{
//
// }

@unsafe
export class Shape {
    v1:Vector;

    constructor(v1:Vector):void {
        this.v1 = v1 == null? new Vector() : v1;
    }
}

@unsafe
export class Triangle {
    v1:Vector;

    constructor(v1:Vector):void {
        this.v1 = v1 == null? new Vector() : v1;
    }

    normal():Vector3{
        let b = new Vector();
        let c = this.v1.add(b);
        return c;
    }

    toString():string {
        let str = this.v1.toString();
        return `{"v1":${str}}`;
    }
}

@unsafe
export class Mesh {
    unsafe triangles:*Triangle;

    unsafe constructor(data:*Triangle):void {
        this.triangles = data;
    }

    unsafe normal():void{
        log(this.triangles as string);
    }
}