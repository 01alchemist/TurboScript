(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory(require("fs"));
	else if(typeof define === 'function' && define.amd)
		define(["fs"], factory);
	else if(typeof exports === 'object')
		exports["turbo"] = factory(require("fs"));
	else
		root["turbo"] = factory(root["fs"]);
})(this, function(__WEBPACK_EXTERNAL_MODULE_52__) {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// identity function for calling harmony imports with the correct context
/******/ 	__webpack_require__.i = function(value) { return value; };
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 51);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const env_1 = __webpack_require__(21);
const color_1 = __webpack_require__(20);
/**
 * Created by n.vinayakan on 06.06.17.
 */
class Terminal {
    static write(text) {
        Terminal.history += text;
        if (Terminal.silent) {
            return;
        }
        if (env_1.isNode) {
            process.stdout.write(text);
        }
        else {
            console.log(text);
        }
    }
    static time(name) {
        if (!Terminal.silent) {
            console.time(name);
        }
    }
    static timeEnd(name) {
        if (!Terminal.silent) {
            console.timeEnd(name);
        }
    }
    static setBGColor(color) {
        if (env_1.isNode) {
            if (process.stdout.isTTY) {
                process.stdout.write(`\x1B[48;5;${color === null ? "" : color}m`);
            }
        }
        else {
            // TODO
        }
    }
    static setTextColor(color) {
        if (env_1.isNode) {
            if (process.stdout.isTTY) {
                process.stdout.write(`\x1B[38;5;${color}m`);
            }
        }
        else {
            // TODO
        }
    }
    static setBoldText() {
        if (env_1.isNode) {
            if (process.stdout.isTTY) {
                process.stdout.write(`\x1B[38;1m`);
            }
        }
        else {
            // TODO
        }
    }
    static clearColor() {
        if (env_1.isNode) {
            if (process.stdout.isTTY) {
                process.stdout.write(`\x1B[0m`);
            }
        }
        else {
            // TODO
        }
    }
    static error(text) {
        Terminal.setBGColor(color_1.Color.RED);
        Terminal.setTextColor(color_1.Color.WHITE);
        Terminal.write(" ERROR ");
        Terminal.clearColor();
        Terminal.setTextColor(color_1.Color.RED);
        Terminal.write(" ");
        Terminal.write(text);
        Terminal.write("\n");
        Terminal.clearColor();
    }
    static warn(text) {
        Terminal.setBGColor(color_1.Color.ORANGE);
        Terminal.setTextColor(color_1.Color.WHITE);
        Terminal.write(" WARN ");
        Terminal.clearColor();
        Terminal.setTextColor(color_1.Color.ORANGE);
        Terminal.write(" ");
        Terminal.write(text);
        Terminal.write("\n");
        Terminal.clearColor();
    }
}
Terminal.silent = false;
Terminal.history = "";
exports.Terminal = Terminal;


/***/ }),
/* 1 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const terminal_1 = __webpack_require__(0);
/**
 * Created by n.vinayakan on 06.06.17.
 */
function assert(truth) {
    if (!truth) {
        if (global["debug"]) {
            debugger;
        }
        let error = new Error('Assertion failed');
        terminal_1.Terminal.error(error);
        if (typeof process !== "undefined") {
            process.exit(1);
        }
        else {
            throw error;
        }
    }
}
exports.assert = assert;


/***/ }),
/* 2 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
let stringBuilderPool = null;
// Remove an object from the pool or allocate a new object if the pool is empty
function StringBuilder_new() {
    let sb = stringBuilderPool;
    if (sb != null)
        stringBuilderPool = sb.next;
    else
        sb = new StringBuilder();
    sb.clear();
    return sb;
}
exports.StringBuilder_new = StringBuilder_new;
function StringBuilder_appendQuoted(sb, text) {
    let end = 0;
    let limit = text.length;
    let start = end;
    sb.appendChar('"');
    while (end < limit) {
        let c = text[end];
        if (c == '"')
            sb.appendSlice(text, start, end).append("\\\"");
        else if (c == '\0')
            sb.appendSlice(text, start, end).append("\\0");
        else if (c == '\t')
            sb.appendSlice(text, start, end).append("\\t");
        else if (c == '\r')
            sb.appendSlice(text, start, end).append("\\r");
        else if (c == '\n')
            sb.appendSlice(text, start, end).append("\\n");
        else if (c == '\\')
            sb.appendSlice(text, start, end).append("\\\\");
        else {
            end = end + 1;
            continue;
        }
        end = end + 1;
        start = end;
    }
    sb.appendSlice(text, start, end).appendChar('"');
}
exports.StringBuilder_appendQuoted = StringBuilder_appendQuoted;
class StringBuilder {
    constructor() {
        this.indent = 0;
        this.chunks = [];
    }
    clear() {
        this._text = "";
    }
    clearIndent(delta = 0) {
        this._text = this._text.substr(0, this._text.length - (delta * 4));
    }
    emitIndent(delta = 0) {
        if (delta < 0) {
            this._text = this._text.substr(0, this._text.length + (delta * 4));
        }
        this.indent += delta;
        let i = this.indent;
        while (i > 0) {
            this._text += "    ";
            i = i - 1;
        }
    }
    appendChar(c) {
        // this._text = StringBuilder_appendChar(this._text, c);
        this._text += c;
        return this;
    }
    appendSlice(text, start, end) {
        // this._text = StringBuilder_append(this._text, text.slice(start, end));
        this._text += text.slice(start, end);
        return this;
    }
    breakChunk() {
        this.chunks.push(this._text);
        this._text = "";
        return this.chunks.length - 1;
    }
    appendLine(text, indent = 0) {
        this.indent += indent;
        this.emitIndent();
        this._text += text + "\n";
        return this;
    }
    appendRaw(text) {
        this._text += text + "\n";
        return this;
    }
    append(text, indent = 0) {
        this.indent += indent;
        let lines = text.split("\n");
        lines.forEach((line, i) => {
            if (i > 0) {
                this._text += "\n";
                this.emitIndent();
            }
            this._text += line;
        });
        return this;
    }
    // This also "frees" this object (puts it back in the pool)
    finish() {
        this.next = stringBuilderPool;
        stringBuilderPool = this;
        if (this.chunks.length > 0) {
            let code = "";
            this.chunks.forEach((chunk) => {
                code += chunk;
            });
            return code + this._text;
        }
        else {
            return this._text;
        }
    }
}
exports.StringBuilder = StringBuilder;


/***/ }),
/* 3 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const stringbuilder_1 = __webpack_require__(2);
const color_1 = __webpack_require__(20);
const assert_1 = __webpack_require__(1);
const terminal_1 = __webpack_require__(0);
class LineColumn {
}
exports.LineColumn = LineColumn;
class Source {
    indexToLineColumn(index) {
        var contents = this.contents;
        var column = 0;
        var line = 0;
        var i = 0;
        // Just count the number of lines from the beginning of the file for now
        while (i < index) {
            var c = contents.charCodeAt(i);
            if (c == '\n'.charCodeAt(0)) {
                line = line + 1;
                column = 0;
            }
            else if (c < 0xDC00 || c > 0xDFFF) {
                column = column + 1;
            }
            i = i + 1;
        }
        var location = new LineColumn();
        location.line = line;
        location.column = column;
        return location;
    }
}
exports.Source = Source;
class SourceRange {
    toString() {
        return this.source.contents.slice(this.start, this.end);
    }
    equals(other) {
        return this.source == other.source && this.start == other.start && this.end == other.end;
    }
    enclosingLine() {
        var contents = this.source.contents;
        var start = this.start;
        var end = this.start;
        while (start > 0 && contents[start - 1] != '\n') {
            start = start - 1;
        }
        var length = contents.length;
        while (end < length && contents[end] != '\n') {
            end = end + 1;
        }
        return createRange(this.source, start, end);
    }
    rangeAtEnd() {
        return createRange(this.source, this.end, this.end);
    }
}
exports.SourceRange = SourceRange;
function createRange(source, start, end) {
    assert_1.assert(start <= end);
    var range = new SourceRange();
    range.source = source;
    range.start = start;
    range.end = end;
    return range;
}
exports.createRange = createRange;
function spanRanges(left, right) {
    assert_1.assert(left.source == right.source);
    assert_1.assert(left.start <= right.start);
    assert_1.assert(left.end <= right.end);
    return createRange(left.source, left.start, right.end);
}
exports.spanRanges = spanRanges;
var DiagnosticKind;
(function (DiagnosticKind) {
    DiagnosticKind[DiagnosticKind["ERROR"] = 0] = "ERROR";
    DiagnosticKind[DiagnosticKind["WARNING"] = 1] = "WARNING";
})(DiagnosticKind = exports.DiagnosticKind || (exports.DiagnosticKind = {}));
class Diagnostic {
    appendSourceName(builder, location) {
        builder
            .append(this.range.source.name)
            .append(':')
            .append((location.line + 1).toString())
            .append(':')
            .append((location.column + 1).toString())
            .append(": ");
    }
    appendKind(builder) {
        builder.append(this.kind == DiagnosticKind.ERROR ? "error: " : "warning: ");
    }
    appendMessage(builder) {
        builder.append(this.message).append('\n');
    }
    appendLineContents(builder, location) {
        var range = this.range.enclosingLine();
        builder.appendSlice(range.source.contents, range.start, range.end).append('\n');
    }
    appendRange(builder, location) {
        var range = this.range;
        var column = location.column;
        var contents = range.source.contents;
        // Whitespace
        while (column > 0) {
            builder.append(' ');
            column = column - 1;
        }
        // Single character
        if (range.end - range.start <= 1) {
            builder.append('^');
        }
        else {
            var i = range.start;
            while (i < range.end && contents[i] != '\n') {
                builder.append('~');
                i = i + 1;
            }
        }
        builder.append('\n');
    }
}
exports.Diagnostic = Diagnostic;
class Log {
    error(range, message) {
        this.append(range, message, DiagnosticKind.ERROR);
    }
    warning(range, message) {
        this.append(range, message, DiagnosticKind.WARNING);
    }
    append(range, message, kind) {
        var diagnostic = new Diagnostic();
        diagnostic.range = range;
        diagnostic.message = message;
        diagnostic.kind = kind;
        if (this.first == null)
            this.first = diagnostic;
        else
            this.last.next = diagnostic;
        this.last = diagnostic;
    }
    toString() {
        var builder = stringbuilder_1.StringBuilder_new();
        var diagnostic = this.first;
        while (diagnostic != null) {
            var location = diagnostic.range.source.indexToLineColumn(diagnostic.range.start);
            diagnostic.appendSourceName(builder, location);
            diagnostic.appendKind(builder);
            diagnostic.appendMessage(builder);
            diagnostic.appendLineContents(builder, location);
            diagnostic.appendRange(builder, location);
            diagnostic = diagnostic.next;
        }
        return builder.finish();
    }
    hasErrors() {
        var diagnostic = this.first;
        while (diagnostic != null) {
            if (diagnostic.kind == DiagnosticKind.ERROR) {
                return true;
            }
            diagnostic = diagnostic.next;
        }
        return false;
    }
}
exports.Log = Log;
function writeLogToTerminal(log) {
    let diagnostic = log.first;
    while (diagnostic != null) {
        if (diagnostic.range !== undefined) {
            let location = diagnostic.range.source.indexToLineColumn(diagnostic.range.start);
            // Source
            let builder = stringbuilder_1.StringBuilder_new();
            diagnostic.appendSourceName(builder, location);
            terminal_1.Terminal.setBoldText();
            terminal_1.Terminal.write(builder.finish());
            // Kind
            builder = stringbuilder_1.StringBuilder_new();
            diagnostic.appendKind(builder);
            terminal_1.Terminal.setTextColor(diagnostic.kind == DiagnosticKind.ERROR ? color_1.Color.RED : color_1.Color.MAGENTA);
            terminal_1.Terminal.write(builder.finish());
            // Message
            builder = stringbuilder_1.StringBuilder_new();
            diagnostic.appendMessage(builder);
            terminal_1.Terminal.setBoldText();
            terminal_1.Terminal.write(builder.finish());
            // Line contents
            builder = stringbuilder_1.StringBuilder_new();
            diagnostic.appendLineContents(builder, location);
            terminal_1.Terminal.clearColor();
            terminal_1.Terminal.write(builder.finish());
            // SourceRange
            builder = stringbuilder_1.StringBuilder_new();
            diagnostic.appendRange(builder, location);
            terminal_1.Terminal.setTextColor(color_1.Color.GREEN);
            terminal_1.Terminal.write(builder.finish());
        }
        else {
            terminal_1.Terminal.setTextColor(color_1.Color.RED);
            terminal_1.Terminal.write(diagnostic.message + "\n");
        }
        diagnostic = diagnostic.next;
    }
    terminal_1.Terminal.clearColor();
}
exports.writeLogToTerminal = writeLogToTerminal;


/***/ }),
/* 4 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const symbol_1 = __webpack_require__(5);
const assert_1 = __webpack_require__(1);
/**
 * Author: Nidin Vinayakan
 */
var NodeKind;
(function (NodeKind) {
    // Other
    NodeKind[NodeKind["EXTENDS"] = 0] = "EXTENDS";
    NodeKind[NodeKind["FILE"] = 1] = "FILE";
    NodeKind[NodeKind["GLOBAL"] = 2] = "GLOBAL";
    NodeKind[NodeKind["IMPLEMENTS"] = 3] = "IMPLEMENTS";
    NodeKind[NodeKind["PARAMETER"] = 4] = "PARAMETER";
    NodeKind[NodeKind["PARAMETERS"] = 5] = "PARAMETERS";
    NodeKind[NodeKind["VARIABLE"] = 6] = "VARIABLE";
    NodeKind[NodeKind["IMPORT"] = 7] = "IMPORT";
    NodeKind[NodeKind["IMPORT_FROM"] = 8] = "IMPORT_FROM";
    // Statements
    NodeKind[NodeKind["BLOCK"] = 9] = "BLOCK";
    NodeKind[NodeKind["BREAK"] = 10] = "BREAK";
    NodeKind[NodeKind["MODULE"] = 11] = "MODULE";
    NodeKind[NodeKind["IMPORTS"] = 12] = "IMPORTS";
    NodeKind[NodeKind["CLASS"] = 13] = "CLASS";
    NodeKind[NodeKind["CONSTANTS"] = 14] = "CONSTANTS";
    NodeKind[NodeKind["CONTINUE"] = 15] = "CONTINUE";
    NodeKind[NodeKind["EMPTY"] = 16] = "EMPTY";
    NodeKind[NodeKind["ENUM"] = 17] = "ENUM";
    NodeKind[NodeKind["EXPRESSION"] = 18] = "EXPRESSION";
    NodeKind[NodeKind["FUNCTION"] = 19] = "FUNCTION";
    NodeKind[NodeKind["IF"] = 20] = "IF";
    NodeKind[NodeKind["RETURN"] = 21] = "RETURN";
    NodeKind[NodeKind["UNSAFE"] = 22] = "UNSAFE";
    NodeKind[NodeKind["JAVASCRIPT"] = 23] = "JAVASCRIPT";
    NodeKind[NodeKind["START"] = 24] = "START";
    NodeKind[NodeKind["VARIABLES"] = 25] = "VARIABLES";
    NodeKind[NodeKind["WHILE"] = 26] = "WHILE";
    // Expressions
    NodeKind[NodeKind["ALIGN_OF"] = 27] = "ALIGN_OF";
    NodeKind[NodeKind["BOOLEAN"] = 28] = "BOOLEAN";
    NodeKind[NodeKind["CALL"] = 29] = "CALL";
    NodeKind[NodeKind["CAST"] = 30] = "CAST";
    NodeKind[NodeKind["DOT"] = 31] = "DOT";
    NodeKind[NodeKind["HOOK"] = 32] = "HOOK";
    NodeKind[NodeKind["INDEX"] = 33] = "INDEX";
    NodeKind[NodeKind["POINTER_INDEX"] = 34] = "POINTER_INDEX";
    NodeKind[NodeKind["ANY"] = 35] = "ANY";
    NodeKind[NodeKind["INT32"] = 36] = "INT32";
    NodeKind[NodeKind["INT64"] = 37] = "INT64";
    NodeKind[NodeKind["FLOAT32"] = 38] = "FLOAT32";
    NodeKind[NodeKind["FLOAT64"] = 39] = "FLOAT64";
    NodeKind[NodeKind["ARRAY"] = 40] = "ARRAY";
    NodeKind[NodeKind["GENERIC"] = 41] = "GENERIC";
    NodeKind[NodeKind["NAME"] = 42] = "NAME";
    NodeKind[NodeKind["NEW"] = 43] = "NEW";
    NodeKind[NodeKind["DELETE"] = 44] = "DELETE";
    NodeKind[NodeKind["NULL"] = 45] = "NULL";
    NodeKind[NodeKind["UNDEFINED"] = 46] = "UNDEFINED";
    NodeKind[NodeKind["PARSE_ERROR"] = 47] = "PARSE_ERROR";
    NodeKind[NodeKind["SIZE_OF"] = 48] = "SIZE_OF";
    NodeKind[NodeKind["STRING"] = 49] = "STRING";
    NodeKind[NodeKind["THIS"] = 50] = "THIS";
    NodeKind[NodeKind["TYPE"] = 51] = "TYPE";
    // Unary expressions
    NodeKind[NodeKind["ADDRESS_OF"] = 52] = "ADDRESS_OF";
    NodeKind[NodeKind["COMPLEMENT"] = 53] = "COMPLEMENT";
    NodeKind[NodeKind["DEREFERENCE"] = 54] = "DEREFERENCE";
    NodeKind[NodeKind["NEGATIVE"] = 55] = "NEGATIVE";
    NodeKind[NodeKind["NOT"] = 56] = "NOT";
    NodeKind[NodeKind["POINTER_TYPE"] = 57] = "POINTER_TYPE";
    NodeKind[NodeKind["POSITIVE"] = 58] = "POSITIVE";
    NodeKind[NodeKind["POSTFIX_DECREMENT"] = 59] = "POSTFIX_DECREMENT";
    NodeKind[NodeKind["POSTFIX_INCREMENT"] = 60] = "POSTFIX_INCREMENT";
    NodeKind[NodeKind["PREFIX_DECREMENT"] = 61] = "PREFIX_DECREMENT";
    NodeKind[NodeKind["PREFIX_INCREMENT"] = 62] = "PREFIX_INCREMENT";
    // Binary expressions
    NodeKind[NodeKind["ADD"] = 63] = "ADD";
    NodeKind[NodeKind["ASSIGN"] = 64] = "ASSIGN";
    NodeKind[NodeKind["BITWISE_AND"] = 65] = "BITWISE_AND";
    NodeKind[NodeKind["BITWISE_OR"] = 66] = "BITWISE_OR";
    NodeKind[NodeKind["BITWISE_XOR"] = 67] = "BITWISE_XOR";
    NodeKind[NodeKind["DIVIDE"] = 68] = "DIVIDE";
    NodeKind[NodeKind["EQUAL"] = 69] = "EQUAL";
    NodeKind[NodeKind["EXPONENT"] = 70] = "EXPONENT";
    NodeKind[NodeKind["GREATER_THAN"] = 71] = "GREATER_THAN";
    NodeKind[NodeKind["GREATER_THAN_EQUAL"] = 72] = "GREATER_THAN_EQUAL";
    NodeKind[NodeKind["LESS_THAN"] = 73] = "LESS_THAN";
    NodeKind[NodeKind["LESS_THAN_EQUAL"] = 74] = "LESS_THAN_EQUAL";
    NodeKind[NodeKind["LOGICAL_AND"] = 75] = "LOGICAL_AND";
    NodeKind[NodeKind["LOGICAL_OR"] = 76] = "LOGICAL_OR";
    NodeKind[NodeKind["MULTIPLY"] = 77] = "MULTIPLY";
    NodeKind[NodeKind["NOT_EQUAL"] = 78] = "NOT_EQUAL";
    NodeKind[NodeKind["REMAINDER"] = 79] = "REMAINDER";
    NodeKind[NodeKind["SHIFT_LEFT"] = 80] = "SHIFT_LEFT";
    NodeKind[NodeKind["SHIFT_RIGHT"] = 81] = "SHIFT_RIGHT";
    NodeKind[NodeKind["SUBTRACT"] = 82] = "SUBTRACT";
    //JavaScript
    NodeKind[NodeKind["JS_NUMBER"] = 83] = "JS_NUMBER";
    NodeKind[NodeKind["JS_OBJECT"] = 84] = "JS_OBJECT";
    NodeKind[NodeKind["JS_STRING"] = 85] = "JS_STRING";
    NodeKind[NodeKind["JS_ARRAY"] = 86] = "JS_ARRAY";
})(NodeKind = exports.NodeKind || (exports.NodeKind = {}));
function isUnary(kind) {
    return kind >= NodeKind.ADDRESS_OF && kind <= NodeKind.PREFIX_INCREMENT;
}
exports.isUnary = isUnary;
function isUnaryPostfix(kind) {
    return kind >= NodeKind.POSTFIX_DECREMENT && kind <= NodeKind.POSTFIX_INCREMENT;
}
exports.isUnaryPostfix = isUnaryPostfix;
function isBinary(kind) {
    return kind >= NodeKind.ADD && kind <= NodeKind.SUBTRACT;
}
exports.isBinary = isBinary;
function invertedBinaryKind(kind) {
    if (kind == NodeKind.EQUAL)
        return NodeKind.NOT_EQUAL;
    if (kind == NodeKind.NOT_EQUAL)
        return NodeKind.EQUAL;
    if (kind == NodeKind.GREATER_THAN)
        return NodeKind.LESS_THAN_EQUAL;
    if (kind == NodeKind.GREATER_THAN_EQUAL)
        return NodeKind.LESS_THAN;
    if (kind == NodeKind.LESS_THAN)
        return NodeKind.GREATER_THAN_EQUAL;
    if (kind == NodeKind.LESS_THAN_EQUAL)
        return NodeKind.GREATER_THAN;
    return kind;
}
exports.invertedBinaryKind = invertedBinaryKind;
function isExpression(node) {
    return node.kind >= NodeKind.ALIGN_OF && node.kind <= NodeKind.SUBTRACT;
}
exports.isExpression = isExpression;
function isCompactNodeKind(kind) {
    return kind == NodeKind.CONSTANTS || kind == NodeKind.EXPRESSION || kind == NodeKind.VARIABLES;
}
exports.isCompactNodeKind = isCompactNodeKind;
exports.NODE_FLAG_DECLARE = 1 << 0;
exports.NODE_FLAG_EXPORT = 1 << 1;
exports.NODE_FLAG_IMPORT = 1 << 2;
exports.NODE_FLAG_LIBRARY = 1 << 3;
exports.NODE_FLAG_GET = 1 << 4;
exports.NODE_FLAG_OPERATOR = 1 << 5;
exports.NODE_FLAG_POSITIVE = 1 << 6;
exports.NODE_FLAG_PRIVATE = 1 << 7;
exports.NODE_FLAG_PROTECTED = 1 << 8;
exports.NODE_FLAG_PUBLIC = 1 << 9;
exports.NODE_FLAG_SET = 1 << 10;
exports.NODE_FLAG_STATIC = 1 << 11;
exports.NODE_FLAG_UNSAFE = 1 << 12;
exports.NODE_FLAG_JAVASCRIPT = 1 << 13;
exports.NODE_FLAG_UNSIGNED_OPERATOR = 1 << 14;
exports.NODE_FLAG_VIRTUAL = 1 << 15;
exports.NODE_FLAG_START = 1 << 16;
exports.NODE_FLAG_ANYFUNC = 1 << 17;
exports.NODE_FLAG_GENERIC = 1 << 18;
class NodeFlag {
}
exports.NodeFlag = NodeFlag;
function appendFlag(first, flag, range) {
    let link = new NodeFlag();
    link.flag = flag;
    link.range = range;
    // Is the list empty?
    if (first == null) {
        return link;
    }
    // Append the flag to the end of the list
    let secondToLast = first;
    while (secondToLast.next != null) {
        secondToLast = secondToLast.next;
    }
    secondToLast.next = link;
    return first;
}
exports.appendFlag = appendFlag;
function allFlags(link) {
    let all = 0;
    while (link != null) {
        all = all | link.flag;
        link = link.next;
    }
    return all;
}
exports.allFlags = allFlags;
function rangeForFlag(link, flag) {
    while (link != null) {
        if (link.flag == flag) {
            return link.range;
        }
        link = link.next;
    }
    return null;
}
exports.rangeForFlag = rangeForFlag;
class Node {
    get hasValue() {
        return this._hasValue;
    }
    get rawValue() {
        if (this._hasStringValue) {
            return `"${this._rawValue}"`;
        }
        else {
            return this._rawValue;
        }
    }
    get __internal_rawValue() {
        return this._rawValue;
    }
    set rawValue(newValue) {
        this._hasValue = true;
        this._rawValue = newValue;
    }
    get intValue() {
        let n = this._rawValue;
        if (Number(n) === n && n % 1 === 0) {
            return this._rawValue;
        }
        return null;
    }
    set intValue(newValue) {
        this._hasValue = true;
        this._rawValue = newValue;
    }
    get longValue() {
        //TODO: Implement Int64
        return this._rawValue;
    }
    set longValue(newValue) {
        //TODO: Implement Int64
        this._hasValue = true;
        this._rawValue = newValue;
    }
    get floatValue() {
        return this._rawValue;
    }
    set floatValue(newValue) {
        this._hasValue = true;
        this._rawValue = newValue;
    }
    get doubleValue() {
        return this._rawValue;
    }
    set doubleValue(newValue) {
        this._hasValue = true;
        this._rawValue = newValue;
    }
    get stringValue() {
        return this._rawValue;
    }
    set stringValue(newValue) {
        this._hasValue = true;
        this._hasStringValue = true;
        this._rawValue = newValue;
    }
    get referenceValue() {
        return this._rawValue;
    }
    set referenceValue(newValue) {
        this._hasValue = true;
        this._rawValue = newValue;
    }
    becomeTypeOf(node, context) {
        switch (node.resolvedType) {
            case context.int64Type:
                if (this.kind != NodeKind.NAME) {
                    this.kind = NodeKind.INT64;
                }
                this.resolvedType = context.int64Type;
                break;
            case context.float64Type:
                if (this.kind != NodeKind.NAME) {
                    this.kind = NodeKind.FLOAT64;
                }
                this.resolvedType = context.float64Type;
                break;
        }
        if (node.flags) {
            this.flags = node.flags;
        }
    }
    becomeValueTypeOf(symbol, context) {
        // let resolvedSymbol = symbol.resolvedType.pointerTo ? symbol.resolvedType.pointerTo.symbol : symbol.resolvedType.symbol;
        let resolvedSymbol = symbol.resolvedType.symbol;
        if (resolvedSymbol) {
            switch (symbol.resolvedType) {
                case context.int64Type:
                    this.resolvedType = context.int64Type;
                    if (this.kind == NodeKind.NULL) {
                        this.longValue = 0;
                    }
                    if (this.kind != NodeKind.NAME) {
                        this.kind = NodeKind.INT64;
                    }
                    break;
                case context.float64Type:
                    this.resolvedType = context.float64Type;
                    if (this.kind == NodeKind.NULL) {
                        this.doubleValue = 0.0;
                    }
                    if (this.kind != NodeKind.NAME) {
                        this.kind = NodeKind.FLOAT64;
                    }
                    break;
            }
        }
    }
    clone() {
        let node = new Node();
        node.kind = this.kind;
        if (this.offset !== undefined)
            node.offset = this.offset;
        if (this.flags !== undefined)
            node.flags = this.flags;
        if (this.firstFlag !== undefined)
            node.firstFlag = this.firstFlag;
        // if(this.constructorFunctionNode) node.constructorFunctionNode = this.constructorFunctionNode;
        if (this.range !== undefined)
            node.range = this.range;
        if (this.internalRange !== undefined)
            node.internalRange = this.internalRange;
        if (this.hasValue)
            node.rawValue = this.__internal_rawValue;
        return node;
    }
    becomeSymbolReference(symbol) {
        this.kind = NodeKind.NAME;
        this.symbol = symbol;
        this.referenceValue = symbol.name;
        this.resolvedType = symbol.resolvedType;
        this.removeChildren();
    }
    becomeIntegerConstant(value) {
        this.kind = NodeKind.INT32;
        this.symbol = null;
        this.intValue = value;
        this.removeChildren();
    }
    becomeLongConstant(value) {
        this.kind = NodeKind.INT64;
        this.symbol = null;
        this.longValue = value;
        this.removeChildren();
    }
    becomeFloatConstant(value) {
        this.kind = NodeKind.FLOAT32;
        this.symbol = null;
        this.floatValue = value;
        this.removeChildren();
    }
    becomeDoubleConstant(value) {
        this.kind = NodeKind.FLOAT64;
        this.symbol = null;
        this.doubleValue = value;
        this.removeChildren();
    }
    becomeBooleanConstant(value) {
        this.kind = NodeKind.BOOLEAN;
        this.symbol = null;
        this.intValue = value ? 1 : 0;
        this.removeChildren();
    }
    isNegativeInteger() {
        return this.kind == NodeKind.INT32 && this.intValue < 0;
    }
    isNonNegativeInteger() {
        return this.kind == NodeKind.INT32 && this.intValue >= 0;
    }
    isDeclare() {
        return (this.flags & exports.NODE_FLAG_DECLARE) != 0;
    }
    isLibrary() {
        return (this.flags & exports.NODE_FLAG_LIBRARY) != 0;
    }
    isVirtual() {
        return (this.flags & exports.NODE_FLAG_VIRTUAL) != 0;
    }
    isExport() {
        return (this.flags & exports.NODE_FLAG_EXPORT) != 0;
    }
    isImport() {
        return (this.flags & exports.NODE_FLAG_IMPORT) != 0;
    }
    isExternalImport() {
        return this.isDeclare() && !this.isLibrary();
    }
    isStart() {
        return (this.flags & exports.NODE_FLAG_START) != 0;
    }
    isJavaScript() {
        return (this.flags & exports.NODE_FLAG_JAVASCRIPT) != 0;
    }
    isStatic() {
        return (this.flags & exports.NODE_FLAG_STATIC) != 0;
    }
    isAnyfunc() {
        return (this.flags & exports.NODE_FLAG_ANYFUNC) != 0;
    }
    isDeclareOrJavaScript() {
        return (this.flags & (exports.NODE_FLAG_DECLARE | exports.NODE_FLAG_JAVASCRIPT)) != 0;
    }
    isDeclareOrExport() {
        return (this.flags & (exports.NODE_FLAG_DECLARE | exports.NODE_FLAG_EXPORT)) != 0;
    }
    isGet() {
        return (this.flags & exports.NODE_FLAG_GET) != 0;
    }
    isSet() {
        return (this.flags & exports.NODE_FLAG_SET) != 0;
    }
    isOperator() {
        return (this.flags & exports.NODE_FLAG_OPERATOR) != 0;
    }
    isPositive() {
        return (this.flags & exports.NODE_FLAG_POSITIVE) != 0;
    }
    isPrivate() {
        return (this.flags & exports.NODE_FLAG_PRIVATE) != 0;
    }
    isUnsafe() {
        return (this.flags & exports.NODE_FLAG_UNSAFE) != 0;
    }
    isGeneric() {
        return (this.flags & exports.NODE_FLAG_GENERIC) != 0;
    }
    isTemplate() {
        return this.symbol && (this.symbol.flags & symbol_1.SYMBOL_FLAG_IS_TEMPLATE) != 0;
    }
    isUnsignedOperator() {
        return (this.flags & exports.NODE_FLAG_UNSIGNED_OPERATOR) != 0;
    }
    childCount() {
        let count = 0;
        let child = this.firstChild;
        while (child != null) {
            count = count + 1;
            child = child.nextSibling;
        }
        return count;
    }
    parameterCount() {
        let count = 0;
        let child = this.firstChild;
        if (child.kind == NodeKind.PARAMETERS) {
            child = child.firstChild;
            while (child != null) {
                count = count + 1;
                child = child.nextSibling;
            }
        }
        return count;
    }
    hasParameters() {
        if (this.firstChild) {
            let child = this.firstChild;
            if (child.kind == NodeKind.PARAMETERS) {
                return child.childCount() > 0;
            }
        }
        return false;
    }
    appendChild(child) {
        child.parent = this;
        if (this.firstChild == null) {
            this.firstChild = child;
            this.firstChild.offset = 0;
        }
        else {
            child.previousSibling = this.lastChild;
            this.lastChild.nextSibling = child;
            child.offset = this.lastChild.offset + 1;
        }
        this.lastChild = child;
    }
    insertChildBefore(after, before) {
        if (before == null) {
            return;
        }
        assert_1.assert(before != after);
        assert_1.assert(before.parent == null);
        assert_1.assert(before.previousSibling == null);
        assert_1.assert(before.nextSibling == null);
        assert_1.assert(after == null || after.parent == this);
        if (after == null) {
            this.appendChild(before);
            return;
        }
        before.parent = this;
        before.previousSibling = after.previousSibling;
        before.nextSibling = after;
        if (after.previousSibling != null) {
            assert_1.assert(after == after.previousSibling.nextSibling);
            after.previousSibling.nextSibling = before;
        }
        else {
            assert_1.assert(after == this.firstChild);
            this.firstChild = before;
        }
        after.previousSibling = before;
    }
    insertChildAfter(before, after) {
        if (after == null) {
            return;
        }
        assert_1.assert(before != after);
        assert_1.assert(after.parent == null);
        assert_1.assert(after.previousSibling == null);
        assert_1.assert(after.nextSibling == null);
        assert_1.assert(before == null || before.parent == this);
        if (before == null) {
            this.appendChild(after);
            return;
        }
        after.parent = this;
        after.previousSibling = before;
        after.nextSibling = before.nextSibling;
        if (before.nextSibling != null) {
            assert_1.assert(before == before.nextSibling.previousSibling);
            before.nextSibling.previousSibling = after;
        }
        before.nextSibling = after;
    }
    remove() {
        assert_1.assert(this.parent != null);
        if (this.previousSibling != null) {
            assert_1.assert(this.previousSibling.nextSibling == this);
            this.previousSibling.nextSibling = this.nextSibling;
        }
        else {
            assert_1.assert(this.parent.firstChild == this);
            this.parent.firstChild = this.nextSibling;
        }
        if (this.nextSibling != null) {
            assert_1.assert(this.nextSibling.previousSibling == this);
            this.nextSibling.previousSibling = this.previousSibling;
        }
        else {
            assert_1.assert(this.parent.lastChild == this);
            this.parent.lastChild = this.previousSibling;
        }
        this.parent = null;
        this.previousSibling = null;
        this.nextSibling = null;
        return this;
    }
    removeChildren() {
        while (this.lastChild != null) {
            this.lastChild.remove();
        }
    }
    replaceWith(node) {
        assert_1.assert(node != this);
        assert_1.assert(this.parent != null);
        assert_1.assert(node.parent == null);
        assert_1.assert(node.previousSibling == null);
        assert_1.assert(node.nextSibling == null);
        node.parent = this.parent;
        node.previousSibling = this.previousSibling;
        node.nextSibling = this.nextSibling;
        if (this.previousSibling != null) {
            assert_1.assert(this.previousSibling.nextSibling == this);
            this.previousSibling.nextSibling = node;
        }
        else {
            assert_1.assert(this.parent.firstChild == this);
            this.parent.firstChild = node;
        }
        if (this.nextSibling != null) {
            assert_1.assert(this.nextSibling.previousSibling == this);
            this.nextSibling.previousSibling = node;
        }
        else {
            assert_1.assert(this.parent.lastChild == this);
            this.parent.lastChild = node;
        }
        this.parent = null;
        this.previousSibling = null;
        this.nextSibling = null;
    }
    isType() {
        return this.kind == NodeKind.TYPE || this.kind == NodeKind.POINTER_TYPE || this.symbol != null && symbol_1.isType(this.symbol.kind);
    }
    isCallValue() {
        return this.parent.kind == NodeKind.CALL && this == this.parent.callValue();
    }
    isAssignTarget() {
        return this.parent.kind == NodeKind.ASSIGN && this == this.parent.binaryLeft();
    }
    withRange(range) {
        this.range = range;
        return this;
    }
    withInternalRange(range) {
        this.internalRange = range;
        return this;
    }
    functionFirstArgument() {
        assert_1.assert(this.kind == NodeKind.FUNCTION);
        assert_1.assert(this.childCount() >= 2);
        let child = this.firstChild;
        if (child.kind == NodeKind.PARAMETERS) {
            child = child.nextSibling;
        }
        return child;
    }
    functionLastArgument() {
        assert_1.assert(this.kind == NodeKind.FUNCTION);
        assert_1.assert(this.childCount() >= 2);
        let child = this.firstChild;
        if (child.kind == NodeKind.PARAMETERS) {
            child = child.nextSibling;
        }
        let lastArgument = null;
        while (child != null) {
            let nextChild = child.nextSibling;
            if (nextChild.kind !== NodeKind.VARIABLE) {
                lastArgument = child;
                child = null;
            }
            else {
                child = nextChild;
            }
        }
        return lastArgument;
    }
    functionFirstArgumentIgnoringThis() {
        assert_1.assert(this.kind == NodeKind.FUNCTION);
        assert_1.assert(this.childCount() >= 2);
        assert_1.assert(this.symbol != null);
        let child = this.functionFirstArgument();
        if (this.symbol.kind == symbol_1.SymbolKind.FUNCTION_INSTANCE) {
            child = child.nextSibling;
        }
        return child;
    }
    functionReturnType() {
        assert_1.assert(this.kind == NodeKind.FUNCTION);
        assert_1.assert(this.childCount() >= 2);
        assert_1.assert(isExpression(this.lastChild.previousSibling));
        return this.lastChild.previousSibling;
    }
    constructorNode() {
        assert_1.assert(this.kind == NodeKind.NEW);
        assert_1.assert(this.childCount() > 0);
        assert_1.assert(this.resolvedType.symbol.node.kind == NodeKind.CLASS);
        return this.resolvedType.symbol.node.constructorFunctionNode;
    }
    functionBody() {
        assert_1.assert(this.kind == NodeKind.FUNCTION);
        assert_1.assert(this.childCount() >= 2);
        assert_1.assert(this.lastChild.kind == NodeKind.BLOCK || this.lastChild.kind == NodeKind.EMPTY);
        let body = this.lastChild;
        return body.kind == NodeKind.BLOCK ? body : null;
    }
    newType() {
        assert_1.assert(this.kind == NodeKind.NEW);
        assert_1.assert(this.childCount() >= 1);
        assert_1.assert(isExpression(this.firstChild));
        return this.firstChild;
    }
    deleteType() {
        assert_1.assert(this.kind == NodeKind.DELETE);
        assert_1.assert(this.childCount() >= 1);
        assert_1.assert(isExpression(this.firstChild));
        return this.firstChild;
    }
    callValue() {
        assert_1.assert(this.kind == NodeKind.CALL);
        assert_1.assert(this.childCount() >= 1);
        assert_1.assert(isExpression(this.firstChild));
        return this.firstChild;
    }
    castValue() {
        assert_1.assert(this.kind == NodeKind.CAST);
        assert_1.assert(this.childCount() == 2);
        assert_1.assert(isExpression(this.firstChild));
        return this.firstChild;
    }
    castType() {
        assert_1.assert(this.kind == NodeKind.CAST);
        assert_1.assert(this.childCount() == 2);
        assert_1.assert(isExpression(this.lastChild));
        return this.lastChild;
    }
    alignOfType() {
        assert_1.assert(this.kind == NodeKind.ALIGN_OF);
        assert_1.assert(this.childCount() == 1);
        assert_1.assert(isExpression(this.firstChild));
        return this.firstChild;
    }
    sizeOfType() {
        assert_1.assert(this.kind == NodeKind.SIZE_OF);
        assert_1.assert(this.childCount() == 1);
        assert_1.assert(isExpression(this.firstChild));
        return this.firstChild;
    }
    dotTarget() {
        assert_1.assert(this.kind == NodeKind.DOT);
        assert_1.assert(this.childCount() == 1);
        assert_1.assert(isExpression(this.firstChild));
        return this.firstChild;
    }
    returnValue() {
        assert_1.assert(this.kind == NodeKind.RETURN);
        assert_1.assert(this.childCount() <= 1);
        assert_1.assert(this.firstChild == null || isExpression(this.firstChild));
        return this.firstChild;
    }
    ifReturnNode() {
        assert_1.assert(this.kind == NodeKind.IF);
        assert_1.assert(this.firstChild !== null);
        assert_1.assert(this.firstChild.nextSibling !== null);
        return this.firstChild.nextSibling.returnNode || null;
    }
    deleteValue() {
        assert_1.assert(this.kind == NodeKind.DELETE);
        assert_1.assert(this.childCount() <= 1);
        assert_1.assert(this.firstChild == null || isExpression(this.firstChild));
        return this.firstChild;
    }
    extendsType() {
        assert_1.assert(this.kind == NodeKind.EXTENDS);
        assert_1.assert(this.childCount() == 1);
        assert_1.assert(isExpression(this.firstChild));
        return this.firstChild;
    }
    firstGenericType() {
        assert_1.assert(this.firstChild.kind == NodeKind.PARAMETERS);
        assert_1.assert(this.firstChild.childCount() > 0);
        return this.firstChild.firstChild;
    }
    variableType() {
        assert_1.assert(this.kind == NodeKind.VARIABLE);
        assert_1.assert(this.childCount() <= 2);
        assert_1.assert(isExpression(this.firstChild) || this.firstChild.kind == NodeKind.EMPTY);
        let type = this.firstChild;
        return type.kind != NodeKind.EMPTY ? type : null;
    }
    variableValue() {
        assert_1.assert(this.kind == NodeKind.VARIABLE);
        assert_1.assert(this.childCount() <= 2);
        assert_1.assert(this.firstChild.nextSibling == null || isExpression(this.firstChild.nextSibling));
        return this.firstChild.nextSibling;
    }
    hasVariableValue() {
        assert_1.assert(this.kind == NodeKind.VARIABLE);
        return this.firstChild != undefined && this.firstChild.nextSibling != undefined;
    }
    expressionValue() {
        assert_1.assert(this.kind == NodeKind.EXPRESSION);
        assert_1.assert(this.childCount() == 1);
        assert_1.assert(isExpression(this.firstChild));
        return this.firstChild;
    }
    binaryLeft() {
        assert_1.assert(isBinary(this.kind));
        assert_1.assert(this.childCount() == 2);
        assert_1.assert(isExpression(this.firstChild));
        return this.firstChild;
    }
    binaryRight() {
        assert_1.assert(isBinary(this.kind));
        assert_1.assert(this.childCount() == 2);
        assert_1.assert(isExpression(this.lastChild));
        return this.lastChild;
    }
    unaryValue() {
        assert_1.assert(isUnary(this.kind));
        assert_1.assert(this.childCount() == 1);
        assert_1.assert(isExpression(this.firstChild));
        return this.firstChild;
    }
    pointer() {
        assert_1.assert(this.kind == NodeKind.POINTER_INDEX);
        assert_1.assert(this.childCount() >= 1);
        assert_1.assert(isExpression(this.firstChild));
        return this.firstChild;
    }
    pointerOffset() {
        assert_1.assert(this.firstChild);
        assert_1.assert(this.firstChild.nextSibling);
        return this.firstChild.nextSibling.intValue;
    }
    whileValue() {
        assert_1.assert(this.kind == NodeKind.WHILE);
        assert_1.assert(this.childCount() == 2);
        assert_1.assert(isExpression(this.firstChild));
        return this.firstChild;
    }
    whileBody() {
        assert_1.assert(this.kind == NodeKind.WHILE);
        assert_1.assert(this.childCount() == 2);
        assert_1.assert(this.lastChild.kind == NodeKind.BLOCK);
        return this.lastChild;
    }
    hookValue() {
        assert_1.assert(this.kind == NodeKind.HOOK);
        assert_1.assert(this.childCount() == 3);
        assert_1.assert(isExpression(this.firstChild));
        return this.firstChild;
    }
    hookTrue() {
        assert_1.assert(this.kind == NodeKind.HOOK);
        assert_1.assert(this.childCount() == 3);
        assert_1.assert(isExpression(this.firstChild.nextSibling));
        return this.firstChild.nextSibling;
    }
    hookFalse() {
        assert_1.assert(this.kind == NodeKind.HOOK);
        assert_1.assert(this.childCount() == 3);
        assert_1.assert(isExpression(this.lastChild));
        return this.lastChild;
    }
    indexTarget() {
        assert_1.assert(this.kind == NodeKind.INDEX);
        assert_1.assert(this.childCount() >= 1);
        assert_1.assert(isExpression(this.firstChild));
        return this.firstChild;
    }
    ifValue() {
        assert_1.assert(this.kind == NodeKind.IF);
        assert_1.assert(this.childCount() == 2 || this.childCount() == 3);
        assert_1.assert(isExpression(this.firstChild));
        return this.firstChild;
    }
    ifTrue() {
        assert_1.assert(this.kind == NodeKind.IF);
        assert_1.assert(this.childCount() == 2 || this.childCount() == 3);
        assert_1.assert(this.firstChild.nextSibling.kind == NodeKind.BLOCK);
        return this.firstChild.nextSibling;
    }
    ifFalse() {
        assert_1.assert(this.kind == NodeKind.IF);
        assert_1.assert(this.childCount() == 2 || this.childCount() == 3);
        assert_1.assert(this.firstChild.nextSibling.nextSibling == null || this.firstChild.nextSibling.nextSibling.kind == NodeKind.BLOCK);
        return this.firstChild.nextSibling.nextSibling || null;
    }
    expandCallIntoOperatorTree() {
        if (this.kind != NodeKind.CALL) {
            return false;
        }
        let value = this.callValue();
        let symbol = value.symbol;
        if (value.kind == NodeKind.DOT && symbol.node.isOperator() && symbol.node.isDeclare()) {
            let binaryKind = NodeKind.NULL;
            if (symbol.name == "%")
                binaryKind = NodeKind.REMAINDER;
            else if (symbol.name == "&")
                binaryKind = NodeKind.BITWISE_AND;
            else if (symbol.name == "*")
                binaryKind = NodeKind.MULTIPLY;
            else if (symbol.name == "**")
                binaryKind = NodeKind.EXPONENT;
            else if (symbol.name == "/")
                binaryKind = NodeKind.DIVIDE;
            else if (symbol.name == "<")
                binaryKind = NodeKind.LESS_THAN;
            else if (symbol.name == "<<")
                binaryKind = NodeKind.SHIFT_LEFT;
            else if (symbol.name == "==")
                binaryKind = NodeKind.EQUAL;
            else if (symbol.name == ">")
                binaryKind = NodeKind.GREATER_THAN;
            else if (symbol.name == ">>")
                binaryKind = NodeKind.SHIFT_RIGHT;
            else if (symbol.name == "[]")
                binaryKind = NodeKind.INDEX;
            else if (symbol.name == "^")
                binaryKind = NodeKind.BITWISE_XOR;
            else if (symbol.name == "|")
                binaryKind = NodeKind.BITWISE_OR;
            if (binaryKind != NodeKind.NULL) {
                this.kind = binaryKind;
                value.remove();
                this.insertChildBefore(this.firstChild, value.dotTarget().remove());
                return true;
            }
            else if (symbol.name == "[]=") {
                this.kind = NodeKind.ASSIGN;
                let target = createIndex(value.remove().dotTarget().remove());
                target.appendChild(this.firstChild.remove());
                this.insertChildBefore(this.firstChild, target);
                return true;
            }
        }
        return false;
    }
    arrayLength() {
        assert_1.assert(this.kind == NodeKind.NEW);
        assert_1.assert(this.childCount() >= 1);
        assert_1.assert(isExpression(this.firstChild));
        assert_1.assert(this.firstChild.resolvedType.isArray());
        return this.firstChild.nextSibling;
    }
}
exports.Node = Node;
function createNew(type) {
    assert_1.assert(isExpression(type));
    let node = new Node();
    node.kind = NodeKind.NEW;
    node.appendChild(type);
    return node;
}
exports.createNew = createNew;
function createDelete(value) {
    assert_1.assert(value == null || isExpression(value));
    let node = new Node();
    node.kind = NodeKind.DELETE;
    if (value != null) {
        node.appendChild(value);
    }
    return node;
}
exports.createDelete = createDelete;
function createHook(test, primary, secondary) {
    assert_1.assert(isExpression(test));
    assert_1.assert(isExpression(primary));
    assert_1.assert(isExpression(secondary));
    let node = new Node();
    node.kind = NodeKind.HOOK;
    node.appendChild(test);
    node.appendChild(primary);
    node.appendChild(secondary);
    return node;
}
exports.createHook = createHook;
function createIndex(target) {
    assert_1.assert(isExpression(target));
    let node = new Node();
    node.kind = NodeKind.INDEX;
    node.appendChild(target);
    return node;
}
exports.createIndex = createIndex;
function createNull() {
    let node = new Node();
    node.kind = NodeKind.NULL;
    return node;
}
exports.createNull = createNull;
function createUndefined() {
    let node = new Node();
    node.kind = NodeKind.UNDEFINED;
    return node;
}
exports.createUndefined = createUndefined;
function createThis() {
    let node = new Node();
    node.kind = NodeKind.THIS;
    return node;
}
exports.createThis = createThis;
function createAddressOf(value) {
    assert_1.assert(isExpression(value));
    let node = new Node();
    node.kind = NodeKind.ADDRESS_OF;
    node.appendChild(value);
    return node;
}
exports.createAddressOf = createAddressOf;
function createDereference(value) {
    assert_1.assert(isExpression(value));
    let node = new Node();
    node.kind = NodeKind.DEREFERENCE;
    node.appendChild(value);
    return node;
}
exports.createDereference = createDereference;
function createAlignOf(type) {
    assert_1.assert(isExpression(type));
    let node = new Node();
    node.kind = NodeKind.ALIGN_OF;
    node.appendChild(type);
    return node;
}
exports.createAlignOf = createAlignOf;
function createSizeOf(type) {
    assert_1.assert(isExpression(type));
    let node = new Node();
    node.kind = NodeKind.SIZE_OF;
    node.appendChild(type);
    return node;
}
exports.createSizeOf = createSizeOf;
function createboolean(value) {
    let node = new Node();
    node.kind = NodeKind.BOOLEAN;
    node.intValue = value ? 1 : 0;
    return node;
}
exports.createboolean = createboolean;
function createInt(value) {
    let node = new Node();
    node.kind = NodeKind.INT32;
    node.intValue = value;
    return node;
}
exports.createInt = createInt;
function createLong(value) {
    let node = new Node();
    node.kind = NodeKind.INT64;
    node.longValue = value;
    return node;
}
exports.createLong = createLong;
function createFloat(value) {
    let node = new Node();
    node.kind = NodeKind.FLOAT32;
    node.floatValue = value;
    return node;
}
exports.createFloat = createFloat;
function createDouble(value) {
    let node = new Node();
    node.kind = NodeKind.FLOAT64;
    node.doubleValue = value;
    return node;
}
exports.createDouble = createDouble;
function createString(value) {
    let node = new Node();
    node.kind = NodeKind.STRING;
    node.stringValue = value;
    return node;
}
exports.createString = createString;
function createArray(type) {
    let node = new Node();
    node.kind = NodeKind.ARRAY;
    node.resolvedType = type;
    return node;
}
exports.createArray = createArray;
function createName(value) {
    let node = new Node();
    node.kind = NodeKind.NAME;
    node.referenceValue = value;
    return node;
}
exports.createName = createName;
function createType(type) {
    assert_1.assert(type != null);
    let node = new Node();
    node.kind = NodeKind.TYPE;
    node.resolvedType = type;
    return node;
}
exports.createType = createType;
function createAny() {
    let node = new Node();
    node.kind = NodeKind.ANY;
    return node;
}
exports.createAny = createAny;
function createEmpty() {
    let node = new Node();
    node.kind = NodeKind.EMPTY;
    return node;
}
exports.createEmpty = createEmpty;
function createExpression(value) {
    assert_1.assert(isExpression(value));
    let node = new Node();
    node.kind = NodeKind.EXPRESSION;
    node.appendChild(value);
    return node;
}
exports.createExpression = createExpression;
function createBlock() {
    let node = new Node();
    node.kind = NodeKind.BLOCK;
    return node;
}
exports.createBlock = createBlock;
function createModule(name) {
    let node = new Node();
    node.kind = NodeKind.MODULE;
    node.stringValue = name;
    return node;
}
exports.createModule = createModule;
function createClass(name) {
    let node = new Node();
    node.kind = NodeKind.CLASS;
    node.stringValue = name;
    return node;
}
exports.createClass = createClass;
function createEnum(name) {
    let node = new Node();
    node.kind = NodeKind.ENUM;
    node.stringValue = name;
    return node;
}
exports.createEnum = createEnum;
function createIf(value, trueBranch, falseBranch) {
    assert_1.assert(isExpression(value));
    assert_1.assert(trueBranch.kind == NodeKind.BLOCK);
    assert_1.assert(falseBranch == null || falseBranch.kind == NodeKind.BLOCK);
    let node = new Node();
    node.kind = NodeKind.IF;
    node.appendChild(value);
    node.appendChild(trueBranch);
    if (falseBranch != null) {
        node.appendChild(falseBranch);
    }
    return node;
}
exports.createIf = createIf;
function createWhile(value, body) {
    assert_1.assert(isExpression(value));
    assert_1.assert(body.kind == NodeKind.BLOCK);
    let node = new Node();
    node.kind = NodeKind.WHILE;
    node.appendChild(value);
    node.appendChild(body);
    return node;
}
exports.createWhile = createWhile;
function createReturn(value) {
    assert_1.assert(value == null || isExpression(value));
    let node = new Node();
    node.kind = NodeKind.RETURN;
    if (value != null) {
        node.appendChild(value);
    }
    return node;
}
exports.createReturn = createReturn;
function createImports() {
    let node = new Node();
    node.kind = NodeKind.IMPORTS;
    return node;
}
exports.createImports = createImports;
function createImport(name) {
    let node = new Node();
    node.kind = NodeKind.IMPORT;
    node.stringValue = name;
    return node;
}
exports.createImport = createImport;
function createImportFrom(name) {
    let node = new Node();
    node.kind = NodeKind.IMPORT_FROM;
    node.stringValue = name;
    return node;
}
exports.createImportFrom = createImportFrom;
function createVariables() {
    let node = new Node();
    node.kind = NodeKind.VARIABLES;
    return node;
}
exports.createVariables = createVariables;
function createConstants() {
    let node = new Node();
    node.kind = NodeKind.CONSTANTS;
    return node;
}
exports.createConstants = createConstants;
function createParameters() {
    let node = new Node();
    node.kind = NodeKind.PARAMETERS;
    return node;
}
exports.createParameters = createParameters;
function createExtends(type) {
    assert_1.assert(isExpression(type));
    let node = new Node();
    node.kind = NodeKind.EXTENDS;
    node.appendChild(type);
    return node;
}
exports.createExtends = createExtends;
function createImplements() {
    let node = new Node();
    node.kind = NodeKind.IMPLEMENTS;
    return node;
}
exports.createImplements = createImplements;
function createParameter(name) {
    let node = new Node();
    node.kind = NodeKind.PARAMETER;
    node.stringValue = name;
    return node;
}
exports.createParameter = createParameter;
function createVariable(name, type, value) {
    assert_1.assert(type == null || isExpression(type));
    assert_1.assert(value == null || isExpression(value));
    let node = new Node();
    node.kind = NodeKind.VARIABLE;
    node.stringValue = name;
    node.appendChild(type != null ? type : createEmpty());
    if (value != null) {
        node.appendChild(value);
    }
    return node;
}
exports.createVariable = createVariable;
function createFunction(name) {
    let node = new Node();
    node.kind = NodeKind.FUNCTION;
    node.stringValue = name;
    return node;
}
exports.createFunction = createFunction;
function createUnary(kind, value) {
    assert_1.assert(isUnary(kind));
    assert_1.assert(isExpression(value));
    let node = new Node();
    node.kind = kind;
    node.appendChild(value);
    return node;
}
exports.createUnary = createUnary;
function createBinary(kind, left, right) {
    assert_1.assert(isBinary(kind));
    assert_1.assert(isExpression(left));
    assert_1.assert(isExpression(right));
    let node = new Node();
    node.kind = kind;
    node.appendChild(left);
    node.appendChild(right);
    return node;
}
exports.createBinary = createBinary;
function createCall(value) {
    assert_1.assert(isExpression(value));
    let node = new Node();
    node.kind = NodeKind.CALL;
    node.appendChild(value);
    return node;
}
exports.createCall = createCall;
function createCast(value, type) {
    assert_1.assert(isExpression(value));
    assert_1.assert(isExpression(type));
    let node = new Node();
    node.kind = NodeKind.CAST;
    node.appendChild(value);
    node.appendChild(type);
    return node;
}
exports.createCast = createCast;
function createDot(value, name) {
    assert_1.assert(isExpression(value));
    let node = new Node();
    node.kind = NodeKind.DOT;
    node.stringValue = name;
    node.appendChild(value);
    return node;
}
exports.createDot = createDot;
function createSymbolReference(symbol) {
    let node = createName(symbol.name);
    node.symbol = symbol;
    node.resolvedType = symbol.resolvedType;
    return node;
}
exports.createSymbolReference = createSymbolReference;
function createMemberReference(value, symbol) {
    let node = createDot(value, symbol.name);
    node.symbol = symbol;
    node.resolvedType = symbol.resolvedType;
    return node;
}
exports.createMemberReference = createMemberReference;
function createParseError() {
    let node = new Node();
    node.kind = NodeKind.PARSE_ERROR;
    return node;
}
exports.createParseError = createParseError;
//JavaScript
function createJSNumber() {
    let node = new Node();
    node.kind = NodeKind.JS_NUMBER;
    return node;
}
exports.createJSNumber = createJSNumber;
function createJSObject() {
    let node = new Node();
    node.kind = NodeKind.JS_OBJECT;
    return node;
}
exports.createJSObject = createJSObject;
function createJSString() {
    let node = new Node();
    node.kind = NodeKind.JS_STRING;
    return node;
}
exports.createJSString = createJSString;
function createJSArray() {
    let node = new Node();
    node.kind = NodeKind.JS_ARRAY;
    return node;
}
exports.createJSArray = createJSArray;


/***/ }),
/* 5 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const node_1 = __webpack_require__(4);
const utils_1 = __webpack_require__(6);
const assert_1 = __webpack_require__(1);
var SymbolKind;
(function (SymbolKind) {
    SymbolKind[SymbolKind["TYPE_MODULE"] = 0] = "TYPE_MODULE";
    SymbolKind[SymbolKind["TYPE_INTERFACE"] = 1] = "TYPE_INTERFACE";
    SymbolKind[SymbolKind["TYPE_CLASS"] = 2] = "TYPE_CLASS";
    SymbolKind[SymbolKind["TYPE_GENERIC"] = 3] = "TYPE_GENERIC";
    SymbolKind[SymbolKind["TYPE_TEMPLATE"] = 4] = "TYPE_TEMPLATE";
    SymbolKind[SymbolKind["TYPE_ENUM"] = 5] = "TYPE_ENUM";
    SymbolKind[SymbolKind["TYPE_GLOBAL"] = 6] = "TYPE_GLOBAL";
    SymbolKind[SymbolKind["TYPE_NATIVE"] = 7] = "TYPE_NATIVE";
    SymbolKind[SymbolKind["FUNCTION_INSTANCE"] = 8] = "FUNCTION_INSTANCE";
    SymbolKind[SymbolKind["FUNCTION_GLOBAL"] = 9] = "FUNCTION_GLOBAL";
    SymbolKind[SymbolKind["VARIABLE_ARGUMENT"] = 10] = "VARIABLE_ARGUMENT";
    SymbolKind[SymbolKind["VARIABLE_CONSTANT"] = 11] = "VARIABLE_CONSTANT";
    SymbolKind[SymbolKind["VARIABLE_GLOBAL"] = 12] = "VARIABLE_GLOBAL";
    SymbolKind[SymbolKind["VARIABLE_INSTANCE"] = 13] = "VARIABLE_INSTANCE";
    SymbolKind[SymbolKind["VARIABLE_LOCAL"] = 14] = "VARIABLE_LOCAL";
})(SymbolKind = exports.SymbolKind || (exports.SymbolKind = {}));
function isModule(kind) {
    return kind == SymbolKind.TYPE_MODULE;
}
exports.isModule = isModule;
function isType(kind) {
    return kind >= SymbolKind.TYPE_CLASS && kind <= SymbolKind.TYPE_NATIVE;
}
exports.isType = isType;
function isFunction(kind) {
    return kind >= SymbolKind.FUNCTION_INSTANCE && kind <= SymbolKind.FUNCTION_GLOBAL;
}
exports.isFunction = isFunction;
function isVariable(kind) {
    return kind >= SymbolKind.VARIABLE_ARGUMENT && kind <= SymbolKind.VARIABLE_LOCAL;
}
exports.isVariable = isVariable;
var SymbolState;
(function (SymbolState) {
    SymbolState[SymbolState["UNINITIALIZED"] = 0] = "UNINITIALIZED";
    SymbolState[SymbolState["INITIALIZING"] = 1] = "INITIALIZING";
    SymbolState[SymbolState["INITIALIZED"] = 2] = "INITIALIZED";
})(SymbolState = exports.SymbolState || (exports.SymbolState = {}));
exports.SYMBOL_FLAG_CONVERT_INSTANCE_TO_GLOBAL = 1 << 0;
exports.SYMBOL_FLAG_IS_BINARY_OPERATOR = 1 << 1;
exports.SYMBOL_FLAG_IS_REFERENCE = 1 << 2;
exports.SYMBOL_FLAG_IS_UNARY_OPERATOR = 1 << 3;
exports.SYMBOL_FLAG_IS_UNSIGNED = 1 << 4;
exports.SYMBOL_FLAG_NATIVE_INTEGER = 1 << 5;
exports.SYMBOL_FLAG_NATIVE_LONG = 1 << 6;
exports.SYMBOL_FLAG_NATIVE_FLOAT = 1 << 7;
exports.SYMBOL_FLAG_NATIVE_DOUBLE = 1 << 8;
exports.SYMBOL_FLAG_USED = 1 << 9;
exports.SYMBOL_FLAG_IS_ARRAY = 1 << 10;
exports.SYMBOL_FLAG_IS_GENERIC = 1 << 11;
exports.SYMBOL_FLAG_IS_TEMPLATE = 1 << 12;
class Symbol {
    constructor() {
        this.state = SymbolState.UNINITIALIZED;
        this.byteSize = 0;
        this.maxAlignment = 0;
    }
    get internalName() {
        return this.rename != null ? this.rename : this.name;
    }
    clone() {
        let symbol = new Symbol();
        symbol.kind = this.kind;
        symbol.name = this.name;
        symbol.node = this.node;
        symbol.range = this.range;
        symbol.scope = this.scope;
        symbol.resolvedType = this.resolvedType;
        symbol.byteSize = this.byteSize;
        symbol.state = this.state;
        symbol.maxAlignment = this.maxAlignment;
        symbol.flags = this.flags;
        symbol.rename = this.rename;
        return symbol;
    }
    isEnumValue() {
        return this.node.parent.kind == node_1.NodeKind.ENUM;
    }
    isUnsafe() {
        return this.node != null && this.node.isUnsafe();
    }
    isGetter() {
        return this.node.isGet();
    }
    isSetter() {
        return this.node.isSet();
    }
    isBinaryOperator() {
        return (this.flags & exports.SYMBOL_FLAG_IS_BINARY_OPERATOR) != 0;
    }
    isUnaryOperator() {
        return (this.flags & exports.SYMBOL_FLAG_IS_UNARY_OPERATOR) != 0;
    }
    shouldConvertInstanceToGlobal() {
        return (this.flags & exports.SYMBOL_FLAG_CONVERT_INSTANCE_TO_GLOBAL) != 0;
    }
    isUsed() {
        return (this.flags & exports.SYMBOL_FLAG_USED) != 0;
    }
    parent() {
        var parent = this.node.parent;
        return parent.kind == node_1.NodeKind.CLASS ? parent.symbol : null;
    }
    resolvedTypeUnderlyingIfEnumValue(context) {
        return this.isEnumValue() ? this.resolvedType.underlyingType(context) : this.resolvedType;
    }
    determineClassLayout(context) {
        assert_1.assert(this.kind == SymbolKind.TYPE_CLASS);
        // Only determine class layout once
        if (this.byteSize != 0) {
            return;
        }
        var offset = 0;
        var child = this.node.firstChild;
        var maxAlignment = 1;
        while (child != null) {
            if (child.kind == node_1.NodeKind.VARIABLE) {
                var type = child.symbol.resolvedType;
                // Ignore invalid members
                if (type != context.errorType) {
                    var alignmentOf = type.variableAlignmentOf(context);
                    // Align the member to the next available slot
                    offset = utils_1.alignToNextMultipleOf(offset, alignmentOf);
                    if (alignmentOf > maxAlignment)
                        maxAlignment = alignmentOf;
                    // Allocate the member by extending the object
                    child.symbol.offset = offset;
                    offset = offset + type.variableSizeOf(context);
                }
            }
            child = child.nextSibling;
        }
        // All objects must have a non-zero size
        if (offset == 0) {
            offset = 1;
        }
        // The object size must be a multiple of the maximum alignment for arrays to work correctly
        offset = utils_1.alignToNextMultipleOf(offset, maxAlignment);
        this.byteSize = offset;
        this.maxAlignment = maxAlignment;
    }
}
exports.Symbol = Symbol;


/***/ }),
/* 6 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const assert_1 = __webpack_require__(1);
/**
 * Created by Nidin Vinayakan on 17/01/17.
 */
function toHex(value, size = 7) {
    if (value == undefined || value == null) {
        return "";
    }
    let hex = value.toString(16);
    let zero = [];
    for (let i = 0; i < size; i++) {
        zero.push("0");
    }
    let str = hex.split("");
    str.forEach((s) => {
        zero.shift();
        zero.push(s);
    });
    return zero.join("");
}
exports.toHex = toHex;
function isPositivePowerOf2(value) {
    return value > 0 && (value & (value - 1)) == 0;
}
exports.isPositivePowerOf2 = isPositivePowerOf2;
function alignToNextMultipleOf(offset, alignment) {
    assert_1.assert(isPositivePowerOf2(alignment));
    return (offset + alignment - 1) & -alignment;
}
exports.alignToNextMultipleOf = alignToNextMultipleOf;


/***/ }),
/* 7 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Created by n.vinayakan on 06.06.17.
 */
var CompileTarget;
(function (CompileTarget) {
    CompileTarget[CompileTarget["NONE"] = 0] = "NONE";
    CompileTarget[CompileTarget["AUTO"] = 1] = "AUTO";
    CompileTarget[CompileTarget["CPP"] = 2] = "CPP";
    CompileTarget[CompileTarget["JAVASCRIPT"] = 3] = "JAVASCRIPT";
    CompileTarget[CompileTarget["WEBASSEMBLY"] = 4] = "WEBASSEMBLY";
})(CompileTarget = exports.CompileTarget || (exports.CompileTarget = {}));


/***/ }),
/* 8 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Created by nidin on 2017-01-12.
 */
exports.WasmOpcode = {
    // Control flow operators
    UNREACHABLE: 0x00,
    NOP: 0x01,
    BLOCK: 0x02,
    LOOP: 0x03,
    IF: 0x04,
    IF_ELSE: 0x05,
    END: 0x0b,
    BR: 0x0c,
    BR_IF: 0x0d,
    BR_TABLE: 0x0e,
    RETURN: 0x0f,
    // Call operators
    CALL: 0x10,
    CALL_INDIRECT: 0x11,
    //Parametric operators
    DROP: 0x1a,
    SELECT: 0x1b,
    //Variable access
    GET_LOCAL: 0x20,
    SET_LOCAL: 0x21,
    TEE_LOCAL: 0x22,
    GET_GLOBAL: 0x23,
    SET_GLOBAL: 0x24,
    // Memory-related operators
    I32_LOAD: 0x28,
    I64_LOAD: 0x29,
    F32_LOAD: 0x2a,
    F64_LOAD: 0x2b,
    I32_LOAD8_S: 0x2c,
    I32_LOAD8_U: 0x2d,
    I32_LOAD16_S: 0x2e,
    I32_LOAD16_U: 0x2f,
    I64_LOAD8_S: 0x30,
    I64_LOAD8_U: 0x31,
    I64_LOAD16_S: 0x32,
    I64_LOAD16_U: 0x33,
    I64_LOAD32_S: 0x34,
    I64_LOAD32_U: 0x35,
    I32_STORE: 0x36,
    I64_STORE: 0x37,
    F32_STORE: 0x38,
    F64_STORE: 0x39,
    I32_STORE8: 0x3a,
    I32_STORE16: 0x3b,
    I64_STORE8: 0x3c,
    I64_STORE16: 0x3d,
    I64_STORE32: 0x3e,
    MEMORY_SIZE: 0x3f,
    GROW_MEMORY: 0x40,
    // Constants
    I32_CONST: 0x41,
    I64_CONST: 0x42,
    F32_CONST: 0x43,
    F64_CONST: 0x44,
    //Comparison operators
    I32_EQZ: 0x45,
    I32_EQ: 0x46,
    I32_NE: 0x47,
    I32_LT_S: 0x48,
    I32_LT_U: 0x49,
    I32_GT_S: 0x4a,
    I32_GT_U: 0x4b,
    I32_LE_S: 0x4c,
    I32_LE_U: 0x4d,
    I32_GE_S: 0x4e,
    I32_GE_U: 0x4f,
    I64_EQZ: 0x50,
    I64_EQ: 0x51,
    I64_NE: 0x52,
    I64_LT_S: 0x53,
    I64_LT_U: 0x54,
    I64_GT_S: 0x55,
    I64_GT_U: 0x56,
    I64_LE_S: 0x57,
    I64_LE_U: 0x58,
    I64_GE_S: 0x59,
    I64_GE_U: 0x5a,
    F32_EQ: 0x5b,
    F32_NE: 0x5c,
    F32_LT: 0x5d,
    F32_GT: 0x5e,
    F32_LE: 0x5f,
    F32_GE: 0x60,
    F64_EQ: 0x61,
    F64_NE: 0x62,
    F64_LT: 0x63,
    F64_GT: 0x64,
    F64_LE: 0x65,
    F64_GE: 0x66,
    //Numeric operators
    I32_CLZ: 0x67,
    I32_CTZ: 0x68,
    I32_POPCNT: 0x69,
    I32_ADD: 0x6a,
    I32_SUB: 0x6b,
    I32_MUL: 0x6c,
    I32_DIV_S: 0x6d,
    I32_DIV_U: 0x6e,
    I32_REM_S: 0x6f,
    I32_REM_U: 0x70,
    I32_AND: 0x71,
    I32_OR: 0x72,
    I32_XOR: 0x73,
    I32_SHL: 0x74,
    I32_SHR_S: 0x75,
    I32_SHR_U: 0x76,
    I32_ROTL: 0x77,
    I32_ROTR: 0x78,
    I64_CLZ: 0x79,
    I64_CTZ: 0x7a,
    I64_POPCNT: 0x7b,
    I64_ADD: 0x7c,
    I64_SUB: 0x7d,
    I64_MUL: 0x7e,
    I64_DIV_S: 0x7f,
    I64_DIV_U: 0x80,
    I64_REM_S: 0x81,
    I64_REM_U: 0x82,
    I64_AND: 0x83,
    I64_OR: 0x84,
    I64_XOR: 0x85,
    I64_SHL: 0x86,
    I64_SHR_S: 0x87,
    I64_SHR_U: 0x88,
    I64_ROTL: 0x89,
    I64_ROTR: 0x8a,
    F32_ABS: 0x8b,
    F32_NEG: 0x8c,
    F32_CEIL: 0x8d,
    F32_FLOOR: 0x8e,
    F32_TRUNC: 0x8f,
    F32_NEAREST: 0x90,
    F32_SQRT: 0x91,
    F32_ADD: 0x92,
    F32_SUB: 0x93,
    F32_MUL: 0x94,
    F32_DIV: 0x95,
    F32_MIN: 0x96,
    F32_MAX: 0x97,
    F32_COPYSIGN: 0x98,
    F64_ABS: 0x99,
    F64_NEG: 0x9a,
    F64_CEIL: 0x9b,
    F64_FLOOR: 0x9c,
    F64_TRUNC: 0x9d,
    F64_NEAREST: 0x9e,
    F64_SQRT: 0x9f,
    F64_ADD: 0xa0,
    F64_SUB: 0xa1,
    F64_MUL: 0xa2,
    F64_DIV: 0xa3,
    F64_MIN: 0xa4,
    F64_MAX: 0xa5,
    F64_COPYSIGN: 0xa6,
    //Conversions
    I32_WRAP_I64: 0xa7,
    I32_TRUNC_S_F32: 0xa8,
    I32_TRUNC_U_F32: 0xa9,
    I32_TRUNC_S_F64: 0xaa,
    I32_TRUNC_U_F64: 0xab,
    I64_EXTEND_S_I32: 0xac,
    I64_EXTEND_U_I32: 0xad,
    I64_TRUNC_S_F32: 0xae,
    I64_TRUNC_U_F32: 0xaf,
    I64_TRUNC_S_F64: 0xb0,
    I64_TRUNC_U_F64: 0xb1,
    F32_CONVERT_S_I32: 0xb2,
    F32_CONVERT_U_I32: 0xb3,
    F32_CONVERT_S_I64: 0xb4,
    F32_CONVERT_U_I64: 0xb5,
    F32_DEMOTE_F64: 0xb6,
    F64_CONVERT_S_I32: 0xb7,
    F64_CONVERT_U_I32: 0xb8,
    F64_CONVERT_S_I64: 0xb9,
    F64_CONVERT_U_I64: 0xba,
    F64_PROMOTE_F32: 0xbb,
    //Reinterpretations
    I32_REINTERPRET_F32: 0xbc,
    I64_REINTERPRET_F64: 0xbd,
    F32_REINTERPRET_I32: 0xbe,
    F64_REINTERPRET_I64: 0xbf,
};
exports.WasmOpcode[exports.WasmOpcode.UNREACHABLE] = "unreachable";
exports.WasmOpcode[exports.WasmOpcode.NOP] = "nop";
exports.WasmOpcode[exports.WasmOpcode.BLOCK] = "block";
exports.WasmOpcode[exports.WasmOpcode.LOOP] = "loop";
exports.WasmOpcode[exports.WasmOpcode.IF] = "if";
exports.WasmOpcode[exports.WasmOpcode.IF_ELSE] = "else";
exports.WasmOpcode[exports.WasmOpcode.END] = "end";
exports.WasmOpcode[exports.WasmOpcode.BR] = "br";
exports.WasmOpcode[exports.WasmOpcode.BR_IF] = "br_if";
exports.WasmOpcode[exports.WasmOpcode.BR_TABLE] = "br_table";
exports.WasmOpcode[exports.WasmOpcode.RETURN] = "return";
// Call operators
exports.WasmOpcode[exports.WasmOpcode.CALL] = "call";
exports.WasmOpcode[exports.WasmOpcode.CALL_INDIRECT] = "call_indirect";
//Parametric operators
exports.WasmOpcode[exports.WasmOpcode.DROP] = "drop";
exports.WasmOpcode[exports.WasmOpcode.SELECT] = "select";
//Variable access
exports.WasmOpcode[exports.WasmOpcode.GET_LOCAL] = "get_local";
exports.WasmOpcode[exports.WasmOpcode.SET_LOCAL] = "set_local";
exports.WasmOpcode[exports.WasmOpcode.TEE_LOCAL] = "tee_local";
exports.WasmOpcode[exports.WasmOpcode.GET_GLOBAL] = "get_global";
exports.WasmOpcode[exports.WasmOpcode.SET_GLOBAL] = "set_global";
// Memory-related operators
exports.WasmOpcode[exports.WasmOpcode.I32_LOAD] = "i32.load";
exports.WasmOpcode[exports.WasmOpcode.I64_LOAD] = "i64.load";
exports.WasmOpcode[exports.WasmOpcode.F32_LOAD] = "f32.load";
exports.WasmOpcode[exports.WasmOpcode.F64_LOAD] = "f64.load";
exports.WasmOpcode[exports.WasmOpcode.I32_LOAD8_S] = "i32.load8_s";
exports.WasmOpcode[exports.WasmOpcode.I32_LOAD8_U] = "i32_load8_u";
exports.WasmOpcode[exports.WasmOpcode.I32_LOAD16_S] = "i32_load16_s";
exports.WasmOpcode[exports.WasmOpcode.I32_LOAD16_U] = "i32_load16_u";
exports.WasmOpcode[exports.WasmOpcode.I64_LOAD8_S] = "i64.load8_s";
exports.WasmOpcode[exports.WasmOpcode.I64_LOAD8_U] = "i64.load8_u";
exports.WasmOpcode[exports.WasmOpcode.I64_LOAD16_S] = "i64.load16_s";
exports.WasmOpcode[exports.WasmOpcode.I64_LOAD16_U] = "i64.load16_u";
exports.WasmOpcode[exports.WasmOpcode.I64_LOAD32_S] = "i64.load32_s";
exports.WasmOpcode[exports.WasmOpcode.I64_LOAD32_U] = "i64.load32_u";
exports.WasmOpcode[exports.WasmOpcode.I32_STORE] = "i32.store";
exports.WasmOpcode[exports.WasmOpcode.I64_STORE] = "i64.store";
exports.WasmOpcode[exports.WasmOpcode.F32_STORE] = "f32.store";
exports.WasmOpcode[exports.WasmOpcode.F64_STORE] = "f64.store";
exports.WasmOpcode[exports.WasmOpcode.I32_STORE8] = "i32.store8";
exports.WasmOpcode[exports.WasmOpcode.I32_STORE16] = "i32.store16";
exports.WasmOpcode[exports.WasmOpcode.I64_STORE8] = "i64.store8";
exports.WasmOpcode[exports.WasmOpcode.I64_STORE16] = "i64.store16";
exports.WasmOpcode[exports.WasmOpcode.I64_STORE32] = "i64.store32";
exports.WasmOpcode[exports.WasmOpcode.MEMORY_SIZE] = "current_memory";
exports.WasmOpcode[exports.WasmOpcode.GROW_MEMORY] = "grow_memory";
// Constants
exports.WasmOpcode[exports.WasmOpcode.I32_CONST] = "i32.const";
exports.WasmOpcode[exports.WasmOpcode.I64_CONST] = "i64.const";
exports.WasmOpcode[exports.WasmOpcode.F32_CONST] = "f32.const";
exports.WasmOpcode[exports.WasmOpcode.F64_CONST] = "f64.const";
//Comparison operators
exports.WasmOpcode[exports.WasmOpcode.I32_EQZ] = "i32.eqz";
exports.WasmOpcode[exports.WasmOpcode.I32_EQ] = "i32.eq";
exports.WasmOpcode[exports.WasmOpcode.I32_NE] = "i32.ne";
exports.WasmOpcode[exports.WasmOpcode.I32_LT_S] = "i32.lt_s";
exports.WasmOpcode[exports.WasmOpcode.I32_LT_U] = "i32.lt_u";
exports.WasmOpcode[exports.WasmOpcode.I32_GT_S] = "i32.gt_s";
exports.WasmOpcode[exports.WasmOpcode.I32_GT_U] = "i32.gt_u";
exports.WasmOpcode[exports.WasmOpcode.I32_LE_S] = "i32.le_s";
exports.WasmOpcode[exports.WasmOpcode.I32_LE_U] = "i32.le_u";
exports.WasmOpcode[exports.WasmOpcode.I32_GE_S] = "i32.ge_s";
exports.WasmOpcode[exports.WasmOpcode.I32_GE_U] = "i32.ge_u";
exports.WasmOpcode[exports.WasmOpcode.I64_EQZ] = "i64.eqz";
exports.WasmOpcode[exports.WasmOpcode.I64_EQ] = "i64.eq";
exports.WasmOpcode[exports.WasmOpcode.I64_NE] = "i64.ne";
exports.WasmOpcode[exports.WasmOpcode.I64_LT_S] = "i64.lt_s";
exports.WasmOpcode[exports.WasmOpcode.I64_LT_U] = "i64.lt_u";
exports.WasmOpcode[exports.WasmOpcode.I64_GT_S] = "i64.gt_s";
exports.WasmOpcode[exports.WasmOpcode.I64_GT_U] = "i64.gt_u";
exports.WasmOpcode[exports.WasmOpcode.I64_LE_S] = "i64.le_s";
exports.WasmOpcode[exports.WasmOpcode.I64_LE_U] = "i64.le_u";
exports.WasmOpcode[exports.WasmOpcode.I64_GE_S] = "i64.ge_s";
exports.WasmOpcode[exports.WasmOpcode.I64_GE_U] = "i64.ge_u";
exports.WasmOpcode[exports.WasmOpcode.F32_EQ] = "f32.eq";
exports.WasmOpcode[exports.WasmOpcode.F32_NE] = "f32.ne";
exports.WasmOpcode[exports.WasmOpcode.F32_LT] = "f32.lt";
exports.WasmOpcode[exports.WasmOpcode.F32_GT] = "f32.gt";
exports.WasmOpcode[exports.WasmOpcode.F32_LE] = "f32.le";
exports.WasmOpcode[exports.WasmOpcode.F32_GE] = "f32.ge";
exports.WasmOpcode[exports.WasmOpcode.F64_EQ] = "f64.eq";
exports.WasmOpcode[exports.WasmOpcode.F64_NE] = "f64.ne";
exports.WasmOpcode[exports.WasmOpcode.F64_LT] = "f64.lt";
exports.WasmOpcode[exports.WasmOpcode.F64_GT] = "f64.gt";
exports.WasmOpcode[exports.WasmOpcode.F64_LE] = "f64.le";
exports.WasmOpcode[exports.WasmOpcode.F64_GE] = "f64.ge";
//Numeric operators
exports.WasmOpcode[exports.WasmOpcode.I32_CLZ] = "i32.clz";
exports.WasmOpcode[exports.WasmOpcode.I32_CTZ] = "i32.ctz";
exports.WasmOpcode[exports.WasmOpcode.I32_POPCNT] = "i32.popcnt";
exports.WasmOpcode[exports.WasmOpcode.I32_ADD] = "i32.add";
exports.WasmOpcode[exports.WasmOpcode.I32_SUB] = "i32.sub";
exports.WasmOpcode[exports.WasmOpcode.I32_MUL] = "i32.mul";
exports.WasmOpcode[exports.WasmOpcode.I32_DIV_S] = "i32.div_s";
exports.WasmOpcode[exports.WasmOpcode.I32_DIV_U] = "i32.div_u";
exports.WasmOpcode[exports.WasmOpcode.I32_REM_S] = "i32.rem_s";
exports.WasmOpcode[exports.WasmOpcode.I32_REM_U] = "i32.rem_u";
exports.WasmOpcode[exports.WasmOpcode.I32_AND] = "i32.and";
exports.WasmOpcode[exports.WasmOpcode.I32_OR] = "i32.or";
exports.WasmOpcode[exports.WasmOpcode.I32_XOR] = "i32.xor";
exports.WasmOpcode[exports.WasmOpcode.I32_SHL] = "i32.shl";
exports.WasmOpcode[exports.WasmOpcode.I32_SHR_S] = "i32.shr_s";
exports.WasmOpcode[exports.WasmOpcode.I32_SHR_U] = "i32.shr_u";
exports.WasmOpcode[exports.WasmOpcode.I32_ROTL] = "i32.rotl";
exports.WasmOpcode[exports.WasmOpcode.I32_ROTR] = "i32.rotr";
exports.WasmOpcode[exports.WasmOpcode.I64_CLZ] = "i64.clz";
exports.WasmOpcode[exports.WasmOpcode.I64_CTZ] = "i64.ctz";
exports.WasmOpcode[exports.WasmOpcode.I64_POPCNT] = "i64.popcnt";
exports.WasmOpcode[exports.WasmOpcode.I64_ADD] = "i64.add";
exports.WasmOpcode[exports.WasmOpcode.I64_SUB] = "i64.sub";
exports.WasmOpcode[exports.WasmOpcode.I64_MUL] = "i64.mul";
exports.WasmOpcode[exports.WasmOpcode.I64_DIV_S] = "i64.div_s";
exports.WasmOpcode[exports.WasmOpcode.I64_DIV_U] = "i64.div_u";
exports.WasmOpcode[exports.WasmOpcode.I64_REM_S] = "i64.rem_s";
exports.WasmOpcode[exports.WasmOpcode.I64_REM_U] = "i64.rem_u";
exports.WasmOpcode[exports.WasmOpcode.I64_AND] = "i64.and";
exports.WasmOpcode[exports.WasmOpcode.I64_OR] = "i64.or";
exports.WasmOpcode[exports.WasmOpcode.I64_XOR] = "i64.xor";
exports.WasmOpcode[exports.WasmOpcode.I64_SHL] = "i64.shl";
exports.WasmOpcode[exports.WasmOpcode.I64_SHR_S] = "i64.shr_s";
exports.WasmOpcode[exports.WasmOpcode.I64_SHR_U] = "i64.shr_u";
exports.WasmOpcode[exports.WasmOpcode.I64_ROTL] = "i64.rotl";
exports.WasmOpcode[exports.WasmOpcode.I64_ROTR] = "i64.rotr";
exports.WasmOpcode[exports.WasmOpcode.F32_ABS] = "f32.abs";
exports.WasmOpcode[exports.WasmOpcode.F32_NEG] = "f32.neg";
exports.WasmOpcode[exports.WasmOpcode.F32_CEIL] = "f32.ceil";
exports.WasmOpcode[exports.WasmOpcode.F32_FLOOR] = "f32.floor";
exports.WasmOpcode[exports.WasmOpcode.F32_TRUNC] = "f32.trunc";
exports.WasmOpcode[exports.WasmOpcode.F32_NEAREST] = "f32.nearest";
exports.WasmOpcode[exports.WasmOpcode.F32_SQRT] = "f32.sqrt";
exports.WasmOpcode[exports.WasmOpcode.F32_ADD] = "f32.add";
exports.WasmOpcode[exports.WasmOpcode.F32_SUB] = "f32.sub";
exports.WasmOpcode[exports.WasmOpcode.F32_MUL] = "f32.mul";
exports.WasmOpcode[exports.WasmOpcode.F32_DIV] = "f32.div";
exports.WasmOpcode[exports.WasmOpcode.F32_MIN] = "f32.min";
exports.WasmOpcode[exports.WasmOpcode.F32_MAX] = "f32.max";
exports.WasmOpcode[exports.WasmOpcode.F32_COPYSIGN] = "f32.copysign";
exports.WasmOpcode[exports.WasmOpcode.F64_ABS] = "f64.abs";
exports.WasmOpcode[exports.WasmOpcode.F64_NEG] = "f64.neg";
exports.WasmOpcode[exports.WasmOpcode.F64_CEIL] = "f64.ceil";
exports.WasmOpcode[exports.WasmOpcode.F64_FLOOR] = "f64.floor";
exports.WasmOpcode[exports.WasmOpcode.F64_TRUNC] = "f64.trunc";
exports.WasmOpcode[exports.WasmOpcode.F64_NEAREST] = "f64.nearest";
exports.WasmOpcode[exports.WasmOpcode.F64_SQRT] = "f64.sqrt";
exports.WasmOpcode[exports.WasmOpcode.F64_ADD] = "f64.add";
exports.WasmOpcode[exports.WasmOpcode.F64_SUB] = "f64.sub";
exports.WasmOpcode[exports.WasmOpcode.F64_MUL] = "f64.mul";
exports.WasmOpcode[exports.WasmOpcode.F64_DIV] = "f64.div";
exports.WasmOpcode[exports.WasmOpcode.F64_MIN] = "f64.min";
exports.WasmOpcode[exports.WasmOpcode.F64_MAX] = "f64.max";
exports.WasmOpcode[exports.WasmOpcode.F64_COPYSIGN] = "f64.copysign";
//Conversions
exports.WasmOpcode[exports.WasmOpcode.I32_WRAP_I64] = "i32.wrap/i64";
exports.WasmOpcode[exports.WasmOpcode.I32_TRUNC_S_F32] = "i32.trunc_s/f32";
exports.WasmOpcode[exports.WasmOpcode.I32_TRUNC_U_F32] = "i32.trunc_u/f32";
exports.WasmOpcode[exports.WasmOpcode.I32_TRUNC_S_F64] = "i32.trunc_s/f64";
exports.WasmOpcode[exports.WasmOpcode.I32_TRUNC_U_F64] = "i32.trunc_u/f64";
exports.WasmOpcode[exports.WasmOpcode.I64_EXTEND_S_I32] = "i64.extend_s/i32";
exports.WasmOpcode[exports.WasmOpcode.I64_EXTEND_U_I32] = "i64.extend_u/i32";
exports.WasmOpcode[exports.WasmOpcode.I64_TRUNC_S_F32] = "i64.trunc_s/f32";
exports.WasmOpcode[exports.WasmOpcode.I64_TRUNC_U_F32] = "i64.trunc_u/f32";
exports.WasmOpcode[exports.WasmOpcode.I64_TRUNC_S_F64] = "i64.trunc_s/f64";
exports.WasmOpcode[exports.WasmOpcode.I64_TRUNC_U_F64] = "i64.trunc_u/f64";
exports.WasmOpcode[exports.WasmOpcode.F32_CONVERT_S_I32] = "f32.convert_s/i32";
exports.WasmOpcode[exports.WasmOpcode.F32_CONVERT_U_I32] = "f32.convert_u/i32";
exports.WasmOpcode[exports.WasmOpcode.F32_CONVERT_S_I64] = "f32.convert_s/i64";
exports.WasmOpcode[exports.WasmOpcode.F32_CONVERT_U_I64] = "f32.convert_u/i64";
exports.WasmOpcode[exports.WasmOpcode.F32_DEMOTE_F64] = "f32.demote/f64";
exports.WasmOpcode[exports.WasmOpcode.F64_CONVERT_S_I32] = "f64.convert_s/i32";
exports.WasmOpcode[exports.WasmOpcode.F64_CONVERT_U_I32] = "f64.convert_u/i32";
exports.WasmOpcode[exports.WasmOpcode.F64_CONVERT_S_I64] = "f64.convert_s/i64";
exports.WasmOpcode[exports.WasmOpcode.F64_CONVERT_U_I64] = "f64.convert_u/i64";
exports.WasmOpcode[exports.WasmOpcode.F64_PROMOTE_F32] = "f64.promote/f32";
//Reinterpretations
exports.WasmOpcode[exports.WasmOpcode.I32_REINTERPRET_F32] = "i32.reinterpret/f32";
exports.WasmOpcode[exports.WasmOpcode.I64_REINTERPRET_F64] = "i64.reinterpret/f64";
exports.WasmOpcode[exports.WasmOpcode.F32_REINTERPRET_I32] = "f32.reinterpret/i32";
exports.WasmOpcode[exports.WasmOpcode.F64_REINTERPRET_I64] = "f64.reinterpret/i64";
Object.freeze(exports.WasmOpcode);


/***/ }),
/* 9 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const log_1 = __webpack_require__(3);
const stringbuilder_1 = __webpack_require__(2);
const assert_1 = __webpack_require__(1);
/**
 * Author: Nidin Vinayakan
 */
var TokenKind;
(function (TokenKind) {
    TokenKind[TokenKind["END_OF_FILE"] = 0] = "END_OF_FILE";
    // Literals
    TokenKind[TokenKind["CHARACTER"] = 1] = "CHARACTER";
    TokenKind[TokenKind["IDENTIFIER"] = 2] = "IDENTIFIER";
    TokenKind[TokenKind["INT32"] = 3] = "INT32";
    TokenKind[TokenKind["INT64"] = 4] = "INT64";
    TokenKind[TokenKind["FLOAT32"] = 5] = "FLOAT32";
    TokenKind[TokenKind["FLOAT64"] = 6] = "FLOAT64";
    TokenKind[TokenKind["STRING"] = 7] = "STRING";
    TokenKind[TokenKind["ARRAY"] = 8] = "ARRAY";
    // Punctuation
    TokenKind[TokenKind["ASSIGN"] = 9] = "ASSIGN";
    TokenKind[TokenKind["BITWISE_AND"] = 10] = "BITWISE_AND";
    TokenKind[TokenKind["BITWISE_OR"] = 11] = "BITWISE_OR";
    TokenKind[TokenKind["BITWISE_XOR"] = 12] = "BITWISE_XOR";
    TokenKind[TokenKind["COLON"] = 13] = "COLON";
    TokenKind[TokenKind["COMMA"] = 14] = "COMMA";
    TokenKind[TokenKind["COMPLEMENT"] = 15] = "COMPLEMENT";
    TokenKind[TokenKind["DIVIDE"] = 16] = "DIVIDE";
    TokenKind[TokenKind["DOT"] = 17] = "DOT";
    TokenKind[TokenKind["EQUAL"] = 18] = "EQUAL";
    TokenKind[TokenKind["EXPONENT"] = 19] = "EXPONENT";
    TokenKind[TokenKind["GREATER_THAN"] = 20] = "GREATER_THAN";
    TokenKind[TokenKind["GREATER_THAN_EQUAL"] = 21] = "GREATER_THAN_EQUAL";
    TokenKind[TokenKind["LEFT_BRACE"] = 22] = "LEFT_BRACE";
    TokenKind[TokenKind["LEFT_BRACKET"] = 23] = "LEFT_BRACKET";
    TokenKind[TokenKind["LEFT_PARENTHESIS"] = 24] = "LEFT_PARENTHESIS";
    TokenKind[TokenKind["LESS_THAN"] = 25] = "LESS_THAN";
    TokenKind[TokenKind["LESS_THAN_EQUAL"] = 26] = "LESS_THAN_EQUAL";
    TokenKind[TokenKind["LOGICAL_AND"] = 27] = "LOGICAL_AND";
    TokenKind[TokenKind["LOGICAL_OR"] = 28] = "LOGICAL_OR";
    TokenKind[TokenKind["MINUS"] = 29] = "MINUS";
    TokenKind[TokenKind["MINUS_MINUS"] = 30] = "MINUS_MINUS";
    TokenKind[TokenKind["MULTIPLY"] = 31] = "MULTIPLY";
    TokenKind[TokenKind["NOT"] = 32] = "NOT";
    TokenKind[TokenKind["NOT_EQUAL"] = 33] = "NOT_EQUAL";
    TokenKind[TokenKind["PLUS"] = 34] = "PLUS";
    TokenKind[TokenKind["PLUS_PLUS"] = 35] = "PLUS_PLUS";
    TokenKind[TokenKind["QUESTION_MARK"] = 36] = "QUESTION_MARK";
    TokenKind[TokenKind["REMAINDER"] = 37] = "REMAINDER";
    TokenKind[TokenKind["RIGHT_BRACE"] = 38] = "RIGHT_BRACE";
    TokenKind[TokenKind["RIGHT_BRACKET"] = 39] = "RIGHT_BRACKET";
    TokenKind[TokenKind["RIGHT_PARENTHESIS"] = 40] = "RIGHT_PARENTHESIS";
    TokenKind[TokenKind["SEMICOLON"] = 41] = "SEMICOLON";
    TokenKind[TokenKind["FROM"] = 42] = "FROM";
    TokenKind[TokenKind["SHIFT_LEFT"] = 43] = "SHIFT_LEFT";
    TokenKind[TokenKind["SHIFT_RIGHT"] = 44] = "SHIFT_RIGHT";
    // Keywords
    TokenKind[TokenKind["ALIGNOF"] = 45] = "ALIGNOF";
    TokenKind[TokenKind["AS"] = 46] = "AS";
    TokenKind[TokenKind["BREAK"] = 47] = "BREAK";
    TokenKind[TokenKind["MODULE"] = 48] = "MODULE";
    TokenKind[TokenKind["CLASS"] = 49] = "CLASS";
    TokenKind[TokenKind["CONST"] = 50] = "CONST";
    TokenKind[TokenKind["CONTINUE"] = 51] = "CONTINUE";
    TokenKind[TokenKind["DECLARE"] = 52] = "DECLARE";
    TokenKind[TokenKind["ELSE"] = 53] = "ELSE";
    TokenKind[TokenKind["ENUM"] = 54] = "ENUM";
    TokenKind[TokenKind["EXPORT"] = 55] = "EXPORT";
    TokenKind[TokenKind["EXTENDS"] = 56] = "EXTENDS";
    TokenKind[TokenKind["FALSE"] = 57] = "FALSE";
    TokenKind[TokenKind["FUNCTION"] = 58] = "FUNCTION";
    TokenKind[TokenKind["ANYFUNC"] = 59] = "ANYFUNC";
    TokenKind[TokenKind["IF"] = 60] = "IF";
    TokenKind[TokenKind["IMPLEMENTS"] = 61] = "IMPLEMENTS";
    TokenKind[TokenKind["IMPORT"] = 62] = "IMPORT";
    TokenKind[TokenKind["LET"] = 63] = "LET";
    TokenKind[TokenKind["NEW"] = 64] = "NEW";
    TokenKind[TokenKind["DELETE"] = 65] = "DELETE";
    TokenKind[TokenKind["NULL"] = 66] = "NULL";
    TokenKind[TokenKind["UNDEFINED"] = 67] = "UNDEFINED";
    TokenKind[TokenKind["OPERATOR"] = 68] = "OPERATOR";
    TokenKind[TokenKind["PRIVATE"] = 69] = "PRIVATE";
    TokenKind[TokenKind["PROTECTED"] = 70] = "PROTECTED";
    TokenKind[TokenKind["PUBLIC"] = 71] = "PUBLIC";
    TokenKind[TokenKind["RETURN"] = 72] = "RETURN";
    TokenKind[TokenKind["SIZEOF"] = 73] = "SIZEOF";
    TokenKind[TokenKind["STATIC"] = 74] = "STATIC";
    TokenKind[TokenKind["THIS"] = 75] = "THIS";
    TokenKind[TokenKind["TRUE"] = 76] = "TRUE";
    TokenKind[TokenKind["UNSAFE"] = 77] = "UNSAFE";
    TokenKind[TokenKind["JAVASCRIPT"] = 78] = "JAVASCRIPT";
    TokenKind[TokenKind["START"] = 79] = "START";
    TokenKind[TokenKind["VIRTUAL"] = 80] = "VIRTUAL";
    TokenKind[TokenKind["VAR"] = 81] = "VAR";
    TokenKind[TokenKind["WHILE"] = 82] = "WHILE";
    // Preprocessor
    TokenKind[TokenKind["PREPROCESSOR_DEFINE"] = 83] = "PREPROCESSOR_DEFINE";
    TokenKind[TokenKind["PREPROCESSOR_ELIF"] = 84] = "PREPROCESSOR_ELIF";
    TokenKind[TokenKind["PREPROCESSOR_ELSE"] = 85] = "PREPROCESSOR_ELSE";
    TokenKind[TokenKind["PREPROCESSOR_ENDIF"] = 86] = "PREPROCESSOR_ENDIF";
    TokenKind[TokenKind["PREPROCESSOR_ERROR"] = 87] = "PREPROCESSOR_ERROR";
    TokenKind[TokenKind["PREPROCESSOR_IF"] = 88] = "PREPROCESSOR_IF";
    TokenKind[TokenKind["PREPROCESSOR_NEEDED"] = 89] = "PREPROCESSOR_NEEDED";
    TokenKind[TokenKind["PREPROCESSOR_NEWLINE"] = 90] = "PREPROCESSOR_NEWLINE";
    TokenKind[TokenKind["PREPROCESSOR_UNDEF"] = 91] = "PREPROCESSOR_UNDEF";
    TokenKind[TokenKind["PREPROCESSOR_WARNING"] = 92] = "PREPROCESSOR_WARNING";
})(TokenKind = exports.TokenKind || (exports.TokenKind = {}));
function isKeyword(kind) {
    return kind >= TokenKind.ALIGNOF && kind <= TokenKind.WHILE;
}
exports.isKeyword = isKeyword;
class Token {
}
exports.Token = Token;
function splitToken(first, firstKind, secondKind) {
    var range = first.range;
    assert_1.assert(range.end - range.start >= 2);
    var second = new Token();
    second.kind = secondKind;
    second.range = log_1.createRange(range.source, range.start + 1, range.end);
    second.next = first.next;
    first.kind = firstKind;
    first.next = second;
    range.end = range.start + 1;
}
exports.splitToken = splitToken;
function tokenToString(token) {
    if (token == TokenKind.END_OF_FILE)
        return "end of file";
    // Literals
    if (token == TokenKind.CHARACTER)
        return "character literal";
    if (token == TokenKind.IDENTIFIER)
        return "identifier";
    if (token == TokenKind.INT32)
        return "integer32 literal";
    if (token == TokenKind.INT64)
        return "integer64 literal";
    if (token == TokenKind.FLOAT32)
        return "float32 literal";
    if (token == TokenKind.FLOAT64)
        return "float64 literal";
    if (token == TokenKind.STRING)
        return "string literal";
    if (token == TokenKind.ARRAY)
        return "array literal";
    // Punctuation
    if (token == TokenKind.ASSIGN)
        return "'='";
    if (token == TokenKind.BITWISE_AND)
        return "'&'";
    if (token == TokenKind.BITWISE_OR)
        return "'|'";
    if (token == TokenKind.BITWISE_XOR)
        return "'^'";
    if (token == TokenKind.COLON)
        return "':'";
    if (token == TokenKind.COMMA)
        return "','";
    if (token == TokenKind.COMPLEMENT)
        return "'~'";
    if (token == TokenKind.DIVIDE)
        return "'/'";
    if (token == TokenKind.DOT)
        return "'.'";
    if (token == TokenKind.EQUAL)
        return "'=='";
    if (token == TokenKind.EXPONENT)
        return "'**'";
    if (token == TokenKind.GREATER_THAN)
        return "'>'";
    if (token == TokenKind.GREATER_THAN_EQUAL)
        return "'>='";
    if (token == TokenKind.LEFT_BRACE)
        return "'{'";
    if (token == TokenKind.LEFT_BRACKET)
        return "'['";
    if (token == TokenKind.LEFT_PARENTHESIS)
        return "'('";
    if (token == TokenKind.LESS_THAN)
        return "'<'";
    if (token == TokenKind.LESS_THAN_EQUAL)
        return "'<='";
    if (token == TokenKind.LOGICAL_AND)
        return "'&&'";
    if (token == TokenKind.LOGICAL_OR)
        return "'||'";
    if (token == TokenKind.MINUS)
        return "'-'";
    if (token == TokenKind.MINUS_MINUS)
        return "'--'";
    if (token == TokenKind.MULTIPLY)
        return "'*'";
    if (token == TokenKind.NOT)
        return "'!'";
    if (token == TokenKind.NOT_EQUAL)
        return "'!='";
    if (token == TokenKind.PLUS)
        return "'+'";
    if (token == TokenKind.PLUS_PLUS)
        return "'++'";
    if (token == TokenKind.QUESTION_MARK)
        return "'?'";
    if (token == TokenKind.REMAINDER)
        return "'%'";
    if (token == TokenKind.RIGHT_BRACE)
        return "'}'";
    if (token == TokenKind.RIGHT_BRACKET)
        return "']'";
    if (token == TokenKind.RIGHT_PARENTHESIS)
        return "')'";
    if (token == TokenKind.SEMICOLON)
        return "';'";
    if (token == TokenKind.SHIFT_LEFT)
        return "'<<'";
    if (token == TokenKind.SHIFT_RIGHT)
        return "'>>'";
    // Keywords
    if (token == TokenKind.FROM)
        return "'from'";
    if (token == TokenKind.ALIGNOF)
        return "'alignof'";
    if (token == TokenKind.AS)
        return "'as'";
    if (token == TokenKind.BREAK)
        return "'break'";
    if (token == TokenKind.MODULE)
        return "'module'";
    if (token == TokenKind.CLASS)
        return "'class'";
    if (token == TokenKind.CONST)
        return "'const'";
    if (token == TokenKind.CONTINUE)
        return "'continue'";
    if (token == TokenKind.DECLARE)
        return "'declare'";
    if (token == TokenKind.ELSE)
        return "'else'";
    if (token == TokenKind.ENUM)
        return "'enum'";
    if (token == TokenKind.EXPORT)
        return "'export'";
    if (token == TokenKind.EXTENDS)
        return "'extends'";
    if (token == TokenKind.FALSE)
        return "'false'";
    if (token == TokenKind.FUNCTION)
        return "'function'";
    if (token == TokenKind.ANYFUNC)
        return "'anyfunc'";
    if (token == TokenKind.IF)
        return "'if'";
    if (token == TokenKind.IMPLEMENTS)
        return "'implements'";
    if (token == TokenKind.IMPORT)
        return "'import'";
    if (token == TokenKind.LET)
        return "'let'";
    if (token == TokenKind.NEW)
        return "'new'";
    if (token == TokenKind.DELETE)
        return "'delete'";
    if (token == TokenKind.NULL)
        return "'null'";
    if (token == TokenKind.UNDEFINED)
        return "'undefined'";
    if (token == TokenKind.OPERATOR)
        return "'operator'";
    if (token == TokenKind.PRIVATE)
        return "'private'";
    if (token == TokenKind.PROTECTED)
        return "'protected'";
    if (token == TokenKind.PUBLIC)
        return "'public'";
    if (token == TokenKind.RETURN)
        return "'return'";
    if (token == TokenKind.SIZEOF)
        return "'sizeof'";
    if (token == TokenKind.STATIC)
        return "'static'";
    if (token == TokenKind.THIS)
        return "'this'";
    if (token == TokenKind.TRUE)
        return "'true'";
    if (token == TokenKind.UNSAFE)
        return "'unsafe'";
    if (token == TokenKind.JAVASCRIPT)
        return "'@JS'";
    if (token == TokenKind.START)
        return "'@start'";
    if (token == TokenKind.VIRTUAL)
        return "'@virtual'";
    if (token == TokenKind.VAR)
        return "'var'";
    if (token == TokenKind.WHILE)
        return "'while'";
    // Preprocessor
    if (token == TokenKind.PREPROCESSOR_DEFINE)
        return "'#define'";
    if (token == TokenKind.PREPROCESSOR_ELIF)
        return "'#elif'";
    if (token == TokenKind.PREPROCESSOR_ELSE)
        return "'#else'";
    if (token == TokenKind.PREPROCESSOR_ENDIF)
        return "'#endif'";
    if (token == TokenKind.PREPROCESSOR_ERROR)
        return "'#error'";
    if (token == TokenKind.PREPROCESSOR_IF)
        return "'#if'";
    if (token == TokenKind.PREPROCESSOR_NEWLINE)
        return "newline";
    if (token == TokenKind.PREPROCESSOR_UNDEF)
        return "'#undef'";
    if (token == TokenKind.PREPROCESSOR_WARNING)
        return "'#warning'";
    assert_1.assert(false);
    return null;
}
exports.tokenToString = tokenToString;
function isAlpha(c) {
    return c >= 'a' && c <= 'z' || c >= 'A' && c <= 'Z' || c == '_';
}
exports.isAlpha = isAlpha;
function isASCII(c) {
    return c >= 0x20 && c <= 0x7E;
}
exports.isASCII = isASCII;
function isNumber(c) {
    return c >= '0' && c <= '9';
}
exports.isNumber = isNumber;
function isDigit(c, base) {
    if (c.trim() == "")
        return false;
    if (base == 16) {
        return isNumber(c) || c >= 'A' && c <= 'F' || c >= 'a' && c <= 'f';
    }
    //return c >= '0' && c < '0' + base;
    return !isNaN(c);
}
exports.isDigit = isDigit;
function tokenize(source, log) {
    var first = null;
    var last = null;
    var contents = source.contents;
    var limit = contents.length;
    var needsPreprocessor = false;
    var wantNewline = false;
    var i = 0;
    while (i < limit) {
        var start = i;
        var c = contents[i];
        i = i + 1;
        if (c == ' ' || c == '\t' || c == '\r') {
            continue;
        }
        var kind = TokenKind.END_OF_FILE;
        // Newline
        if (c == '\n') {
            if (!wantNewline) {
                continue;
            }
            // Preprocessor commands all end in a newline
            kind = TokenKind.PREPROCESSOR_NEWLINE;
            wantNewline = false;
        }
        else if (isAlpha(c) || c == "@") {
            kind = TokenKind.IDENTIFIER;
            while (i < limit && (isAlpha(contents[i]) || isNumber(contents[i]))) {
                i = i + 1;
            }
            // Keywords
            var length = i - start;
            if (length >= 2 && length <= 10) {
                var text = contents.slice(start, i);
                if (length == 2) {
                    if (text == "as")
                        kind = TokenKind.AS;
                    else if (text == "if")
                        kind = TokenKind.IF;
                }
                else if (length == 3) {
                    if (text == "let")
                        kind = TokenKind.LET;
                    else if (text == "new")
                        kind = TokenKind.NEW;
                    else if (text == "var")
                        kind = TokenKind.VAR;
                    else if (text == "@JS")
                        kind = TokenKind.JAVASCRIPT;
                }
                else if (length == 4) {
                    if (text == "else")
                        kind = TokenKind.ELSE;
                    else if (text == "enum")
                        kind = TokenKind.ENUM;
                    else if (text == "null")
                        kind = TokenKind.NULL;
                    else if (text == "this")
                        kind = TokenKind.THIS;
                    else if (text == "true")
                        kind = TokenKind.TRUE;
                    else if (text == "from")
                        kind = TokenKind.FROM;
                }
                else if (length == 5) {
                    if (text == "break")
                        kind = TokenKind.BREAK;
                    else if (text == "class")
                        kind = TokenKind.CLASS;
                    else if (text == "const")
                        kind = TokenKind.CONST;
                    else if (text == "false")
                        kind = TokenKind.FALSE;
                    else if (text == "while")
                        kind = TokenKind.WHILE;
                }
                else if (length == 6) {
                    if (text == "export")
                        kind = TokenKind.EXPORT;
                    else if (text == "module")
                        kind = TokenKind.MODULE;
                    else if (text == "import")
                        kind = TokenKind.IMPORT;
                    else if (text == "public")
                        kind = TokenKind.PUBLIC;
                    else if (text == "return")
                        kind = TokenKind.RETURN;
                    else if (text == "sizeof")
                        kind = TokenKind.SIZEOF;
                    else if (text == "static")
                        kind = TokenKind.STATIC;
                    else if (text == "unsafe")
                        kind = TokenKind.UNSAFE;
                    else if (text == "@start")
                        kind = TokenKind.START;
                    else if (text == "delete")
                        kind = TokenKind.DELETE;
                }
                else if (length == 7) {
                    if (text == "alignof")
                        kind = TokenKind.ALIGNOF;
                    else if (text == "declare")
                        kind = TokenKind.DECLARE;
                    else if (text == "extends")
                        kind = TokenKind.EXTENDS;
                    else if (text == "private")
                        kind = TokenKind.PRIVATE;
                    else if (text == "anyfunc")
                        kind = TokenKind.ANYFUNC;
                }
                else {
                    if (text == "continue")
                        kind = TokenKind.CONTINUE;
                    else if (text == "@virtual")
                        kind = TokenKind.VIRTUAL;
                    else if (text == "function")
                        kind = TokenKind.FUNCTION;
                    else if (text == "implements")
                        kind = TokenKind.IMPLEMENTS;
                    else if (text == "protected")
                        kind = TokenKind.PROTECTED;
                }
            }
        }
        else if (isNumber(c)) {
            let isFloat = false;
            let isDouble = false;
            //kind = TokenKind.INT32;
            if (i < limit) {
                var next = contents[i];
                var base = 10;
                // Handle binary, octal, and hexadecimal prefixes
                if (c == '0' && i + 1 < limit) {
                    if (next == 'b' || next == 'B')
                        base = 2;
                    else if (next == 'o' || next == 'O')
                        base = 8;
                    else if (next == 'x' || next == 'X')
                        base = 16;
                    if (base != 10) {
                        if (isDigit(contents[i + 1], base))
                            i = i + 2;
                        else
                            base = 10;
                    }
                }
                let floatFound = false;
                let exponentFound = false;
                // Scan the payload
                while (i < limit && (isDigit(contents[i], base) ||
                    (exponentFound = contents[i] === "e") ||
                    (floatFound = contents[i] === "."))) {
                    i = i + 1;
                    if (exponentFound) {
                        isFloat = true;
                        if (contents[i] === "+" || contents[i] === "-") {
                            i = i + 1;
                        }
                    }
                    if (floatFound) {
                        isFloat = true;
                    }
                }
                if (contents[i] === "f") {
                    kind = TokenKind.FLOAT32;
                    i = i + 1;
                }
                else {
                    kind = isFloat ? TokenKind.FLOAT64 : TokenKind.INT32;
                }
                // Extra letters after the end is an error
                if (i < limit && (isAlpha(contents[i]) || isNumber(contents[i]))) {
                    i = i + 1;
                    while (i < limit && (isAlpha(contents[i]) || isNumber(contents[i]))) {
                        i = i + 1;
                    }
                    log.error(log_1.createRange(source, start, i), stringbuilder_1.StringBuilder_new()
                        .append(`Invalid ${isFloat ? "float" : "integer"} literal: '`)
                        .appendSlice(contents, start, i)
                        .appendChar('\'')
                        .finish());
                    return null;
                }
            }
        }
        else if (c == '"' || c == '\'' || c == '`') {
            while (i < limit) {
                var next = contents[i];
                // Escape any character including newlines
                if (i + 1 < limit && next == '\\') {
                    i = i + 2;
                }
                else if (next == '\n' && c != '`') {
                    break;
                }
                else {
                    i = i + 1;
                    // End the string with a matching quote character
                    if (next == c) {
                        kind = c == '\'' ? TokenKind.CHARACTER : TokenKind.STRING;
                        break;
                    }
                }
            }
            // It's an error if we didn't find a matching quote character
            if (kind == TokenKind.END_OF_FILE) {
                log.error(log_1.createRange(source, start, i), c == '\'' ? "Unterminated character literal" :
                    c == '`' ? "Unterminated template literal" :
                        "Unterminated string literal");
                return null;
            }
        }
        else if (c == '%')
            kind = TokenKind.REMAINDER;
        else if (c == '(')
            kind = TokenKind.LEFT_PARENTHESIS;
        else if (c == ')')
            kind = TokenKind.RIGHT_PARENTHESIS;
        else if (c == ',')
            kind = TokenKind.COMMA;
        else if (c == '.')
            kind = TokenKind.DOT;
        else if (c == ':')
            kind = TokenKind.COLON;
        else if (c == ';')
            kind = TokenKind.SEMICOLON;
        else if (c == '?')
            kind = TokenKind.QUESTION_MARK;
        else if (c == '[')
            kind = TokenKind.LEFT_BRACKET;
        else if (c == ']')
            kind = TokenKind.RIGHT_BRACKET;
        else if (c == '^')
            kind = TokenKind.BITWISE_XOR;
        else if (c == '{')
            kind = TokenKind.LEFT_BRACE;
        else if (c == '}')
            kind = TokenKind.RIGHT_BRACE;
        else if (c == '~')
            kind = TokenKind.COMPLEMENT;
        else if (c == '*') {
            kind = TokenKind.MULTIPLY;
            if (i < limit && contents[i] == '*') {
                kind = TokenKind.EXPONENT;
                i = i + 1;
            }
        }
        else if (c == '/') {
            kind = TokenKind.DIVIDE;
            // Single-line comments
            if (i < limit && contents[i] == '/') {
                i = i + 1;
                while (i < limit && contents[i] != '\n') {
                    i = i + 1;
                }
                continue;
            }
            // Multi-line comments
            if (i < limit && contents[i] == '*') {
                i = i + 1;
                var foundEnd = false;
                while (i < limit) {
                    var next = contents[i];
                    if (next == '*' && i + 1 < limit && contents[i + 1] == '/') {
                        foundEnd = true;
                        i = i + 2;
                        break;
                    }
                    i = i + 1;
                }
                if (!foundEnd) {
                    log.error(log_1.createRange(source, start, start + 2), "Unterminated multi-line comment");
                    return null;
                }
                continue;
            }
        }
        else if (c == '!') {
            kind = TokenKind.NOT;
            if (i < limit && contents[i] == '=') {
                kind = TokenKind.NOT_EQUAL;
                i = i + 1;
                // Recover from !==
                if (i < limit && contents[i] == '=') {
                    i = i + 1;
                    log.error(log_1.createRange(source, start, i), "Use '!=' instead of '!=='");
                }
            }
        }
        else if (c == '=') {
            kind = TokenKind.ASSIGN;
            if (i < limit && contents[i] == '=') {
                kind = TokenKind.EQUAL;
                i = i + 1;
                // Recover from ===
                if (i < limit && contents[i] == '=') {
                    i = i + 1;
                    log.error(log_1.createRange(source, start, i), "Use '==' instead of '==='");
                }
            }
        }
        else if (c == '+') {
            kind = TokenKind.PLUS;
            if (i < limit && contents[i] == '+') {
                kind = TokenKind.PLUS_PLUS;
                i = i + 1;
            }
        }
        else if (c == '-') {
            kind = TokenKind.MINUS;
            if (i < limit && contents[i] == '-') {
                kind = TokenKind.MINUS_MINUS;
                i = i + 1;
            }
        }
        else if (c == '&') {
            kind = TokenKind.BITWISE_AND;
            if (i < limit && contents[i] == '&') {
                kind = TokenKind.LOGICAL_AND;
                i = i + 1;
            }
        }
        else if (c == '|') {
            kind = TokenKind.BITWISE_OR;
            if (i < limit && contents[i] == '|') {
                kind = TokenKind.LOGICAL_OR;
                i = i + 1;
            }
        }
        else if (c == '<') {
            kind = TokenKind.LESS_THAN;
            if (i < limit) {
                c = contents[i];
                if (c == '<') {
                    kind = TokenKind.SHIFT_LEFT;
                    i = i + 1;
                }
                else if (c == '=') {
                    kind = TokenKind.LESS_THAN_EQUAL;
                    i = i + 1;
                }
            }
        }
        else if (c == '>') {
            kind = TokenKind.GREATER_THAN;
            if (i < limit) {
                c = contents[i];
                if (c == '>') {
                    kind = TokenKind.SHIFT_RIGHT;
                    i = i + 1;
                }
                else if (c == '=') {
                    kind = TokenKind.GREATER_THAN_EQUAL;
                    i = i + 1;
                }
            }
        }
        else if (c == '#') {
            while (i < limit && (isAlpha(contents[i]) || isNumber(contents[i]))) {
                i = i + 1;
            }
            var text = contents.slice(start, i);
            if (text == "#define")
                kind = TokenKind.PREPROCESSOR_DEFINE;
            else if (text == "#elif")
                kind = TokenKind.PREPROCESSOR_ELIF;
            else if (text == "#else")
                kind = TokenKind.PREPROCESSOR_ELSE;
            else if (text == "#endif")
                kind = TokenKind.PREPROCESSOR_ENDIF;
            else if (text == "#error")
                kind = TokenKind.PREPROCESSOR_ERROR;
            else if (text == "#if")
                kind = TokenKind.PREPROCESSOR_IF;
            else if (text == "#undef")
                kind = TokenKind.PREPROCESSOR_UNDEF;
            else if (text == "#warning")
                kind = TokenKind.PREPROCESSOR_WARNING;
            else if (start == 0 && text == "#" && i < limit && contents[i] == '!') {
                while (i < limit && contents[i] != '\n') {
                    i = i + 1;
                }
                continue;
            }
            else {
                var builder = stringbuilder_1.StringBuilder_new().append("Invalid preprocessor token '").append(text).appendChar('\'');
                // Check for #if typos
                if (text == "#ifdef") {
                    builder.append(", did you mean '#if'?");
                    kind = TokenKind.PREPROCESSOR_IF;
                }
                else if (text == "#elsif" || text == "#elseif") {
                    builder.append(", did you mean '#elif'?");
                    kind = TokenKind.PREPROCESSOR_ELIF;
                }
                else if (text == "#end") {
                    builder.append(", did you mean '#endif'?");
                    kind = TokenKind.PREPROCESSOR_ENDIF;
                }
                log.error(log_1.createRange(source, start, i), builder.finish());
            }
            // All preprocessor directives must be on a line by themselves
            if (last != null && last.kind != TokenKind.PREPROCESSOR_NEWLINE) {
                var end = last.range.end;
                var j = i - 1;
                while (j >= end) {
                    if (contents[j] == '\n') {
                        break;
                    }
                    j = j - 1;
                }
                if (j < end) {
                    log.error(log_1.createRange(source, start, i), stringbuilder_1.StringBuilder_new()
                        .append("Expected newline before ")
                        .append(tokenToString(kind))
                        .finish());
                }
            }
            needsPreprocessor = true;
            wantNewline = true;
        }
        var range = log_1.createRange(source, start, i);
        if (kind == TokenKind.END_OF_FILE) {
            log.error(range, stringbuilder_1.StringBuilder_new()
                .append("Syntax error: '")
                .appendSlice(contents, start, start + 1)
                .appendChar('\'')
                .finish());
            return null;
        }
        var token = new Token();
        token.kind = kind;
        token.range = range;
        if (first == null)
            first = token;
        else
            last.next = token;
        last = token;
    }
    var eof = new Token();
    eof.kind = TokenKind.END_OF_FILE;
    eof.range = log_1.createRange(source, limit, limit);
    if (first == null)
        first = eof;
    else
        last.next = eof;
    last = eof;
    // Pass a "flag" for whether the preprocessor is needed back to the caller
    if (needsPreprocessor) {
        var token = new Token();
        token.kind = TokenKind.PREPROCESSOR_NEEDED;
        token.next = first;
        return token;
    }
    return first;
}
exports.tokenize = tokenize;


/***/ }),
/* 10 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
///<reference path="../declarations.d.ts" />
const type_checker_1 = __webpack_require__(45);
const node_1 = __webpack_require__(4);
const log_1 = __webpack_require__(3);
const preprocessor_1 = __webpack_require__(49);
const scope_1 = __webpack_require__(17);
const scanner_1 = __webpack_require__(9);
const parser_1 = __webpack_require__(19);
const shaking_1 = __webpack_require__(47);
const stringbuilder_1 = __webpack_require__(2);
const webassembly_1 = __webpack_require__(44);
const library_1 = __webpack_require__(50);
const preparser_1 = __webpack_require__(48);
const compile_target_1 = __webpack_require__(7);
const assert_1 = __webpack_require__(1);
const terminal_1 = __webpack_require__(0);
/**
 * Author: Nidin Vinayakan
 */
class Compiler {
    initialize(target, outputName) {
        assert_1.assert(this.log == null);
        this.log = new log_1.Log();
        this.preprocessor = new preprocessor_1.Preprocessor();
        this.target = target;
        this.outputName = outputName;
        this.librarySource = this.addInput("<native>", library_1.Library.get(target));
        this.librarySource.isLibrary = true;
        this.runtimeSource = library_1.Library.getRuntime(target);
        this.wrapperSource = library_1.Library.getWrapper(target);
        this.createGlobals();
        if (target == compile_target_1.CompileTarget.CPP) {
            this.preprocessor.define("CPP", true);
        }
        else if (target == compile_target_1.CompileTarget.JAVASCRIPT) {
            this.preprocessor.define("JS", true);
        }
        else if (target == compile_target_1.CompileTarget.WEBASSEMBLY) {
            this.preprocessor.define("WASM", true);
        }
    }
    createGlobals() {
        let context = new type_checker_1.CheckContext();
        context.log = this.log;
        context.target = this.target;
        context.pointerByteSize = 4; // Assume 32-bit code generation for now
        let global = new node_1.Node();
        global.kind = node_1.NodeKind.GLOBAL;
        let scope = new scope_1.Scope();
        global.scope = scope;
        // Hard-coded types
        context.anyType = scope.defineNativeType(context.log, "any");
        context.errorType = scope.defineNativeType(context.log, "<error>");
        context.nullType = scope.defineNativeType(context.log, "null");
        context.undefinedType = scope.defineNativeType(context.log, "undefined");
        context.voidType = scope.defineNativeType(context.log, "void");
        this.context = context;
        this.global = global;
    }
    addInput(name, contents) {
        let source = new log_1.Source();
        source.name = name;
        source.contents = contents;
        if (this.firstSource == null)
            this.firstSource = source;
        else {
            source.prev = this.lastSource;
            this.lastSource.next = source;
        }
        this.lastSource = source;
        return source;
    }
    addInputBefore(name, contents, nextSource) {
        let source = new log_1.Source();
        source.name = name;
        source.contents = contents;
        nextSource.prev.next = source;
        source.prev = nextSource.prev;
        nextSource.prev = source;
        source.next = nextSource;
        return source;
    }
    finish() {
        terminal_1.Terminal.time("pre-parsing");
        let source = this.firstSource;
        while (source != null) {
            if (!preparser_1.preparse(source, this, this.log)) {
                return false;
            }
            source = source.next;
        }
        terminal_1.Terminal.timeEnd("pre-parsing");
        terminal_1.Terminal.time("scanning");
        source = this.firstSource;
        while (source != null) {
            source.firstToken = scanner_1.tokenize(source, this.log);
            source = source.next;
        }
        terminal_1.Terminal.timeEnd("scanning");
        terminal_1.Terminal.time("pre-processing");
        source = this.firstSource;
        while (source != null) {
            this.preprocessor.run(source, this.log);
            source = source.next;
        }
        terminal_1.Terminal.timeEnd("pre-processing");
        terminal_1.Terminal.time("parsing");
        source = this.firstSource;
        while (source != null) {
            if (source.firstToken != null) {
                source.file = parser_1.parse(source.firstToken, this.log);
            }
            source = source.next;
        }
        terminal_1.Terminal.timeEnd("parsing");
        terminal_1.Terminal.time("type-checking");
        let global = this.global;
        let context = this.context;
        let fullResolve = true;
        source = this.firstSource;
        while (source != null) {
            let file = source.file;
            if (file != null) {
                if (source.isLibrary) {
                    file.flags |= node_1.NODE_FLAG_LIBRARY;
                    type_checker_1.initialize(context, file, global.scope, type_checker_1.CheckMode.INITIALIZE);
                    type_checker_1.resolve(context, file, global.scope);
                }
                else {
                    type_checker_1.initialize(context, file, global.scope, type_checker_1.CheckMode.NORMAL);
                }
                while (file.firstChild != null) {
                    let child = file.firstChild;
                    child.remove();
                    global.appendChild(child);
                }
            }
            // Stop if the library code has errors because it's highly likely that everything is broken
            if (source.isLibrary && this.log.hasErrors()) {
                fullResolve = false;
                break;
            }
            source = source.next;
        }
        if (fullResolve) {
            type_checker_1.resolve(context, global, global.scope);
        }
        terminal_1.Terminal.timeEnd("type-checking");
        if (this.log.hasErrors()) {
            return false;
        }
        terminal_1.Terminal.time("optimizing");
        shaking_1.treeShaking(global);
        terminal_1.Terminal.timeEnd("optimizing");
        terminal_1.Terminal.time("emitting");
        // if (this.target == CompileTarget.C) {
        //     cEmit(this);
        // }
        // else if (this.target == CompileTarget.JAVASCRIPT) {
        //     jsEmit(this);
        // } else
        if (this.target == compile_target_1.CompileTarget.WEBASSEMBLY) {
            webassembly_1.wasmEmit(this);
        }
        terminal_1.Terminal.timeEnd("emitting");
        terminal_1.Terminal.write("Done!");
        return true;
    }
}
Compiler.mallocRequired = false;
exports.Compiler = Compiler;
function replaceFileExtension(path, extension) {
    let builder = stringbuilder_1.StringBuilder_new();
    let dot = path.lastIndexOf(".");
    let forward = path.lastIndexOf("/");
    let backward = path.lastIndexOf("\\");
    // Make sure that there's a non-empty file name that the dot is a part of
    if (dot > 0 && dot > forward && dot > backward) {
        path = path.slice(0, dot);
    }
    return builder.append(path).append(extension).finish();
}
exports.replaceFileExtension = replaceFileExtension;


/***/ }),
/* 11 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Created by n.vinayakan on 02.06.17.
 */
var WasmType;
(function (WasmType) {
    WasmType[WasmType["VOID"] = 0] = "VOID";
    WasmType[WasmType["I32"] = 127] = "I32";
    WasmType[WasmType["I64"] = 126] = "I64";
    WasmType[WasmType["F32"] = 125] = "F32";
    WasmType[WasmType["F64"] = 124] = "F64";
    WasmType[WasmType["anyfunc"] = 112] = "anyfunc";
    WasmType[WasmType["func"] = 96] = "func";
    WasmType[WasmType["block_type"] = 64] = "block_type";
})(WasmType = exports.WasmType || (exports.WasmType = {}));
class WasmWrappedType {
}
exports.WasmWrappedType = WasmWrappedType;


/***/ }),
/* 12 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const utils_1 = __webpack_require__(6);
/**
 * Created by n.vinayakan on 02.06.17.
 */
function log(array, offset = 0, value = null, msg = null) {
    if (global["debug"]) {
        array.log += (value != null ? `${utils_1.toHex(offset + array.position)}: ${utils_1.toHex(value, 2)}                    ; ` : "") + (msg != null ? `${msg}\n` : "\n");
    }
}
exports.log = log;
function logData(array, offset = 0, value, addPosition = true) {
    if (global["debug"]) {
        array.log += (addPosition ? `${utils_1.toHex(offset + array.position)}: ${utils_1.toHex(value, 2)}` : ` ${utils_1.toHex(value, 2)}`);
    }
}
exports.logData = logData;


/***/ }),
/* 13 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const assert_1 = __webpack_require__(1);
function ByteArray_set16(array, index, value) {
    array.set(index, value);
    array.set(index + 1, (value >> 8));
}
exports.ByteArray_set16 = ByteArray_set16;
function ByteArray_set32(array, index, value) {
    array.set(index, value);
    array.set(index + 1, (value >> 8));
    array.set(index + 2, (value >> 16));
    array.set(index + 3, (value >> 24));
}
exports.ByteArray_set32 = ByteArray_set32;
function ByteArray_append32(array, value) {
    array.append(value);
    array.append((value >> 8));
    array.append((value >> 16));
    array.append((value >> 24));
}
exports.ByteArray_append32 = ByteArray_append32;
//
// export function ByteArray_append64(array: ByteArray, value: int64): void {
//     array.append(value);
//     array.append((value >> 8));
//     array.append((value >> 16));
//     array.append((value >> 24));
//     array.append((value >> 32));
//     array.append((value >> 40));
//     array.append((value >> 48));
//     array.append((value >> 56));
// }
//
// declare function Uint8Array_new(length: number): Uint8Array;
//
function ByteArray_setString(data, index, text) {
    var length = text.length;
    assert_1.assert(index >= 0 && index + length * 2 <= data.length);
    var array = data.array;
    var i = 0;
    while (i < length) {
        var c = text.charCodeAt(i);
        array[index] = c;
        array[index + 1] = (c >> 8);
        index = index + 2;
        i = i + 1;
    }
}
exports.ByteArray_setString = ByteArray_setString;
/**
 * JavaScript ByteArray
 * version : 0.2
 * @author Nidin Vinayakan | nidinthb@gmail.com
 *
 * ActionScript3 ByteArray implementation in JavaScript
 * limitation : size of ByteArray cannot be changed
 *
 */
class ByteArray {
    constructor(buffer, offset = 0, length = 0) {
        this.BUFFER_EXT_SIZE = 1024; //Buffer expansion size
        this._array = null;
        this.log = "";
        this.EOF_byte = -1;
        this.EOF_code_point = -1;
        if (buffer == undefined) {
            buffer = new ArrayBuffer(this.BUFFER_EXT_SIZE);
            this.write_position = 0;
        }
        else if (buffer == null) {
            this.write_position = 0;
        }
        else {
            this.write_position = length > 0 ? length : buffer.byteLength;
        }
        if (buffer) {
            this.data = new DataView(buffer, offset, length > 0 ? length : buffer.byteLength);
            this._array = new Uint8Array(this.data.buffer, this.data.byteOffset, this.data.byteLength);
        }
        this._position = 0;
        this.endian = ByteArray.LITTLE_ENDIAN;
    }
    get array() {
        return this._array.subarray(0, this.length);
    }
    ;
    get(index) {
        // assert((index) < (this._length));
        return this._array[index];
    }
    set(index, value) {
        //assert((index) < (this._length));
        this._array[index] = value;
    }
    append(value) {
        let index = this.position;
        this.resize(index + 1);
        this._array[index] = value;
        this.position++;
    }
    resize(length) {
        if (length > this.data.byteLength) {
            let pos = this.position;
            let len = this.length;
            let capacity = length * 2;
            let data = new Uint8Array(capacity);
            data.set(this.array);
            this.setArray(data);
            this._position = pos;
            this.write_position = len;
        }
        return this;
    }
    copy(source, offset = 0, length = 0) {
        offset = offset > 0 ? offset : this.length;
        if (offset + source.length > this._array.length) {
            this.resize(offset + source.length);
        }
        this._array.set(source.array, offset);
        this.position = offset + source.length;
        return this;
    }
    // getter setter
    get buffer() {
        return this.data.buffer;
    }
    set buffer(value) {
        this.data = new DataView(value);
    }
    get dataView() {
        return this.data;
    }
    set dataView(value) {
        this.data = value;
        this.write_position = value.byteLength;
    }
    get phyPosition() {
        return this._position + this.data.byteOffset;
    }
    get bufferOffset() {
        return this.data.byteOffset;
    }
    get position() {
        return this._position;
    }
    set position(value) {
        if (this._position < value) {
            if (!this.validate(this._position - value)) {
                return;
            }
        }
        this._position = value;
        this.write_position = value > this.write_position ? value : this.write_position;
    }
    get length() {
        return this.write_position;
    }
    set length(value) {
        this.validateBuffer(value);
    }
    get bytesAvailable() {
        return this.data.byteLength - this._position;
    }
    //end
    clear() {
        this._position = 0;
    }
    setArray(array) {
        this._array = array;
        this.setBuffer(array.buffer, array.byteOffset, array.byteLength);
    }
    setBuffer(buffer, offset = 0, length = 0) {
        if (buffer) {
            this.data = new DataView(buffer, offset, length > 0 ? length : buffer.byteLength);
        }
        else {
        }
    }
    /**
     * Write unsigned Little Endian Base 128
     */
    writeUnsignedLEB128(value) {
        let b = 0;
        value |= 0;
        do {
            b = value & 0x7F;
            value >>>= 7;
            if (value)
                b |= 0x80;
            this.append(b);
        } while (value);
    }
    /**
     * Write signed Little Endian Base 128
     */
    writeLEB128(value) {
        let b;
        value |= 0;
        do {
            b = value & 0x7F;
            value >>= 7;
            let signBit = (b & 0x40) !== 0;
            if (((value === 0) && !signBit) ||
                ((value === -1) && signBit)) {
                this.append(b);
                break;
            }
            else {
                b |= 0x80;
                this.append(b);
            }
        } while (true);
    }
    /**
     * Write WASM String
     */
    writeWasmString(value) {
        let length = value.length;
        this.writeUnsignedLEB128(length);
        let index = this.length;
        this.resize(index + length);
        let i = 0;
        while (i < length) {
            this.set(index + i, value.charCodeAt(i));
            i = i + 1;
        }
        this.position = index + length;
    }
    /**
     * Reads a Boolean value from the byte stream. A single byte is read,
     * and true is returned if the byte is nonzero,
     * false otherwise.
     * @return    Returns true if the byte is nonzero, false otherwise.
     */
    readBoolean() {
        if (!this.validate(ByteArray.SIZE_OF_BOOLEAN))
            return null;
        return this.data.getUint8(this.position++) != 0;
    }
    /**
     * Reads a signed byte from the byte stream.
     * The returned value is in the range -128 to 127.
     * @return    An integer between -128 and 127.
     */
    readByte() {
        if (!this.validate(ByteArray.SIZE_OF_INT8))
            return null;
        return this.data.getInt8(this.position++);
    }
    /**
     * Reads the number of data bytes, specified by the length parameter, from the byte stream.
     * The bytes are read into the ByteArray object specified by the bytes parameter,
     * and the bytes are written into the destination ByteArray starting at the _position specified by offset.
     * @param    bytes    The ByteArray object to read data into.
     * @param    offset    The offset (_position) in bytes at which the read data should be written.
     * @param    length    The number of bytes to read.  The default value of 0 causes all available data to be read.
     */
    readBytes(_bytes = null, offset = 0, length = 0, createNewBuffer = false) {
        if (length == 0) {
            length = this.bytesAvailable;
        }
        else if (!this.validate(length))
            return null;
        if (createNewBuffer) {
            _bytes = _bytes == null ? new ByteArray(new ArrayBuffer(length)) : _bytes;
            //This method is expensive
            for (var i = 0; i < length; i++) {
                _bytes.data.setUint8(i + offset, this.data.getUint8(this.position++));
            }
        }
        else {
            //Offset argument ignored
            _bytes = _bytes == null ? new ByteArray(null) : _bytes;
            _bytes.dataView = new DataView(this.data.buffer, this.bufferOffset + this.position, length);
            this.position += length;
        }
        return _bytes;
    }
    /**
     * Reads an IEEE 754 double-precision (64-bit) floating-point number from the byte stream.
     * @return    A double-precision (64-bit) floating-point number.
     */
    readDouble() {
        if (!this.validate(ByteArray.SIZE_OF_FLOAT64))
            return null;
        var value = this.data.getFloat64(this.position, this.endian == ByteArray.LITTLE_ENDIAN);
        this.position += ByteArray.SIZE_OF_FLOAT64;
        return value;
    }
    /**
     * Reads an IEEE 754 single-precision (32-bit) floating-point number from the byte stream.
     * @return    A single-precision (32-bit) floating-point number.
     */
    readFloat() {
        if (!this.validate(ByteArray.SIZE_OF_FLOAT32))
            return null;
        var value = this.data.getFloat32(this.position, this.endian == ByteArray.LITTLE_ENDIAN);
        this.position += ByteArray.SIZE_OF_FLOAT32;
        return value;
    }
    /**
     * Reads a signed 32-bit integer from the byte stream.
     *
     *   The returned value is in the range -2147483648 to 2147483647.
     * @return    A 32-bit signed integer between -2147483648 and 2147483647.
     */
    readInt() {
        if (!this.validate(ByteArray.SIZE_OF_INT32))
            return null;
        var value = this.data.getInt32(this.position, this.endian == ByteArray.LITTLE_ENDIAN);
        this.position += ByteArray.SIZE_OF_INT32;
        return value;
    }
    /**
     * Reads a signed 64-bit integer from the byte stream.
     *
     *   The returned value is in the range −(2^63) to 2^63 − 1
     * @return    A 64-bit signed integer between −(2^63) to 2^63 − 1
     */
    // public readInt64(): Int64 {
    //     if (!this.validate(ByteArray.SIZE_OF_UINT32)) return null;
    //
    //     var low = this.data.getInt32(this.position, this.endian == ByteArray.LITTLE_ENDIAN);
    //     this.position += ByteArray.SIZE_OF_INT32;
    //     var high = this.data.getInt32(this.position, this.endian == ByteArray.LITTLE_ENDIAN);
    //     this.position += ByteArray.SIZE_OF_INT32;
    //     return new Int64(low, high);
    // }
    /**
     * Reads a multibyte string of specified length from the byte stream using the
     * specified character set.
     * @param    length    The number of bytes from the byte stream to read.
     * @param    charSet    The string denoting the character set to use to interpret the bytes.
     *   Possible character set strings include "shift-jis", "cn-gb",
     *   "iso-8859-1", and others.
     *   For a complete list, see Supported Character Sets.
     *   Note: If the value for the charSet parameter
     *   is not recognized by the current system, the application uses the system's default
     *   code page as the character set. For example, a value for the charSet parameter,
     *   as in myTest.readMultiByte(22, "iso-8859-01") that uses 01 instead of
     *   1 might work on your development system, but not on another system.
     *   On the other system, the application will use the system's default code page.
     * @return    UTF-8 encoded string.
     */
    readMultiByte(length, charSet) {
        if (!this.validate(length))
            return null;
        return "";
    }
    /**
     * Reads a signed 16-bit integer from the byte stream.
     *
     *   The returned value is in the range -32768 to 32767.
     * @return    A 16-bit signed integer between -32768 and 32767.
     */
    readShort() {
        if (!this.validate(ByteArray.SIZE_OF_INT16))
            return null;
        var value = this.data.getInt16(this.position, this.endian == ByteArray.LITTLE_ENDIAN);
        this.position += ByteArray.SIZE_OF_INT16;
        return value;
    }
    /**
     * Reads an unsigned byte from the byte stream.
     *
     *   The returned value is in the range 0 to 255.
     * @return    A 32-bit unsigned integer between 0 and 255.
     */
    readUnsignedByte() {
        if (!this.validate(ByteArray.SIZE_OF_UINT8))
            return null;
        return this.data.getUint8(this.position++);
    }
    /**
     * Reads an unsigned 32-bit integer from the byte stream.
     *
     *   The returned value is in the range 0 to 4294967295.
     * @return    A 32-bit unsigned integer between 0 and 4294967295.
     */
    readUnsignedInt() {
        if (!this.validate(ByteArray.SIZE_OF_UINT32))
            return null;
        var value = this.data.getUint32(this.position, this.endian == ByteArray.LITTLE_ENDIAN);
        this.position += ByteArray.SIZE_OF_UINT32;
        return value;
    }
    /**
     * Reads a variable sized unsigned integer (VX -> 16-bit or 32-bit) from the byte stream.
     *
     *   A VX is written as a variable length 2- or 4-byte element. If the index value is less than 65,280 (0xFF00),
     *   then the index is written as an unsigned two-byte integer. Otherwise the index is written as an unsigned
     *   four byte integer with bits 24-31 set. When reading an index, if the first byte encountered is 255 (0xFF),
     *   then the four-byte form is being used and the first byte should be discarded or masked out.
     *
     *   The returned value is in the range  0 to 65279 or 0 to 2147483647.
     * @return    A VX 16-bit or 32-bit unsigned integer between 0 to 65279 or 0 and 2147483647.
     */
    readVariableSizedUnsignedInt() {
        var value;
        var c = this.readUnsignedByte();
        if (c != 0xFF) {
            value = c << 8;
            c = this.readUnsignedByte();
            value |= c;
        }
        else {
            c = this.readUnsignedByte();
            value = c << 16;
            c = this.readUnsignedByte();
            value |= c << 8;
            c = this.readUnsignedByte();
            value |= c;
        }
        return value;
    }
    /**
     * Fast read for WebGL since only Uint16 numbers are expected
     */
    readU16VX() {
        return (this.readUnsignedByte() << 8) | this.readUnsignedByte();
    }
    /**
     * Reads an unsigned 64-bit integer from the byte stream.
     *
     *   The returned value is in the range 0 to 2^64 − 1.
     * @return    A 64-bit unsigned integer between 0 and 2^64 − 1
     */
    // public readUnsignedInt64(): UInt64 {
    //     if (!this.validate(ByteArray.SIZE_OF_UINT32)) return null;
    //
    //     var low = this.data.getUint32(this.position, this.endian == ByteArray.LITTLE_ENDIAN);
    //     this.position += ByteArray.SIZE_OF_UINT32;
    //     var high = this.data.getUint32(this.position, this.endian == ByteArray.LITTLE_ENDIAN);
    //     this.position += ByteArray.SIZE_OF_UINT32;
    //     return new UInt64(low, high);
    // }
    /**
     * Reads an unsigned 16-bit integer from the byte stream.
     *
     *   The returned value is in the range 0 to 65535.
     * @return    A 16-bit unsigned integer between 0 and 65535.
     */
    readUnsignedShort() {
        if (!this.validate(ByteArray.SIZE_OF_UINT16))
            return null;
        var value = this.data.getUint16(this.position, this.endian == ByteArray.LITTLE_ENDIAN);
        this.position += ByteArray.SIZE_OF_UINT16;
        return value;
    }
    /**
     * Reads a UTF-8 string from the byte stream.  The string
     * is assumed to be prefixed with an unsigned int16 indicating
     * the length in bytes.
     * @return    UTF-8 encoded  string.
     */
    readUTF() {
        if (!this.validate(ByteArray.SIZE_OF_UINT16))
            return null;
        var length = this.data.getUint16(this.position, this.endian == ByteArray.LITTLE_ENDIAN);
        this.position += ByteArray.SIZE_OF_UINT16;
        if (length > 0) {
            return this.readUTFBytes(length);
        }
        else {
            return "";
        }
    }
    /**
     * Reads a sequence of UTF-8 bytes specified by the length
     * parameter from the byte stream and returns a string.
     * @param    length    An unsigned int16 indicating the length of the UTF-8 bytes.
     * @return    A string composed of the UTF-8 bytes of the specified length.
     */
    readUTFBytes(length) {
        if (!this.validate(length))
            return null;
        var _bytes = new Uint8Array(this.buffer, this.bufferOffset + this.position, length);
        this.position += length;
        /*var _bytes: Uint8Array = new Uint8Array(new ArrayBuffer(length));
         for (var i = 0; i < length; i++) {
         _bytes[i] = this.data.getUint8(this.position++);
         }*/
        return this.decodeUTF8(_bytes);
    }
    readStandardString(length) {
        if (!this.validate(length))
            return null;
        var str = "";
        for (var i = 0; i < length; i++) {
            str += String.fromCharCode(this.data.getUint8(this.position++));
        }
        return str;
    }
    readStringTillNull(keepEvenByte = true) {
        var str = "";
        var num = 0;
        while (this.bytesAvailable > 0) {
            var _byte = this.data.getUint8(this.position++);
            num++;
            if (_byte != 0) {
                str += String.fromCharCode(_byte);
            }
            else {
                if (keepEvenByte && num % 2 != 0) {
                    this.position++;
                }
                break;
            }
        }
        return str;
    }
    /**
     * Writes a Boolean value. A single byte is written according to the value parameter,
     * either 1 if true or 0 if false.
     * @param    value    A Boolean value determining which byte is written. If the parameter is true,
     *           the method writes a 1; if false, the method writes a 0.
     * @param    offset   optional start position to write
     */
    writeBoolean(value, offset = null) {
        offset = offset ? offset : this.position++;
        this.validateBuffer(ByteArray.SIZE_OF_BOOLEAN, offset);
        this.data.setUint8(offset, value ? 1 : 0);
    }
    /**
     * Writes a byte to the byte stream.
     * The low 8 bits of the
     * parameter are used. The high 24 bits are ignored.
     * @param    value    A 32-bit integer. The low 8 bits are written to the byte stream.
     * @param    offset   optional start position to write
     */
    writeByte(value, offset = null) {
        offset = offset ? offset : this.position++;
        this.validateBuffer(ByteArray.SIZE_OF_INT8, offset);
        this.data.setInt8(offset, value);
    }
    writeUnsignedByte(value, offset = null) {
        offset = offset ? offset : this.position++;
        this.validateBuffer(ByteArray.SIZE_OF_UINT8, offset);
        this.data.setUint8(offset, value);
    }
    /**
     * Writes a sequence of length bytes from the
     * specified byte array, bytes,
     * starting offset(zero-based index) bytes
     * into the byte stream.
     *
     *   If the length parameter is omitted, the default
     * length of 0 is used; the method writes the entire buffer starting at
     * offset.
     * If the offset parameter is also omitted, the entire buffer is
     * written. If offset or length
     * is out of range, they are clamped to the beginning and end
     * of the bytes array.
     * @param    _bytes    The ByteArray object.
     * @param    offset    A zero-based index indicating the _position into the array to begin writing.
     * @param    length    An unsigned integer indicating how far into the buffer to write.
     */
    writeBytes(_bytes, offset = 0, length = 0) {
        this.copy(_bytes);
        // this.validateBuffer(length);
        // var tmp_data = new DataView(_bytes.buffer);
        // for (var i = 0; i < _bytes.length; i++) {
        //     this.data.setUint8(this.position++, tmp_data.getUint8(i));
        // }
    }
    /**
     * Writes an IEEE 754 double-precision (64-bit) floating-point number to the byte stream.
     * @param    value    A double-precision (64-bit) floating-point number.
     * @param    offset   optional start position to write
     */
    writeDouble(value, offset = null) {
        let position = offset != null ? offset : this.position;
        this.validateBuffer(ByteArray.SIZE_OF_FLOAT64, position);
        this.data.setFloat64(position, value, this.endian == ByteArray.LITTLE_ENDIAN);
        if (!offset) {
            this.position += ByteArray.SIZE_OF_FLOAT64;
        }
    }
    /**
     * Writes an IEEE 754 single-precision (32-bit) floating-point number to the byte stream.
     * @param    value    A single-precision (32-bit) floating-point number.
     * @param    offset   optional start position to write
     */
    writeFloat(value, offset = null) {
        let position = offset != null ? offset : this.position;
        this.validateBuffer(ByteArray.SIZE_OF_FLOAT32, position);
        this.data.setFloat32(position, value, this.endian == ByteArray.LITTLE_ENDIAN);
        if (!offset) {
            this.position += ByteArray.SIZE_OF_FLOAT32;
        }
    }
    /**
     * Writes a 32-bit signed integer to the byte stream.
     * @param    value    An integer to write to the byte stream.
     * @param    offset   optional start position to write
     */
    writeInt(value, offset = null) {
        let position = offset != null ? offset : this.position;
        this.validateBuffer(ByteArray.SIZE_OF_INT32, position);
        this.data.setInt32(position, value, this.endian == ByteArray.LITTLE_ENDIAN);
        if (!offset) {
            this.position += ByteArray.SIZE_OF_INT32;
        }
    }
    /**
     * Writes a multibyte string to the byte stream using the specified character set.
     * @param    value    The string value to be written.
     * @param    charSet    The string denoting the character set to use. Possible character set strings
     *   include "shift-jis", "cn-gb", "iso-8859-1", and others.
     *   For a complete list, see Supported Character Sets.
     */
    writeMultiByte(value, charSet) {
    }
    /**
     * Writes a 16-bit integer to the byte stream. The low 16 bits of the parameter are used.
     * The high 16 bits are ignored.
     * @param    value    32-bit integer, whose low 16 bits are written to the byte stream.
     * @param    offset   optional start position to write
     */
    writeShort(value, offset = null) {
        let position = offset != null ? offset : this.position;
        this.validateBuffer(ByteArray.SIZE_OF_INT16, position);
        this.data.setInt16(position, value, this.endian == ByteArray.LITTLE_ENDIAN);
        if (!offset) {
            this.position += ByteArray.SIZE_OF_INT16;
        }
    }
    writeUnsignedShort(value, offset = null) {
        let position = offset != null ? offset : this.position;
        this.validateBuffer(ByteArray.SIZE_OF_UINT16, position);
        this.data.setUint16(position, value, this.endian == ByteArray.LITTLE_ENDIAN);
        if (!offset) {
            this.position += ByteArray.SIZE_OF_UINT16;
        }
    }
    /**
     * Writes a 32-bit unsigned integer to the byte stream.
     * @param    value    An unsigned integer to write to the byte stream.
     * @param    offset   optional start position to write
     */
    writeUnsignedInt(value, offset = null) {
        let position = offset != null ? offset : this.position;
        this.validateBuffer(ByteArray.SIZE_OF_UINT32, position);
        this.data.setUint32(position, value, this.endian == ByteArray.LITTLE_ENDIAN);
        if (!offset) {
            this.position += ByteArray.SIZE_OF_UINT32;
        }
    }
    /**
     * Writes a UTF-8 string to the byte stream. The length of the UTF-8 string in bytes
     * is written first, as a 16-bit integer, followed by the bytes representing the
     * characters of the string.
     * @param    value    The string value to be written.
     * @param    offset   optional start position to write
     */
    writeUTF(value, offset = null) {
        let utf8bytes = this.encodeUTF8(value);
        let length = utf8bytes.length;
        let position = offset != null ? offset : this.position;
        this.validateBuffer(ByteArray.SIZE_OF_UINT16 + length, position);
        this.data.setUint16(position, length, this.endian === ByteArray.LITTLE_ENDIAN);
        if (!offset) {
            this.position += ByteArray.SIZE_OF_UINT16;
            this.writeUint8Array(utf8bytes);
        }
        else {
            offset += ByteArray.SIZE_OF_UINT16;
            this.writeUint8Array(utf8bytes, offset);
        }
    }
    /**
     * Writes a UTF-8 string to the byte stream. Similar to the writeUTF() method,
     * but writeUTFBytes() does not prefix the string with a 16-bit length word.
     * @param    value    The string value to be written.
     * @param    offset   optional start position to write
     */
    writeUTFBytes(value, offset = null) {
        this.writeUint8Array(this.encodeUTF8(value), offset);
    }
    toString() {
        return "[ByteArray] length:" + this.length + ", bytesAvailable:" + this.bytesAvailable;
    }
    /****************************/
    /* EXTRA JAVASCRIPT APIs    */
    /****************************/
    /**
     * Writes a Uint8Array to the byte stream.
     * @param    _bytes    The Uint8Array to be written.
     * @param    offset   optional start position to write
     */
    writeUint8Array(_bytes, offset = null) {
        let position = offset != null ? offset : this.position;
        this.validateBuffer(_bytes.length, position);
        this._array.set(_bytes, position);
        if (!offset) {
            this.position += _bytes.length;
        }
        return this;
    }
    /**
     * Writes a Uint16Array to the byte stream.
     * @param    _bytes    The Uint16Array to be written.
     * @param    offset   optional start position to write
     */
    writeUint16Array(_bytes, offset = null) {
        let position = offset != null ? offset : this.position;
        this.validateBuffer(_bytes.length * ByteArray.SIZE_OF_UINT16, position);
        for (let i = 0; i < _bytes.length; i++) {
            this.data.setUint16(position, _bytes[i], this.endian === ByteArray.LITTLE_ENDIAN);
            position += ByteArray.SIZE_OF_UINT16;
        }
        if (!offset) {
            this.position = position;
        }
    }
    /**
     * Writes a Uint32Array to the byte stream.
     * @param    _bytes    The Uint32Array to be written.
     * @param    offset   optional start position to write
     */
    writeUint32Array(_bytes, offset = null) {
        let position = offset != null ? offset : this.position;
        this.validateBuffer(_bytes.length * ByteArray.SIZE_OF_UINT32, position);
        for (let i = 0; i < _bytes.length; i++) {
            this.data.setUint32(position, _bytes[i], this.endian === ByteArray.LITTLE_ENDIAN);
            position += ByteArray.SIZE_OF_UINT32;
        }
        if (!offset) {
            this.position = position;
        }
    }
    /**
     * Writes a Int8Array to the byte stream.
     * @param    _bytes    The Int8Array to be written.
     * @param    offset   optional start position to write
     */
    writeInt8Array(_bytes, offset = null) {
        let position = offset != null ? offset : this.position;
        this.validateBuffer(_bytes.length, position);
        for (let i = 0; i < _bytes.length; i++) {
            this.data.setInt8(position++, _bytes[i]);
        }
        if (!offset) {
            this.position = position;
        }
    }
    /**
     * Writes a Int16Array to the byte stream.
     * @param    _bytes    The Int16Array to be written.
     * @param    offset   optional start position to write
     */
    writeInt16Array(_bytes, offset = null) {
        let position = offset != null ? offset : this.position;
        this.validateBuffer(_bytes.length * ByteArray.SIZE_OF_INT16, position);
        for (let i = 0; i < _bytes.length; i++) {
            this.data.setInt16(position, _bytes[i], this.endian === ByteArray.LITTLE_ENDIAN);
            position += ByteArray.SIZE_OF_INT16;
        }
        if (!offset) {
            this.position = position;
        }
    }
    /**
     * Writes a Int32Array to the byte stream.
     * @param    _bytes    The Int32Array to be written.
     * @param    offset   optional start position to write
     */
    writeInt32Array(_bytes, offset = null) {
        let position = offset != null ? offset : this.position;
        this.validateBuffer(_bytes.length * ByteArray.SIZE_OF_INT32, position);
        for (let i = 0; i < _bytes.length; i++) {
            this.data.setInt32(position, _bytes[i], this.endian === ByteArray.LITTLE_ENDIAN);
            position += ByteArray.SIZE_OF_INT32;
        }
        if (!offset) {
            this.position = position;
        }
    }
    /**
     * Writes a Float32Array to the byte stream.
     * @param    _bytes    The Float32Array to be written.
     * @param    offset   optional start position to write
     */
    writeFloat32Array(_bytes, offset = null) {
        let position = offset != null ? offset : this.position;
        this.validateBuffer(_bytes.length * ByteArray.SIZE_OF_FLOAT32, position);
        for (let i = 0; i < _bytes.length; i++) {
            this.data.setFloat32(position, _bytes[i], this.endian === ByteArray.LITTLE_ENDIAN);
            position += ByteArray.SIZE_OF_FLOAT32;
        }
        if (!offset) {
            this.position = position;
        }
    }
    /**
     * Writes a Float64Array to the byte stream.
     * @param    _bytes    The Float64Array to be written.
     * @param    offset   optional start position to write
     */
    writeFloat64Array(_bytes, offset = null) {
        let position = offset != null ? offset : this.position;
        this.validateBuffer(_bytes.length, position);
        for (let i = 0; i < _bytes.length; i++) {
            this.data.setFloat64(position, _bytes[i], this.endian === ByteArray.LITTLE_ENDIAN);
            position += ByteArray.SIZE_OF_FLOAT64;
        }
        if (!offset) {
            this.position = position;
        }
    }
    /**
     * Read a Uint8Array from the byte stream.
     * @param    length An unsigned int16 indicating the length of the Uint8Array.
     */
    readUint8Array(length, createNewBuffer = true) {
        if (!this.validate(length))
            return null;
        if (!createNewBuffer) {
            var result = new Uint8Array(this.buffer, this.bufferOffset + this.position, length);
            this.position += length;
        }
        else {
            result = new Uint8Array(new ArrayBuffer(length));
            for (var i = 0; i < length; i++) {
                result[i] = this.data.getUint8(this.position);
                this.position += ByteArray.SIZE_OF_UINT8;
            }
        }
        return result;
    }
    /**
     * Read a Uint16Array from the byte stream.
     * @param    length An unsigned int16 indicating the length of the Uint16Array.
     */
    readUint16Array(length, createNewBuffer = true) {
        var size = length * ByteArray.SIZE_OF_UINT16;
        if (!this.validate(size))
            return null;
        if (!createNewBuffer) {
            var result = new Uint16Array(this.buffer, this.bufferOffset + this.position, length);
            this.position += size;
        }
        else {
            result = new Uint16Array(new ArrayBuffer(size));
            for (var i = 0; i < length; i++) {
                result[i] = this.data.getUint16(this.position, this.endian === ByteArray.LITTLE_ENDIAN);
                this.position += ByteArray.SIZE_OF_UINT16;
            }
        }
        return result;
    }
    /**
     * Read a Uint32Array from the byte stream.
     * @param    length An unsigned int16 indicating the length of the Uint32Array.
     */
    readUint32Array(length, createNewBuffer = true) {
        var size = length * ByteArray.SIZE_OF_UINT32;
        if (!this.validate(size))
            return null;
        if (!createNewBuffer) {
            var result = new Uint32Array(this.buffer, this.bufferOffset + this.position, length);
            this.position += size;
        }
        else {
            result = new Uint32Array(new ArrayBuffer(size));
            for (var i = 0; i < length; i++) {
                result[i] = this.data.getUint32(this.position, this.endian === ByteArray.LITTLE_ENDIAN);
                this.position += ByteArray.SIZE_OF_UINT32;
            }
        }
        return result;
    }
    /**
     * Read a Int8Array from the byte stream.
     * @param    length An unsigned int16 indicating the length of the Int8Array.
     */
    readInt8Array(length, createNewBuffer = true) {
        if (!this.validate(length))
            return null;
        if (!createNewBuffer) {
            var result = new Int8Array(this.buffer, this.bufferOffset + this.position, length);
            this.position += length;
        }
        else {
            result = new Int8Array(new ArrayBuffer(length));
            for (var i = 0; i < length; i++) {
                result[i] = this.data.getInt8(this.position);
                this.position += ByteArray.SIZE_OF_INT8;
            }
        }
        return result;
    }
    /**
     * Read a Int16Array from the byte stream.
     * @param    length An unsigned int16 indicating the length of the Int16Array.
     */
    readInt16Array(length, createNewBuffer = true) {
        var size = length * ByteArray.SIZE_OF_INT16;
        if (!this.validate(size))
            return null;
        if (!createNewBuffer) {
            var result = new Int16Array(this.buffer, this.bufferOffset + this.position, length);
            this.position += size;
        }
        else {
            result = new Int16Array(new ArrayBuffer(size));
            for (var i = 0; i < length; i++) {
                result[i] = this.data.getInt16(this.position, this.endian === ByteArray.LITTLE_ENDIAN);
                this.position += ByteArray.SIZE_OF_INT16;
            }
        }
        return result;
    }
    /**
     * Read a Int32Array from the byte stream.
     * @param    length An unsigned int16 indicating the length of the Int32Array.
     */
    readInt32Array(length, createNewBuffer = true) {
        var size = length * ByteArray.SIZE_OF_INT32;
        if (!this.validate(size))
            return null;
        if (!createNewBuffer) {
            if ((this.bufferOffset + this.position) % 4 == 0) {
                var result = new Int32Array(this.buffer, this.bufferOffset + this.position, length);
                this.position += size;
            }
            else {
                var tmp = new Uint8Array(new ArrayBuffer(size));
                for (var i = 0; i < size; i++) {
                    tmp[i] = this.data.getUint8(this.position);
                    this.position += ByteArray.SIZE_OF_UINT8;
                }
                result = new Int32Array(tmp.buffer);
            }
        }
        else {
            result = new Int32Array(new ArrayBuffer(size));
            for (var i = 0; i < length; i++) {
                result[i] = this.data.getInt32(this.position, this.endian === ByteArray.LITTLE_ENDIAN);
                this.position += ByteArray.SIZE_OF_INT32;
            }
        }
        return result;
    }
    /**
     * Read a Float32Array from the byte stream.
     * @param    length An unsigned int16 indicating the length of the Float32Array.
     */
    readFloat32Array(length, createNewBuffer = true) {
        var size = length * ByteArray.SIZE_OF_FLOAT32;
        if (!this.validate(size))
            return null;
        if (!createNewBuffer) {
            if ((this.bufferOffset + this.position) % 4 == 0) {
                var result = new Float32Array(this.buffer, this.bufferOffset + this.position, length);
                this.position += size;
            }
            else {
                var tmp = new Uint8Array(new ArrayBuffer(size));
                for (var i = 0; i < size; i++) {
                    tmp[i] = this.data.getUint8(this.position);
                    this.position += ByteArray.SIZE_OF_UINT8;
                }
                result = new Float32Array(tmp.buffer);
            }
        }
        else {
            result = new Float32Array(new ArrayBuffer(size));
            for (var i = 0; i < length; i++) {
                result[i] = this.data.getFloat32(this.position, this.endian === ByteArray.LITTLE_ENDIAN);
                this.position += ByteArray.SIZE_OF_FLOAT32;
            }
        }
        return result;
    }
    /**
     * Read a Float64Array from the byte stream.
     * @param    length An unsigned int16 indicating the length of the Float64Array.
     */
    readFloat64Array(length, createNewBuffer = true) {
        var size = length * ByteArray.SIZE_OF_FLOAT64;
        if (!this.validate(size))
            return null;
        if (!createNewBuffer) {
            var result = new Float64Array(this.buffer, this.position, length);
            this.position += size;
        }
        else {
            result = new Float64Array(new ArrayBuffer(size));
            for (var i = 0; i < length; i++) {
                result[i] = this.data.getFloat64(this.position, this.endian === ByteArray.LITTLE_ENDIAN);
                this.position += ByteArray.SIZE_OF_FLOAT64;
            }
        }
        return result;
    }
    validate(len) {
        //len += this.data.byteOffset;
        if (this.data.byteLength > 0 && this._position + len <= this.data.byteLength) {
            return true;
        }
        else {
            throw 'Error #2030: End of file was encountered.';
        }
    }
    /**********************/
    /*  PRIVATE METHODS   */
    /**********************/
    validateBuffer(size, offset = 0) {
        let length = offset + size;
        this.resize(length);
    }
    /**
     * UTF-8 Encoding/Decoding
     */
    encodeUTF8(str) {
        var pos = 0;
        var codePoints = this.stringToCodePoints(str);
        var outputBytes = [];
        while (codePoints.length > pos) {
            var code_point = codePoints[pos++];
            if (this.inRange(code_point, 0xD800, 0xDFFF)) {
                this.encoderError(code_point);
            }
            else if (this.inRange(code_point, 0x0000, 0x007f)) {
                outputBytes.push(code_point);
            }
            else {
                var count, offset;
                if (this.inRange(code_point, 0x0080, 0x07FF)) {
                    count = 1;
                    offset = 0xC0;
                }
                else if (this.inRange(code_point, 0x0800, 0xFFFF)) {
                    count = 2;
                    offset = 0xE0;
                }
                else if (this.inRange(code_point, 0x10000, 0x10FFFF)) {
                    count = 3;
                    offset = 0xF0;
                }
                outputBytes.push(this.div(code_point, Math.pow(64, count)) + offset);
                while (count > 0) {
                    var temp = this.div(code_point, Math.pow(64, count - 1));
                    outputBytes.push(0x80 + (temp % 64));
                    count -= 1;
                }
            }
        }
        return new Uint8Array(outputBytes);
    }
    decodeUTF8(data) {
        var fatal = false;
        var pos = 0;
        var result = "";
        var code_point;
        var utf8_code_point = 0;
        var utf8_bytes_needed = 0;
        var utf8_bytes_seen = 0;
        var utf8_lower_boundary = 0;
        while (data.length > pos) {
            var _byte = data[pos++];
            if (_byte === this.EOF_byte) {
                if (utf8_bytes_needed !== 0) {
                    code_point = this.decoderError(fatal);
                }
                else {
                    code_point = this.EOF_code_point;
                }
            }
            else {
                if (utf8_bytes_needed === 0) {
                    if (this.inRange(_byte, 0x00, 0x7F)) {
                        code_point = _byte;
                    }
                    else {
                        if (this.inRange(_byte, 0xC2, 0xDF)) {
                            utf8_bytes_needed = 1;
                            utf8_lower_boundary = 0x80;
                            utf8_code_point = _byte - 0xC0;
                        }
                        else if (this.inRange(_byte, 0xE0, 0xEF)) {
                            utf8_bytes_needed = 2;
                            utf8_lower_boundary = 0x800;
                            utf8_code_point = _byte - 0xE0;
                        }
                        else if (this.inRange(_byte, 0xF0, 0xF4)) {
                            utf8_bytes_needed = 3;
                            utf8_lower_boundary = 0x10000;
                            utf8_code_point = _byte - 0xF0;
                        }
                        else {
                            this.decoderError(fatal);
                        }
                        utf8_code_point = utf8_code_point * Math.pow(64, utf8_bytes_needed);
                        code_point = null;
                    }
                }
                else if (!this.inRange(_byte, 0x80, 0xBF)) {
                    utf8_code_point = 0;
                    utf8_bytes_needed = 0;
                    utf8_bytes_seen = 0;
                    utf8_lower_boundary = 0;
                    pos--;
                    code_point = this.decoderError(fatal, _byte);
                }
                else {
                    utf8_bytes_seen += 1;
                    utf8_code_point = utf8_code_point + (_byte - 0x80) * Math.pow(64, utf8_bytes_needed - utf8_bytes_seen);
                    if (utf8_bytes_seen !== utf8_bytes_needed) {
                        code_point = null;
                    }
                    else {
                        var cp = utf8_code_point;
                        var lower_boundary = utf8_lower_boundary;
                        utf8_code_point = 0;
                        utf8_bytes_needed = 0;
                        utf8_bytes_seen = 0;
                        utf8_lower_boundary = 0;
                        if (this.inRange(cp, lower_boundary, 0x10FFFF) && !this.inRange(cp, 0xD800, 0xDFFF)) {
                            code_point = cp;
                        }
                        else {
                            code_point = this.decoderError(fatal, _byte);
                        }
                    }
                }
            }
            //Decode string
            if (code_point !== null && code_point !== this.EOF_code_point) {
                if (code_point <= 0xFFFF) {
                    if (code_point > 0)
                        result += String.fromCharCode(code_point);
                }
                else {
                    code_point -= 0x10000;
                    result += String.fromCharCode(0xD800 + ((code_point >> 10) & 0x3ff));
                    result += String.fromCharCode(0xDC00 + (code_point & 0x3ff));
                }
            }
        }
        return result;
    }
    encoderError(code_point) {
        throw 'EncodingError! The code point ' + code_point + ' could not be encoded.';
    }
    decoderError(fatal, opt_code_point) {
        if (fatal) {
            throw 'DecodingError';
        }
        return opt_code_point || 0xFFFD;
    }
    inRange(a, min, max) {
        return min <= a && a <= max;
    }
    div(n, d) {
        return Math.floor(n / d);
    }
    stringToCodePoints(string) {
        /** @type {Array.<number>} */
        var cps = [];
        // Based on http://www.w3.org/TR/WebIDL/#idl-DOMString
        var i = 0, n = string.length;
        while (i < string.length) {
            var c = string.charCodeAt(i);
            if (!this.inRange(c, 0xD800, 0xDFFF)) {
                cps.push(c);
            }
            else if (this.inRange(c, 0xDC00, 0xDFFF)) {
                cps.push(0xFFFD);
            }
            else {
                if (i === n - 1) {
                    cps.push(0xFFFD);
                }
                else {
                    var d = string.charCodeAt(i + 1);
                    if (this.inRange(d, 0xDC00, 0xDFFF)) {
                        var a = c & 0x3FF;
                        var b = d & 0x3FF;
                        i += 1;
                        cps.push(0x10000 + (a << 10) + b);
                    }
                    else {
                        cps.push(0xFFFD);
                    }
                }
            }
            i += 1;
        }
        return cps;
    }
}
ByteArray.BIG_ENDIAN = "bigEndian";
ByteArray.LITTLE_ENDIAN = "littleEndian";
ByteArray.SIZE_OF_BOOLEAN = 1;
ByteArray.SIZE_OF_INT8 = 1;
ByteArray.SIZE_OF_INT16 = 2;
ByteArray.SIZE_OF_INT32 = 4;
ByteArray.SIZE_OF_INT64 = 8;
ByteArray.SIZE_OF_UINT8 = 1;
ByteArray.SIZE_OF_UINT16 = 2;
ByteArray.SIZE_OF_UINT32 = 4;
ByteArray.SIZE_OF_UINT64 = 8;
ByteArray.SIZE_OF_FLOAT32 = 4;
ByteArray.SIZE_OF_FLOAT64 = 8;
exports.ByteArray = ByteArray;


/***/ }),
/* 14 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const env_1 = __webpack_require__(21);
const terminal_1 = __webpack_require__(0);
/**
 * Created by n.vinayakan on 06.06.17.
 */
let fs = null;
let virtualFileSystem = {
    fileMap: new Map(),
    readFileSync: (path, options) => {
        return fs.fileMap.get(path);
    },
    writeFileSync: (path, data, options) => {
        return fs.fileMap.set(path, data);
    }
};
if (env_1.isBrowser) {
    // Terminal.write("----> Browser environment");
    fs = virtualFileSystem;
    window["Buffer"] = class NodeBuffer {
        constructor(array) {
            this.array = array;
        }
    };
}
else if (env_1.isNode) {
    // Terminal.write("----> NodeJS environment");
    fs = __webpack_require__(52);
}
else {
    terminal_1.Terminal.error("----> Unknown host environment!!!. Where are we?");
}
class FileSystem {
    static readTextFile(path) {
        try {
            return fs.readFileSync(path, 'utf8').replace(/\r\n/g, '\n');
        }
        catch (e) {
            let virtualFile = virtualFileSystem.readFileSync(path, 'utf8').replace(/\r\n/g, '\n');
            return virtualFile === undefined ? null : virtualFile;
        }
    }
    static writeTextFile(path, contents, virtual = false) {
        try {
            if (virtual) {
                virtualFileSystem.writeFileSync(path, contents);
            }
            else {
                fs.writeFileSync(path, contents);
            }
            return true;
        }
        catch (e) {
            return false;
        }
    }
    static readBinaryFile(path) {
        try {
            return fs.readFileSync(path);
        }
        catch (e) {
            let virtualFile = virtualFileSystem.readFileSync(path);
            return virtualFile === undefined ? null : virtualFile;
        }
    }
    static writeBinaryFile(path, contents, virtual = false) {
        try {
            if (virtual) {
                virtualFileSystem.writeFileSync(path, new Buffer(contents.array.subarray(0, contents.length)));
            }
            else {
                fs.writeFileSync(path, new Buffer(contents.array.subarray(0, contents.length)));
            }
            return true;
        }
        catch (e) {
            return false;
        }
    }
}
exports.FileSystem = FileSystem;


/***/ }),
/* 15 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Created by n.vinayakan on 02.06.17.
 */
var WasmSection;
(function (WasmSection) {
    WasmSection[WasmSection["Name"] = 0] = "Name";
    WasmSection[WasmSection["Type"] = 1] = "Type";
    WasmSection[WasmSection["Import"] = 2] = "Import";
    WasmSection[WasmSection["Function"] = 3] = "Function";
    WasmSection[WasmSection["Table"] = 4] = "Table";
    WasmSection[WasmSection["Memory"] = 5] = "Memory";
    WasmSection[WasmSection["Global"] = 6] = "Global";
    WasmSection[WasmSection["Export"] = 7] = "Export";
    WasmSection[WasmSection["Start"] = 8] = "Start";
    WasmSection[WasmSection["Element"] = 9] = "Element";
    WasmSection[WasmSection["Code"] = 10] = "Code";
    WasmSection[WasmSection["Data"] = 11] = "Data";
})(WasmSection = exports.WasmSection || (exports.WasmSection = {}));


/***/ }),
/* 16 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Created by n.vinayakan on 03.06.17.
 */
class WasmRuntimeLocal {
    constructor(type) {
        this.type = type;
    }
}
exports.WasmRuntimeLocal = WasmRuntimeLocal;


/***/ }),
/* 17 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const symbol_1 = __webpack_require__(5);
const stringbuilder_1 = __webpack_require__(2);
const type_1 = __webpack_require__(18);
var FindNested;
(function (FindNested) {
    FindNested[FindNested["NORMAL"] = 0] = "NORMAL";
    FindNested[FindNested["ALLOW_INSTANCE_ERRORS"] = 1] = "ALLOW_INSTANCE_ERRORS";
})(FindNested = exports.FindNested || (exports.FindNested = {}));
var ScopeHint;
(function (ScopeHint) {
    ScopeHint[ScopeHint["NORMAL"] = 0] = "NORMAL";
    ScopeHint[ScopeHint["NOT_BINARY"] = 1] = "NOT_BINARY";
    ScopeHint[ScopeHint["NOT_GETTER"] = 2] = "NOT_GETTER";
    ScopeHint[ScopeHint["NOT_SETTER"] = 3] = "NOT_SETTER";
    ScopeHint[ScopeHint["NOT_UNARY"] = 4] = "NOT_UNARY";
    ScopeHint[ScopeHint["PREFER_GETTER"] = 5] = "PREFER_GETTER";
    ScopeHint[ScopeHint["PREFER_SETTER"] = 6] = "PREFER_SETTER";
})(ScopeHint = exports.ScopeHint || (exports.ScopeHint = {}));
class Scope {
    findLocal(name, hint) {
        var symbol = this.firstSymbol;
        var fallback = null;
        while (symbol != null) {
            if (symbol.name == name) {
                if (hint == ScopeHint.PREFER_GETTER && symbol.isSetter() ||
                    hint == ScopeHint.PREFER_SETTER && symbol.isGetter()) {
                    fallback = symbol;
                }
                else if ((hint != ScopeHint.NOT_GETTER || !symbol.isGetter()) &&
                    (hint != ScopeHint.NOT_SETTER || !symbol.isSetter()) &&
                    (hint != ScopeHint.NOT_BINARY || !symbol.isBinaryOperator()) &&
                    (hint != ScopeHint.NOT_UNARY || !symbol.isUnaryOperator())) {
                    return symbol;
                }
            }
            symbol = symbol.next;
        }
        return fallback;
    }
    findNested(name, hint, mode) {
        var scope = this;
        while (scope != null) {
            if (scope.symbol == null || scope.symbol.kind != symbol_1.SymbolKind.TYPE_CLASS ||
                mode == FindNested.ALLOW_INSTANCE_ERRORS || scope.symbol.node.hasParameters()) {
                var local = scope.findLocal(name, hint);
                if (local != null) {
                    return local;
                }
            }
            scope = scope.parent;
        }
        return null;
    }
    define(log, symbol, hint) {
        var existing = this.findLocal(symbol.name, hint);
        if (existing != null) {
            if (symbol.name == "this") {
                log.warning(symbol.range, stringbuilder_1.StringBuilder_new()
                    .append("Duplicate 'this' symbol")
                    .finish());
                return true;
            }
            else {
                log.error(symbol.range, stringbuilder_1.StringBuilder_new()
                    .append("Duplicate symbol '")
                    .append(symbol.name)
                    .append("'")
                    .finish());
                return false;
            }
        }
        if (this.firstSymbol == null)
            this.firstSymbol = symbol;
        else
            this.lastSymbol.next = symbol;
        this.lastSymbol = symbol;
        return true;
    }
    defineNativeType(log, name) {
        var symbol = new symbol_1.Symbol();
        symbol.kind = symbol_1.SymbolKind.TYPE_NATIVE;
        symbol.name = name;
        symbol.resolvedType = new type_1.Type();
        symbol.resolvedType.symbol = symbol;
        symbol.state = symbol_1.SymbolState.INITIALIZED;
        this.define(log, symbol, ScopeHint.NORMAL);
        return symbol.resolvedType;
    }
}
exports.Scope = Scope;


/***/ }),
/* 18 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const symbol_1 = __webpack_require__(5);
const stringbuilder_1 = __webpack_require__(2);
var ConversionKind;
(function (ConversionKind) {
    ConversionKind[ConversionKind["IMPLICIT"] = 0] = "IMPLICIT";
    ConversionKind[ConversionKind["EXPLICIT"] = 1] = "EXPLICIT";
})(ConversionKind = exports.ConversionKind || (exports.ConversionKind = {}));
class Type {
    isClass() {
        return this.symbol != null && this.symbol.kind == symbol_1.SymbolKind.TYPE_CLASS;
    }
    isGeneric() {
        let symbol = this.symbol || this.pointerTo.symbol;
        return symbol != null && symbol.kind == symbol_1.SymbolKind.TYPE_GENERIC;
    }
    isTemplate() {
        let symbol = this.symbol || this.pointerTo.symbol;
        return symbol != null && symbol.kind == symbol_1.SymbolKind.TYPE_TEMPLATE;
    }
    isEnum() {
        return this.symbol != null && this.symbol.kind == symbol_1.SymbolKind.TYPE_ENUM;
    }
    isInteger() {
        return this.symbol != null && (this.symbol.flags & symbol_1.SYMBOL_FLAG_NATIVE_INTEGER) != 0 || this.isEnum();
    }
    isLong() {
        return this.symbol != null && (this.symbol.flags & symbol_1.SYMBOL_FLAG_NATIVE_LONG) != 0;
    }
    isUnsigned() {
        return this.symbol != null && (this.symbol.flags & symbol_1.SYMBOL_FLAG_IS_UNSIGNED) != 0;
    }
    isFloat() {
        return this.symbol != null && (this.symbol.flags & symbol_1.SYMBOL_FLAG_NATIVE_FLOAT) != 0;
    }
    isDouble() {
        return this.symbol != null && (this.symbol.flags & symbol_1.SYMBOL_FLAG_NATIVE_DOUBLE) != 0;
    }
    isArray() {
        // return this.symbol != null && (this.symbol.flags & SYMBOL_FLAG_IS_ARRAY) != 0;
        return this.symbol != null && this.symbol.name.indexOf("Array<") >= 0;
    }
    isTypedArray() {
        return this.symbol != null &&
            (this.symbol.name == "Float32Array" || this.symbol.name == "Float64Array" ||
                this.symbol.name == "Int8Array" || this.symbol.name == "Int16Array" || this.symbol.name == "Int32Array" ||
                this.symbol.name == "Uint8Array" || this.symbol.name == "Uint16Array" || this.symbol.name == "Uint32Array");
    }
    isReference() {
        return this.pointerTo != null || this.symbol != null && (this.symbol.flags & symbol_1.SYMBOL_FLAG_IS_REFERENCE) != 0;
    }
    underlyingType(context) {
        return this.isEnum() ? context.int32Type : this.pointerTo != null ? context.uint32Type : this;
    }
    integerBitCount(context) {
        return this.symbol != null ? this.symbol.byteSize * 8 : 0;
    }
    integerBitMask(context) {
        return ~0 >> (32 - this.integerBitCount(context));
    }
    allocationSizeOf(context) {
        return this.symbol == null ? context.pointerByteSize : this.symbol.byteSize;
    }
    allocationAlignmentOf(context) {
        return this.allocationSizeOf(context); // This is true right now
    }
    variableSizeOf(context) {
        return this.isReference() ? context.pointerByteSize : this.symbol.byteSize;
    }
    variableAlignmentOf(context) {
        return this.variableSizeOf(context); // This is true right now
    }
    pointerType() {
        var type = this.cachedPointerType;
        if (type == null) {
            type = new Type();
            type.pointerTo = this;
            this.cachedPointerType = type;
        }
        return type;
    }
    toString() {
        if (this.cachedToString == null) {
            this.cachedToString =
                this.pointerTo != null ? stringbuilder_1.StringBuilder_new().appendChar('*').append(this.pointerTo.toString()).finish() :
                    this.symbol.name;
        }
        return this.cachedToString;
    }
    findMember(name, hint) {
        var symbol = this.symbol;
        return symbol != null && symbol.scope != null ? symbol.scope.findLocal(name, hint) : null;
    }
    hasInstanceMembers() {
        var symbol = this.symbol;
        return symbol != null && (symbol.kind == symbol_1.SymbolKind.TYPE_TEMPLATE || symbol.kind == symbol_1.SymbolKind.TYPE_CLASS || symbol.kind == symbol_1.SymbolKind.TYPE_NATIVE);
    }
}
exports.Type = Type;


/***/ }),
/* 19 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const scanner_1 = __webpack_require__(9);
const log_1 = __webpack_require__(3);
const stringbuilder_1 = __webpack_require__(2);
const node_1 = __webpack_require__(4);
const assert_1 = __webpack_require__(1);
const terminal_1 = __webpack_require__(0);
var Precedence;
(function (Precedence) {
    Precedence[Precedence["LOWEST"] = 0] = "LOWEST";
    Precedence[Precedence["ASSIGN"] = 1] = "ASSIGN";
    Precedence[Precedence["LOGICAL_OR"] = 2] = "LOGICAL_OR";
    Precedence[Precedence["LOGICAL_AND"] = 3] = "LOGICAL_AND";
    Precedence[Precedence["BITWISE_OR"] = 4] = "BITWISE_OR";
    Precedence[Precedence["BITWISE_XOR"] = 5] = "BITWISE_XOR";
    Precedence[Precedence["BITWISE_AND"] = 6] = "BITWISE_AND";
    Precedence[Precedence["EQUAL"] = 7] = "EQUAL";
    Precedence[Precedence["COMPARE"] = 8] = "COMPARE";
    Precedence[Precedence["SHIFT"] = 9] = "SHIFT";
    Precedence[Precedence["ADD"] = 10] = "ADD";
    Precedence[Precedence["MULTIPLY"] = 11] = "MULTIPLY";
    Precedence[Precedence["EXPONENT"] = 12] = "EXPONENT";
    Precedence[Precedence["UNARY_PREFIX"] = 13] = "UNARY_PREFIX";
    Precedence[Precedence["UNARY_POSTFIX"] = 14] = "UNARY_POSTFIX";
    Precedence[Precedence["MEMBER"] = 15] = "MEMBER";
})(Precedence = exports.Precedence || (exports.Precedence = {}));
function isRightAssociative(precedence) {
    return precedence == Precedence.ASSIGN || precedence == Precedence.EXPONENT;
}
var ParseKind;
(function (ParseKind) {
    ParseKind[ParseKind["EXPRESSION"] = 0] = "EXPRESSION";
    ParseKind[ParseKind["TYPE"] = 1] = "TYPE";
})(ParseKind || (ParseKind = {}));
var StatementMode;
(function (StatementMode) {
    StatementMode[StatementMode["NORMAL"] = 0] = "NORMAL";
    StatementMode[StatementMode["FILE"] = 1] = "FILE";
})(StatementMode || (StatementMode = {}));
class ParserContext {
    peek(kind) {
        return this.current.kind == kind;
    }
    eat(kind) {
        if (this.peek(kind)) {
            this.advance();
            return true;
        }
        return false;
    }
    advance() {
        if (!this.peek(scanner_1.TokenKind.END_OF_FILE)) {
            this.previous = this.current;
            this.current = this.current.next;
        }
    }
    unexpectedToken() {
        if (this.lastError != this.current) {
            this.lastError = this.current;
            this.log.error(this.current.range, stringbuilder_1.StringBuilder_new()
                .append("Unexpected ")
                .append(scanner_1.tokenToString(this.current.kind))
                .finish());
        }
    }
    expect(kind) {
        if (!this.peek(kind)) {
            if (this.lastError != this.current) {
                this.lastError = this.current;
                let previousLine = this.previous.range.enclosingLine();
                let currentLine = this.current.range.enclosingLine();
                // Show missing token errors on the previous line for clarity
                if (kind != scanner_1.TokenKind.IDENTIFIER && !previousLine.equals(currentLine)) {
                    this.log.error(previousLine.rangeAtEnd(), stringbuilder_1.StringBuilder_new()
                        .append("Expected ")
                        .append(scanner_1.tokenToString(kind))
                        .finish());
                }
                else {
                    this.log.error(this.current.range, stringbuilder_1.StringBuilder_new()
                        .append("Expected ")
                        .append(scanner_1.tokenToString(kind))
                        .append(" but found ")
                        .append(scanner_1.tokenToString(this.current.kind))
                        .finish());
                }
            }
            return false;
        }
        this.advance();
        return true;
    }
    parseUnaryPrefix(kind, mode) {
        assert_1.assert(node_1.isUnary(kind));
        let token = this.current;
        this.advance();
        let value = this.parseExpression(Precedence.UNARY_PREFIX, mode);
        if (value == null) {
            return null;
        }
        return node_1.createUnary(kind, value).withRange(log_1.spanRanges(token.range, value.range)).withInternalRange(token.range);
    }
    parseBinary(kind, left, localPrecedence, operatorPrecedence) {
        if (localPrecedence >= operatorPrecedence) {
            return left;
        }
        let token = this.current;
        this.advance();
        // Reduce the precedence for right-associative operators
        let precedence = isRightAssociative(operatorPrecedence) ? (operatorPrecedence - 1) : operatorPrecedence;
        let right = this.parseExpression(precedence, ParseKind.EXPRESSION);
        if (right == null) {
            return null;
        }
        return node_1.createBinary(kind, left, right).withRange(log_1.spanRanges(left.range, right.range)).withInternalRange(token.range);
    }
    parseUnaryPostfix(kind, value, localPrecedence) {
        if (localPrecedence >= Precedence.UNARY_POSTFIX) {
            return value;
        }
        let token = this.current;
        this.advance();
        return node_1.createUnary(kind, value).withRange(log_1.spanRanges(value.range, token.range)).withInternalRange(token.range);
    }
    parseQuotedString(range) {
        assert_1.assert(range.end - range.start >= 2);
        let text = range.source.contents;
        let end = range.start + 1;
        let limit = range.end - 1;
        let start = end;
        let builder = stringbuilder_1.StringBuilder_new();
        while (end < limit) {
            let c = text[end];
            if (c == '\\') {
                builder.appendSlice(text, start, end);
                end = end + 1;
                start = end + 1;
                c = text[end];
                if (c == '0')
                    builder.appendChar('\0');
                else if (c == 't')
                    builder.appendChar('\t');
                else if (c == 'n')
                    builder.appendChar('\n');
                else if (c == 'r')
                    builder.appendChar('\r');
                else if (c == '"' || c == '\'' || c == '`' || c == '\n' || c == '\\')
                    start = end;
                else {
                    let escape = log_1.createRange(range.source, range.start + end - 1, range.start + end + 1);
                    this.log.error(escape, stringbuilder_1.StringBuilder_new()
                        .append("Invalid escape code '")
                        .append(escape.toString())
                        .appendChar('\'')
                        .finish());
                    return null;
                }
            }
            end = end + 1;
        }
        return builder.appendSlice(text, start, end).finish();
    }
    parsePrefix(mode) {
        let token = this.current;
        if (this.peek(scanner_1.TokenKind.IDENTIFIER)) {
            this.advance();
            return node_1.createName(token.range.toString()).withRange(token.range);
        }
        // if (this.peek(TokenKind.ARRAY)) {
        //     this.advance();
        //     return createArray(token.range.toString()).withRange(token.range);
        // }
        if (this.peek(scanner_1.TokenKind.EXPONENT)) {
            scanner_1.splitToken(this.current, scanner_1.TokenKind.MULTIPLY, scanner_1.TokenKind.MULTIPLY);
        }
        if (this.peek(scanner_1.TokenKind.MULTIPLY)) {
            return this.parseUnaryPrefix(mode == ParseKind.TYPE ? node_1.NodeKind.POINTER_TYPE : node_1.NodeKind.DEREFERENCE, mode);
        }
        if (mode == ParseKind.EXPRESSION) {
            if (this.eat(scanner_1.TokenKind.NULL)) {
                return node_1.createNull().withRange(token.range);
            }
            if (this.eat(scanner_1.TokenKind.UNDEFINED)) {
                return node_1.createUndefined().withRange(token.range);
            }
            if (this.eat(scanner_1.TokenKind.THIS)) {
                return node_1.createThis().withRange(token.range);
            }
            if (this.peek(scanner_1.TokenKind.CHARACTER)) {
                let text = this.parseQuotedString(token.range);
                if (text == null) {
                    return null;
                }
                this.advance();
                if (text.length != 1) {
                    this.log.error(token.range, "Invalid character literal (strings use double quotes)");
                    return node_1.createParseError().withRange(token.range);
                }
                return node_1.createInt(text.charCodeAt(0)).withRange(token.range);
            }
            if (this.peek(scanner_1.TokenKind.STRING)) {
                let text = this.parseQuotedString(token.range);
                if (text == null) {
                    return null;
                }
                this.advance();
                return node_1.createString(text).withRange(token.range);
            }
            if (this.peek(scanner_1.TokenKind.INT32)) {
                let value = node_1.createInt(0);
                if (!this.parseInt(token.range, value)) {
                    value = node_1.createParseError();
                }
                this.advance();
                return value.withRange(token.range);
            }
            if (this.peek(scanner_1.TokenKind.FLOAT32)) {
                let value = node_1.createFloat(0);
                if (!this.parseFloat(token.range, value)) {
                    value = node_1.createParseError();
                }
                this.advance();
                return value.withRange(token.range);
            }
            if (this.peek(scanner_1.TokenKind.FLOAT64)) {
                let value = node_1.createDouble(0);
                if (!this.parseDouble(token.range, value)) {
                    value = node_1.createParseError();
                }
                this.advance();
                return value.withRange(token.range);
            }
            if (this.eat(scanner_1.TokenKind.TRUE)) {
                return node_1.createboolean(true).withRange(token.range);
            }
            if (this.eat(scanner_1.TokenKind.FALSE)) {
                return node_1.createboolean(false).withRange(token.range);
            }
            if (this.eat(scanner_1.TokenKind.NEW)) {
                let type = this.parseType();
                if (type == null) {
                    return null;
                }
                if (this.peek(scanner_1.TokenKind.LESS_THAN)) {
                    let parameters = this.parseParameters();
                    if (parameters == null) {
                        return null;
                    }
                    type.appendChild(parameters);
                }
                return this.parseArgumentList(token.range, node_1.createNew(type));
            }
            if (this.eat(scanner_1.TokenKind.ALIGNOF)) {
                if (!this.expect(scanner_1.TokenKind.LEFT_PARENTHESIS)) {
                    return null;
                }
                let type = this.parseType();
                let close = this.current;
                if (type == null || !this.expect(scanner_1.TokenKind.RIGHT_PARENTHESIS)) {
                    return null;
                }
                return node_1.createAlignOf(type).withRange(log_1.spanRanges(token.range, close.range));
            }
            if (this.eat(scanner_1.TokenKind.SIZEOF)) {
                if (!this.expect(scanner_1.TokenKind.LEFT_PARENTHESIS)) {
                    return null;
                }
                let type = this.parseType();
                let close = this.current;
                if (type == null || !this.expect(scanner_1.TokenKind.RIGHT_PARENTHESIS)) {
                    return null;
                }
                return node_1.createSizeOf(type).withRange(log_1.spanRanges(token.range, close.range));
            }
            if (this.eat(scanner_1.TokenKind.LEFT_PARENTHESIS)) {
                let value = this.parseExpression(Precedence.LOWEST, ParseKind.EXPRESSION);
                let close = this.current;
                if (value == null || !this.expect(scanner_1.TokenKind.RIGHT_PARENTHESIS)) {
                    return null;
                }
                return value.withRange(log_1.spanRanges(token.range, close.range));
            }
            // Unary prefix
            if (this.peek(scanner_1.TokenKind.BITWISE_AND))
                return this.parseUnaryPrefix(node_1.NodeKind.ADDRESS_OF, ParseKind.EXPRESSION);
            if (this.peek(scanner_1.TokenKind.COMPLEMENT))
                return this.parseUnaryPrefix(node_1.NodeKind.COMPLEMENT, ParseKind.EXPRESSION);
            if (this.peek(scanner_1.TokenKind.MINUS))
                return this.parseUnaryPrefix(node_1.NodeKind.NEGATIVE, ParseKind.EXPRESSION);
            if (this.peek(scanner_1.TokenKind.MINUS_MINUS))
                return this.parseUnaryPrefix(node_1.NodeKind.PREFIX_DECREMENT, ParseKind.EXPRESSION);
            if (this.peek(scanner_1.TokenKind.NOT))
                return this.parseUnaryPrefix(node_1.NodeKind.NOT, ParseKind.EXPRESSION);
            if (this.peek(scanner_1.TokenKind.PLUS))
                return this.parseUnaryPrefix(node_1.NodeKind.POSITIVE, ParseKind.EXPRESSION);
            if (this.peek(scanner_1.TokenKind.PLUS_PLUS))
                return this.parseUnaryPrefix(node_1.NodeKind.PREFIX_INCREMENT, ParseKind.EXPRESSION);
        }
        if (this.peek(scanner_1.TokenKind.LEFT_BRACE)) {
            terminal_1.Terminal.write("Check if its JS");
        }
        this.unexpectedToken();
        return null;
    }
    parseInfix(precedence, node, mode) {
        let token = this.current.range;
        // Dot
        if (this.peek(scanner_1.TokenKind.DOT) && precedence < Precedence.MEMBER) {
            this.advance();
            let name = this.current;
            let range = name.range;
            // Allow contextual keywords
            if (scanner_1.isKeyword(name.kind)) {
                this.advance();
            }
            else if (!this.expect(scanner_1.TokenKind.IDENTIFIER)) {
                range = log_1.createRange(range.source, token.end, token.end);
            }
            return node_1.createDot(node, range.toString()).withRange(log_1.spanRanges(node.range, range)).withInternalRange(range);
        }
        if (mode == ParseKind.EXPRESSION) {
            // Binary
            if (this.peek(scanner_1.TokenKind.ASSIGN))
                return this.parseBinary(node_1.NodeKind.ASSIGN, node, precedence, Precedence.ASSIGN);
            if (this.peek(scanner_1.TokenKind.BITWISE_AND))
                return this.parseBinary(node_1.NodeKind.BITWISE_AND, node, precedence, Precedence.BITWISE_AND);
            if (this.peek(scanner_1.TokenKind.BITWISE_OR))
                return this.parseBinary(node_1.NodeKind.BITWISE_OR, node, precedence, Precedence.BITWISE_OR);
            if (this.peek(scanner_1.TokenKind.BITWISE_XOR))
                return this.parseBinary(node_1.NodeKind.BITWISE_XOR, node, precedence, Precedence.BITWISE_XOR);
            if (this.peek(scanner_1.TokenKind.DIVIDE))
                return this.parseBinary(node_1.NodeKind.DIVIDE, node, precedence, Precedence.MULTIPLY);
            if (this.peek(scanner_1.TokenKind.EQUAL))
                return this.parseBinary(node_1.NodeKind.EQUAL, node, precedence, Precedence.EQUAL);
            if (this.peek(scanner_1.TokenKind.EXPONENT))
                return this.parseBinary(node_1.NodeKind.EXPONENT, node, precedence, Precedence.EXPONENT);
            if (this.peek(scanner_1.TokenKind.GREATER_THAN))
                return this.parseBinary(node_1.NodeKind.GREATER_THAN, node, precedence, Precedence.COMPARE);
            if (this.peek(scanner_1.TokenKind.GREATER_THAN_EQUAL))
                return this.parseBinary(node_1.NodeKind.GREATER_THAN_EQUAL, node, precedence, Precedence.COMPARE);
            if (this.peek(scanner_1.TokenKind.LESS_THAN))
                return this.parseBinary(node_1.NodeKind.LESS_THAN, node, precedence, Precedence.COMPARE);
            if (this.peek(scanner_1.TokenKind.LESS_THAN_EQUAL))
                return this.parseBinary(node_1.NodeKind.LESS_THAN_EQUAL, node, precedence, Precedence.COMPARE);
            if (this.peek(scanner_1.TokenKind.LOGICAL_AND))
                return this.parseBinary(node_1.NodeKind.LOGICAL_AND, node, precedence, Precedence.LOGICAL_AND);
            if (this.peek(scanner_1.TokenKind.LOGICAL_OR))
                return this.parseBinary(node_1.NodeKind.LOGICAL_OR, node, precedence, Precedence.LOGICAL_OR);
            if (this.peek(scanner_1.TokenKind.MINUS))
                return this.parseBinary(node_1.NodeKind.SUBTRACT, node, precedence, Precedence.ADD);
            if (this.peek(scanner_1.TokenKind.MULTIPLY))
                return this.parseBinary(node_1.NodeKind.MULTIPLY, node, precedence, Precedence.MULTIPLY);
            if (this.peek(scanner_1.TokenKind.NOT_EQUAL))
                return this.parseBinary(node_1.NodeKind.NOT_EQUAL, node, precedence, Precedence.EQUAL);
            if (this.peek(scanner_1.TokenKind.PLUS))
                return this.parseBinary(node_1.NodeKind.ADD, node, precedence, Precedence.ADD);
            if (this.peek(scanner_1.TokenKind.REMAINDER))
                return this.parseBinary(node_1.NodeKind.REMAINDER, node, precedence, Precedence.MULTIPLY);
            if (this.peek(scanner_1.TokenKind.SHIFT_LEFT))
                return this.parseBinary(node_1.NodeKind.SHIFT_LEFT, node, precedence, Precedence.SHIFT);
            if (this.peek(scanner_1.TokenKind.SHIFT_RIGHT))
                return this.parseBinary(node_1.NodeKind.SHIFT_RIGHT, node, precedence, Precedence.SHIFT);
            // Unary postfix
            if (this.peek(scanner_1.TokenKind.PLUS_PLUS))
                return this.parseUnaryPostfix(node_1.NodeKind.POSTFIX_INCREMENT, node, precedence);
            if (this.peek(scanner_1.TokenKind.MINUS_MINUS))
                return this.parseUnaryPostfix(node_1.NodeKind.POSTFIX_DECREMENT, node, precedence);
            // Cast
            if (this.peek(scanner_1.TokenKind.AS) && precedence < Precedence.UNARY_PREFIX) {
                this.advance();
                let type = this.parseType();
                if (type == null) {
                    return null;
                }
                return node_1.createCast(node, type).withRange(log_1.spanRanges(node.range, type.range)).withInternalRange(token);
            }
            // Call or index
            let isIndex = this.peek(scanner_1.TokenKind.LEFT_BRACKET);
            if ((isIndex || this.peek(scanner_1.TokenKind.LEFT_PARENTHESIS)) && precedence < Precedence.UNARY_POSTFIX) {
                return this.parseArgumentList(node.range, isIndex ? node_1.createIndex(node) : node_1.createCall(node));
            }
            // Hook
            if (this.peek(scanner_1.TokenKind.QUESTION_MARK) && precedence < Precedence.ASSIGN) {
                this.advance();
                let middle = this.parseExpression(Precedence.LOWEST, ParseKind.EXPRESSION);
                if (middle == null || !this.expect(scanner_1.TokenKind.COLON)) {
                    return null;
                }
                let right = this.parseExpression(Precedence.LOWEST, ParseKind.EXPRESSION);
                if (right == null) {
                    return null;
                }
                return node_1.createHook(node, middle, right).withRange(log_1.spanRanges(node.range, right.range));
            }
        }
        return node;
    }
    parseDelete() {
        let token = this.current;
        assert_1.assert(token.kind == scanner_1.TokenKind.DELETE);
        this.advance();
        let value = null;
        if (!this.peek(scanner_1.TokenKind.SEMICOLON)) {
            value = this.parseExpression(Precedence.LOWEST, ParseKind.EXPRESSION);
            if (value == null) {
                return null;
            }
        }
        let semicolon = this.current;
        this.expect(scanner_1.TokenKind.SEMICOLON);
        return node_1.createDelete(value).withRange(log_1.spanRanges(token.range, semicolon.range));
    }
    parseArgumentList(start, node) {
        let open = this.current.range;
        let isIndex = node.kind == node_1.NodeKind.INDEX;
        let left = isIndex ? scanner_1.TokenKind.LEFT_BRACKET : scanner_1.TokenKind.LEFT_PARENTHESIS;
        let right = isIndex ? scanner_1.TokenKind.RIGHT_BRACKET : scanner_1.TokenKind.RIGHT_PARENTHESIS;
        if (!this.expect(left)) {
            return null;
        }
        if (!this.peek(right)) {
            while (true) {
                let value = this.parseExpression(Precedence.LOWEST, ParseKind.EXPRESSION);
                if (value == null) {
                    return null;
                }
                node.appendChild(value);
                if (!this.eat(scanner_1.TokenKind.COMMA)) {
                    break;
                }
            }
        }
        let close = this.current.range;
        if (!this.expect(right)) {
            return null;
        }
        return node.withRange(log_1.spanRanges(start, close)).withInternalRange(log_1.spanRanges(open, close));
    }
    parseExpression(precedence, mode) {
        // Prefix
        let node = this.parsePrefix(mode);
        if (node == null) {
            return null;
        }
        assert_1.assert(node.range != null);
        // Infix
        while (true) {
            let result = this.parseInfix(precedence, node, mode);
            if (result == null) {
                return null;
            }
            if (result == node) {
                break;
            }
            node = result;
            assert_1.assert(node.range != null);
        }
        return node;
    }
    parseType() {
        return this.parseExpression(Precedence.UNARY_POSTFIX, ParseKind.TYPE);
    }
    parseIf() {
        let token = this.current;
        assert_1.assert(token.kind == scanner_1.TokenKind.IF);
        this.advance();
        if (!this.expect(scanner_1.TokenKind.LEFT_PARENTHESIS)) {
            return null;
        }
        let value;
        // Recover from a missing value
        if (this.peek(scanner_1.TokenKind.RIGHT_PARENTHESIS)) {
            this.unexpectedToken();
            this.advance();
            value = node_1.createParseError();
        }
        else {
            value = this.parseExpression(Precedence.LOWEST, ParseKind.EXPRESSION);
            if (value == null || !this.expect(scanner_1.TokenKind.RIGHT_PARENTHESIS)) {
                return null;
            }
        }
        let trueBranch = this.parseBody();
        if (trueBranch == null) {
            return null;
        }
        let falseBranch = null;
        if (this.eat(scanner_1.TokenKind.ELSE)) {
            falseBranch = this.parseBody();
            if (falseBranch == null) {
                return null;
            }
        }
        return node_1.createIf(value, trueBranch, falseBranch).withRange(log_1.spanRanges(token.range, (falseBranch != null ? falseBranch : trueBranch).range));
    }
    parseWhile() {
        let token = this.current;
        assert_1.assert(token.kind == scanner_1.TokenKind.WHILE);
        this.advance();
        if (!this.expect(scanner_1.TokenKind.LEFT_PARENTHESIS)) {
            return null;
        }
        let value;
        // Recover from a missing value
        if (this.peek(scanner_1.TokenKind.RIGHT_PARENTHESIS)) {
            this.unexpectedToken();
            this.advance();
            value = node_1.createParseError();
        }
        else {
            value = this.parseExpression(Precedence.LOWEST, ParseKind.EXPRESSION);
            if (value == null || !this.expect(scanner_1.TokenKind.RIGHT_PARENTHESIS)) {
                return null;
            }
        }
        let body = this.parseBody();
        if (body == null) {
            return null;
        }
        return node_1.createWhile(value, body).withRange(log_1.spanRanges(token.range, body.range));
    }
    parseBody() {
        let node = this.parseStatement(StatementMode.NORMAL);
        if (node == null) {
            return null;
        }
        if (node.kind == node_1.NodeKind.BLOCK) {
            return node;
        }
        let block = node_1.createBlock();
        block.appendChild(node);
        return block.withRange(node.range);
    }
    parseBlock() {
        let open = this.current;
        if (!this.expect(scanner_1.TokenKind.LEFT_BRACE)) {
            return null;
        }
        let block = node_1.createBlock();
        if (!this.parseStatements(block)) {
            return null;
        }
        let close = this.current;
        if (!this.expect(scanner_1.TokenKind.RIGHT_BRACE)) {
            return null;
        }
        return block.withRange(log_1.spanRanges(open.range, close.range));
    }
    // parseObject():Node {
    //
    // }
    parseReturn() {
        let token = this.current;
        assert_1.assert(token.kind == scanner_1.TokenKind.RETURN);
        this.advance();
        let value = null;
        if (!this.peek(scanner_1.TokenKind.SEMICOLON)) {
            value = this.parseExpression(Precedence.LOWEST, ParseKind.EXPRESSION);
            if (value == null) {
                return null;
            }
        }
        let semicolon = this.current;
        this.expect(scanner_1.TokenKind.SEMICOLON);
        return node_1.createReturn(value).withRange(log_1.spanRanges(token.range, semicolon.range));
    }
    parseEmpty() {
        let token = this.current;
        this.advance();
        return node_1.createEmpty().withRange(token.range);
    }
    parseEnum(firstFlag) {
        let token = this.current;
        assert_1.assert(token.kind == scanner_1.TokenKind.ENUM);
        this.advance();
        let name = this.current;
        if (!this.expect(scanner_1.TokenKind.IDENTIFIER) || !this.expect(scanner_1.TokenKind.LEFT_BRACE)) {
            return null;
        }
        let text = name.range.toString();
        let node = node_1.createEnum(text);
        node.firstFlag = firstFlag;
        node.flags = node_1.allFlags(firstFlag);
        while (!this.peek(scanner_1.TokenKind.END_OF_FILE) && !this.peek(scanner_1.TokenKind.RIGHT_BRACE)) {
            let member = this.current.range;
            let value = null;
            if (!this.expect(scanner_1.TokenKind.IDENTIFIER)) {
                return null;
            }
            if (this.eat(scanner_1.TokenKind.ASSIGN)) {
                value = this.parseExpression(Precedence.LOWEST, ParseKind.EXPRESSION);
                if (value == null) {
                    return null;
                }
            }
            let variable = node_1.createVariable(member.toString(), node_1.createName(text), value);
            node.appendChild(variable.withRange(value != null ? log_1.spanRanges(member, value.range) : member).withInternalRange(member));
            // Recover from a terminating semicolon
            if (this.peek(scanner_1.TokenKind.SEMICOLON)) {
                this.expect(scanner_1.TokenKind.COMMA);
                this.advance();
            }
            else if (this.peek(scanner_1.TokenKind.IDENTIFIER)) {
                this.expect(scanner_1.TokenKind.COMMA);
            }
            else if (!this.eat(scanner_1.TokenKind.COMMA)) {
                break;
            }
        }
        let close = this.current;
        if (!this.expect(scanner_1.TokenKind.RIGHT_BRACE)) {
            return null;
        }
        return node.withRange(log_1.spanRanges(token.range, close.range)).withInternalRange(name.range);
    }
    parseParameters() {
        let node = node_1.createParameters();
        let open = this.current;
        let close;
        assert_1.assert(open.kind == scanner_1.TokenKind.LESS_THAN);
        this.advance();
        while (true) {
            let name = this.current;
            if (!this.expect(scanner_1.TokenKind.IDENTIFIER)) {
                close = this.current;
                if (this.eat(scanner_1.TokenKind.GREATER_THAN)) {
                    break;
                }
                return null;
            }
            node.appendChild(node_1.createParameter(name.range.toString()).withRange(name.range));
            if (!this.eat(scanner_1.TokenKind.COMMA)) {
                close = this.current;
                if (!this.expect(scanner_1.TokenKind.GREATER_THAN)) {
                    return null;
                }
                break;
            }
        }
        return node.withRange(log_1.spanRanges(open.range, close.range));
    }
    parseImports() {
        let token = this.current;
        assert_1.assert(token.kind == scanner_1.TokenKind.IMPORT);
        this.advance();
        let node = node_1.createImports();
        node.flags = node.flags | scanner_1.TokenKind.IMPORT;
        if (this.peek(scanner_1.TokenKind.MULTIPLY)) {
            this.log.error(this.current.range, "wildcard '*' import not supported");
            assert_1.assert(this.eat(scanner_1.TokenKind.MULTIPLY));
            assert_1.assert(this.eat(scanner_1.TokenKind.AS));
            let importName = this.current;
            let range = importName.range;
            let _import = node_1.createImport(importName.range.toString());
            node.appendChild(_import.withRange(range).withInternalRange(importName.range));
            this.advance();
        }
        else {
            if (!this.expect(scanner_1.TokenKind.LEFT_BRACE)) {
                return null;
            }
            while (!this.peek(scanner_1.TokenKind.END_OF_FILE) && !this.peek(scanner_1.TokenKind.RIGHT_BRACE)) {
                let importName = this.current;
                let range = importName.range;
                let _import = node_1.createImport(importName.range.toString());
                node.appendChild(_import.withRange(range).withInternalRange(importName.range));
                this.advance();
                if (!this.eat(scanner_1.TokenKind.COMMA)) {
                    break;
                }
            }
            // this.advance();
            // assert(this.expect(TokenKind.RIGHT_BRACE));
            this.expect(scanner_1.TokenKind.RIGHT_BRACE);
        }
        this.expect(scanner_1.TokenKind.FROM);
        let importFrom = this.current;
        let _from = node_1.createImportFrom(importFrom.range.toString());
        node.appendChild(_from.withRange(importFrom.range).withInternalRange(importFrom.range));
        this.advance();
        let semicolon = this.current;
        this.expect(scanner_1.TokenKind.SEMICOLON);
        return node.withRange(log_1.spanRanges(token.range, semicolon.range));
    }
    parseModule(firstFlag) {
        let token = this.current;
        assert_1.assert(token.kind == scanner_1.TokenKind.MODULE);
        this.advance();
        let name = this.current;
        if (!this.expect(scanner_1.TokenKind.IDENTIFIER)) {
            return null;
        }
        let node = node_1.createModule(name.range.toString());
        node.firstFlag = firstFlag;
        node.flags = node_1.allFlags(firstFlag);
        // Type parameters
        if (this.peek(scanner_1.TokenKind.LESS_THAN)) {
            let parameters = this.parseParameters();
            if (parameters == null) {
                return null;
            }
            node.appendChild(parameters);
        }
        if (!this.expect(scanner_1.TokenKind.LEFT_BRACE)) {
            return null;
        }
        while (!this.peek(scanner_1.TokenKind.END_OF_FILE) && !this.peek(scanner_1.TokenKind.RIGHT_BRACE)) {
            let childFlags = this.parseFlags();
            let childName = this.current;
            let oldKind = childName.kind;
            // Support contextual keywords
            if (scanner_1.isKeyword(childName.kind)) {
                childName.kind = scanner_1.TokenKind.IDENTIFIER;
                this.advance();
            }
            // The identifier must come first without any keyword
            if (!this.expect(scanner_1.TokenKind.IDENTIFIER)) {
                return null;
            }
            let text = childName.range.toString();
            // Support operator definitions
            if (text == "operator" && !this.peek(scanner_1.TokenKind.LEFT_PARENTHESIS) && !this.peek(scanner_1.TokenKind.IDENTIFIER)) {
                childName.kind = scanner_1.TokenKind.OPERATOR;
                this.current = childName;
                if (this.parseFunction(childFlags, node) == null) {
                    return null;
                }
                continue;
            }
            else if (this.peek(scanner_1.TokenKind.IDENTIFIER)) {
                let isGet = text == "get";
                let isSet = text == "set";
                // The "get" and "set" flags are contextual
                if (isGet || isSet) {
                    childFlags = node_1.appendFlag(childFlags, isGet ? node_1.NODE_FLAG_GET : node_1.NODE_FLAG_SET, childName.range);
                    // Get the real identifier
                    childName = this.current;
                    this.advance();
                }
                else if (oldKind == scanner_1.TokenKind.FUNCTION) {
                    this.log.error(childName.range, "Instance functions don't need the 'function' keyword");
                    // Get the real identifier
                    childName = this.current;
                    this.advance();
                }
                else if (oldKind == scanner_1.TokenKind.CONST || oldKind == scanner_1.TokenKind.LET || oldKind == scanner_1.TokenKind.VAR) {
                    this.log.error(childName.range, stringbuilder_1.StringBuilder_new()
                        .append("Instance variables don't need the '")
                        .append(childName.range.toString())
                        .append("' keyword")
                        .finish());
                    // Get the real identifier
                    childName = this.current;
                    this.advance();
                }
            }
            // Function
            if (this.peek(scanner_1.TokenKind.LEFT_PARENTHESIS) || this.peek(scanner_1.TokenKind.LESS_THAN)) {
                this.current = childName;
                if (this.parseFunction(childFlags, node) == null) {
                    return null;
                }
            }
            else {
                this.current = childName;
                if (this.parseVariables(childFlags, node) == null) {
                    return null;
                }
            }
        }
        let close = this.current;
        if (!this.expect(scanner_1.TokenKind.RIGHT_BRACE)) {
            return null;
        }
        return node.withRange(log_1.spanRanges(token.range, close.range)).withInternalRange(name.range);
    }
    parseClass(firstFlag) {
        let token = this.current;
        assert_1.assert(token.kind == scanner_1.TokenKind.CLASS);
        this.advance();
        let name = this.current;
        if (!this.expect(scanner_1.TokenKind.IDENTIFIER)) {
            return null;
        }
        let node = node_1.createClass(name.range.toString());
        node.firstFlag = firstFlag;
        node.flags = node_1.allFlags(firstFlag);
        // Type parameters
        if (this.peek(scanner_1.TokenKind.LESS_THAN)) {
            let parameters = this.parseParameters();
            if (parameters == null) {
                return null;
            }
            node.appendChild(parameters);
        }
        // "extends" clause
        let extendsToken = this.current;
        if (this.eat(scanner_1.TokenKind.EXTENDS)) {
            let type;
            // Recover from a missing type
            if (this.peek(scanner_1.TokenKind.LEFT_BRACE) || this.peek(scanner_1.TokenKind.IMPLEMENTS)) {
                this.unexpectedToken();
                type = node_1.createParseError();
            }
            else {
                type = this.parseType();
                if (type == null) {
                    return null;
                }
            }
            node.appendChild(node_1.createExtends(type).withRange(type.range != null ? log_1.spanRanges(extendsToken.range, type.range) : extendsToken.range));
        }
        // "implements" clause
        let implementsToken = this.current;
        if (this.eat(scanner_1.TokenKind.IMPLEMENTS)) {
            let list = node_1.createImplements();
            let type = null;
            while (true) {
                // Recover from a missing type
                if (this.peek(scanner_1.TokenKind.LEFT_BRACE)) {
                    this.unexpectedToken();
                    break;
                }
                type = this.parseType();
                if (type == null) {
                    return null;
                }
                list.appendChild(type);
                if (!this.eat(scanner_1.TokenKind.COMMA)) {
                    break;
                }
            }
            node.appendChild(list.withRange(type != null ? log_1.spanRanges(implementsToken.range, type.range) : implementsToken.range));
        }
        if (!this.expect(scanner_1.TokenKind.LEFT_BRACE)) {
            return null;
        }
        while (!this.peek(scanner_1.TokenKind.END_OF_FILE) && !this.peek(scanner_1.TokenKind.RIGHT_BRACE)) {
            let childFlags = this.parseFlags();
            let childName = this.current;
            let oldKind = childName.kind;
            // Support contextual keywords
            if (scanner_1.isKeyword(childName.kind)) {
                childName.kind = scanner_1.TokenKind.IDENTIFIER;
                this.advance();
            }
            // The identifier must come first without any keyword
            if (!this.expect(scanner_1.TokenKind.IDENTIFIER)) {
                return null;
            }
            let text = childName.range.toString();
            // Support operator definitions
            if (text == "operator" && !this.peek(scanner_1.TokenKind.LEFT_PARENTHESIS) && !this.peek(scanner_1.TokenKind.IDENTIFIER)) {
                childName.kind = scanner_1.TokenKind.OPERATOR;
                this.current = childName;
                if (this.parseFunction(childFlags, node) == null) {
                    return null;
                }
                continue;
            }
            else if (this.peek(scanner_1.TokenKind.IDENTIFIER)) {
                let isGet = text == "get";
                let isSet = text == "set";
                // The "get" and "set" flags are contextual
                if (isGet || isSet) {
                    childFlags = node_1.appendFlag(childFlags, isGet ? node_1.NODE_FLAG_GET : node_1.NODE_FLAG_SET, childName.range);
                    // Get the real identifier
                    childName = this.current;
                    this.advance();
                }
                else if (oldKind == scanner_1.TokenKind.FUNCTION) {
                    this.log.error(childName.range, "Instance functions don't need the 'function' keyword");
                    // Get the real identifier
                    childName = this.current;
                    this.advance();
                }
                else if (oldKind == scanner_1.TokenKind.CONST || oldKind == scanner_1.TokenKind.LET || oldKind == scanner_1.TokenKind.VAR) {
                    this.log.error(childName.range, stringbuilder_1.StringBuilder_new()
                        .append("Instance variables don't need the '")
                        .append(childName.range.toString())
                        .append("' keyword")
                        .finish());
                    // Get the real identifier
                    childName = this.current;
                    this.advance();
                }
            }
            // Function
            if (this.peek(scanner_1.TokenKind.LEFT_PARENTHESIS) || this.peek(scanner_1.TokenKind.LESS_THAN)) {
                this.current = childName;
                if (this.parseFunction(childFlags, node) == null) {
                    return null;
                }
            }
            else {
                this.current = childName;
                if (this.parseVariables(childFlags, node) == null) {
                    return null;
                }
            }
        }
        let close = this.current;
        if (!this.expect(scanner_1.TokenKind.RIGHT_BRACE)) {
            return null;
        }
        return node.withRange(log_1.spanRanges(token.range, close.range)).withInternalRange(name.range);
    }
    parseFunction(firstFlag, parent) {
        let isOperator = false;
        let token = this.current;
        let nameRange;
        let name;
        // Support custom operators
        if (parent != null && this.eat(scanner_1.TokenKind.OPERATOR)) {
            let end = this.current;
            if (this.eat(scanner_1.TokenKind.LEFT_BRACKET)) {
                if (!this.expect(scanner_1.TokenKind.RIGHT_BRACKET)) {
                    return null;
                }
                if (this.peek(scanner_1.TokenKind.ASSIGN)) {
                    nameRange = log_1.spanRanges(token.range, this.current.range);
                    name = "[]=";
                    this.advance();
                }
                else {
                    nameRange = log_1.spanRanges(token.range, end.range);
                    name = "[]";
                }
                isOperator = true;
            }
            else if (this.eat(scanner_1.TokenKind.BITWISE_AND) ||
                this.eat(scanner_1.TokenKind.BITWISE_OR) ||
                this.eat(scanner_1.TokenKind.BITWISE_XOR) ||
                this.eat(scanner_1.TokenKind.COMPLEMENT) ||
                this.eat(scanner_1.TokenKind.DIVIDE) ||
                this.eat(scanner_1.TokenKind.EQUAL) ||
                this.eat(scanner_1.TokenKind.EXPONENT) ||
                this.eat(scanner_1.TokenKind.LESS_THAN) ||
                this.eat(scanner_1.TokenKind.GREATER_THAN) ||
                this.eat(scanner_1.TokenKind.MINUS) ||
                this.eat(scanner_1.TokenKind.MINUS_MINUS) ||
                this.eat(scanner_1.TokenKind.MULTIPLY) ||
                this.eat(scanner_1.TokenKind.PLUS) ||
                this.eat(scanner_1.TokenKind.PLUS_PLUS) ||
                this.eat(scanner_1.TokenKind.REMAINDER) ||
                this.eat(scanner_1.TokenKind.SHIFT_LEFT) ||
                this.eat(scanner_1.TokenKind.SHIFT_RIGHT)) {
                nameRange = end.range;
                name = nameRange.toString();
                isOperator = true;
            }
            else if (this.eat(scanner_1.TokenKind.ASSIGN) ||
                this.eat(scanner_1.TokenKind.GREATER_THAN_EQUAL) ||
                this.eat(scanner_1.TokenKind.LESS_THAN_EQUAL) ||
                this.eat(scanner_1.TokenKind.LOGICAL_AND) ||
                this.eat(scanner_1.TokenKind.LOGICAL_OR) ||
                this.eat(scanner_1.TokenKind.NOT) ||
                this.eat(scanner_1.TokenKind.NOT_EQUAL)) {
                nameRange = end.range;
                name = nameRange.toString();
                // Recover from an invalid operator name
                this.log.error(nameRange, stringbuilder_1.StringBuilder_new()
                    .append("The operator '")
                    .append(name)
                    .append("' cannot be implemented")
                    .append(end.kind == scanner_1.TokenKind.NOT_EQUAL ? " (it is automatically derived from '==')" :
                    end.kind == scanner_1.TokenKind.LESS_THAN_EQUAL ? " (it is automatically derived from '>')" :
                        end.kind == scanner_1.TokenKind.GREATER_THAN_EQUAL ? " (it is automatically derived from '<')" :
                            "")
                    .finish());
            }
            else {
                this.unexpectedToken();
            }
        }
        else {
            // Functions inside class declarations don't use "function"
            if (parent == null) {
                assert_1.assert(token.kind == scanner_1.TokenKind.FUNCTION);
                this.advance();
            }
            // Remember where the name is for the symbol later
            nameRange = this.current.range;
            if (!this.expect(scanner_1.TokenKind.IDENTIFIER)) {
                return null;
            }
            name = nameRange.toString();
        }
        let node = node_1.createFunction(name);
        node.firstFlag = firstFlag;
        node.flags = node_1.allFlags(firstFlag);
        if (isOperator) {
            node.flags = node.flags | node_1.NODE_FLAG_OPERATOR;
        }
        // Type parameters
        if (this.peek(scanner_1.TokenKind.LESS_THAN)) {
            let parameters = this.parseParameters();
            if (parameters == null) {
                return null;
            }
            node.appendChild(parameters);
        }
        if (!this.expect(scanner_1.TokenKind.LEFT_PARENTHESIS)) {
            return null;
        }
        if (!this.peek(scanner_1.TokenKind.RIGHT_PARENTHESIS)) {
            while (true) {
                let firstArgumentFlag = this.parseFlags();
                let argument = this.current;
                ;
                if (!this.expect(scanner_1.TokenKind.IDENTIFIER)) {
                    return null;
                }
                let type;
                let value = null;
                let range = argument.range;
                if (this.expect(scanner_1.TokenKind.COLON)) {
                    type = this.parseType();
                    if (this.peek(scanner_1.TokenKind.LESS_THAN)) {
                        let parameters = this.parseParameters();
                        if (parameters == null) {
                            return null;
                        }
                        type.appendChild(parameters);
                    }
                    if (type != null) {
                        range = log_1.spanRanges(range, type.range);
                    }
                    else if (this.peek(scanner_1.TokenKind.COMMA) || this.peek(scanner_1.TokenKind.RIGHT_PARENTHESIS)) {
                        type = node_1.createParseError();
                    }
                    else {
                        return null;
                    }
                }
                else if (this.peek(scanner_1.TokenKind.COMMA) || this.peek(scanner_1.TokenKind.RIGHT_PARENTHESIS)) {
                    type = node_1.createParseError();
                }
                let firstType = type;
                //Type alias
                while (this.eat(scanner_1.TokenKind.BITWISE_OR)) {
                    let aliasType = this.parseType();
                    if (this.peek(scanner_1.TokenKind.LESS_THAN)) {
                        let parameters = this.parseParameters();
                        if (parameters == null) {
                            return null;
                        }
                        aliasType.appendChild(parameters);
                    }
                    if (aliasType != null) {
                        range = log_1.spanRanges(range, aliasType.range);
                    }
                    else if (this.peek(scanner_1.TokenKind.COMMA) || this.peek(scanner_1.TokenKind.RIGHT_PARENTHESIS)) {
                        aliasType = node_1.createParseError();
                    }
                    else {
                        return null;
                    }
                    type.appendChild(aliasType);
                    type = aliasType;
                }
                if (this.eat(scanner_1.TokenKind.ASSIGN)) {
                    value = this.parseExpression(Precedence.LOWEST, ParseKind.EXPRESSION);
                }
                let variable = node_1.createVariable(argument.range.toString(), firstType, value);
                variable.firstFlag = firstArgumentFlag;
                variable.flags = node_1.allFlags(firstArgumentFlag);
                node.appendChild(variable.withRange(range).withInternalRange(argument.range));
                if (!this.eat(scanner_1.TokenKind.COMMA)) {
                    break;
                }
            }
        }
        if (!this.expect(scanner_1.TokenKind.RIGHT_PARENTHESIS)) {
            return null;
        }
        let returnType;
        if (node.isAnyfunc()) {
            returnType = node_1.createAny();
        }
        else {
            if (node.stringValue == "constructor") {
                returnType = new node_1.Node();
                returnType.kind = node_1.NodeKind.NAME;
                returnType.stringValue = parent.stringValue;
            }
            else if (this.expect(scanner_1.TokenKind.COLON)) {
                returnType = this.parseType();
                if (this.peek(scanner_1.TokenKind.LESS_THAN)) {
                    let parameters = this.parseParameters();
                    if (parameters == null) {
                        return null;
                    }
                    returnType.appendChild(parameters);
                }
                if (returnType == null) {
                    // Recover from a missing return type
                    if (this.peek(scanner_1.TokenKind.SEMICOLON) || this.peek(scanner_1.TokenKind.LEFT_BRACE)) {
                        returnType = node_1.createParseError();
                    }
                    else {
                        return null;
                    }
                }
                let firstType = returnType;
                //Type alias
                while (this.eat(scanner_1.TokenKind.BITWISE_OR)) {
                    let aliasType = this.parseType();
                    if (this.peek(scanner_1.TokenKind.LESS_THAN)) {
                        let parameters = this.parseParameters();
                        if (parameters == null) {
                            return null;
                        }
                        aliasType.appendChild(parameters);
                    }
                    if (aliasType == null) {
                        // Recover from a missing return type
                        if (this.peek(scanner_1.TokenKind.SEMICOLON) || this.peek(scanner_1.TokenKind.LEFT_BRACE)) {
                            aliasType = node_1.createParseError();
                        }
                        else {
                            return null;
                        }
                    }
                    firstType.appendChild(aliasType);
                    firstType = aliasType;
                }
            }
            else if (this.peek(scanner_1.TokenKind.SEMICOLON) || this.peek(scanner_1.TokenKind.LEFT_BRACE)) {
                returnType = node_1.createParseError();
            }
            else {
                return null;
            }
        }
        node.appendChild(returnType);
        let block = null;
        // Is this an import?
        let semicolon = this.current;
        if (this.eat(scanner_1.TokenKind.SEMICOLON)) {
            block = node_1.createEmpty().withRange(semicolon.range);
        }
        else {
            block = this.parseBlock();
            if (block == null) {
                return null;
            }
        }
        // Add this to the enclosing class
        if (parent != null) {
            parent.appendChild(node);
        }
        node.appendChild(block);
        return node.withRange(log_1.spanRanges(token.range, block.range)).withInternalRange(nameRange);
    }
    parseVariables(firstFlag, parent) {
        let token = this.current;
        // Variables inside class declarations don't use "var"
        if (parent == null) {
            assert_1.assert(token.kind == scanner_1.TokenKind.CONST || token.kind == scanner_1.TokenKind.LET || token.kind == scanner_1.TokenKind.VAR);
            this.advance();
        }
        let node = token.kind == scanner_1.TokenKind.CONST ? node_1.createConstants() : node_1.createVariables();
        node.firstFlag = firstFlag;
        while (true) {
            let name = this.current;
            if (!this.expect(scanner_1.TokenKind.IDENTIFIER)) {
                return null;
            }
            let type = null;
            if (this.eat(scanner_1.TokenKind.COLON)) {
                type = this.parseType();
                if (this.peek(scanner_1.TokenKind.LESS_THAN)) {
                    let parameters = this.parseParameters();
                    if (parameters == null) {
                        return null;
                    }
                    type.appendChild(parameters);
                }
                if (type == null) {
                    return null;
                }
            }
            let value = null;
            if (this.eat(scanner_1.TokenKind.ASSIGN)) {
                value = this.parseExpression(Precedence.LOWEST, ParseKind.EXPRESSION);
                if (value == null) {
                    return null;
                }
                // TODO: Implement constructors
                if (parent != null) {
                    //this.log.error(value.range, "Inline initialization of instance variables is not supported yet");
                }
            }
            let range = value != null ? log_1.spanRanges(name.range, value.range) :
                type != null ? log_1.spanRanges(name.range, type.range) :
                    name.range;
            let variable = node_1.createVariable(name.range.toString(), type, value);
            variable.firstFlag = firstFlag;
            variable.flags = node_1.allFlags(firstFlag);
            (parent != null ? parent : node).appendChild(variable.withRange(range).withInternalRange(name.range));
            if (!this.eat(scanner_1.TokenKind.COMMA)) {
                break;
            }
        }
        let semicolon = this.current;
        this.expect(scanner_1.TokenKind.SEMICOLON);
        return node.withRange(log_1.spanRanges(token.range, semicolon.range));
    }
    parseLoopJump(kind) {
        let token = this.current;
        this.advance();
        this.expect(scanner_1.TokenKind.SEMICOLON);
        let node = new node_1.Node();
        node.kind = kind;
        return node.withRange(token.range);
    }
    parseFlags() {
        let firstFlag = null;
        let lastFlag = null;
        while (true) {
            let token = this.current;
            let flag;
            if (this.eat(scanner_1.TokenKind.DECLARE))
                flag = node_1.NODE_FLAG_DECLARE;
            else if (this.eat(scanner_1.TokenKind.EXPORT))
                flag = node_1.NODE_FLAG_EXPORT;
            else if (this.eat(scanner_1.TokenKind.PRIVATE))
                flag = node_1.NODE_FLAG_PRIVATE;
            else if (this.eat(scanner_1.TokenKind.PROTECTED))
                flag = node_1.NODE_FLAG_PROTECTED;
            else if (this.eat(scanner_1.TokenKind.PUBLIC))
                flag = node_1.NODE_FLAG_PUBLIC;
            else if (this.eat(scanner_1.TokenKind.STATIC))
                flag = node_1.NODE_FLAG_STATIC;
            else if (this.eat(scanner_1.TokenKind.ANYFUNC))
                flag = node_1.NODE_FLAG_ANYFUNC;
            else if (this.eat(scanner_1.TokenKind.UNSAFE))
                flag = node_1.NODE_FLAG_UNSAFE;
            else if (this.eat(scanner_1.TokenKind.JAVASCRIPT))
                flag = node_1.NODE_FLAG_JAVASCRIPT;
            else if (this.eat(scanner_1.TokenKind.START))
                flag = node_1.NODE_FLAG_START;
            else if (this.eat(scanner_1.TokenKind.VIRTUAL))
                flag = node_1.NODE_FLAG_VIRTUAL;
            else
                return firstFlag;
            let link = new node_1.NodeFlag();
            link.flag = flag;
            link.range = token.range;
            if (firstFlag == null)
                firstFlag = link;
            else
                lastFlag.next = link;
            lastFlag = link;
        }
    }
    parseUnsafe() {
        let token = this.current;
        this.advance();
        let node = this.parseBlock();
        if (node == null) {
            return null;
        }
        node.flags = node.flags | node_1.NODE_FLAG_UNSAFE;
        return node.withRange(log_1.spanRanges(token.range, node.range));
    }
    parseJavaScript() {
        let token = this.current;
        this.advance();
        let node = this.parseBlock();
        if (node == null) {
            return null;
        }
        node.flags = node.flags | node_1.NODE_FLAG_JAVASCRIPT;
        return node.withRange(log_1.spanRanges(token.range, node.range));
    }
    parseStart() {
        let token = this.current;
        this.advance();
        let node = this.parseBlock();
        if (node == null) {
            return null;
        }
        node.flags = node.flags | node_1.NODE_FLAG_START;
        return node.withRange(log_1.spanRanges(token.range, node.range));
    }
    parseVirtual(firstFlag) {
        let token = this.current;
        this.advance();
        let node = this.parseFunction(firstFlag, null);
        if (node == null) {
            return null;
        }
        node.flags = node.flags | node_1.NODE_FLAG_VIRTUAL;
        return node.withRange(log_1.spanRanges(token.range, node.range));
    }
    parseStatement(mode) {
        let firstFlag = mode == StatementMode.FILE ? this.parseFlags() : null;
        // if (this.peek(TokenKind.UNSAFE) && firstFlag == null) return this.parseUnsafe(); //disabled for now
        if (this.peek(scanner_1.TokenKind.IMPORT) && firstFlag == null)
            return this.parseImports(); // This should handle before parsing
        if (this.peek(scanner_1.TokenKind.JAVASCRIPT) && firstFlag == null)
            return this.parseJavaScript();
        if (this.peek(scanner_1.TokenKind.START) && firstFlag == null)
            return this.parseStart();
        if (this.peek(scanner_1.TokenKind.CONST) || this.peek(scanner_1.TokenKind.LET) || this.peek(scanner_1.TokenKind.VAR))
            return this.parseVariables(firstFlag, null);
        if (this.peek(scanner_1.TokenKind.FUNCTION))
            return this.parseFunction(firstFlag, null);
        if (this.peek(scanner_1.TokenKind.VIRTUAL))
            return this.parseVirtual(firstFlag);
        if (this.peek(scanner_1.TokenKind.MODULE))
            return this.parseModule(firstFlag);
        if (this.peek(scanner_1.TokenKind.CLASS))
            return this.parseClass(firstFlag);
        if (this.peek(scanner_1.TokenKind.ENUM))
            return this.parseEnum(firstFlag);
        // Definition modifiers need to be attached to a definition
        if (firstFlag != null) {
            this.unexpectedToken();
            return null;
        }
        if (this.peek(scanner_1.TokenKind.LEFT_BRACE))
            return this.parseBlock();
        if (this.peek(scanner_1.TokenKind.BREAK))
            return this.parseLoopJump(node_1.NodeKind.BREAK);
        if (this.peek(scanner_1.TokenKind.CONTINUE))
            return this.parseLoopJump(node_1.NodeKind.CONTINUE);
        if (this.peek(scanner_1.TokenKind.IF))
            return this.parseIf();
        if (this.peek(scanner_1.TokenKind.WHILE))
            return this.parseWhile();
        if (this.peek(scanner_1.TokenKind.DELETE))
            return this.parseDelete();
        if (this.peek(scanner_1.TokenKind.RETURN))
            return this.parseReturn();
        if (this.peek(scanner_1.TokenKind.SEMICOLON))
            return this.parseEmpty();
        // Parse an expression statement
        let value = this.parseExpression(Precedence.LOWEST, ParseKind.EXPRESSION);
        if (value == null) {
            return null;
        }
        let semicolon = this.current;
        this.expect(scanner_1.TokenKind.SEMICOLON);
        return node_1.createExpression(value).withRange(log_1.spanRanges(value.range, semicolon.range));
    }
    parseStatements(parent) {
        while (!this.peek(scanner_1.TokenKind.END_OF_FILE) && !this.peek(scanner_1.TokenKind.RIGHT_BRACE)) {
            let child = this.parseStatement(parent.kind == node_1.NodeKind.FILE ? StatementMode.FILE : StatementMode.NORMAL);
            if (child == null) {
                return false;
            }
            if (child.kind === node_1.NodeKind.RETURN) {
                parent.returnNode = child;
            }
            parent.appendChild(child);
        }
        return true;
    }
    parseInt(range, node) {
        let source = range.source;
        let contents = source.contents;
        node.intValue = parseInt(contents.substring(range.start, range.end));
        node.flags = node_1.NODE_FLAG_POSITIVE;
        return true;
    }
    parseFloat(range, node) {
        let source = range.source;
        let contents = source.contents;
        node.floatValue = parseFloat(contents.substring(range.start, range.end));
        node.flags = node_1.NODE_FLAG_POSITIVE;
        return true;
    }
    parseDouble(range, node) {
        let source = range.source;
        let contents = source.contents;
        node.doubleValue = parseFloat(contents.substring(range.start, range.end));
        node.flags = node_1.NODE_FLAG_POSITIVE;
        return true;
    }
}
function parse(firstToken, log) {
    let context = new ParserContext();
    context.current = firstToken;
    context.log = log;
    let file = new node_1.Node();
    file.kind = node_1.NodeKind.FILE;
    if (!context.parseStatements(file)) {
        return null;
    }
    return file;
}
exports.parse = parse;


/***/ }),
/* 20 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Created by n.vinayakan on 06.06.17.
 */
exports.Color = {
    DEFAULT_TEXT: 12,
    DEFAULT_BG: 8,
    BLACK: 0,
    WHITE: 255,
    BOLD: 1,
    RED: 1,
    GREEN: 2,
    YELLOW: 3,
    BLUE: 4,
    MAGENTA: 5,
    ORANGE: 208,
};


/***/ }),
/* 21 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Created by n.vinayakan on 06.06.17.
 */
exports.isBrowser = new Function("try {return this===window;}catch(e){ return false;}")();
exports.isNode = new Function("try {return this===global;}catch(e){return false;}")();


/***/ }),
/* 22 */
/***/ (function(module, exports) {

module.exports = "declare class Math {\n    static abs(x: float32): float32;\n    static acos(x: float64): float64;\n    static asin(x: float64): float64;\n    static atan(x: float64): float64;\n    static atan2(y: float64, x: float64): float64;\n    static ceil(x: float32): float32;\n    static cos(x: float64): float64;\n    static exp(x: float64): float64;\n    static floor(x: float32): float32;\n    static log(x: float64): float64;\n    // static max(...values: float64[]): float64;\n    static max(a: float64, b:float64): float64;\n    // static min(...values: float64[]): float64;\n    static min(a: float64, b:float64): float64;\n    static pow(x: float64, y: float64): float64;\n    static random(): float64; // 'random' is not a standard Math builtin\n    // static round(x: float64): float64; //'round' is not a standard Math builtin\n    static sin(x: float64): float64;\n    static sqrt(x: float32): float32;\n    static tan(x: float64): float64;\n    static imul(a: int32, b:int32): int32;\n}\n\nfunction absf32(x:float32):float32{\n    return Math.abs(x) as float32;\n}\n\nfunction sqrtf32(x:float32):float32{\n    return Math.sqrt(x);\n}\n\nfunction powf32(x:float32, y:float32):float32{\n    return Math.pow(x as float64, y as float64) as float32;\n}\n\nfunction minf32(x:float32, y:float32):float32{\n    return Math.min(x as float64, y as float64) as float32;\n}\nfunction maxf32(x:float32, y:float32):float32{\n    return Math.max(x as float64, y as float64) as float32;\n}\n\ndeclare function modf32(a:float32, b:float32):float32;\ndeclare function modf64(a:float64, b:float64):float64;\n"

/***/ }),
/* 23 */
/***/ (function(module, exports) {

module.exports = "class Array<T> {\n\n    bytesLength: int32;\n    elementSize: int32;\n\n    constructor(bytesLength: int32, elementSize: int32) {\n        this.bytesLength = bytesLength;\n        this.elementSize = elementSize;\n    }\n\n    operator [] (index: int32): T {\n        let stripe = index * this.elementSize;\n        if (stripe >= 0 && stripe < this.bytesLength) {\n            return *((this as *uint8 + 8 + stripe) as *T);\n        }\n        return null as T;\n    }\n\n    operator []= (index: int32, value: T): void {\n        let stripe = index * this.elementSize;\n        if (stripe >= 0 && stripe < this.bytesLength) {\n            *((this as *uint8 + 8 + stripe) as *T) = value;\n        }\n    }\n\n    get length(): int32 {\n        return this.bytesLength / this.elementSize;\n    }\n}\n\n//declare type Int32Array   = Array< int32 >\n//declare type Uint32Array  = Array< uint32 >\n//declare type Int64Array   = Array< int64 >\n//declare type Uint64Array  = Array< uint64 >\n//declare type Float32Array = Array< float32 >\n//declare type Float64Array = Array< float64 >\n"

/***/ }),
/* 24 */
/***/ (function(module, exports) {

module.exports = "var originalHeapPointer: *uint8 = null;\nvar currentHeapPointer: *uint8 = null;\n\nvar freeMemory: int32 = 0;\nvar numFreeChunks: int32 = 0;\nvar firstFree: int32 = 0;\nvar lastFree: int32 = 0;\n\nconst PREV_INUSE:int32 = 1;\nconst IS_MMAPPED:int32 = 2;\nconst NON_MAIN_ARENA:int32 = 4;\nconst SIZE_BITS:int32 = PREV_INUSE|IS_MMAPPED|NON_MAIN_ARENA;\n\n//An allocated chunk looks like this:\n/*\n    chunk-> +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n            |             Size of previous chunk, if allocated            | |\n            +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n            |             Size of chunk, in bytes                         |P|\n      mem-> +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n            |             User data starts here...                          .\n            .                                                               .\n            .             (malloc_usable_size() bytes)                      .\n            .                                                               |\nnextchunk-> +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n            |             Size of chunk                                     |\n            +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n*/\n//Free chunks are stored in circular doubly-linked lists, and look like this:\n/*\n    chunk-> +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n            |             Size of previous chunk                            |\n            +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n    `head:' |             Size of chunk, in bytes                         |P|\n      mem-> +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n            |             Forward pointer to next chunk in list             |\n            +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n            |             Back pointer to previous chunk in list            |\n            +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n            |             Unused space (may be 0 bytes long)                .\n            .                                                               .\n            .                                                               |\nnextchunk-> +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n    `foot:' |             Size of chunk, in bytes                           |\n            +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n*/\n\n// function init_malloc():void{\n//     numFreeChunks = 0;\n//     firstFree = 0;\n//     lastFree = 0;\n//     originalHeapPointer = 40 as *uint8;//this will override by compiler\n//     currentHeapPointer  = 40 as *uint8;//this will override by compiler\n// }\n\nexport function malloc(size: int32): *uint8 {\n\n    //All loc variable should declare here before assigning named value\n    var alignment:int32 = 8;\n\n    size = (size + (alignment - 1)) & ~(alignment - 1) as int32;\n    var chunkSize = size + 8;\n\n    var freeChunk = getFreeChunk(chunkSize);\n     if(freeChunk as int32 > 0){\n        return freeChunk;\n    }\n\n    var offset:int32 = currentHeapPointer as int32;\n    offset = offset + 7;\n    offset = offset & ~7;\n    // offset = ((currentHeapPointer as int32 + 7) & ~(7) as int32) as *uint8;\n\n    var top = offset + chunkSize;\n\n    var ptr = (offset + 4) as *uint8; //skip prev size\n    setHeadSize(ptr, chunkSize);\n    setInuse((ptr + 4) as *uint8);\n    setFoot(ptr, chunkSize);\n\n    currentHeapPointer = (top + 4) as *uint8;\n\n    offset = offset + 8;\n\n    // Make sure the memory starts off at zero\n    ptr = offset as *uint8;\n    while ((ptr as int32) < (top as int32)) {\n      *(ptr as *int32) = 0;\n      ptr = ptr + 4;\n    }\n\n    return offset as *uint8;\n}\nexport function free(ptr:*uint8):void{\n\n    var chunkptr:*uint8 = null;\n    var tmp1:int32 = 0;\n\n    clearInuse(ptr);\n    if(firstFree == 0){\n        firstFree = ptr as int32;\n    }\n\n    tmp1 = freeMemory as int32;\n    tmp1 = tmp1 + getChunkSize(ptr) as int32;\n    freeMemory = tmp1 as int32;\n\n    chunkptr = ptr + 4;\n    if(lastFree > 0){\n        *(chunkptr as *int32) = lastFree;//backward pointer to prev chunk\n        *(lastFree as *int32) = ptr as int32;//forward pointer to next chunk of prev chunk\n    }else{\n        *(chunkptr as *int32) = 0;//no backward pointer, this is the first free chunk\n    }\n\n    *(ptr as *int32) = 0;//no forward pointer\n\n    lastFree = ptr as int32;\n    numFreeChunks = numFreeChunks + 1;\n}\n/*export*/function getFreeChunk(size: int32):*uint8{\n\n    var freeChunk:*uint8 = null;\n    var tmp1:int32 = 0;\n    var tmp2:int32 = 0;\n    var tmp3:int32 = 0;\n    var tmp4:int32 = 0;\n\n    tmp1 = firstFree;\n    tmp2 = lastFree;\n    tmp3 = freeMemory;\n\n    if(numFreeChunks > 0){\n        freeChunk = findChunk(size);\n        if(freeChunk as int32 > 0){\n            if(freeChunk as int32 == tmp1){\n                firstFree = nextFree(freeChunk) as int32;\n            }\n            if(freeChunk as int32 == tmp2){\n                lastFree = 0;\n            }\n            numFreeChunks = numFreeChunks - 1;\n            setInuse(freeChunk);\n            tmp4 = getChunkSize(freeChunk);\n            tmp3 = tmp3 - tmp4;\n            freeMemory = tmp3;\n        }\n    }\n    return freeChunk;\n}\n/*export*/function findChunk(size: int32):*uint8{\n    var chunk:*uint8 = null;\n    var tmp1:int32 = 0;\n\n    chunk = firstFree as *uint8;\n    while(chunk != null){\n        tmp1= getChunkSize(chunk);\n        if(tmp1 == size){\n            return chunk;\n        }\n        chunk = *(chunk as *int32) as *uint8;\n    }\n    return null;\n}\n/*export*/ function getHeapPtr(): int32 {\n    return currentHeapPointer as int32;\n}\n/*export*/ function getFreeMemory(): int32 {\n    return freeMemory;\n}\n/*export*/ function getOriginalHeapPtr(): int32 {\n    return originalHeapPointer as int32;\n}\nfunction getNumFreeChunks():int32{\n    return numFreeChunks as int32;\n}\n/*export*/function getFirstFree():int32{\n    return firstFree;\n}\n/*export*/function getLastFree():int32{\n    return lastFree;\n}\n/*export*/function prevFree(ptr:*uint8):int32{\n    return  *(ptr as *int32 + 4) as int32;\n}\n/*export*/function nextFree(ptr:*uint8):int32{\n    return *(ptr as *int32) as int32;\n}\n/* Set size at head, without disturbing its use bit */\nfunction setHeadSize(ptr:*uint8, s:int32):void  {\n    *(ptr as *int32) = (*(ptr as *int32) & SIZE_BITS) | s;\n}\n\n/* Set size/use field */\nfunction setHead(ptr:*uint8, s:int32):void {\n   *(ptr as *int32) = s;\n}\n\n/* Set size at footer (only when chunk is not in use) */\nfunction setFoot(ptr:*uint8, s:int32):void {\n    var chunkptr:int32 = 0;\n    var size:int32 = 0;\n    size = *(ptr as *int32);\n    chunkptr = (ptr as int32) + size;\n    *(chunkptr as *int32) = s;\n}\n\n/*export*/function getPrevInuse(ptr:*uint8):int32 {\n    var chunkptr:int32 = 0;\n    chunkptr = (ptr as int32) - 8;\n    return *(chunkptr as *int32) & (PREV_INUSE);\n}\n/*export*/function setInuse(ptr:*uint8):void{\n    var chunkptr:int32 = 0;\n    chunkptr = (ptr as int32) - 4;\n    *(chunkptr as *int32) =  *(chunkptr as *int32) | PREV_INUSE;\n}\n/*export*/function getInuse(ptr:*uint8):int32{\n    var chunkptr:int32 = 0;\n    chunkptr = (ptr as int32) - 4;\n    return *(chunkptr as *int32) & (PREV_INUSE);\n}\n/*export*/function clearInuse(ptr:*uint8):void{\n    var chunkptr:int32 = 0;\n    chunkptr = (ptr as int32) - 4;\n    *(chunkptr as *int32) = *(chunkptr as *int32) & ~(PREV_INUSE);\n}\n/*export*/function getChunkSize(ptr:*uint8):int32{\n    var chunkptr:int32 = 0;\n    chunkptr = (ptr as int32) - 4;\n    return *(chunkptr as *int32) & ~(PREV_INUSE) as int32;\n}\n/* malloc */\n// var SIZE_SZ:int32 = 4;\n// var MALLOC_ALIGNMENT:int32 = 8;//2 * SIZE_SZ;\n// var MALLOC_ALIGN_MASK:int32 = MALLOC_ALIGNMENT - 1;\n//\n// var PREV_INUSE:int32 = 0x1;\n// var IS_MMAPPED:int32 = 0x2;\n// var NON_MAIN_ARENA:int32 = 0x4;\n// var SIZE_BITS:int32 = PREV_INUSE|IS_MMAPPED|NON_MAIN_ARENA;\n//\n// class chunk{\n//     prevSize:int32;\n//     size:int32;\n//     forward:int32;\n//     backward:int32;\n//     forwardLarge:int32;\n//     backwardLarge:int32;\n// }\n// function prev_inuse(p:*chunk):int32 {\n//     return (p as chunk).size & PREV_INUSE;\n// }\n// function chunksize(p:*chunk):int32 {\n//     return (p as chunk).size & ~(SIZE_BITS);\n// }\n// /* Ptr to next physical malloc_chunk. */\n// function next_chunk(p:*chunk):*chunk {\n//     ((*p as int32) + (p as chunk).size & ~(SIZE_BITS)) as *chunk;\n// }\n//\n// /* Ptr to previous physical malloc_chunk */\n// function prev_chunk(p:*chunk):*chunk {\n//     ((*p as int32) - (p as chunk).prevSize) as *chunk;\n// }\n//\n// /* Treat space at ptr + offset as a chunk */\n// function chunk_at_offset(p:*chunk, s:int32):*chunk{\n//     return ((*p as int32) + s) as *chunk;\n// }\n//\n// /* extract p's inuse bit */\n// function inuse(p:*chunk):int32{\n//  return ((*p as int32) + (((p as chunk).size & ~SIZE_BITS) as chunk).size) & PREV_INUSE;\n// }\n//\n// /* set/clear chunk as being inuse without otherwise disturbing */\n// function set_inuse(p:*chunk):int32{\n//  return ((*p as int32) + (((p as chunk).size & ~SIZE_BITS) as chunk).size) = ((*p as int32) + (((p as chunk).size & ~SIZE_BITS) as chunk).size) | PREV_INUSE;\n// }\n//\n// function clear_inuse(p:*chunk):int32{\n//  return ((*p as int32) + (((p as chunk).size & ~SIZE_BITS) as chunk).size) = ((*p as int32) + (((p as chunk).size & ~SIZE_BITS) as chunk).size) & ~(PREV_INUSE);\n// }\n\nfunction memcpy(target: *uint8, source: *uint8, length: int32): void {\n    // No-op if either of the inputs are null\n    if (source == null || target == null) {\n      return;\n    }\n\n    // Optimized aligned copy\n    if (length >= 16 && (source as int32) % 4 == (target as int32) % 4) {\n      // Pick off the beginning\n      while ((target as int32) % 4 != 0) {\n        *target = *source;\n        target = target + 1;\n        source = source + 1;\n        length = length - 1;\n      }\n\n      // Pick off the end\n      while (length % 4 != 0) {\n        length = length - 1;\n        *(target + length) = *(source + length);\n      }\n\n      // Zip over the middle\n      var end = target + length;\n      while (target < end) {\n        *(target as *int32) = *(source as *int32);\n        target = target + 4;\n        source = source + 4;\n      }\n    }\n\n    // Slow unaligned copy\n    else {\n      var end = target + length;\n      while (target < end) {\n        *target = *source;\n        target = target + 1;\n        source = source + 1;\n      }\n    }\n}\n\nfunction memcmp(a: *uint8, b: *uint8, length: int32): int32 {\n    // No-op if either of the inputs are null\n    if (a == null || b == null) {\n      return 0;\n    }\n\n    // Return the first non-zero difference\n    while (length > 0) {\n      var delta = *a as int32 - *b as int32;\n      if (delta != 0) {\n        return delta;\n      }\n      a = a + 1;\n      b = b + 1;\n      length = length - 1;\n    }\n\n    // Both inputs are identical\n    return 0;\n}"

/***/ }),
/* 25 */
/***/ (function(module, exports) {

module.exports = "const PI:float64 = 3.141592653589793;\n\nconst MAX_UNSIGNED_INTEGER_32:uint32 = 4294967295;\n\nconst MIN_INTEGER_32:int32 = -2147483648;\nconst MAX_INTEGER_32:int32 = 2147483647;\n\nconst MAX_UNSIGNED_INTEGER_64:int32 = 18446744073709551615;\n\n// −(2^63) to 2^63 − 1\n// const MIN_INTEGER_64:int32 = -powi64(2, 63);\n// const MAX_INTEGER_64:int32 = powi64(2, 63) - 1;\n\n// float remainder\n\n // export function modf64(x:float64, y:float64):float64{\n //\n //         let ir:int32,iy:int32;\n //         let r:float64,w:float64;\n //\n //         if (y == 0 || isNaN(y) || !isFinite(x)) {\n //             return (x * y) / (x * y);\n //         }\n //\n //         r = abs(x);\n //         y = abs(y);\n //         (void)frexp(y,&iy);\n //         while (r >= y) {\n //             (void)frexp(r,&ir);\n //             w = ldexp(y,ir-iy);\n //             r -= w <= r ? w : w*(double)0.5;\n //         }\n //         return x >= (double)0 ? r : -r;\n //     }\n // }"

/***/ }),
/* 26 */
/***/ (function(module, exports) {

module.exports = "// Native types\nconst NaN:      float64 = 0.0 / 0.0;\nconst Infinity: float64 = 1.0 / 0.0;\n\nfunction isNaN(value: float32): boolean {\n    return value != value;\n}\n\nfunction isFinite(value: float32): boolean {\n    return !isNaN(value) && value != Infinity && value != -Infinity;\n}\n\ndeclare class boolean {\n    toString(): string;\n}\n\ndeclare class int8 {\n    toString(): string;\n}\n\ndeclare class uint8 {\n    toString(): string;\n}\n\ndeclare class int16 {\n    toString(): string;\n}\n\ndeclare class uint16 {\n    toString(): string;\n}\n\ndeclare class int32 {\n    toString(): string;\n}\n\ndeclare class uint32 {\n    toString(): string;\n}\n\ndeclare class int64 {\n    toString(): string;\n}\n\ndeclare class uint64 {\n    toString(): string;\n}\n\ndeclare class float32 {\n    toString(): string;\n}\n\ndeclare class float64 {\n    toString(): string;\n}\n\ndeclare class string {\n    charAt(index: int32): string;\n\n    charCodeAt(index: int32): uint16;\n\n    get length(): int32;\n\n    indexOf(text: string): int32;\n\n    lastIndexOf(text: string): int32;\n\n    operator == (other: string):boolean;\n    operator [] (index: int32): uint16 { return this.charCodeAt(index); }\n    slice(start: int32, end: int32): string;\n\n    // startsWith(text: string): boolean { return this.slice(0, text.length) == text; }\n    // endsWith(text: string): boolean { return this.slice(-text.length, this.length) == text; }\n}\n"

/***/ }),
/* 27 */
/***/ (function(module, exports) {

module.exports = "//part of asm module, we have global, foreign, buffer somewhere above this code\n\nvar HEAP8 = new global.Int8Array(buffer);\nvar HEAP16 = new global.Int16Array(buffer);\nvar HEAP32 = new global.Int32Array(buffer);\nvar HEAPU8 = new global.Uint8Array(buffer);\nvar HEAPU16 = new global.Uint16Array(buffer);\nvar HEAPU32 = new global.Uint32Array(buffer);\nvar HEAPF32 = new global.Float32Array(buffer);\nvar HEAPF64 = new global.Float64Array(buffer);\n\nvar NULL = 0;\nvar STACKTOP=env.STACKTOP|0;\nvar STACK_MAX=env.STACK_MAX|0;\n\n// var PREV_INUSE = 0x1;\n// var PREV_INUSE = 0x1;\n// var IS_MMAPPED = 0x2;\n// var NON_MAIN_ARENA = 0x4;\n// var SIZE_BITS = 0x7;//(PREV_INUSE|IS_MMAPPED|NON_MAIN_ARENA) | 0;\n// var firstFreeChunk = 0;\n// var lastFreeChunk = 0;\n// var numFreeChunks = 0;\n// var freeMemory = 0;\n//var internal_alloc = 0;\n\n// var _now = (typeof global.performance != 'undefined' && typeof global.performance.now == 'function' ?\n//     global.performance.now.bind(global.performance) :\n//     global.Date.now.bind(global.Date));\n// var _now = global.performance;\n// Map of class type IDs to type objects.\n// var _idToType = 8;\n\n// function init() {\n//     HEAP32[2 >> 2] = buffer.byteLength | 0;\n\n    // if (global.isShared) {\n    //     internal_alloc = alloc_sab;\n    //     global.Atomics.store(HEAP32, 1 | 0, 16 | 0);\n    // }\n    // else {\n    //     internal_alloc = alloc_ab;\n    //     HEAP32[1>>2] = 16 | 0;\n    // }\n// }\n\n\n// function malloc(nbytes, alignment) {\n//     nbytes |= 0;\n//     alignment |= 0;\n//     var ptr = alloc_sab(nbytes, alignment);\n//     if (ptr == 0)\n//         throw new Error(\"Out of memory\");\n//     return ptr|0;\n// }\n// function free(ptr) {\n//     ptr |= 0;\n//     clearInuse(ptr);\n//     if (firstFreeChunk == 0) {\n//         firstFreeChunk = ptr;\n//     }\n//\n//     freeMemory = freeMemory + getChunkSize(ptr);\n//\n//     var chunkptr = ptr + 4;\n//     if (lastFreeChunk > 0) {\n//         HEAPU32[chunkptr>>2] = lastFreeChunk;//backward pointer to prev chunk\n//         HEAPU32[lastFreeChunk>>2] = ptr;//forward pointer to next chunk of prev chunk\n//     } else {\n//         HEAPU32[chunkptr>>2] = 0;//no backward pointer, this is the first free chunk\n//     }\n//\n//     HEAPU32[ptr>>2] = 0;//no forward pointer\n//\n//     lastFreeChunk = ptr;\n//     numFreeChunks = numFreeChunks + 1;\n// }\n// function identify(ptr) {\n//     if (ptr == 0)\n//         return 0;\n//     return _idToType[HEAP32[ptr >> 2]];\n// }\n// function _badType(self) {\n//     var t = identify(self);\n//     return new global.Error(\"Observed type: \" + (t ? t.NAME : \"*invalid*\") + \", address=\" + self);\n// }\n// Synchronic layout is 8 bytes (2 x int32) of metadata followed by\n// the type-specific payload.  The two int32 words are the number\n// of waiters and the wait word (generation count).\n//\n// In the following:\n//\n// self is the base address for the Synchronic.\n// mem is the array to use for the value\n// idx is the index in mem of the value: (ptr+8)>>log2(mem.BYTES_PER_ELEMENT)\n//\n// _synchronicLoad is just Atomics.load, expand it in-line.\n/*function _synchronicStore(self, mem, idx, value) {\n    global.Atomics.store(mem, idx, value);\n    _notify(self);\n    return value;\n}\nfunction _synchronicCompareExchange(self, mem, idx, oldval, newval) {\n    var v = global.Atomics.compareExchange(mem, idx, oldval, newval);\n    if (v == oldval)\n        _notify(self);\n    return v;\n}\nfunction _synchronicAdd(self, mem, idx, value) {\n    var v = global.Atomics.add(mem, idx, value);\n    _notify(self);\n    return v;\n}\nfunction _synchronicSub(self, mem, idx, value) {\n    var v = global.Atomics.sub(mem, idx, value);\n    _notify(self);\n    return v;\n}\nfunction _synchronicAnd(self, mem, idx, value) {\n    var v = global.Atomics.and(mem, idx, value);\n    _notify(self);\n    return v;\n}\nfunction _synchronicOr(self, mem, idx, value) {\n    var v = global.Atomics.or(mem, idx, value);\n    _notify(self);\n    return v;\n}\nfunction _synchronicXor(self, mem, idx, value) {\n    var v = global.Atomics.xor(mem, idx, value);\n    _notify(self);\n    return v;\n}\nfunction _synchronicLoadWhenNotEqual(self, mem, idx, value) {\n    for (; ;) {\n        var tag = global.Atomics.load(HEAP32, (self + 4) >> 2);\n        var v = global.Atomics.load(mem, idx);\n        if (v !== value)\n            break;\n        _waitForUpdate(self, tag, Number.POSITIVE_INFINITY);\n    }\n    return v;\n}\n\nfunction _synchronicLoadWhenEqual(self, mem, idx, value) {\n    for (; ;) {\n        var tag = global.Atomics.load(HEAP32, (self + 4) >> 2);\n        var v = global.Atomics.load(mem, idx);\n        if (v === value)\n            break;\n        _waitForUpdate(self, tag, Number.POSITIVE_INFINITY);\n    }\n    return v;\n}\nfunction _synchronicExpectUpdate(self, mem, idx, value, timeout) {\n    var now = global.performance();\n    var limit = now + timeout;\n    for (; ;) {\n        var tag = global.Atomics.load(HEAP32, (self + 4) >> 2);\n        var v = global.Atomics.load(mem, idx);\n        if (v !== value || now >= limit)\n            break;\n        _waitForUpdate(self, tag, limit - now);\n        now = global.performance();\n    }\n}\nfunction _waitForUpdate(self, tag, timeout) {\n    // Spin for a int16 time before going into the futexWait.\n    //\n    // Hard to know what a good count should be - it is machine\n    // dependent, for sure, and \"typical\" applications should\n    // influence the choice.  If the count is high without\n    // hindering an eventual drop into futexWait then it will just\n    // decrease performance.  If the count is low it is pointless.\n    // (This is why Synchronic really wants a native implementation.)\n    //\n    // data points from a 2.6GHz i7 MacBook Pro:\n    //\n    // - the simple send-integer benchmark (test-sendint.html),\n    //   which is the very simplest case we can really imagine,\n    //   gets noisy timings with an iteration count below 4000\n    //\n    // - the simple send-object benchmark (test-sendmsg.html)\n    //   gets a boost when the count is at least 10000\n    //\n    // 10000 is perhaps 5us (CPI=1, naive) and seems like a\n    // reasonable cutoff, for now - but note, it is reasonable FOR\n    // THIS SYSTEM ONLY, which is a big flaw.\n    //\n    // The better fix might well be to add some kind of spin/nanosleep\n    // functionality to futexWait, see https://bugzil.la/1134973.\n    // That functionality can be platform-dependent and even\n    // adaptive, with JIT support.\n    var i = 10000;\n    do {\n        // May want this to be a relaxed load, though on x86 it won't matter.\n        if (global.Atomics.load(HEAP32, (self + 4) >> 2) != tag)\n            return;\n    } while (--i > 0);\n    global.Atomics.add(HEAP32, self >> 2, 1);\n    global.Atomics.wait(HEAP32, (self + 4) >> 2, tag, timeout);\n    global.Atomics.sub(HEAP32, self >> 2, 1);\n}\nfunction _notify(self) {\n    global.Atomics.add(HEAP32, (self + 4) >> 2, 1);\n    // Would it be appropriate & better to wake n waiters, where n\n    // is the number loaded in the load()?  I almost think so,\n    // since our futexes are fair.\n    if (global.Atomics.load(HEAP32, self >> 2) > 0)\n        global.Atomics.wake(HEAP32, (self + 4) >> 2, Number.POSITIVE_INFINITY);\n}*/\n\n// function getFreeChunk(nbytes) {\n//     nbytes = nbytes | 0;\n//     if (numFreeChunks > (0 | 0)) {\n//         var freeChunk = findChunk(nbytes);\n//         if (freeChunk > (0 | 0)) {\n//             if (freeChunk == firstFreeChunk) {\n//                 firstFreeChunk = nextFree(freeChunk);\n//             }\n//             if (freeChunk == lastFreeChunk) {\n//                 lastFreeChunk = (0 | 0);\n//             }\n//             numFreeChunks = numFreeChunks - (1 | 0);\n//             setInuse(freeChunk);\n//             freeMemory = freeMemory - getChunkSize(freeChunk);\n//             return freeChunk;\n//         }\n//     }\n//     return 0 | 0;\n// }\n// function findChunk(nbytes) {\n//     nbytes = nbytes | 0;\n//     var chunk = firstFreeChunk;\n//     while (chunk != 0) {\n//         if (getChunkSize(chunk) == nbytes) {\n//             return chunk;\n//         }\n//         chunk = HEAPU32[chunk>>2];\n//     }\n//     return 0;\n// }\n// function prevFree(ptr) {\n//     return HEAPU32[(ptr + 4)>>2];\n// }\n// function nextFree(ptr) {\n//     return HEAPU32[ptr>>2];\n// }\n// /* Set size at head, without disturbing its use bit */\n// function setHeadSize(ptr, s) {\n//     HEAPU32[ptr>>2] = (HEAPU32[ptr>>2] & SIZE_BITS) | s;\n// }\n//\n// /* Set size/use field */\n// function setHead(ptr, s) {\n//     HEAPU32[ptr>>2] = s;\n// }\n//\n// /* Set size at footer (only when chunk is not in use) */\n// function setFoot(ptr, s) {\n//     HEAPU32[(ptr + s)>>2] = s;\n// }\n//\n// function getPrevInuse(ptr) {\n//     return HEAPU32[(ptr - 8)>>2] & (PREV_INUSE);\n// }\n// function setInuse(ptr) {\n//     HEAPU32[(ptr - 4)>>2] |= PREV_INUSE;\n// }\n// function getInuse(ptr) {\n//     return HEAPU32[(ptr - 4)>>2] & PREV_INUSE;\n// }\n// function clearInuse(ptr) {\n//     HEAPU32[(ptr - 4)>>2] &= ~PREV_INUSE;\n// }\n// function getChunkSize(ptr) {\n//     return HEAPU32[(ptr - 4)>>2] & ~(PREV_INUSE);\n// }\n//\n// function alloc_sab(nbytes, alignment) {\n//     nbytes = nbytes | 0;\n//     alignment = alignment | 0;\n//     if (numFreeChunks > 0) {\n//         var chunk = getFreeChunk(nbytes);\n//         if (chunk > (0 | 0)) {\n//             return chunk;\n//         }\n//     }\n//\n//     do {\n//         var ptr = global.Atomics.load(HEAP32, 1);\n//         var q = (ptr + (alignment - 1)) & ~(alignment - 1);\n//         var top = q + nbytes;\n//         if (top >= HEAP32[2>>2])\n//             return 0;\n//     } while (global.Atomics.compareExchange(HEAP32, 1, ptr, top) != ptr);\n//\n//     return q;\n// }\n// function alloc_ab(nbytes, alignment) {\n//     nbytes = nbytes | 0;\n//     alignment = alignment | 0;\n//\n//     var ptr = HEAP32[1>>2] | 0;\n//     ptr = ((ptr + (alignment - 1)) & ~(alignment - 1)) | 0;\n//     var top = (ptr + nbytes) | 0;\n//     if (top >= HEAP32[2>>2])\n//         return 0 | 0;\n//     HEAP32[1>>2] = top | 0;\n//     return ptr | 0;\n// }"

/***/ }),
/* 28 */
/***/ (function(module, exports) {

module.exports = "declare class boolean {\n    toString(): string;\n}\n\ndeclare class int8 {\n    toString(): string;\n}\n\ndeclare class uint8 {\n    toString(): string;\n}\n\ndeclare class int16 {\n    toString(): string;\n}\n\ndeclare class uint16 {\n    toString(): string;\n}\n\ndeclare class int32 {\n    toString(): string;\n}\n\ndeclare class uint32 {\n    toString(): string;\n}\n\ndeclare class int64 {\n    toString(): string;\n}\n\ndeclare class uint64 {\n    toString(): string;\n}\n\ndeclare class float32 {\n    toString(): string;\n}\n\ndeclare class float64 {\n    toString(): string;\n}\n\ndeclare class string {\n    charAt(index: int32): string;\n    charCodeAt(index: int32): uint16;\n    get length(): int32;\n    indexOf(text: string): int32;\n    lastIndexOf(text: string): int32;\n    operator == (other: string): boolean;\n    operator [] (index: int32): uint16 { return this.charCodeAt(index); }\n    slice(start: int32, end: int32): string;\n\n    startsWith(text: string): boolean { return this.slice(0, text.length) == text; }\n    endsWith(text: string): boolean { return this.slice(-text.length, this.length) == text; }\n}"

/***/ }),
/* 29 */
/***/ (function(module, exports) {

module.exports = "function TurboWrapper(exports, buffer) {\n\n    var HEAP8 = new Int8Array(buffer);\n    var HEAP16 = new Int16Array(buffer);\n    var HEAP32 = new Int32Array(buffer);\n    var HEAPU8 = new Uint8Array(buffer);\n    var HEAPU16 = new Uint16Array(buffer);\n    var HEAPU32 = new Uint32Array(buffer);\n    var HEAPF32 = new Float32Array(buffer);\n    var HEAPF64 = new Float64Array(buffer);\n\n    return {\n        exports: exports,\n        RAW_MEMORY: buffer,\n\n        getMemoryUsage: function () {\n            const top = Atomics.load(HEAP32, 2);\n            // top -= freeMemory;\n            return Math.fround(top / (1024 * 1024));\n        }\n    }\n}\nfunction initTurbo(MB) {\n    var buffer = new SharedArrayBuffer(MB * 1024 * 1024);\n\n    if (buffer.byteLength < 16) {\n        throw new Error(\"The memory is too small even for metadata\");\n    }\n\n    return TurboWrapper(TurboModule(\n        typeof global !== 'undefined' ? global : window,\n        typeof env !== 'undefined' ? env : {\n            STACKTOP: 8,\n            STACK_MAX: 8\n        },\n        buffer\n    ), buffer);\n}"

/***/ }),
/* 30 */
/***/ (function(module, exports) {

module.exports = "// WebAssembly builtin functions\ndeclare function rotl(value: int64, shift: int64): int64;\ndeclare function rotl32(value: int32, shift: int32): int32;\ndeclare function rotr(value: int64, shift: int64): int64;\ndeclare function rotr32(value: int32, shift: int32): int32;\ndeclare function clz(value: int64): int64;\ndeclare function clz32(value: int32): int32;\ndeclare function ctz(value: int64): int64;\ndeclare function ctz32(value: int32): int32;\ndeclare function popcnt(value: int64): int64;\ndeclare function popcnt32(value: int32): int32;\ndeclare function abs(value: float64): float64;\ndeclare function abs32(value: float32): float32;\ndeclare function ceil(value: float64): float64;\ndeclare function ceil32(value: float32): float32;\ndeclare function floor(value: float64): float64;\ndeclare function floor32(value: float32): float32;\ndeclare function sqrt(value: float64): float64;\ndeclare function sqrt32(value: float32): float32;\ndeclare function trunc(value: float64): float64;\ndeclare function trunc32(value: float32): float32;\ndeclare function nearest(value: float64): float64;\ndeclare function nearest32(value: float32): float32;\ndeclare function min(left: float64, right: float64): float64;\ndeclare function min32(left: float32, right: float32): float32;\ndeclare function max(left: float64, right: float64): float64;\ndeclare function max32(left: float32, right: float32): float32;\ndeclare function copysign(left: float64, right: float64): float64;\ndeclare function copysign32(left: float32, right: float32): float32;\ndeclare function reinterpret_i32(value: float32): int32;\ndeclare function reinterpret_i64(value: float64): int64;\ndeclare function reinterpret_f32(value: int32): float32;\ndeclare function reinterpret_f64(value: int64): float64;\ndeclare function current_memory(): int32;\ndeclare function grow_memory(value: int32): int32;\n"

/***/ }),
/* 31 */
/***/ (function(module, exports) {

module.exports = "/**\n * Created by n.vinayakan on 30.05.17.\n * WebAssembly start function where global variable expressions initializer\n */\n@start\nfunction __WASM_INITIALIZER(): void {\n    // 🔥 WARNING 🔥\n    // DON'T RETURN ANYTHING FROM THIS FUNCTION\n    // Global variable initialization expressions will be appended to this function\n    numFreeChunks = 0;\n    firstFree = 0;\n    lastFree = 0;\n    //     originalHeapPointer = 40 as *uint8;//this will override by compiler\n    //     currentHeapPointer  = 40 as *uint8;//this will override by compiler\n}\n"

/***/ }),
/* 32 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Created by n.vinayakan on 02.06.17.
 */
var Bitness;
(function (Bitness) {
    Bitness[Bitness["x32"] = 0] = "x32";
    Bitness[Bitness["x64"] = 1] = "x64";
})(Bitness = exports.Bitness || (exports.Bitness = {}));


/***/ }),
/* 33 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const wasm_stack_tracer_1 = __webpack_require__(43);
const utils_1 = __webpack_require__(6);
const opcode_1 = __webpack_require__(8);
const section_buffer_1 = __webpack_require__(34);
const logger_1 = __webpack_require__(12);
const wasm_section_1 = __webpack_require__(15);
const wasm_runtime_local_1 = __webpack_require__(16);
const wasm_type_1 = __webpack_require__(11);
const terminal_1 = __webpack_require__(0);
/**
 * Created by n.vinayakan on 02.06.17.
 */
class WasmAssembler {
    constructor() {
        this.sectionList = [];
        this.importList = [];
        this.functionList = [];
        this.currentSection = null;
        this.currentFunction = null;
        this.stackTracer = new wasm_stack_tracer_1.WasmStackTracer();
    }
    sealFunctions() {
        let runtimeFunctions = [];
        this.importList.forEach(_import => {
            let fn = new wasm_stack_tracer_1.WasmRuntimeFunction();
            fn.module = _import.module;
            fn.name = _import.name;
            fn.signature = _import.signature;
            fn.isImport = true;
            runtimeFunctions.push(fn);
        });
        this.functionList.forEach((_wasmFunc) => {
            let fn = new wasm_stack_tracer_1.WasmRuntimeFunction();
            fn.name = _wasmFunc.symbol.name;
            fn.signature = _wasmFunc.signature;
            fn.isImport = false;
            fn.locals = [];
            _wasmFunc.localEntries.forEach((local) => {
                fn.locals.push(new wasm_runtime_local_1.WasmRuntimeLocal(local.type));
            });
            runtimeFunctions.push(fn);
        });
        this.stackTracer.functions = runtimeFunctions;
    }
    startSection(array, id, name) {
        let section = new section_buffer_1.SectionBuffer(id, name);
        section.offset = array.length;
        logger_1.log(array, 0, null, ` - section: ${wasm_section_1.WasmSection[id]} [0x${utils_1.toHex(id, 2)}]`);
        this.sectionList.push(section);
        return section;
    }
    endSection(array, section) {
        section.publish(array);
    }
    dropStack(array, max = 1) {
        if (this.stackTracer.context.stack.length > 0) {
            terminal_1.Terminal.warn(`Dropping stack items, '${this.stackTracer.context.fn.name}' func stack contains ${this.stackTracer.context.stack.length} items`);
            let item = this.stackTracer.context.stack.pop(true);
            while (item !== undefined && max > 0) {
                terminal_1.Terminal.warn(wasm_type_1.WasmType[item.type]);
                array.append(opcode_1.WasmOpcode.DROP);
                item = this.stackTracer.context.stack.pop(true);
                max--;
            }
        }
    }
    appendOpcode(array, offset = 0, opcode, inline_value) {
        if (global["debug"]) {
            logOpcode(array, offset, opcode, inline_value);
        }
        array.append(opcode);
        this.stackTracer.pushOpcode(opcode);
    }
    writeUnsignedLEB128(array, value) {
        array.writeUnsignedLEB128(value);
        this.stackTracer.pushValue(value);
    }
    writeLEB128(array, value) {
        array.writeLEB128(value);
        this.stackTracer.pushValue(value);
    }
    writeFloat(array, value) {
        array.writeFloat(value);
        this.stackTracer.pushValue(value);
    }
    writeDouble(array, value) {
        array.writeDouble(value);
        this.stackTracer.pushValue(value);
    }
    writeWasmString(array, value) {
        array.writeWasmString(value);
    }
}
exports.WasmAssembler = WasmAssembler;
function append(array, offset = 0, value = null, msg = null) {
    if (global["debug"]) {
        array.log += (value != null ? `${utils_1.toHex(offset + array.position)}: ${utils_1.toHex(value, 2)}                    ; ` : "") + (msg != null ? `${msg}\n` : "\n");
    }
    if (value) {
        array.append(value);
    }
}
exports.append = append;
function logOpcode(array, offset = 0, opcode, inline_value) {
    if (global["debug"]) {
        array.log += `${utils_1.toHex(offset + array.position)}: ${utils_1.toHex(opcode, 2)}                    ; ${opcode_1.WasmOpcode[opcode]} ${inline_value ? inline_value : ""}\n`;
    }
}
exports.logOpcode = logOpcode;


/***/ }),
/* 34 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const logger_1 = __webpack_require__(12);
const bytearray_1 = __webpack_require__(13);
/**
 * Created by n.vinayakan on 02.06.17.
 */
class SectionBuffer {
    constructor(id, name) {
        this.id = id;
        this.name = name;
        this.data = new bytearray_1.ByteArray();
    }
    publish(array) {
        logger_1.log(array, 0, this.id, "section code");
        array.writeUnsignedLEB128(this.id); //section code
        if (this.id == 0) {
            let strData = new bytearray_1.ByteArray();
            strData.writeWasmString(this.name);
            logger_1.log(array, 0, this.data.length, "section size");
            array.writeUnsignedLEB128(this.data.length + strData.length); //size of this section in bytes
            array.copy(strData);
        }
        else {
            logger_1.log(array, 0, this.data.length, "section size");
            array.writeUnsignedLEB128(this.data.length); //size of this section in bytes
        }
        array.log += this.data.log;
        array.copy(this.data);
    }
}
exports.SectionBuffer = SectionBuffer;


/***/ }),
/* 35 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const opcode_1 = __webpack_require__(8);
/**
 * Created by n.vinayakan on 28.05.17.
 */
exports.builtins = [
    "rotl",
    "rotl32",
    "rotr",
    "rotr32",
    "clz",
    "clz32",
    "ctz",
    "ctz32",
    "popcnt",
    "popcnt32",
    "abs",
    "abs32",
    "ceil",
    "ceil32",
    "floor",
    "floor32",
    "sqrt",
    "sqrt32",
    "trunc",
    "trunc32",
    "nearest",
    "nearest32",
    "min",
    "min32",
    "max",
    "max32",
    "copysign",
    "copysign32",
    "reinterpret_i32",
    "reinterpret_i64",
    "reinterpret_f32",
    "reinterpret_f64",
    "current_memory",
    "grow_memory"
];
function getBuiltinOpcode(name) {
    switch (name) {
        case "rotl": return opcode_1.WasmOpcode.I64_ROTL;
        case "rotl32": return opcode_1.WasmOpcode.I32_ROTL;
        case "rotr": return opcode_1.WasmOpcode.I64_ROTR;
        case "rotr32": return opcode_1.WasmOpcode.I32_ROTR;
        case "clz": return opcode_1.WasmOpcode.I64_CLZ;
        case "clz32": return opcode_1.WasmOpcode.I32_CLZ;
        case "ctz": return opcode_1.WasmOpcode.I64_CTZ;
        case "ctz32": return opcode_1.WasmOpcode.I32_CTZ;
        case "popcnt": return opcode_1.WasmOpcode.I64_POPCNT;
        case "popcnt32": return opcode_1.WasmOpcode.I32_POPCNT;
        case "abs": return opcode_1.WasmOpcode.F64_ABS;
        case "abs32": return opcode_1.WasmOpcode.F32_ABS;
        case "ceil": return opcode_1.WasmOpcode.F64_CEIL;
        case "ceil32": return opcode_1.WasmOpcode.F32_CEIL;
        case "floor": return opcode_1.WasmOpcode.F64_FLOOR;
        case "floor32": return opcode_1.WasmOpcode.F32_FLOOR;
        case "sqrt": return opcode_1.WasmOpcode.F64_SQRT;
        case "sqrt32": return opcode_1.WasmOpcode.F32_SQRT;
        case "trunc": return opcode_1.WasmOpcode.F64_TRUNC;
        case "trunc32": return opcode_1.WasmOpcode.F32_TRUNC;
        case "nearest": return opcode_1.WasmOpcode.F64_NEAREST;
        case "nearest32": return opcode_1.WasmOpcode.F32_NEAREST;
        case "min": return opcode_1.WasmOpcode.F64_MIN;
        case "min32": return opcode_1.WasmOpcode.F32_MIN;
        case "max": return opcode_1.WasmOpcode.F64_MAX;
        case "max32": return opcode_1.WasmOpcode.F32_MAX;
        case "copysign": return opcode_1.WasmOpcode.F64_COPYSIGN;
        case "copysign32": return opcode_1.WasmOpcode.F32_COPYSIGN;
        case "reinterpret_i32": return opcode_1.WasmOpcode.F32_REINTERPRET_I32;
        case "reinterpret_i64": return opcode_1.WasmOpcode.F64_REINTERPRET_I64;
        case "reinterpret_f32": return opcode_1.WasmOpcode.I32_REINTERPRET_F32;
        case "reinterpret_f64": return opcode_1.WasmOpcode.I64_REINTERPRET_F64;
        case "current_memory": return opcode_1.WasmOpcode.MEMORY_SIZE;
        case "grow_memory": return opcode_1.WasmOpcode.GROW_MEMORY;
        default: throw "No builtin function named '" + name + "'";
    }
}
exports.getBuiltinOpcode = getBuiltinOpcode;
function isBuiltin(name) {
    return exports.builtins.indexOf(name) > -1;
}
exports.isBuiltin = isBuiltin;


/***/ }),
/* 36 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Created by n.vinayakan on 02.06.17.
 */
var WasmExternalKind;
(function (WasmExternalKind) {
    WasmExternalKind[WasmExternalKind["Function"] = 0] = "Function";
    WasmExternalKind[WasmExternalKind["Table"] = 1] = "Table";
    WasmExternalKind[WasmExternalKind["Memory"] = 2] = "Memory";
    WasmExternalKind[WasmExternalKind["Global"] = 3] = "Global";
})(WasmExternalKind = exports.WasmExternalKind || (exports.WasmExternalKind = {}));


/***/ }),
/* 37 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Created by n.vinayakan on 02.06.17.
 */
class WasmFunction {
    constructor() {
        this.localCount = 0;
        this.localEntries = [];
    }
}
exports.WasmFunction = WasmFunction;


/***/ }),
/* 38 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Created by n.vinayakan on 02.06.17.
 */
class WasmGlobal {
}
exports.WasmGlobal = WasmGlobal;


/***/ }),
/* 39 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Created by n.vinayakan on 02.06.17.
 */
class WasmImport {
}
exports.WasmImport = WasmImport;


/***/ }),
/* 40 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Created by n.vinayakan on 02.06.17.
 */
class WasmLocalEntry {
    constructor(type, name) {
        this.type = type;
        this.name = name;
    }
}
exports.WasmLocalEntry = WasmLocalEntry;
class WasmLocal {
}
exports.WasmLocal = WasmLocal;


/***/ }),
/* 41 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Created by n.vinayakan on 02.06.17.
 */
class WasmSharedOffset {
    constructor() {
        this.nextLocalOffset = 0;
        this.localCount = 0;
    }
}
exports.WasmSharedOffset = WasmSharedOffset;


/***/ }),
/* 42 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const assert_1 = __webpack_require__(1);
/**
 * Created by n.vinayakan on 02.06.17.
 */
class WasmSignature {
}
exports.WasmSignature = WasmSignature;
function wasmAreSignaturesEqual(a, b) {
    assert_1.assert(a.returnType != null);
    assert_1.assert(b.returnType != null);
    assert_1.assert(a.returnType.next == null);
    assert_1.assert(b.returnType.next == null);
    let x = a.argumentTypes;
    let y = b.argumentTypes;
    while (x != null && y != null) {
        if (x.id != y.id) {
            return false;
        }
        x = x.next;
        y = y.next;
    }
    if (x != null || y != null) {
        return false;
    }
    if (a.returnType.id != b.returnType.id) {
        return false;
    }
    return true;
}
exports.wasmAreSignaturesEqual = wasmAreSignaturesEqual;


/***/ }),
/* 43 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const wasm_type_1 = __webpack_require__(11);
const opcode_1 = __webpack_require__(8);
const wasm_runtime_local_1 = __webpack_require__(16);
const bytearray_1 = __webpack_require__(13);
const terminal_1 = __webpack_require__(0);
/**
 * Created by n.vinayakan on 02.06.17.
 */
class WasmStackItem {
    constructor(type, value) {
        this.type = type;
        this.value = value;
    }
}
exports.WasmStackItem = WasmStackItem;
class WasmStack {
    constructor() {
        this.list = [];
    }
    get length() {
        return this.list.length;
    }
    push(item) {
        this.list.push(item);
    }
    pop(silent = false) {
        if (this.list.length === 0) {
            if (!silent) {
                let error = `Stack is empty`;
                terminal_1.Terminal.warn(error);
                // throw error;
            }
        }
        return this.list.pop();
    }
    clear() {
        this.list = [];
    }
}
exports.WasmStack = WasmStack;
class WasmRuntimeFunction {
    constructor() {
    }
    get returnType() {
        return this.signature.returnType.id;
    }
    execute(...param) {
        throw "Wasm runtime function execution not implemented!";
    }
}
exports.WasmRuntimeFunction = WasmRuntimeFunction;
class WasmStackContext {
    constructor(fn) {
        this.fn = fn;
        this.stack = new WasmStack();
        this.opcodes = [];
    }
}
exports.WasmStackContext = WasmStackContext;
/**
 * Wasm stack tracer, this is not a stack machine. this will not execute functions
 * instead trace state of stack while emitting function body.
 */
class WasmStackTracer {
    constructor() {
        this.context = null;
        this.memory = new bytearray_1.ByteArray();
    }
    setGlobals(globalEntries) {
        this.globals = [];
        globalEntries.forEach(globalType => {
            this.globals.push(new wasm_runtime_local_1.WasmRuntimeLocal(globalType));
        });
    }
    startFunction(index) {
        this.context = new WasmStackContext(this.functions[index]);
    }
    endFunction() {
        if (this.context.stack.length > 0) {
            if (this.context.fn.returnType === wasm_type_1.WasmType.VOID) {
                let error = `Function '${this.context.fn.name}' does not return anything but stack is not empty. Stack contains ${this.context.stack.length} items`;
                terminal_1.Terminal.error(error);
                // throw error;
            }
        }
        this.context = null;
    }
    callFunction(index) {
        let fn = this.functions[index];
        if (fn === undefined) {
            throw "Function not defined at index " + index;
        }
        let returnType = fn.returnType;
        for (let i = 0; i < fn.signature.argumentCount; i++) {
            this.context.stack.pop();
        }
        if (returnType !== wasm_type_1.WasmType.VOID) {
            this.context.stack.push(new WasmStackItem(returnType, undefined));
        }
    }
    pushOpcode(opcode) {
        if (this.context !== null) {
            this.context.opcodes.push(opcode);
            this.context.lastOpcode = opcode;
            this.updateStack(opcode);
        }
    }
    pushValue(value) {
        if (this.context !== null) {
            this.updateStack(this.context.lastOpcode, value);
        }
    }
    updateStack(opcode, value) {
        let type = null;
        if (opcode !== undefined && opcode !== null) {
            type = getOprandType(opcode);
        }
        switch (opcode) {
            case opcode_1.WasmOpcode.CALL:
                if (value !== undefined) {
                    this.callFunction(value);
                }
                break;
            case opcode_1.WasmOpcode.END:
                this.context.stack.clear();
                break;
            case opcode_1.WasmOpcode.RETURN:
                if (this.context.stack.length == 0) {
                    terminal_1.Terminal.warn(`Empty stack on return in function ${this.context.fn.name}`);
                }
                break;
            case opcode_1.WasmOpcode.I32_CONST:
            case opcode_1.WasmOpcode.I64_CONST:
            case opcode_1.WasmOpcode.F32_CONST:
            case opcode_1.WasmOpcode.F64_CONST:
                if (value !== undefined) {
                    this.context.stack.push(new WasmStackItem(type, value));
                }
                break;
            case opcode_1.WasmOpcode.SET_LOCAL:
                if (value !== undefined) {
                    if (this.context.fn.locals.length <= value) {
                        let errorMsg = `Local index ${value} out of range ${this.context.fn.locals.length} in function ${this.context.fn.name}`;
                        terminal_1.Terminal.error(errorMsg);
                        throw errorMsg;
                    }
                    else {
                        let a = this.context.stack.pop();
                        this.context.fn.locals[value].value = a.value;
                    }
                }
                break;
            case opcode_1.WasmOpcode.GET_LOCAL:
                if (value !== undefined) {
                    let a = this.context.fn.locals[value];
                    this.context.stack.push(new WasmStackItem(a.type, a.value));
                }
                break;
            case opcode_1.WasmOpcode.SET_GLOBAL:
                if (value !== undefined) {
                    if (this.globals.length <= value) {
                        let errorMsg = `Global index ${value} out of range ${this.globals.length}`;
                        terminal_1.Terminal.error(errorMsg);
                        throw errorMsg;
                    }
                    else {
                        let a = this.context.stack.pop();
                        this.globals[value].value = a.value;
                    }
                }
                break;
            case opcode_1.WasmOpcode.GET_GLOBAL:
                if (value !== undefined) {
                    let a = this.globals[value];
                    this.context.stack.push(new WasmStackItem(a.type, a.value));
                }
                break;
            // ADD
            case opcode_1.WasmOpcode.I32_ADD:
            case opcode_1.WasmOpcode.I64_ADD:
            case opcode_1.WasmOpcode.F32_ADD:
            case opcode_1.WasmOpcode.F64_ADD: {
                let a = this.context.stack.pop();
                let b = this.context.stack.pop();
                this.context.stack.push(new WasmStackItem(type, a.value + b.value));
                break;
            }
            //SUB
            case opcode_1.WasmOpcode.I32_SUB:
            case opcode_1.WasmOpcode.I64_SUB:
            case opcode_1.WasmOpcode.F32_SUB:
            case opcode_1.WasmOpcode.F64_SUB: {
                let a = this.context.stack.pop();
                let b = this.context.stack.pop();
                this.context.stack.push(new WasmStackItem(type, a.value - b.value));
                break;
            }
            //MUL
            case opcode_1.WasmOpcode.I32_MUL:
            case opcode_1.WasmOpcode.I64_MUL:
            case opcode_1.WasmOpcode.F32_MUL:
            case opcode_1.WasmOpcode.F64_MUL: {
                let a = this.context.stack.pop();
                let b = this.context.stack.pop();
                this.context.stack.push(new WasmStackItem(type, a.value * b.value));
                break;
            }
            //DIV
            case opcode_1.WasmOpcode.I32_DIV_S:
            case opcode_1.WasmOpcode.I32_DIV_U:
            case opcode_1.WasmOpcode.I64_DIV_S:
            case opcode_1.WasmOpcode.I64_DIV_U:
            case opcode_1.WasmOpcode.F32_DIV:
            case opcode_1.WasmOpcode.F64_DIV: {
                let a = this.context.stack.pop();
                let b = this.context.stack.pop();
                this.context.stack.push(new WasmStackItem(type, a.value / b.value));
                break;
            }
            //REM
            case opcode_1.WasmOpcode.I32_REM_S:
            case opcode_1.WasmOpcode.I32_REM_U:
            case opcode_1.WasmOpcode.I64_REM_S:
            case opcode_1.WasmOpcode.I64_REM_U: {
                let a = this.context.stack.pop();
                let b = this.context.stack.pop();
                this.context.stack.push(new WasmStackItem(type, a.value % b.value));
                break;
            }
            //GT
            case opcode_1.WasmOpcode.I32_GT_S:
            case opcode_1.WasmOpcode.I32_GT_U:
            case opcode_1.WasmOpcode.I64_GT_S:
            case opcode_1.WasmOpcode.I64_GT_U:
            case opcode_1.WasmOpcode.F32_GT:
            case opcode_1.WasmOpcode.F64_GT: {
                let a = this.context.stack.pop();
                let b = this.context.stack.pop();
                this.context.stack.push(new WasmStackItem(type, a.value > b.value ? 1 : 0));
                break;
            }
            //GE
            case opcode_1.WasmOpcode.I32_GE_S:
            case opcode_1.WasmOpcode.I32_GE_U:
            case opcode_1.WasmOpcode.I64_GE_S:
            case opcode_1.WasmOpcode.I64_GE_U:
            case opcode_1.WasmOpcode.F32_GE:
            case opcode_1.WasmOpcode.F64_GE: {
                let a = this.context.stack.pop();
                let b = this.context.stack.pop();
                this.context.stack.push(new WasmStackItem(type, a.value >= b.value ? 1 : 0));
                break;
            }
            //LT
            case opcode_1.WasmOpcode.I32_LT_S:
            case opcode_1.WasmOpcode.I32_LT_U:
            case opcode_1.WasmOpcode.I64_LT_S:
            case opcode_1.WasmOpcode.I64_LT_U:
            case opcode_1.WasmOpcode.F32_LT:
            case opcode_1.WasmOpcode.F64_LT: {
                let a = this.context.stack.pop();
                let b = this.context.stack.pop();
                this.context.stack.push(new WasmStackItem(type, a.value < b.value ? 1 : 0));
                break;
            }
            //LE
            case opcode_1.WasmOpcode.I32_LE_S:
            case opcode_1.WasmOpcode.I32_LE_U:
            case opcode_1.WasmOpcode.I64_LE_S:
            case opcode_1.WasmOpcode.I64_LE_U:
            case opcode_1.WasmOpcode.F32_LE:
            case opcode_1.WasmOpcode.F64_LE: {
                let a = this.context.stack.pop();
                let b = this.context.stack.pop();
                this.context.stack.push(new WasmStackItem(type, a.value <= b.value ? 1 : 0));
                break;
            }
            //EQ
            case opcode_1.WasmOpcode.I32_EQ:
            case opcode_1.WasmOpcode.I64_EQ:
            case opcode_1.WasmOpcode.F32_EQ:
            case opcode_1.WasmOpcode.F64_EQ: {
                let a = this.context.stack.pop();
                let b = this.context.stack.pop();
                this.context.stack.push(new WasmStackItem(type, a.value === b.value ? 1 : 0));
                break;
            }
            //NE
            case opcode_1.WasmOpcode.I32_NE:
            case opcode_1.WasmOpcode.I64_NE:
            case opcode_1.WasmOpcode.F32_NE:
            case opcode_1.WasmOpcode.F64_NE: {
                let a = this.context.stack.pop();
                let b = this.context.stack.pop();
                this.context.stack.push(new WasmStackItem(type, a.value !== b.value ? 1 : 0));
                break;
            }
            //EQZ
            case opcode_1.WasmOpcode.I32_EQZ:
            case opcode_1.WasmOpcode.I64_EQZ: {
                let a = this.context.stack.pop();
                this.context.stack.push(new WasmStackItem(type, a.value === 0 ? 1 : 0));
                break;
            }
            //AND
            case opcode_1.WasmOpcode.I32_AND:
            case opcode_1.WasmOpcode.I64_AND: {
                let a = this.context.stack.pop();
                let b = this.context.stack.pop();
                this.context.stack.push(new WasmStackItem(type, a.value & b.value));
                break;
            }
            //OR
            case opcode_1.WasmOpcode.I32_OR:
            case opcode_1.WasmOpcode.I64_OR: {
                let a = this.context.stack.pop();
                let b = this.context.stack.pop();
                this.context.stack.push(new WasmStackItem(type, a.value | b.value));
                break;
            }
            //XOR
            case opcode_1.WasmOpcode.I32_XOR:
            case opcode_1.WasmOpcode.I64_XOR: {
                let a = this.context.stack.pop();
                let b = this.context.stack.pop();
                this.context.stack.push(new WasmStackItem(type, a.value ^ b.value));
                break;
            }
            //CTZ
            case opcode_1.WasmOpcode.I32_CTZ:
            case opcode_1.WasmOpcode.I64_CTZ: {
                // let a = this.context.stack.pop();
                // this.context.stack.push(new WasmStackItem(type, ctz(a.value)));
                break;
            }
            //CLZ
            case opcode_1.WasmOpcode.I32_CLZ:
            case opcode_1.WasmOpcode.I64_CLZ: {
                let a = this.context.stack.pop();
                this.context.stack.push(new WasmStackItem(type, Math.clz32(a.value)));
                break;
            }
            //CLZ
            case opcode_1.WasmOpcode.I32_ROTL:
            case opcode_1.WasmOpcode.I64_ROTL: {
                // let a = this.context.stack.pop();
                // this.context.stack.push(new WasmStackItem(type, rotl(a.value)));
                break;
            }
            //SHR
            case opcode_1.WasmOpcode.I32_SHR_S:
            case opcode_1.WasmOpcode.I32_SHR_U:
            case opcode_1.WasmOpcode.I64_SHR_S:
            case opcode_1.WasmOpcode.I64_SHR_U: {
                // let a = this.context.stack.pop();
                // this.context.stack.push(new WasmStackItem(type, shr(a.value)));
                break;
            }
            //SHR
            case opcode_1.WasmOpcode.I32_SHL:
            case opcode_1.WasmOpcode.I64_SHL: {
                // let a = this.context.stack.pop();
                // this.context.stack.push(new WasmStackItem(type, shl(a.value)));
                break;
            }
            //POPCNT
            case opcode_1.WasmOpcode.I32_POPCNT:
            case opcode_1.WasmOpcode.I64_POPCNT: {
                // let a = this.context.stack.pop();
                // this.context.stack.push(new WasmStackItem(type, popcnt(a.value)));
                break;
            }
            case opcode_1.WasmOpcode.F32_SQRT:
            case opcode_1.WasmOpcode.F64_SQRT: {
                let a = this.context.stack.pop();
                this.context.stack.push(new WasmStackItem(a.type, Math.sqrt(a.value)));
                break;
            }
            //LOAD
            case opcode_1.WasmOpcode.I32_LOAD:
            case opcode_1.WasmOpcode.I64_LOAD:
            case opcode_1.WasmOpcode.I32_LOAD8_U:
            case opcode_1.WasmOpcode.I32_LOAD8_S:
            case opcode_1.WasmOpcode.I64_LOAD8_U:
            case opcode_1.WasmOpcode.I64_LOAD8_S:
            case opcode_1.WasmOpcode.I32_LOAD16_U:
            case opcode_1.WasmOpcode.I32_LOAD16_S:
            case opcode_1.WasmOpcode.I64_LOAD16_U:
            case opcode_1.WasmOpcode.I64_LOAD16_S:
            case opcode_1.WasmOpcode.F32_LOAD:
            case opcode_1.WasmOpcode.F64_LOAD: {
                this.context.stack.pop();
                this.context.stack.push(new WasmStackItem(type, 0));
                this.context.lastOpcode = null;
                break;
            }
            //STORE
            case opcode_1.WasmOpcode.I32_STORE:
            case opcode_1.WasmOpcode.I64_STORE:
            case opcode_1.WasmOpcode.I32_STORE8:
            case opcode_1.WasmOpcode.I64_STORE8:
            case opcode_1.WasmOpcode.I32_STORE16:
            case opcode_1.WasmOpcode.I64_STORE16:
            case opcode_1.WasmOpcode.F32_STORE:
            case opcode_1.WasmOpcode.F64_STORE: {
                let a = this.context.stack.pop(); // address
                let b = this.context.stack.pop(); // offset
                this.context.lastOpcode = null;
                break;
            }
            case opcode_1.WasmOpcode.IF:
            case opcode_1.WasmOpcode.BR_IF:
                let a = this.context.stack.pop();
                this.context.lastOpcode = null;
                break;
            case opcode_1.WasmOpcode.IF_ELSE:
            case opcode_1.WasmOpcode.BLOCK:
            case opcode_1.WasmOpcode.LOOP:
            case opcode_1.WasmOpcode.BR:
                //ignore
                break;
            case opcode_1.WasmOpcode.I32_WRAP_I64:
            case opcode_1.WasmOpcode.I32_TRUNC_S_F32:
            case opcode_1.WasmOpcode.I32_TRUNC_U_F32:
            case opcode_1.WasmOpcode.I32_TRUNC_S_F64:
            case opcode_1.WasmOpcode.I32_TRUNC_U_F64:
            case opcode_1.WasmOpcode.I32_REINTERPRET_F32:
            case opcode_1.WasmOpcode.I64_TRUNC_S_F32:
            case opcode_1.WasmOpcode.I64_TRUNC_U_F32:
            case opcode_1.WasmOpcode.I64_TRUNC_S_F64:
            case opcode_1.WasmOpcode.I64_TRUNC_U_F64:
            case opcode_1.WasmOpcode.I64_EXTEND_S_I32:
            case opcode_1.WasmOpcode.I64_EXTEND_U_I32:
            case opcode_1.WasmOpcode.F32_DEMOTE_F64:
            case opcode_1.WasmOpcode.F32_TRUNC:
            case opcode_1.WasmOpcode.F32_REINTERPRET_I32:
            case opcode_1.WasmOpcode.F32_CONVERT_S_I32:
            case opcode_1.WasmOpcode.F32_CONVERT_U_I32:
            case opcode_1.WasmOpcode.F32_CONVERT_S_I64:
            case opcode_1.WasmOpcode.F32_CONVERT_U_I64:
            case opcode_1.WasmOpcode.F64_PROMOTE_F32:
            case opcode_1.WasmOpcode.F64_TRUNC:
            case opcode_1.WasmOpcode.F64_REINTERPRET_I64:
            case opcode_1.WasmOpcode.F64_CONVERT_S_I32:
            case opcode_1.WasmOpcode.F64_CONVERT_U_I32:
            case opcode_1.WasmOpcode.F64_CONVERT_S_I64:
            case opcode_1.WasmOpcode.F64_CONVERT_U_I64:
                //ignore  > pop > push
                break;
            case null:
            case undefined:
                //ignore
                break;
            default:
                terminal_1.Terminal.warn(`Unhandled Opcode ${opcode} => ${opcode_1.WasmOpcode[opcode]}`);
                break;
        }
    }
}
exports.WasmStackTracer = WasmStackTracer;
function getOprandType(opcode) {
    switch (opcode) {
        // Int32
        case opcode_1.WasmOpcode.I32_CONST:
        case opcode_1.WasmOpcode.I32_ADD:
        case opcode_1.WasmOpcode.I32_MUL:
        case opcode_1.WasmOpcode.I32_SUB:
        case opcode_1.WasmOpcode.I32_DIV_S:
        case opcode_1.WasmOpcode.I32_DIV_U:
        case opcode_1.WasmOpcode.I32_REM_S:
        case opcode_1.WasmOpcode.I32_REM_U:
        case opcode_1.WasmOpcode.I32_GE_S:
        case opcode_1.WasmOpcode.I32_GE_U:
        case opcode_1.WasmOpcode.I32_LE_S:
        case opcode_1.WasmOpcode.I32_LE_U:
        case opcode_1.WasmOpcode.I32_GT_S:
        case opcode_1.WasmOpcode.I32_GT_U:
        case opcode_1.WasmOpcode.I32_LT_S:
        case opcode_1.WasmOpcode.I32_LT_U:
        case opcode_1.WasmOpcode.I32_EQ:
        case opcode_1.WasmOpcode.I32_NE:
        case opcode_1.WasmOpcode.I32_EQZ:
        case opcode_1.WasmOpcode.I32_AND:
        case opcode_1.WasmOpcode.I32_OR:
        case opcode_1.WasmOpcode.I32_XOR:
        case opcode_1.WasmOpcode.I32_CTZ:
        case opcode_1.WasmOpcode.I32_CLZ:
        case opcode_1.WasmOpcode.I32_ROTL:
        case opcode_1.WasmOpcode.I32_ROTR:
        case opcode_1.WasmOpcode.I32_SHL:
        case opcode_1.WasmOpcode.I32_SHR_S:
        case opcode_1.WasmOpcode.I32_SHR_U:
        case opcode_1.WasmOpcode.I32_POPCNT:
        case opcode_1.WasmOpcode.I32_LOAD:
        case opcode_1.WasmOpcode.I32_LOAD8_S:
        case opcode_1.WasmOpcode.I32_LOAD8_U:
        case opcode_1.WasmOpcode.I32_LOAD16_S:
        case opcode_1.WasmOpcode.I32_LOAD16_U:
        case opcode_1.WasmOpcode.I32_STORE16:
        case opcode_1.WasmOpcode.I32_STORE8:
        case opcode_1.WasmOpcode.I32_STORE:
        case opcode_1.WasmOpcode.I32_REINTERPRET_F32:
        case opcode_1.WasmOpcode.I32_TRUNC_S_F32:
        case opcode_1.WasmOpcode.I32_TRUNC_U_F32:
        case opcode_1.WasmOpcode.I32_TRUNC_S_F64:
        case opcode_1.WasmOpcode.I32_TRUNC_U_F64:
        case opcode_1.WasmOpcode.I32_WRAP_I64:
            return wasm_type_1.WasmType.I32;
        // Int64
        case opcode_1.WasmOpcode.I64_CONST:
        case opcode_1.WasmOpcode.I64_ADD:
        case opcode_1.WasmOpcode.I64_MUL:
        case opcode_1.WasmOpcode.I64_SUB:
        case opcode_1.WasmOpcode.I64_DIV_S:
        case opcode_1.WasmOpcode.I64_DIV_U:
        case opcode_1.WasmOpcode.I64_CLZ:
        case opcode_1.WasmOpcode.I64_ROTL:
        case opcode_1.WasmOpcode.I64_AND:
        case opcode_1.WasmOpcode.I64_CTZ:
        case opcode_1.WasmOpcode.I64_EQ:
        case opcode_1.WasmOpcode.I64_EQZ:
        case opcode_1.WasmOpcode.I64_GE_S:
        case opcode_1.WasmOpcode.I64_GE_U:
        case opcode_1.WasmOpcode.I64_LE_S:
        case opcode_1.WasmOpcode.I64_LE_U:
        case opcode_1.WasmOpcode.I64_GT_S:
        case opcode_1.WasmOpcode.I64_GT_U:
        case opcode_1.WasmOpcode.I64_LT_S:
        case opcode_1.WasmOpcode.I64_LT_U:
        case opcode_1.WasmOpcode.I64_LOAD:
        case opcode_1.WasmOpcode.I64_LOAD8_S:
        case opcode_1.WasmOpcode.I64_LOAD8_U:
        case opcode_1.WasmOpcode.I64_LOAD16_S:
        case opcode_1.WasmOpcode.I64_LOAD16_U:
        case opcode_1.WasmOpcode.I64_NE:
        case opcode_1.WasmOpcode.I64_XOR:
        case opcode_1.WasmOpcode.I64_STORE16:
        case opcode_1.WasmOpcode.I64_STORE8:
        case opcode_1.WasmOpcode.I64_STORE:
        case opcode_1.WasmOpcode.I64_SHR_S:
        case opcode_1.WasmOpcode.I64_SHR_U:
        case opcode_1.WasmOpcode.I64_SHL:
        case opcode_1.WasmOpcode.I64_ROTR:
        case opcode_1.WasmOpcode.I64_REM_S:
        case opcode_1.WasmOpcode.I64_REM_U:
        case opcode_1.WasmOpcode.I64_POPCNT:
        case opcode_1.WasmOpcode.I64_OR:
        case opcode_1.WasmOpcode.I64_REINTERPRET_F64:
        case opcode_1.WasmOpcode.I64_TRUNC_S_F32:
        case opcode_1.WasmOpcode.I64_TRUNC_U_F32:
        case opcode_1.WasmOpcode.I64_TRUNC_S_F64:
        case opcode_1.WasmOpcode.I64_TRUNC_U_F64:
        case opcode_1.WasmOpcode.I64_EXTEND_S_I32:
        case opcode_1.WasmOpcode.I64_EXTEND_U_I32:
            return wasm_type_1.WasmType.I64;
        // Float32
        case opcode_1.WasmOpcode.F32_CONST:
        case opcode_1.WasmOpcode.F32_ADD:
        case opcode_1.WasmOpcode.F32_SUB:
        case opcode_1.WasmOpcode.F32_MUL:
        case opcode_1.WasmOpcode.F32_DIV:
        case opcode_1.WasmOpcode.F32_SQRT:
        case opcode_1.WasmOpcode.F32_NEG:
        case opcode_1.WasmOpcode.F32_NE:
        case opcode_1.WasmOpcode.F32_ABS:
        case opcode_1.WasmOpcode.F32_CEIL:
        case opcode_1.WasmOpcode.F32_EQ:
        case opcode_1.WasmOpcode.F32_FLOOR:
        case opcode_1.WasmOpcode.F32_NEAREST:
        case opcode_1.WasmOpcode.F32_MIN:
        case opcode_1.WasmOpcode.F32_MAX:
        case opcode_1.WasmOpcode.F32_GE:
        case opcode_1.WasmOpcode.F32_GT:
        case opcode_1.WasmOpcode.F32_LT:
        case opcode_1.WasmOpcode.F32_LE:
        case opcode_1.WasmOpcode.F32_COPYSIGN:
        case opcode_1.WasmOpcode.F32_LOAD:
        case opcode_1.WasmOpcode.F32_STORE:
        case opcode_1.WasmOpcode.F32_TRUNC:
        case opcode_1.WasmOpcode.F32_DEMOTE_F64:
        case opcode_1.WasmOpcode.F32_CONVERT_S_I32:
        case opcode_1.WasmOpcode.F32_CONVERT_U_I32:
        case opcode_1.WasmOpcode.F32_CONVERT_S_I64:
        case opcode_1.WasmOpcode.F32_CONVERT_U_I64:
        case opcode_1.WasmOpcode.F32_REINTERPRET_I32:
            return wasm_type_1.WasmType.F32;
        // Float64
        case opcode_1.WasmOpcode.F64_CONST:
        case opcode_1.WasmOpcode.F64_ADD:
        case opcode_1.WasmOpcode.F64_SUB:
        case opcode_1.WasmOpcode.F64_MUL:
        case opcode_1.WasmOpcode.F64_DIV:
        case opcode_1.WasmOpcode.F64_SQRT:
        case opcode_1.WasmOpcode.F64_NEG:
        case opcode_1.WasmOpcode.F64_NE:
        case opcode_1.WasmOpcode.F64_ABS:
        case opcode_1.WasmOpcode.F64_CEIL:
        case opcode_1.WasmOpcode.F64_EQ:
        case opcode_1.WasmOpcode.F64_FLOOR:
        case opcode_1.WasmOpcode.F64_NEAREST:
        case opcode_1.WasmOpcode.F64_MIN:
        case opcode_1.WasmOpcode.F64_MAX:
        case opcode_1.WasmOpcode.F64_GE:
        case opcode_1.WasmOpcode.F64_GT:
        case opcode_1.WasmOpcode.F64_LT:
        case opcode_1.WasmOpcode.F64_LE:
        case opcode_1.WasmOpcode.F64_COPYSIGN:
        case opcode_1.WasmOpcode.F64_LOAD:
        case opcode_1.WasmOpcode.F64_STORE:
        case opcode_1.WasmOpcode.F64_TRUNC:
        case opcode_1.WasmOpcode.F64_PROMOTE_F32:
        case opcode_1.WasmOpcode.F64_CONVERT_S_I32:
        case opcode_1.WasmOpcode.F64_CONVERT_U_I32:
        case opcode_1.WasmOpcode.F64_CONVERT_S_I64:
        case opcode_1.WasmOpcode.F64_CONVERT_U_I64:
        case opcode_1.WasmOpcode.F64_REINTERPRET_I64:
            return wasm_type_1.WasmType.F64;
        // No types
        case opcode_1.WasmOpcode.CALL:
        case opcode_1.WasmOpcode.END:
        case opcode_1.WasmOpcode.RETURN:
        case opcode_1.WasmOpcode.GET_GLOBAL:
        case opcode_1.WasmOpcode.GET_LOCAL:
        case opcode_1.WasmOpcode.SET_LOCAL:
        case opcode_1.WasmOpcode.SET_GLOBAL:
        case opcode_1.WasmOpcode.BLOCK:
        case opcode_1.WasmOpcode.LOOP:
        case opcode_1.WasmOpcode.IF:
        case opcode_1.WasmOpcode.IF_ELSE:
        case opcode_1.WasmOpcode.BR:
        case opcode_1.WasmOpcode.BR_IF:
        case opcode_1.WasmOpcode.BR_TABLE:
        case opcode_1.WasmOpcode.NOP:
            return null;
        default:
            terminal_1.Terminal.warn(`Unhandled Opcode ${opcode} => ${opcode_1.WasmOpcode[opcode]}`);
            break;
    }
}


/***/ }),
/* 44 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const symbol_1 = __webpack_require__(5);
const bytearray_1 = __webpack_require__(13);
const utils_1 = __webpack_require__(6);
const node_1 = __webpack_require__(4);
const opcode_1 = __webpack_require__(8);
const builtins_helper_1 = __webpack_require__(35);
const assert_1 = __webpack_require__(1);
const wasm_type_1 = __webpack_require__(11);
const logger_1 = __webpack_require__(12);
const wasm_signature_1 = __webpack_require__(42);
const bitness_1 = __webpack_require__(32);
const wasm_section_1 = __webpack_require__(15);
const wasm_external_kind_1 = __webpack_require__(36);
const wasm_global_1 = __webpack_require__(38);
const wasm_function_1 = __webpack_require__(37);
const wasm_import_1 = __webpack_require__(39);
const wasm_local_1 = __webpack_require__(40);
const wasm_shared_offset_1 = __webpack_require__(41);
const wasm_assembler_1 = __webpack_require__(33);
const terminal_1 = __webpack_require__(0);
const WASM_MAGIC = 0x6d736100; //'\0' | 'a' << 8 | 's' << 16 | 'm' << 24;
const WASM_VERSION = 0x1;
const WASM_SIZE_IN_PAGES = 1;
const WASM_SET_MAX_MEMORY = false;
const WASM_MAX_MEMORY = 1024 * 1024 * 1024;
const WASM_MEMORY_INITIALIZER_BASE = 8; // Leave space for "null"
global["debug"] = true;
class WasmModule {
    constructor(bitness) {
        this.bitness = bitness;
        this.importCount = 0;
        this.globalCount = 0;
        this.functionCount = 0;
        this.signatureCount = 0;
        this.assembler = new wasm_assembler_1.WasmAssembler();
    }
    growMemoryInitializer() {
        let array = this.memoryInitializer;
        let current = array.length;
        let length = this.context.nextGlobalVariableOffset;
        while (current < length) {
            array.append(0);
            current = current + 1;
        }
    }
    allocateImport(signatureIndex, mod, name) {
        let result = new wasm_import_1.WasmImport();
        result.signatureIndex = signatureIndex;
        result.signature = this.signatures[signatureIndex];
        result.module = mod;
        result.name = name;
        if (this.firstImport == null)
            this.firstImport = result;
        else
            this.lastImport.next = result;
        this.lastImport = result;
        this.assembler.importList.push(result);
        this.importCount = this.importCount + 1;
        return result;
    }
    allocateGlobal(symbol, bitness) {
        let global = new wasm_global_1.WasmGlobal();
        global.type = symbolToValueType(symbol, bitness);
        global.symbol = symbol;
        symbol.offset = this.globalCount;
        if (this.firstGlobal == null) {
            this.firstGlobal = global;
            this.globalEntries = [];
        }
        else
            this.lastGlobal.next = global;
        this.lastGlobal = global;
        this.globalEntries.push(global.type);
        this.globalCount = this.globalCount + 1;
        return global;
    }
    allocateFunction(symbol, signatureIndex) {
        let fn = new wasm_function_1.WasmFunction();
        fn.symbol = symbol;
        fn.signatureIndex = signatureIndex;
        fn.signature = this.signatures[signatureIndex];
        if (this.firstFunction == null)
            this.firstFunction = fn;
        else
            this.lastFunction.next = fn;
        this.lastFunction = fn;
        this.assembler.functionList.push(fn);
        this.functionCount = this.functionCount + 1;
        return fn;
    }
    allocateSignature(argumentTypes, returnType, argumentCount) {
        assert_1.assert(returnType != null);
        assert_1.assert(returnType.next == null);
        let signature = new wasm_signature_1.WasmSignature();
        signature.argumentCount = argumentCount;
        signature.argumentTypes = argumentTypes;
        signature.returnType = returnType;
        let check = this.firstSignature;
        let i = 0;
        while (check != null) {
            if (wasm_signature_1.wasmAreSignaturesEqual(signature, check)) {
                return i;
            }
            check = check.next;
            i = i + 1;
        }
        if (this.firstSignature == null) {
            this.signatures = [];
            this.firstSignature = signature;
        }
        else
            this.lastSignature.next = signature;
        this.lastSignature = signature;
        this.signatures.push(signature);
        this.signatureCount = this.signatureCount + 1;
        return i;
    }
    emitModule(array) {
        array.log = "";
        array.writeUnsignedInt(WASM_MAGIC);
        array.writeUnsignedInt(WASM_VERSION);
        array.log += '0000000: 0061 736d             ; WASM_BINARY_MAGIC\n';
        array.log += '0000004: 0100 0000             ; WASM_BINARY_VERSION\n';
        this.emitSignatures(array);
        this.emitImportTable(array);
        this.emitFunctionDeclarations(array);
        // this.emitTables(array);
        this.emitMemory(array);
        this.emitGlobalDeclarations(array);
        this.emitExportTable(array);
        this.emitStartFunctionDeclaration(array);
        this.emitElements(array);
        this.emitFunctionBodies(array);
        this.emitDataSegments(array);
        this.emitNames(array);
    }
    emitSignatures(array) {
        if (!this.firstSignature) {
            return;
        }
        let section = this.assembler.startSection(array, wasm_section_1.WasmSection.Type, "signatures");
        this.assembler.writeUnsignedLEB128(section.data, this.signatureCount);
        let signature = this.firstSignature;
        let sigCount = 0;
        while (signature != null) {
            let count = 0;
            let type = signature.argumentTypes;
            while (type != null) {
                count = count + 1;
                type = type.next;
            }
            logger_1.log(section.data, array.position, wasm_type_1.WasmType.func, "func sig " + sigCount++);
            this.assembler.writeUnsignedLEB128(section.data, wasm_type_1.WasmType.func); //form, the value for the func type constructor
            logger_1.log(section.data, array.position, count, "num params");
            this.assembler.writeUnsignedLEB128(section.data, count); //param_count, the number of parameters to the function
            type = signature.argumentTypes;
            while (type != null) {
                logger_1.log(section.data, array.position, type.id, wasm_type_1.WasmType[type.id]);
                this.assembler.writeUnsignedLEB128(section.data, type.id); //value_type, the parameter types of the function
                type = type.next;
            }
            let returnTypeId = signature.returnType.id;
            if (returnTypeId > 0) {
                logger_1.log(section.data, array.position, "01", "num results");
                this.assembler.writeUnsignedLEB128(section.data, 1); //return_count, the number of results from the function
                logger_1.log(section.data, array.position, signature.returnType.id, wasm_type_1.WasmType[signature.returnType.id]);
                this.assembler.writeUnsignedLEB128(section.data, signature.returnType.id);
            }
            else {
                this.assembler.writeUnsignedLEB128(section.data, 0);
            }
            signature = signature.next;
        }
        this.assembler.endSection(array, section);
    }
    emitImportTable(array) {
        if (!this.firstImport) {
            return;
        }
        let section = this.assembler.startSection(array, wasm_section_1.WasmSection.Import, "import_table");
        logger_1.log(section.data, array.position, this.importCount, "num imports");
        this.assembler.writeUnsignedLEB128(section.data, this.importCount);
        let current = this.firstImport;
        let count = 0;
        while (current != null) {
            logger_1.log(section.data, array.position, null, `import func (${count}) ${current.module} ${current.name}`);
            this.assembler.writeWasmString(section.data, current.module);
            this.assembler.writeWasmString(section.data, current.name);
            this.assembler.writeUnsignedLEB128(section.data, wasm_external_kind_1.WasmExternalKind.Function);
            this.assembler.writeUnsignedLEB128(section.data, current.signatureIndex);
            current = current.next;
            count++;
        }
        this.assembler.endSection(array, section);
    }
    emitFunctionDeclarations(array) {
        if (!this.firstFunction) {
            return;
        }
        let section = this.assembler.startSection(array, wasm_section_1.WasmSection.Function, "function_declarations");
        logger_1.log(section.data, array.position, this.functionCount, "num functions");
        this.assembler.writeUnsignedLEB128(section.data, this.functionCount);
        let fn = this.firstFunction;
        let count = this.importCount;
        while (fn != null) {
            logger_1.log(section.data, array.position, fn.signatureIndex, `func ${count} sig ${getWasmFunctionName(fn.symbol)}`);
            this.assembler.writeUnsignedLEB128(section.data, fn.signatureIndex);
            fn = fn.next;
            count++;
        }
        this.assembler.endSection(array, section);
    }
    emitTables(array) {
        //TODO
    }
    emitMemory(array) {
        let section = this.assembler.startSection(array, wasm_section_1.WasmSection.Memory, "memory");
        logger_1.log(section.data, array.position, "01", "num memories");
        this.assembler.writeUnsignedLEB128(section.data, 1); //indicating the number of memories defined by the module, In the MVP, the number of memories must be no more than 1.
        //resizable_limits
        logger_1.log(section.data, array.position, "00", "memory flags");
        this.assembler.writeUnsignedLEB128(section.data, WASM_SET_MAX_MEMORY ? 0x1 : 0); //flags, bit 0x1 is set if the maximum field is present
        logger_1.log(section.data, array.position, WASM_SIZE_IN_PAGES, "memory initial pages");
        this.assembler.writeUnsignedLEB128(section.data, WASM_SIZE_IN_PAGES); //initial length (in units of table elements or wasm pages)
        if (WASM_SET_MAX_MEMORY) {
            logger_1.log(section.data, array.position, WASM_MAX_MEMORY, "maximum memory");
            this.assembler.writeUnsignedLEB128(section.data, WASM_MAX_MEMORY); // maximum, only present if specified by flags
        }
        this.assembler.endSection(array, section);
    }
    emitGlobalDeclarations(array) {
        if (!this.firstGlobal) {
            return;
        }
        let section = this.assembler.startSection(array, wasm_section_1.WasmSection.Global, "global");
        this.assembler.writeUnsignedLEB128(section.data, this.globalCount);
        this.assembler.stackTracer.setGlobals(this.globalEntries);
        let global = this.firstGlobal;
        while (global) {
            let dataType = typeToDataType(global.symbol.resolvedType, this.bitness);
            let value = global.symbol.node.variableValue();
            section.data.append(wasm_type_1.WasmType[dataType]); //content_type
            this.assembler.writeUnsignedLEB128(section.data, 1); //mutability, 0 if immutable, 1 if mutable. MVP only support immutable global variables
            let rawValue = 0;
            if (value) {
                if (value.kind === node_1.NodeKind.NULL || value.kind === node_1.NodeKind.UNDEFINED) {
                    rawValue = 0;
                }
                else if (value.rawValue !== undefined) {
                    rawValue = value.rawValue;
                }
                else {
                    // Emit evaluation to start function
                    this.addGlobalToStartFunction(global);
                }
            }
            this.assembler.appendOpcode(section.data, array.position, opcode_1.WasmOpcode[`${dataType}_CONST`], rawValue);
            switch (dataType) {
                case "I32":
                    this.assembler.writeUnsignedLEB128(section.data, rawValue);
                    break;
                case "I64":
                    this.assembler.writeUnsignedLEB128(section.data, rawValue);
                    break;
                case "F32":
                    this.assembler.writeFloat(section.data, rawValue);
                    break;
                case "F64":
                    this.assembler.writeDouble(section.data, rawValue);
                    break;
            }
            this.assembler.appendOpcode(section.data, array.position, opcode_1.WasmOpcode.END);
            global = global.next;
        }
        this.assembler.endSection(array, section);
    }
    addGlobalToStartFunction(global) {
        let value = global.symbol.node.variableValue();
        let startFn = this.startFunction;
        this.emitNode(startFn.body, 0, value);
        this.assembler.appendOpcode(startFn.body, 0, opcode_1.WasmOpcode.SET_GLOBAL);
        this.assembler.writeUnsignedLEB128(startFn.body, global.symbol.offset);
    }
    emitExportTable(array) {
        let exportedCount = 0;
        let fn = this.firstFunction;
        while (fn != null) {
            if (fn.isExported) {
                exportedCount = exportedCount + 1;
            }
            fn = fn.next;
        }
        if (exportedCount == 0) {
            return;
        }
        let section = this.assembler.startSection(array, wasm_section_1.WasmSection.Export, "export_table");
        logger_1.log(section.data, array.position, exportedCount, "num exports");
        this.assembler.writeUnsignedLEB128(section.data, exportedCount + 1);
        //Export main memory
        let memoryName = "memory";
        logger_1.log(section.data, array.position, memoryName.length, "export name length");
        logger_1.log(section.data, null, null, `${utils_1.toHex(section.data.position + array.position + 4)}: ${memoryName} // export name`);
        this.assembler.writeWasmString(section.data, memoryName);
        logger_1.log(section.data, array.position, wasm_external_kind_1.WasmExternalKind.Function, "export kind");
        this.assembler.writeUnsignedLEB128(section.data, wasm_external_kind_1.WasmExternalKind.Memory);
        logger_1.log(section.data, array.position, 0, "export memory index");
        this.assembler.writeUnsignedLEB128(section.data, 0);
        let i = this.importCount;
        fn = this.firstFunction;
        while (fn != null) {
            if (fn.isExported) {
                let fnName = getWasmFunctionName(fn.symbol);
                logger_1.log(section.data, array.position, fnName.length, "export name length");
                logger_1.log(section.data, null, null, `${utils_1.toHex(section.data.position + array.position + 4)}: ${fnName} // export name`);
                this.assembler.writeWasmString(section.data, fnName);
                logger_1.log(section.data, array.position, wasm_external_kind_1.WasmExternalKind.Function, "export kind");
                this.assembler.writeUnsignedLEB128(section.data, wasm_external_kind_1.WasmExternalKind.Function);
                logger_1.log(section.data, array.position, i, "export func index");
                this.assembler.writeUnsignedLEB128(section.data, i);
            }
            fn = fn.next;
            i = i + 1;
        }
        this.assembler.endSection(array, section);
    }
    emitStartFunctionDeclaration(array) {
        if (this.startFunctionIndex != -1) {
            let section = this.assembler.startSection(array, wasm_section_1.WasmSection.Start, "start_function");
            logger_1.log(section.data, array.position, this.startFunctionIndex, "start function index");
            this.assembler.writeUnsignedLEB128(section.data, this.importCount + this.startFunctionIndex);
            this.assembler.endSection(array, section);
        }
    }
    emitElements(array) {
        //TODO
    }
    emitFunctionBodies(array) {
        if (!this.firstFunction) {
            return;
        }
        let offset = array.position;
        let section = this.assembler.startSection(array, wasm_section_1.WasmSection.Code, "function_bodies");
        logger_1.log(section.data, offset, this.functionCount, "num functions");
        this.assembler.writeUnsignedLEB128(section.data, this.functionCount);
        let count = 0;
        let fn = this.firstFunction;
        while (fn != null) {
            this.currentFunction = fn;
            let sectionOffset = offset + section.data.position;
            let wasmFunctionName = getWasmFunctionName(fn.symbol);
            let bodyData = new bytearray_1.ByteArray();
            logger_1.log(bodyData, sectionOffset, fn.localCount ? fn.localCount : 0, "local var count");
            this.assembler.stackTracer.startFunction(this.importCount + count);
            if (fn.localCount > 0) {
                bodyData.writeUnsignedLEB128(fn.localCount); //local_count
                // TODO: Optimize local declarations
                //local_entry
                let local = fn.firstLocal;
                while (local) {
                    logger_1.log(bodyData, sectionOffset, 1, "local index");
                    bodyData.writeUnsignedLEB128(1); //count
                    logger_1.log(bodyData, sectionOffset, local.type, wasm_type_1.WasmType[local.type]);
                    bodyData.append(local.type); //value_type
                    local = local.next;
                }
            }
            else {
                bodyData.writeUnsignedLEB128(0);
            }
            let lastChild;
            if (fn.isConstructor) {
                // this is <CLASS>__ctr function
                this.emitConstructor(bodyData, sectionOffset, fn);
            }
            let child = fn.symbol.node.functionBody().firstChild;
            while (child != null) {
                lastChild = child;
                this.emitNode(bodyData, sectionOffset, child);
                child = child.nextSibling;
            }
            if (fn.body) {
                bodyData.copy(fn.body);
            }
            else {
                if (lastChild && lastChild.kind !== node_1.NodeKind.RETURN && fn.returnType != wasm_type_1.WasmType.VOID) {
                    this.assembler.appendOpcode(bodyData, sectionOffset, opcode_1.WasmOpcode.RETURN);
                }
            }
            if (fn.returnType === wasm_type_1.WasmType.VOID) {
                // Drop stack if not empty
                this.assembler.dropStack(bodyData);
            }
            this.assembler.appendOpcode(bodyData, sectionOffset, opcode_1.WasmOpcode.END); //end, 0x0b, indicating the end of the body
            this.assembler.stackTracer.endFunction();
            //Copy and finish body
            section.data.writeUnsignedLEB128(bodyData.length);
            logger_1.log(section.data, offset, null, ` - func body ${this.importCount + (count++)} (${wasmFunctionName})`);
            logger_1.log(section.data, offset, bodyData.length, "func body size");
            section.data.log += bodyData.log;
            section.data.copy(bodyData);
            fn = fn.next;
        }
        this.assembler.endSection(array, section);
    }
    emitDataSegments(array) {
        this.growMemoryInitializer();
        let memoryInitializer = this.memoryInitializer;
        let initializerLength = memoryInitializer.length;
        let initialHeapPointer = utils_1.alignToNextMultipleOf(WASM_MEMORY_INITIALIZER_BASE + initializerLength, 8);
        // Pass the initial heap pointer to the "malloc" function
        memoryInitializer.writeUnsignedInt(initialHeapPointer, this.originalHeapPointer);
        memoryInitializer.writeUnsignedInt(initialHeapPointer, this.currentHeapPointer);
        let section = this.assembler.startSection(array, wasm_section_1.WasmSection.Data, "data_segments");
        // This only writes one single section containing everything
        logger_1.log(section.data, array.position, 1, "num data segments");
        this.assembler.writeUnsignedLEB128(section.data, 1);
        //data_segment
        logger_1.log(section.data, array.position, null, " - data segment header 0");
        logger_1.log(section.data, array.position, 0, "memory index");
        this.assembler.writeUnsignedLEB128(section.data, 0); //index, the linear memory index (0 in the MVP)
        //offset, an i32 initializer expression that computes the offset at which to place the data
        this.assembler.appendOpcode(section.data, array.position, opcode_1.WasmOpcode.I32_CONST);
        logger_1.log(section.data, array.position, WASM_MEMORY_INITIALIZER_BASE, "i32 literal");
        this.assembler.writeUnsignedLEB128(section.data, WASM_MEMORY_INITIALIZER_BASE); //const value
        this.assembler.appendOpcode(section.data, array.position, opcode_1.WasmOpcode.END);
        logger_1.log(section.data, array.position, initializerLength, "data segment size");
        this.assembler.writeUnsignedLEB128(section.data, initializerLength); //size, size of data (in bytes)
        logger_1.log(section.data, array.position, null, " - data segment data 0");
        //data, sequence of size bytes
        // Copy the entire memory initializer (also includes zero-initialized data for now)
        let i = 0;
        let value;
        while (i < initializerLength) {
            for (let j = 0; j < 16; j++) {
                if (i + j < initializerLength) {
                    value = memoryInitializer.get(i + j);
                    section.data.append(value);
                    logger_1.logData(section.data, array.position, value, j == 0);
                }
            }
            section.data.log += "\n";
            i = i + 16;
        }
        // section.data.copy(memoryInitializer, initializerLength);
        this.assembler.endSection(array, section);
    }
    // Custom section for debug names
    //
    emitNames(array) {
        let section = this.assembler.startSection(array, 0, "name");
        let subsectionFunc = new bytearray_1.ByteArray();
        let subsectionLocal = new bytearray_1.ByteArray();
        this.assembler.writeUnsignedLEB128(subsectionFunc, this.functionCount);
        this.assembler.writeUnsignedLEB128(subsectionLocal, this.functionCount);
        let fn = this.firstFunction;
        while (fn != null) {
            let fnIndex = this.importCount + fn.symbol.offset;
            let name = getWasmFunctionName(fn.symbol);
            this.assembler.writeUnsignedLEB128(subsectionFunc, fnIndex);
            this.assembler.writeWasmString(subsectionFunc, name);
            this.assembler.writeUnsignedLEB128(subsectionLocal, fnIndex);
            this.assembler.writeUnsignedLEB128(subsectionLocal, fn.localEntries.length);
            fn.localEntries.forEach((local, index) => {
                this.assembler.writeUnsignedLEB128(subsectionLocal, index);
                this.assembler.writeWasmString(subsectionLocal, local.name);
            });
            fn = fn.next;
        }
        //subsection for function names
        this.assembler.writeUnsignedLEB128(section.data, 1); // name_type
        this.assembler.writeUnsignedLEB128(section.data, subsectionFunc.length); // name_payload_len
        section.data.copy(subsectionFunc); // name_payload_data
        //subsection for local names
        this.assembler.writeUnsignedLEB128(section.data, 2); // name_type
        this.assembler.writeUnsignedLEB128(section.data, subsectionLocal.length); // name_payload_len
        section.data.copy(subsectionLocal); // name_payload_data
        this.assembler.endSection(array, section);
    }
    prepareToEmit(node) {
        if (node.kind == node_1.NodeKind.STRING) {
            let text = node.stringValue;
            let length = text.length;
            let offset = this.context.allocateGlobalVariableOffset(length * 2 + 4, 4);
            node.intValue = offset;
            this.growMemoryInitializer();
            let memoryInitializer = this.memoryInitializer;
            // Emit a length-prefixed string
            bytearray_1.ByteArray_set32(memoryInitializer, offset, length);
            bytearray_1.ByteArray_setString(memoryInitializer, offset + 4, text);
        }
        else if (node.kind == node_1.NodeKind.VARIABLE) {
            let symbol = node.symbol;
            /*if (symbol.kind == SymbolKind.VARIABLE_GLOBAL) {
             let sizeOf = symbol.resolvedType.variableSizeOf(this.context);
             let value = symbol.node.variableValue();
             let memoryInitializer = this.memoryInitializer;

             // Copy the initial value into the memory initializer
             this.growMemoryInitializer();

             let offset = symbol.offset;

             if (sizeOf == 1) {
             if (symbol.resolvedType.isUnsigned()) {
             memoryInitializer.writeUnsignedByte(value.intValue, offset);
             } else {
             memoryInitializer.writeByte(value.intValue, offset);
             }
             }
             else if (sizeOf == 2) {
             if (symbol.resolvedType.isUnsigned()) {
             memoryInitializer.writeUnsignedShort(value.intValue, offset);
             } else {
             memoryInitializer.writeShort(value.intValue, offset);
             }
             }
             else if (sizeOf == 4) {
             if (symbol.resolvedType.isFloat()) {
             memoryInitializer.writeFloat(value.floatValue, offset);
             } else {
             if (symbol.resolvedType.isUnsigned()) {
             memoryInitializer.writeUnsignedInt(value.intValue, offset);
             } else {
             memoryInitializer.writeInt(value.intValue, offset);
             }
             }
             }
             else if (sizeOf == 8) {
             if (symbol.resolvedType.isDouble()) {
             memoryInitializer.writeDouble(value.rawValue, offset);
             } else {
             //TODO Implement Int64 write
             if (symbol.resolvedType.isUnsigned()) {
             //memoryInitializer.writeUnsignedInt64(value.rawValue, offset);
             } else {
             //memoryInitializer.writeInt64(value.rawValue, offset);
             }
             }
             }
             else assert(false);*/
            if (symbol.kind == symbol_1.SymbolKind.VARIABLE_GLOBAL) {
                let global = this.allocateGlobal(symbol, this.bitness);
                // Make sure the heap offset is tracked
                if (symbol.name == "currentHeapPointer") {
                    assert_1.assert(this.currentHeapPointer == -1);
                    this.currentHeapPointer = symbol.offset;
                }
                else if (symbol.name == "originalHeapPointer") {
                    assert_1.assert(this.originalHeapPointer == -1);
                    this.originalHeapPointer = symbol.offset;
                }
            }
        }
        else if (node.kind == node_1.NodeKind.FUNCTION &&
            (node.symbol.kind != symbol_1.SymbolKind.FUNCTION_INSTANCE ||
                node.symbol.kind == symbol_1.SymbolKind.FUNCTION_INSTANCE && !node.parent.isTemplate())) {
            let returnType = node.functionReturnType();
            let wasmReturnType = this.getWasmType(returnType.resolvedType);
            let shared = new wasm_shared_offset_1.WasmSharedOffset();
            let argumentTypesFirst = null;
            let argumentTypesLast = null;
            let symbol = node.symbol;
            let isConstructor = symbol.name == "constructor";
            // Make sure to include the implicit "this" variable as a normal argument
            let argument = node.isExternalImport() ? node.functionFirstArgumentIgnoringThis() : node.functionFirstArgument();
            let argumentCount = 0;
            let argumentList = [];
            while (argument != returnType) {
                let wasmType = this.getWasmType(argument.variableType().resolvedType);
                argumentList.push(new wasm_local_1.WasmLocalEntry(wasmType, argument.symbol.name));
                let type = wasmWrapType(wasmType);
                if (argumentTypesFirst == null)
                    argumentTypesFirst = type;
                else
                    argumentTypesLast.next = type;
                argumentTypesLast = type;
                shared.nextLocalOffset = shared.nextLocalOffset + 1;
                argumentCount++;
                argument = argument.nextSibling;
            }
            let signatureIndex = this.allocateSignature(argumentTypesFirst, wasmWrapType(wasmReturnType), argumentCount);
            let body = node.functionBody();
            // Functions without bodies are imports
            if (body == null) {
                let wasmFunctionName = getWasmFunctionName(symbol);
                if (!builtins_helper_1.isBuiltin(wasmFunctionName)) {
                    let moduleName = symbol.kind == symbol_1.SymbolKind.FUNCTION_INSTANCE ? symbol.parent().name : "global";
                    symbol.offset = this.importCount;
                    this.allocateImport(signatureIndex, moduleName, symbol.name);
                }
                node = node.nextSibling;
                return;
            }
            else {
                symbol.offset = this.functionCount;
            }
            let fn = this.allocateFunction(symbol, signatureIndex);
            fn.localEntries = argumentList.concat(fn.localEntries);
            fn.isConstructor = isConstructor;
            fn.returnType = wasmReturnType;
            // Make sure "malloc" is tracked
            if (symbol.kind == symbol_1.SymbolKind.FUNCTION_GLOBAL && symbol.name == "malloc") {
                assert_1.assert(this.mallocFunctionIndex == -1);
                this.mallocFunctionIndex = symbol.offset;
            }
            if (symbol.kind == symbol_1.SymbolKind.FUNCTION_GLOBAL && symbol.name == "free") {
                assert_1.assert(this.freeFunctionIndex == -1);
                this.freeFunctionIndex = symbol.offset;
            }
            // Make "__WASM_INITIALIZER" as start function
            if (symbol.kind == symbol_1.SymbolKind.FUNCTION_GLOBAL && symbol.name == "__WASM_INITIALIZER") {
                assert_1.assert(this.startFunctionIndex == -1);
                this.startFunctionIndex = symbol.offset;
                this.startFunction = fn;
                this.startFunction.body = new bytearray_1.ByteArray();
            }
            if (node.isExport()) {
                fn.isExported = true;
            }
            wasmAssignLocalVariableOffsets(fn, body, shared, this.bitness);
            fn.localCount = shared.localCount;
        }
        let child = node.firstChild;
        while (child != null) {
            this.prepareToEmit(child);
            child = child.nextSibling;
        }
    }
    emitBinaryExpression(array, byteOffset, node, opcode) {
        this.emitNode(array, byteOffset, node.binaryLeft());
        this.emitNode(array, byteOffset, node.binaryRight());
        this.assembler.appendOpcode(array, byteOffset, opcode);
    }
    emitLoadFromMemory(array, byteOffset, type, relativeBase, offset) {
        let opcode;
        // Relative address
        if (relativeBase != null) {
            this.emitNode(array, byteOffset, relativeBase);
        }
        else {
            opcode = opcode_1.WasmOpcode.I32_CONST;
            this.assembler.appendOpcode(array, byteOffset, opcode);
            logger_1.log(array, byteOffset, 0, "i32 literal");
            this.assembler.writeUnsignedLEB128(array, 0);
        }
        let sizeOf = type.variableSizeOf(this.context);
        if (sizeOf == 1) {
            opcode = type.isUnsigned() ? opcode_1.WasmOpcode.I32_LOAD8_U : opcode_1.WasmOpcode.I32_LOAD8_S;
            this.assembler.appendOpcode(array, byteOffset, opcode);
            logger_1.log(array, byteOffset, 0, "alignment");
            this.assembler.writeUnsignedLEB128(array, 0);
        }
        else if (sizeOf == 2) {
            opcode = type.isUnsigned() ? opcode_1.WasmOpcode.I32_LOAD16_U : opcode_1.WasmOpcode.I32_LOAD16_S;
            this.assembler.appendOpcode(array, byteOffset, opcode);
            logger_1.log(array, byteOffset, 1, "alignment");
            this.assembler.writeUnsignedLEB128(array, 1);
        }
        else if (sizeOf == 4 || type.isClass()) {
            if (type.isFloat()) {
                this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.F32_LOAD);
            }
            else {
                this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.I32_LOAD);
            }
            logger_1.log(array, byteOffset, 2, "alignment");
            this.assembler.writeUnsignedLEB128(array, 2);
        }
        else if (sizeOf == 8) {
            if (type.isDouble()) {
                this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.F64_LOAD);
            }
            else {
                this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.I64_LOAD);
            }
            logger_1.log(array, byteOffset, 3, "alignment");
            this.assembler.writeUnsignedLEB128(array, 3);
        }
        else {
            assert_1.assert(false);
        }
        logger_1.log(array, byteOffset, offset, "load offset");
        this.assembler.writeUnsignedLEB128(array, offset);
    }
    emitStoreToMemory(array, byteOffset, type, relativeBase, offset, value) {
        // Relative address
        if (relativeBase != null) {
            this.emitNode(array, byteOffset, relativeBase);
        }
        else {
            this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.I32_CONST);
            logger_1.log(array, byteOffset, 0, "i32 literal");
            this.assembler.writeUnsignedLEB128(array, 0);
        }
        this.emitNode(array, byteOffset, value);
        let sizeOf = type.variableSizeOf(this.context);
        if (sizeOf == 1) {
            this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.I32_STORE8);
            logger_1.log(array, byteOffset, 0, "alignment");
            this.assembler.writeUnsignedLEB128(array, 0);
        }
        else if (sizeOf == 2) {
            this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.I32_STORE16);
            logger_1.log(array, byteOffset, 1, "alignment");
            this.assembler.writeUnsignedLEB128(array, 1);
        }
        else if (sizeOf == 4 || type.isClass()) {
            if (type.isFloat()) {
                this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.F32_STORE);
            }
            else {
                this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.I32_STORE);
            }
            logger_1.log(array, byteOffset, 2, "alignment");
            this.assembler.writeUnsignedLEB128(array, 2);
        }
        else if (sizeOf == 8) {
            if (type.isDouble()) {
                this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.F64_STORE);
            }
            else if (type.isLong()) {
                this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.I64_STORE);
            }
            logger_1.log(array, byteOffset, 3, "alignment");
            this.assembler.writeUnsignedLEB128(array, 3);
        }
        else {
            assert_1.assert(false);
        }
        logger_1.log(array, byteOffset, offset, "load offset");
        this.assembler.writeUnsignedLEB128(array, offset);
    }
    /**
     * Emit instance
     * @param array
     * @param byteOffset
     * @param node
     */
    emitInstance(array, byteOffset, node) {
        let constructorNode = node.constructorNode();
        let callSymbol = constructorNode.symbol;
        let type = node.newType();
        let size;
        if (type.resolvedType.isArray()) {
            /**
             * If the new type if an array append total byte length and element size
             **/
            let elementNode = type.firstGenericType();
            let elementType = elementNode.resolvedType;
            let isClassElement = elementType.isClass();
            //ignore 64 bit pointer
            size = isClassElement ? 4 : elementType.allocationSizeOf(this.context);
            assert_1.assert(size > 0);
            let lengthNode = node.arrayLength();
            if (lengthNode.kind == node_1.NodeKind.INT32) {
                let length = size * lengthNode.intValue;
                this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.I32_CONST, length);
                this.assembler.writeLEB128(array, length); //array byteLength
            }
            else {
                this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.I32_CONST, size);
                this.assembler.writeLEB128(array, size);
                this.emitNode(array, byteOffset, lengthNode);
                this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.I32_MUL); //array byteLength
            }
            this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.I32_CONST, size);
            this.assembler.writeLEB128(array, size); // array element size
            let callIndex = this.getWasmFunctionCallIndex(callSymbol);
            this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.CALL);
            logger_1.log(array, byteOffset, callIndex, `call func index (${callIndex})`);
            this.assembler.writeUnsignedLEB128(array, callIndex);
        }
        else if (type.resolvedType.isTypedArray()) {
            // let elementSize = getTypedArrayElementSize(type.resolvedType.symbol.name);
            // this.assembler.appendOpcode(array, byteOffset, WasmOpcode.GET_LOCAL);
            // this.assembler.writeLEB128(array, 0);
            // this.assembler.appendOpcode(array, byteOffset, WasmOpcode.I32_CONST);
            // this.assembler.writeLEB128(array, elementSize);
            // this.assembler.appendOpcode(array, byteOffset, WasmOpcode.I32_SHL);
            // this.assembler.appendOpcode(array, byteOffset, WasmOpcode.I32_CONST);
            // this.assembler.writeLEB128(array, size);
            // this.assembler.appendOpcode(array, byteOffset, WasmOpcode.I32_ADD);
        }
        else {
            // Emit constructor arguments
            let child = node.firstChild.nextSibling;
            while (child != null) {
                this.emitNode(array, byteOffset, child);
                child = child.nextSibling;
            }
            let callIndex = this.getWasmFunctionCallIndex(callSymbol);
            this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.CALL, callIndex);
            this.assembler.writeUnsignedLEB128(array, callIndex);
        }
    }
    /**
     * Emit constructor function where malloc happens
     * @param array
     * @param byteOffset
     * @param fn
     */
    emitConstructor(array, byteOffset, fn) {
        let constructorNode = fn.symbol.node;
        let type = constructorNode.parent.symbol;
        let size = type.resolvedType.allocationSizeOf(this.context);
        assert_1.assert(size > 0);
        if (type.resolvedType.isArray()) {
            this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.GET_LOCAL, 0);
            this.assembler.writeUnsignedLEB128(array, 0); // array parameter byteLength
            this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.I32_CONST, size);
            this.assembler.writeLEB128(array, size); // size of array class, default is 8 bytes
            this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.I32_ADD);
        }
        else if (type.resolvedType.isTypedArray()) {
            let elementSize = getTypedArrayElementSize(type.resolvedType.symbol.name);
            this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.GET_LOCAL, 0);
            this.assembler.writeUnsignedLEB128(array, 0);
            this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.I32_CONST, elementSize);
            this.assembler.writeLEB128(array, elementSize);
            this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.I32_SHL);
            this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.I32_CONST, size);
            this.assembler.writeLEB128(array, size);
            this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.I32_ADD);
        }
        else {
            // Pass the object size as the first argument
            this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.I32_CONST, size);
            this.assembler.writeLEB128(array, size);
        }
        // Allocate memory
        let mallocIndex = this.calculateWasmFunctionIndex(this.mallocFunctionIndex);
        this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.CALL, mallocIndex);
        this.assembler.writeUnsignedLEB128(array, mallocIndex);
        this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.SET_LOCAL, fn.signature.argumentCount);
        this.assembler.writeUnsignedLEB128(array, fn.signature.argumentCount); // Set self pointer to first local variable which is immediate after the argument variable
    }
    emitNode(array, byteOffset, node) {
        // Assert
        assert_1.assert(!node_1.isExpression(node) || node.resolvedType != null);
        if (node.kind == node_1.NodeKind.BLOCK) {
            /**
             * Skip emitting block if parent is 'if' or 'loop' since it is already a block
             */
            let skipBlock = node.parent.kind === node_1.NodeKind.IF;
            if (!skipBlock) {
                this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.BLOCK);
                if (node.returnNode !== undefined) {
                    logger_1.log(array, byteOffset, this.currentFunction.returnType, wasm_type_1.WasmType[this.currentFunction.returnType]);
                    array.append(this.currentFunction.returnType);
                }
                else {
                    logger_1.log(array, byteOffset, wasm_type_1.WasmType.block_type, wasm_type_1.WasmType[wasm_type_1.WasmType.block_type]);
                    array.append(wasm_type_1.WasmType.block_type);
                }
            }
            let child = node.firstChild;
            while (child != null) {
                this.emitNode(array, byteOffset, child);
                child = child.nextSibling;
            }
            if (!skipBlock) {
                this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.END);
            }
        }
        else if (node.kind == node_1.NodeKind.WHILE) {
            let value = node.whileValue();
            let body = node.whileBody();
            // Ignore "while (false) { ... }"
            if (value.kind == node_1.NodeKind.BOOLEAN && value.intValue == 0) {
                return 0;
            }
            this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.BLOCK);
            logger_1.log(array, 0, wasm_type_1.WasmType.block_type, wasm_type_1.WasmType[wasm_type_1.WasmType.block_type]);
            array.append(wasm_type_1.WasmType.block_type);
            this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.LOOP);
            logger_1.log(array, 0, wasm_type_1.WasmType.block_type, wasm_type_1.WasmType[wasm_type_1.WasmType.block_type]);
            array.append(wasm_type_1.WasmType.block_type);
            if (value.kind != node_1.NodeKind.BOOLEAN) {
                this.emitNode(array, byteOffset, value);
                this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.I32_EQZ);
                this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.BR_IF);
                this.assembler.writeUnsignedLEB128(array, 1); // Break out of the immediately enclosing loop
            }
            let child = body.firstChild;
            while (child != null) {
                this.emitNode(array, byteOffset, child);
                child = child.nextSibling;
            }
            // Jump back to the top (this doesn't happen automatically)
            this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.BR);
            this.assembler.writeUnsignedLEB128(array, 0); // Continue back to the immediately enclosing loop
            this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.END); // end inner block
            this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.END); // end outer block
        }
        else if (node.kind == node_1.NodeKind.BREAK || node.kind == node_1.NodeKind.CONTINUE) {
            let label = 0;
            let parent = node.parent;
            while (parent != null && parent.kind != node_1.NodeKind.WHILE) {
                if (parent.kind == node_1.NodeKind.BLOCK) {
                    label = label + 1;
                }
                parent = parent.parent;
            }
            assert_1.assert(label > 0);
            this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.BR);
            this.assembler.writeUnsignedLEB128(array, label - (node.kind == node_1.NodeKind.BREAK ? 0 : 1));
        }
        else if (node.kind == node_1.NodeKind.EMPTY) {
            return 0;
        }
        else if (node.kind == node_1.NodeKind.EXPRESSION) {
            this.emitNode(array, byteOffset, node.expressionValue());
        }
        else if (node.kind == node_1.NodeKind.RETURN) {
            let value = node.returnValue();
            if (value != null) {
                this.emitNode(array, byteOffset, value);
            }
            this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.RETURN);
        }
        else if (node.kind == node_1.NodeKind.VARIABLES) {
            let count = 0;
            let child = node.firstChild;
            while (child != null) {
                assert_1.assert(child.kind == node_1.NodeKind.VARIABLE);
                count = count + this.emitNode(array, byteOffset, child);
                child = child.nextSibling;
            }
            return count;
        }
        else if (node.kind == node_1.NodeKind.IF) {
            let branch = node.ifFalse();
            this.emitNode(array, byteOffset, node.ifValue());
            this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.IF);
            let returnNode = node.ifReturnNode();
            let needEmptyElse = false;
            if (returnNode == null && branch === null) {
                wasm_assembler_1.append(array, 0, wasm_type_1.WasmType.block_type, wasm_type_1.WasmType[wasm_type_1.WasmType.block_type]);
            }
            else {
                if (returnNode !== null) {
                    let returnType = symbolToValueType(returnNode.resolvedType.symbol);
                    wasm_assembler_1.append(array, 0, returnType, wasm_type_1.WasmType[returnType]);
                    if (branch == null) {
                        needEmptyElse = true;
                    }
                }
                else {
                    wasm_assembler_1.append(array, 0, wasm_type_1.WasmType.block_type, wasm_type_1.WasmType[wasm_type_1.WasmType.block_type]);
                }
            }
            this.emitNode(array, byteOffset, node.ifTrue());
            if (branch != null) {
                this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.IF_ELSE);
                this.emitNode(array, byteOffset, branch);
            }
            else if (needEmptyElse) {
                this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.IF_ELSE);
                let dataType = typeToDataType(returnNode.resolvedType, this.bitness);
                this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode[`${dataType}_CONST`]);
                if (dataType === "I32" || dataType === "I64") {
                    this.assembler.writeUnsignedLEB128(array, 0);
                }
                else if (dataType === "F32") {
                    this.assembler.writeFloat(array, 0);
                }
                else if (dataType === "F64") {
                    this.assembler.writeDouble(array, 0);
                }
            }
            this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.END);
        }
        else if (node.kind == node_1.NodeKind.HOOK) {
            this.emitNode(array, byteOffset, node.hookValue());
            this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.IF);
            let trueValue = node.hookTrue();
            let trueValueType = symbolToValueType(trueValue.resolvedType.symbol);
            wasm_assembler_1.append(array, 0, trueValueType, wasm_type_1.WasmType[trueValueType]);
            this.emitNode(array, byteOffset, trueValue);
            this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.IF_ELSE);
            this.emitNode(array, byteOffset, node.hookFalse());
            this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.END);
        }
        else if (node.kind == node_1.NodeKind.VARIABLE) {
            let value = node.variableValue();
            if (node.symbol.name == "this" && this.currentFunction.symbol.name == "constructor") {
                // skip this
            }
            else if (node.symbol.kind == symbol_1.SymbolKind.VARIABLE_LOCAL) {
                if (value &&
                    value.kind != node_1.NodeKind.NAME &&
                    value.kind != node_1.NodeKind.CALL &&
                    value.kind != node_1.NodeKind.NEW &&
                    value.kind != node_1.NodeKind.DOT &&
                    value.rawValue) {
                    if (node.symbol.resolvedType.isFloat()) {
                        this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.F32_CONST, value.floatValue);
                        this.assembler.writeFloat(array, value.floatValue);
                    }
                    else if (node.symbol.resolvedType.isDouble()) {
                        this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.F64_CONST, value.doubleValue);
                        this.assembler.writeDouble(array, value.doubleValue);
                    }
                    else if (node.symbol.resolvedType.isLong()) {
                        this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.I64_CONST, value.longValue);
                        this.assembler.writeLEB128(array, value.longValue);
                    }
                    else {
                        this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.I32_CONST, value.intValue);
                        this.assembler.writeLEB128(array, value.intValue);
                    }
                }
                else {
                    if (value != null) {
                        this.emitNode(array, byteOffset, value);
                    }
                    else {
                        // Default value
                        if (node.symbol.resolvedType.isFloat()) {
                            this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.F32_CONST, 0);
                            this.assembler.writeFloat(array, 0);
                        }
                        else if (node.symbol.resolvedType.isDouble()) {
                            this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.F64_CONST, 0);
                            this.assembler.writeDouble(array, 0);
                        }
                        else if (node.symbol.resolvedType.isLong()) {
                            this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.I64_CONST, 0);
                            this.assembler.writeLEB128(array, 0);
                        }
                        else {
                            this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.I32_CONST, 0);
                            this.assembler.writeLEB128(array, 0);
                        }
                    }
                }
                let skipSetLocal = value && node_1.isUnaryPostfix(value.kind);
                if (skipSetLocal == false) {
                    this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.SET_LOCAL, node.symbol.offset);
                    this.assembler.writeUnsignedLEB128(array, node.symbol.offset);
                }
            }
            else {
                assert_1.assert(false);
            }
        }
        else if (node.kind == node_1.NodeKind.NAME) {
            let symbol = node.symbol;
            if (symbol.kind == symbol_1.SymbolKind.VARIABLE_ARGUMENT || symbol.kind == symbol_1.SymbolKind.VARIABLE_LOCAL) {
                // FIXME This should handle in checker.
                if (symbol.name === "this" && this.currentFunction.symbol.name === "constructor") {
                    this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.GET_LOCAL, this.currentFunction.signature.argumentCount);
                    this.assembler.writeUnsignedLEB128(array, this.currentFunction.signature.argumentCount);
                }
                else {
                    this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.GET_LOCAL, symbol.offset);
                    this.assembler.writeUnsignedLEB128(array, symbol.offset);
                }
            }
            else if (symbol.kind == symbol_1.SymbolKind.VARIABLE_GLOBAL) {
                // FIXME: Final spec allow immutable global variables
                this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.GET_GLOBAL, symbol.offset);
                this.assembler.writeUnsignedLEB128(array, symbol.offset);
                // this.emitLoadFromMemory(array, byteOffset, symbol.resolvedType, null, WASM_MEMORY_INITIALIZER_BASE + symbol.offset);
            }
            else {
                assert_1.assert(false);
            }
        }
        else if (node.kind == node_1.NodeKind.DEREFERENCE) {
            this.emitLoadFromMemory(array, byteOffset, node.resolvedType.underlyingType(this.context), node.unaryValue(), 0);
        }
        else if (node.kind == node_1.NodeKind.POINTER_INDEX) {
            this.emitLoadFromMemory(array, byteOffset, node.resolvedType.underlyingType(this.context), node.pointer(), node.pointerOffset());
        }
        else if (node.kind == node_1.NodeKind.NULL) {
            this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.I32_CONST, 0);
            this.assembler.writeLEB128(array, 0);
        }
        else if (node.kind == node_1.NodeKind.INT32 || node.kind == node_1.NodeKind.BOOLEAN) {
            this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.I32_CONST, node.intValue);
            this.assembler.writeLEB128(array, node.intValue || 0);
        }
        else if (node.kind == node_1.NodeKind.INT64) {
            this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.I64_CONST, node.longValue);
            this.assembler.writeLEB128(array, node.longValue);
        }
        else if (node.kind == node_1.NodeKind.FLOAT32) {
            this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.F32_CONST, node.floatValue);
            this.assembler.writeFloat(array, node.floatValue);
        }
        else if (node.kind == node_1.NodeKind.FLOAT64) {
            this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.F64_CONST, node.doubleValue);
            this.assembler.writeDouble(array, node.doubleValue);
        }
        else if (node.kind == node_1.NodeKind.STRING) {
            let value = WASM_MEMORY_INITIALIZER_BASE + node.intValue;
            this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.I32_CONST, value);
            this.assembler.writeLEB128(array, value);
        }
        else if (node.kind == node_1.NodeKind.CALL) {
            let value = node.callValue();
            let symbol = value.symbol;
            assert_1.assert(symbol_1.isFunction(symbol.kind));
            // Write out the implicit "this" argument
            if (!symbol.node.isExternalImport() && symbol.kind == symbol_1.SymbolKind.FUNCTION_INSTANCE) {
                let dotTarget = value.dotTarget();
                this.emitNode(array, byteOffset, dotTarget);
                if (dotTarget.kind == node_1.NodeKind.NEW) {
                    this.emitInstance(array, byteOffset, dotTarget);
                }
            }
            let child = value.nextSibling;
            while (child != null) {
                this.emitNode(array, byteOffset, child);
                child = child.nextSibling;
            }
            let wasmFunctionName = getWasmFunctionName(symbol);
            if (builtins_helper_1.isBuiltin(wasmFunctionName)) {
                this.assembler.appendOpcode(array, byteOffset, builtins_helper_1.getBuiltinOpcode(symbol.name));
            }
            else {
                let callIndex = this.getWasmFunctionCallIndex(symbol);
                this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.CALL, callIndex);
                this.assembler.writeUnsignedLEB128(array, callIndex);
            }
        }
        else if (node.kind == node_1.NodeKind.NEW) {
            this.emitInstance(array, byteOffset, node);
        }
        else if (node.kind == node_1.NodeKind.DELETE) {
            let value = node.deleteValue();
            this.emitNode(array, byteOffset, value);
            let freeIndex = this.calculateWasmFunctionIndex(this.freeFunctionIndex);
            this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.CALL, freeIndex);
            this.assembler.writeUnsignedLEB128(array, freeIndex);
        }
        else if (node.kind == node_1.NodeKind.POSITIVE) {
            this.emitNode(array, byteOffset, node.unaryValue());
        }
        else if (node.kind == node_1.NodeKind.NEGATIVE) {
            let resolvedType = node.unaryValue().resolvedType;
            if (resolvedType.isFloat()) {
                this.emitNode(array, byteOffset, node.unaryValue());
                this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.F32_NEG);
            }
            else if (resolvedType.isDouble()) {
                this.emitNode(array, byteOffset, node.unaryValue());
                this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.F64_NEG);
            }
            else if (resolvedType.isInteger()) {
                this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.I32_CONST, 0);
                this.assembler.writeLEB128(array, 0);
                this.emitNode(array, byteOffset, node.unaryValue());
                this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.I32_SUB);
            }
            else if (resolvedType.isLong()) {
                this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.I64_CONST, 0);
                this.assembler.writeLEB128(array, 0);
                this.emitNode(array, byteOffset, node.unaryValue());
                this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.I64_SUB);
            }
        }
        else if (node.kind == node_1.NodeKind.COMPLEMENT) {
            this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.I32_CONST, ~0);
            this.assembler.writeLEB128(array, ~0);
            this.emitNode(array, byteOffset, node.unaryValue());
            this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.I32_XOR);
        }
        else if (node.kind == node_1.NodeKind.NOT) {
            this.emitNode(array, byteOffset, node.unaryValue());
            this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.I32_EQZ);
        }
        else if (node.kind == node_1.NodeKind.CAST) {
            let value = node.castValue();
            let context = this.context;
            let from = value.resolvedType.underlyingType(context);
            let type = node.resolvedType.underlyingType(context);
            let fromSize = from.variableSizeOf(context);
            let typeSize = type.variableSizeOf(context);
            //FIXME: Handle 8,16 bit integer to float casting
            // Sign-extend
            // if (
            //     from == context.int32Type &&
            //     type == context.int8Type || type == context.int16Type
            // ) {
            //     let shift = 32 - typeSize * 8;
            //     this.emitNode(array, byteOffset, value);
            //     this.assembler.appendOpcode(array, byteOffset, WasmOpcode.I32_CONST);
            //     log(array, byteOffset, shift, "i32 literal");
            //     this.assembler.writeLEB128(array, shift);
            //     this.assembler.appendOpcode(array, byteOffset, WasmOpcode.I32_SHR_S);
            //     this.assembler.appendOpcode(array, byteOffset, WasmOpcode.I32_CONST);
            //     log(array, byteOffset, shift, "i32 literal");
            //     this.assembler.writeLEB128(array, shift);
            //     this.assembler.appendOpcode(array, byteOffset, WasmOpcode.I32_SHL);
            // }
            //
            // // Mask
            // else if (
            //     from == context.int32Type || from == context.uint32Type &&
            //     type == context.uint8Type || type == context.uint16Type
            // ) {
            //     this.emitNode(array, byteOffset, value);
            //     this.assembler.appendOpcode(array, byteOffset, WasmOpcode.I32_CONST);
            //     let _value = type.integerBitMask(this.context);
            //     log(array, byteOffset, _value, "i32 literal");
            //     this.assembler.writeLEB128(array, _value);
            //     this.assembler.appendOpcode(array, byteOffset, WasmOpcode.I32_AND);
            // }
            // --- 32 bit Integer casting ---
            // i32 > i64
            if ((from == context.nullType || from == context.booleanType || from == context.int32Type || from == context.uint32Type) &&
                (type == context.int64Type || type == context.uint64Type)) {
                if (value.kind == node_1.NodeKind.NULL) {
                    this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.I64_CONST, 0);
                    this.assembler.writeLEB128(array, 0);
                }
                else if (value.kind == node_1.NodeKind.BOOLEAN) {
                    let intValue = value.intValue || 0;
                    this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.I64_CONST, intValue);
                    this.assembler.writeLEB128(array, intValue);
                }
                else if (value.kind == node_1.NodeKind.INT32) {
                    this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.I64_CONST, value.longValue);
                    this.assembler.writeLEB128(array, value.longValue);
                }
                else {
                    let isUnsigned = value.resolvedType.isUnsigned();
                    this.emitNode(array, byteOffset, value);
                    this.assembler.appendOpcode(array, byteOffset, isUnsigned ? opcode_1.WasmOpcode.I64_EXTEND_U_I32 : opcode_1.WasmOpcode.I64_EXTEND_S_I32);
                }
            }
            else if ((from == context.nullType || from == context.booleanType || from == context.int32Type || from == context.uint32Type) &&
                type == context.float32Type) {
                if (value.kind == node_1.NodeKind.NULL) {
                    this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.F32_CONST, 0);
                    this.assembler.writeFloat(array, 0);
                }
                else if (value.kind == node_1.NodeKind.BOOLEAN) {
                    let floatValue = value.intValue || 0;
                    this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.F32_CONST, floatValue);
                    this.assembler.writeFloat(array, floatValue);
                }
                else if (value.kind == node_1.NodeKind.INT32) {
                    let floatValue = value.floatValue || 0;
                    this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.F32_CONST, floatValue);
                    this.assembler.writeFloat(array, floatValue);
                }
                else {
                    let isUnsigned = value.resolvedType.isUnsigned();
                    this.emitNode(array, byteOffset, value);
                    this.assembler.appendOpcode(array, byteOffset, isUnsigned ? opcode_1.WasmOpcode.F32_CONVERT_U_I32 : opcode_1.WasmOpcode.F32_CONVERT_S_I32);
                }
            }
            else if ((from == context.nullType || from == context.int32Type || from == context.uint32Type) &&
                type == context.float64Type) {
                if (value.kind == node_1.NodeKind.NULL) {
                    this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.F64_CONST, 0);
                    this.assembler.writeDouble(array, 0);
                }
                else if (value.kind == node_1.NodeKind.BOOLEAN) {
                    let doubleValue = value.doubleValue || 0;
                    this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.F64_CONST, doubleValue);
                    this.assembler.writeDouble(array, doubleValue);
                }
                else if (value.kind == node_1.NodeKind.INT32) {
                    let doubleValue = value.doubleValue || 0;
                    this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.F64_CONST, doubleValue);
                    this.assembler.writeDouble(array, doubleValue);
                }
                else {
                    let isUnsigned = value.resolvedType.isUnsigned();
                    this.emitNode(array, byteOffset, value);
                    this.assembler.appendOpcode(array, byteOffset, isUnsigned ? opcode_1.WasmOpcode.F64_CONVERT_U_I32 : opcode_1.WasmOpcode.F64_CONVERT_S_I32);
                }
            }
            else if ((from == context.int64Type || from == context.uint64Type) &&
                (type == context.int32Type || type == context.uint32Type)) {
                if (value.kind == node_1.NodeKind.INT64) {
                    let intValue = value.intValue || 0;
                    this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.I32_CONST, intValue);
                    this.assembler.writeLEB128(array, intValue);
                }
                else {
                    this.emitNode(array, byteOffset, value);
                    this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.I32_WRAP_I64);
                }
            }
            else if ((from == context.int64Type || from == context.uint64Type) &&
                type == context.float32Type) {
                if (value.kind == node_1.NodeKind.INT32) {
                    let floatValue = value.floatValue || 0;
                    this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.F32_CONST, floatValue);
                    this.assembler.writeFloat(array, floatValue);
                }
                else {
                    let isUnsigned = value.resolvedType.isUnsigned();
                    this.emitNode(array, byteOffset, value);
                    this.assembler.appendOpcode(array, byteOffset, isUnsigned ? opcode_1.WasmOpcode.F32_CONVERT_U_I64 : opcode_1.WasmOpcode.F32_CONVERT_S_I64);
                }
            }
            else if ((from == context.int64Type || from == context.uint64Type) &&
                type == context.float64Type) {
                if (value.kind == node_1.NodeKind.INT64) {
                    let doubleValue = value.doubleValue || 0;
                    this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.F64_CONST, doubleValue);
                    this.assembler.writeDouble(array, doubleValue);
                }
                else {
                    let isUnsigned = value.resolvedType.isUnsigned();
                    this.emitNode(array, byteOffset, value);
                    this.assembler.appendOpcode(array, byteOffset, isUnsigned ? opcode_1.WasmOpcode.F64_CONVERT_U_I64 : opcode_1.WasmOpcode.F64_CONVERT_S_I64);
                }
            }
            else if (from == context.float32Type &&
                (type == context.uint8Type || type == context.int8Type ||
                    type == context.uint16Type || type == context.int16Type ||
                    type == context.uint32Type || type == context.int32Type)) {
                if (value.kind == node_1.NodeKind.FLOAT32) {
                    let intValue = value.intValue || 0;
                    this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.I32_CONST, intValue);
                    this.assembler.writeLEB128(array, intValue);
                }
                else {
                    let isUnsigned = type.isUnsigned();
                    this.emitNode(array, byteOffset, value);
                    this.assembler.appendOpcode(array, byteOffset, isUnsigned ? opcode_1.WasmOpcode.I32_TRUNC_U_F32 : opcode_1.WasmOpcode.I32_TRUNC_S_F32);
                }
            }
            else if (from == context.float32Type &&
                (type == context.int64Type || type == context.uint64Type)) {
                if (value.kind == node_1.NodeKind.FLOAT32) {
                    let longValue = value.longValue || 0;
                    this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.I64_CONST, longValue);
                    this.assembler.writeLEB128(array, longValue);
                }
                else {
                    let isUnsigned = type.isUnsigned();
                    this.emitNode(array, byteOffset, value);
                    this.assembler.appendOpcode(array, byteOffset, isUnsigned ? opcode_1.WasmOpcode.I64_TRUNC_U_F32 : opcode_1.WasmOpcode.I64_TRUNC_S_F32);
                }
            }
            else if (from == context.float32Type && type == context.float64Type) {
                if (value.kind == node_1.NodeKind.FLOAT32) {
                    let doubleValue = value.doubleValue || 0;
                    this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.F64_CONST, doubleValue);
                    this.assembler.writeDouble(array, doubleValue);
                }
                else {
                    this.emitNode(array, byteOffset, value);
                    this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.F64_PROMOTE_F32);
                }
            }
            else if (from == context.float64Type &&
                (type == context.uint8Type || type == context.int8Type ||
                    type == context.uint16Type || type == context.int16Type ||
                    type == context.uint32Type || type == context.int32Type)) {
                if (value.kind == node_1.NodeKind.FLOAT64) {
                    let intValue = value.intValue || 0;
                    this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.I32_CONST, intValue);
                    this.assembler.writeLEB128(array, intValue);
                }
                else {
                    let isUnsigned = type.isUnsigned();
                    this.emitNode(array, byteOffset, value);
                    this.assembler.appendOpcode(array, byteOffset, isUnsigned ? opcode_1.WasmOpcode.I32_TRUNC_U_F64 : opcode_1.WasmOpcode.I32_TRUNC_S_F64);
                }
            }
            else if (from == context.float64Type &&
                (type == context.int64Type || type == context.uint64Type)) {
                if (value.kind == node_1.NodeKind.FLOAT64) {
                    let longValue = value.longValue || 0;
                    this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.I64_CONST, longValue);
                    this.assembler.writeLEB128(array, longValue);
                }
                else {
                    let isUnsigned = type.isUnsigned();
                    this.emitNode(array, byteOffset, value);
                    this.assembler.appendOpcode(array, byteOffset, isUnsigned ? opcode_1.WasmOpcode.I64_TRUNC_U_F64 : opcode_1.WasmOpcode.I64_TRUNC_S_F64);
                }
            }
            else if (from == context.float64Type && type == context.float32Type) {
                if (value.kind == node_1.NodeKind.FLOAT64) {
                    let floatValue = value.floatValue || 0;
                    this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.F32_CONST, floatValue);
                    this.assembler.writeFloat(array, floatValue);
                }
                else {
                    this.emitNode(array, byteOffset, value);
                    this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.F32_DEMOTE_F64);
                }
            }
            else {
                this.emitNode(array, byteOffset, value);
            }
        }
        else if (node.kind == node_1.NodeKind.DOT) {
            let symbol = node.symbol;
            if (symbol.kind == symbol_1.SymbolKind.VARIABLE_INSTANCE) {
                this.emitLoadFromMemory(array, byteOffset, symbol.resolvedType, node.dotTarget(), symbol.offset);
            }
            else {
                assert_1.assert(false);
            }
        }
        else if (node.kind == node_1.NodeKind.ASSIGN) {
            let left = node.binaryLeft();
            let right = node.binaryRight();
            let symbol = left.symbol;
            if (left.kind == node_1.NodeKind.DEREFERENCE) {
                this.emitStoreToMemory(array, byteOffset, left.resolvedType.underlyingType(this.context), left.unaryValue(), 0, right);
            }
            else if (left.kind == node_1.NodeKind.POINTER_INDEX) {
                this.emitStoreToMemory(array, byteOffset, left.resolvedType.underlyingType(this.context), left.pointer(), left.pointerOffset(), right);
            }
            else if (symbol.kind == symbol_1.SymbolKind.VARIABLE_INSTANCE) {
                this.emitStoreToMemory(array, byteOffset, symbol.resolvedType, left.dotTarget(), symbol.offset, right);
            }
            else if (symbol.kind == symbol_1.SymbolKind.VARIABLE_GLOBAL) {
                this.emitNode(array, byteOffset, right);
                this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.SET_GLOBAL);
                this.assembler.writeUnsignedLEB128(array, symbol.offset);
                // this.emitStoreToMemory(array, byteOffset, symbol.resolvedType, null, WASM_MEMORY_INITIALIZER_BASE + symbol.offset, right);
            }
            else if (symbol.kind == symbol_1.SymbolKind.VARIABLE_ARGUMENT || symbol.kind == symbol_1.SymbolKind.VARIABLE_LOCAL) {
                this.emitNode(array, byteOffset, right);
                if (!node_1.isUnaryPostfix(right.kind)) {
                    this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.SET_LOCAL, symbol.offset);
                    this.assembler.writeUnsignedLEB128(array, symbol.offset);
                }
            }
            else {
                assert_1.assert(false);
            }
        }
        else if (node.kind == node_1.NodeKind.LOGICAL_AND) {
            this.emitNode(array, byteOffset, node.binaryLeft());
            this.emitNode(array, byteOffset, node.binaryRight());
            this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.I32_AND);
            this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.I32_CONST, 1);
            this.assembler.writeLEB128(array, 1);
            this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.I32_EQ);
        }
        else if (node.kind == node_1.NodeKind.LOGICAL_OR) {
            this.emitNode(array, byteOffset, node.binaryLeft());
            this.emitNode(array, byteOffset, node.binaryRight());
            this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.I32_OR);
            this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.I32_CONST);
            logger_1.log(array, byteOffset, 1, "i32 literal");
            this.assembler.writeLEB128(array, 1);
            this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.I32_EQ);
        }
        else if (node_1.isUnary(node.kind)) {
            let kind = node.kind;
            if (kind == node_1.NodeKind.POSTFIX_INCREMENT || kind == node_1.NodeKind.POSTFIX_DECREMENT) {
                let value = node.unaryValue();
                let dataType = typeToDataType(value.resolvedType, this.bitness);
                //TODO handle instance variable
                if (node.parent.kind == node_1.NodeKind.VARIABLE) {
                    this.emitNode(array, byteOffset, value);
                    this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.SET_LOCAL, node.parent.symbol.offset);
                    this.assembler.writeUnsignedLEB128(array, node.parent.symbol.offset);
                }
                else if (node.parent.kind == node_1.NodeKind.ASSIGN) {
                    this.emitNode(array, byteOffset, value);
                    let left = node.parent.binaryLeft();
                    this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.SET_LOCAL, left.symbol.offset);
                    this.assembler.writeUnsignedLEB128(array, left.symbol.offset);
                }
                this.emitNode(array, byteOffset, value);
                if (node.parent.kind != node_1.NodeKind.RETURN) {
                    assert_1.assert(value.resolvedType.isInteger() || value.resolvedType.isLong() ||
                        value.resolvedType.isFloat() || value.resolvedType.isDouble());
                    let size = value.resolvedType.pointerTo ?
                        value.resolvedType.pointerTo.allocationSizeOf(this.context) :
                        value.resolvedType.allocationSizeOf(this.context);
                    if (size == 1 || size == 2) {
                        if (value.kind == node_1.NodeKind.INT32 || value.resolvedType.isInteger()) {
                            this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.I32_CONST, 1);
                            this.assembler.writeLEB128(array, 1);
                        }
                        else {
                            terminal_1.Terminal.error("Wrong type");
                        }
                    }
                    else if (size == 4) {
                        if (value.kind == node_1.NodeKind.INT32 || value.resolvedType.isInteger()) {
                            this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.I32_CONST, 1);
                            this.assembler.writeLEB128(array, 1);
                        }
                        else if (value.kind == node_1.NodeKind.FLOAT32 || value.resolvedType.isFloat()) {
                            this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.F32_CONST, 1.0);
                            this.assembler.writeFloat(array, 1);
                        }
                        else {
                            terminal_1.Terminal.error("Wrong type");
                        }
                    }
                    else if (size == 8) {
                        if (value.kind == node_1.NodeKind.INT64 || value.resolvedType.isLong()) {
                            this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.I64_CONST, 1);
                            this.assembler.writeLEB128(array, 1);
                        }
                        else if (value.kind == node_1.NodeKind.FLOAT64 || value.resolvedType.isDouble()) {
                            this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.F64_CONST, 1.0);
                            this.assembler.writeDouble(array, 1);
                        }
                        else {
                            terminal_1.Terminal.error("Wrong type");
                        }
                    }
                    //TODO extend to other operations
                    let operation = kind == node_1.NodeKind.POSTFIX_INCREMENT ? "ADD" : "SUB";
                    this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode[`${dataType}_${operation}`]);
                    if (value.symbol.kind == symbol_1.SymbolKind.VARIABLE_GLOBAL) {
                        this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.SET_GLOBAL, value.symbol.offset);
                        this.assembler.writeLEB128(array, value.symbol.offset);
                    }
                    else if (value.symbol.kind == symbol_1.SymbolKind.VARIABLE_LOCAL || value.symbol.kind == symbol_1.SymbolKind.VARIABLE_ARGUMENT) {
                        this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.SET_LOCAL, value.symbol.offset);
                        this.assembler.writeLEB128(array, value.symbol.offset);
                    }
                    else if (value.symbol.kind == symbol_1.SymbolKind.VARIABLE_INSTANCE) {
                        //FIXME
                        //this.emitStoreToMemory(array, byteOffset, value.symbol.resolvedType, value.dotTarget(), value.symbol.offset, node);
                    }
                }
            }
        }
        else {
            let isUnsigned = node.isUnsignedOperator();
            let left = node.binaryLeft();
            let right = node.binaryRight();
            let isFloat = left.resolvedType.isFloat() || right.resolvedType.isFloat();
            let isDouble = left.resolvedType.isDouble() || right.resolvedType.isDouble();
            let dataTypeLeft = typeToDataType(left.resolvedType, this.bitness);
            let dataTypeRight = typeToDataType(right.resolvedType, this.bitness);
            if (node.kind == node_1.NodeKind.ADD) {
                this.emitNode(array, byteOffset, left);
                if (left.resolvedType.pointerTo == null) {
                    this.emitNode(array, byteOffset, right);
                }
                else {
                    assert_1.assert(right.resolvedType.isInteger() || right.resolvedType.isLong() ||
                        right.resolvedType.isFloat() || right.resolvedType.isDouble());
                    let size = left.resolvedType.pointerTo.allocationSizeOf(this.context);
                    if (size == 2) {
                        if (right.kind == node_1.NodeKind.INT32) {
                            let _value = right.intValue << 1;
                            this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.I32_CONST, _value);
                            this.assembler.writeLEB128(array, _value);
                        }
                        else {
                            this.emitNode(array, byteOffset, right);
                            this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.I32_CONST, 1);
                            this.assembler.writeLEB128(array, 1);
                            this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.I32_SHL);
                        }
                    }
                    else if (size == 4) {
                        if (right.kind == node_1.NodeKind.INT32) {
                            let _value = right.intValue << 2;
                            this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.I32_CONST, _value);
                            this.assembler.writeLEB128(array, _value);
                        }
                        else if (right.kind == node_1.NodeKind.FLOAT32) {
                            this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.F32_CONST, right.floatValue);
                            this.assembler.writeFloat(array, right.floatValue);
                        }
                        else {
                            this.emitNode(array, byteOffset, right);
                            this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.I32_CONST, 2);
                            this.assembler.writeLEB128(array, 2);
                            this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.I32_SHL);
                        }
                    }
                    else if (size == 8) {
                        if (right.kind == node_1.NodeKind.INT64) {
                            this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.I64_CONST, right.longValue);
                            this.assembler.writeLEB128(array, right.longValue);
                        }
                        else if (right.kind == node_1.NodeKind.FLOAT64) {
                            this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode.F64_CONST, right.doubleValue);
                            this.assembler.writeDouble(array, right.doubleValue);
                        }
                    }
                    else {
                        this.emitNode(array, byteOffset, right);
                    }
                }
                this.assembler.appendOpcode(array, byteOffset, opcode_1.WasmOpcode[`${dataTypeLeft}_ADD`]);
            }
            else if (node.kind == node_1.NodeKind.BITWISE_AND) {
                if (isFloat || isDouble) {
                    throw "Cannot do bitwise operations on floating point number";
                }
                this.emitBinaryExpression(array, byteOffset, node, opcode_1.WasmOpcode[`${dataTypeLeft}_AND`]);
            }
            else if (node.kind == node_1.NodeKind.BITWISE_OR) {
                if (isFloat || isDouble) {
                    throw "Cannot do bitwise operations on floating point number";
                }
                this.emitBinaryExpression(array, byteOffset, node, opcode_1.WasmOpcode[`${dataTypeLeft}_OR`]);
            }
            else if (node.kind == node_1.NodeKind.BITWISE_XOR) {
                this.emitBinaryExpression(array, byteOffset, node, opcode_1.WasmOpcode[`${dataTypeLeft}_XOR`]);
            }
            else if (node.kind == node_1.NodeKind.EQUAL) {
                this.emitBinaryExpression(array, byteOffset, node, opcode_1.WasmOpcode[`${dataTypeLeft}_EQ`]);
            }
            else if (node.kind == node_1.NodeKind.MULTIPLY) {
                this.emitBinaryExpression(array, byteOffset, node, opcode_1.WasmOpcode[`${dataTypeLeft}_MUL`]);
            }
            else if (node.kind == node_1.NodeKind.NOT_EQUAL) {
                this.emitBinaryExpression(array, byteOffset, node, opcode_1.WasmOpcode[`${dataTypeLeft}_NE`]);
            }
            else if (node.kind == node_1.NodeKind.SHIFT_LEFT) {
                if (isFloat || isDouble) {
                    throw "Cannot do bitwise operations on floating point number";
                }
                this.emitBinaryExpression(array, byteOffset, node, opcode_1.WasmOpcode[`${dataTypeLeft}_SHL`]);
            }
            else if (node.kind == node_1.NodeKind.SUBTRACT) {
                this.emitBinaryExpression(array, byteOffset, node, opcode_1.WasmOpcode[`${dataTypeLeft}_SUB`]);
            }
            else if (node.kind == node_1.NodeKind.DIVIDE) {
                let opcode = (isFloat || isDouble) ?
                    opcode_1.WasmOpcode[`${dataTypeLeft}_DIV`] :
                    (isUnsigned ? opcode_1.WasmOpcode[`${dataTypeLeft}_DIV_U`] : opcode_1.WasmOpcode[`${dataTypeLeft}_DIV_S`]);
                this.emitBinaryExpression(array, byteOffset, node, opcode);
            }
            else if (node.kind == node_1.NodeKind.GREATER_THAN) {
                let opcode = (isFloat || isDouble) ?
                    opcode_1.WasmOpcode[`${dataTypeLeft}_GT`] :
                    (isUnsigned ? opcode_1.WasmOpcode[`${dataTypeLeft}_GT_U`] : opcode_1.WasmOpcode[`${dataTypeLeft}_GT_S`]);
                this.emitBinaryExpression(array, byteOffset, node, opcode);
            }
            else if (node.kind == node_1.NodeKind.GREATER_THAN_EQUAL) {
                let opcode = (isFloat || isDouble) ?
                    opcode_1.WasmOpcode[`${dataTypeLeft}_GE`] :
                    (isUnsigned ? opcode_1.WasmOpcode[`${dataTypeLeft}_GE_U`] : opcode_1.WasmOpcode[`${dataTypeLeft}_GE_S`]);
                this.emitBinaryExpression(array, byteOffset, node, opcode);
            }
            else if (node.kind == node_1.NodeKind.LESS_THAN) {
                let opcode = (isFloat || isDouble) ?
                    opcode_1.WasmOpcode[`${dataTypeLeft}_LT`] :
                    (isUnsigned ? opcode_1.WasmOpcode[`${dataTypeLeft}_LT_U`] : opcode_1.WasmOpcode[`${dataTypeLeft}_LT_S`]);
                this.emitBinaryExpression(array, byteOffset, node, opcode);
            }
            else if (node.kind == node_1.NodeKind.LESS_THAN_EQUAL) {
                let opcode = (isFloat || isDouble) ?
                    opcode_1.WasmOpcode[`${dataTypeLeft}_LE`] :
                    (isUnsigned ? opcode_1.WasmOpcode[`${dataTypeLeft}_LE_U`] : opcode_1.WasmOpcode[`${dataTypeLeft}_LE_S`]);
                this.emitBinaryExpression(array, byteOffset, node, opcode);
            }
            else if (node.kind == node_1.NodeKind.REMAINDER) {
                if (isFloat || isDouble) {
                    throw "Floating point remainder is not yet supported in WebAssembly. Please import javascript function to handle this";
                }
                this.emitBinaryExpression(array, byteOffset, node, isUnsigned ?
                    opcode_1.WasmOpcode[`${dataTypeLeft}_REM_U`] : opcode_1.WasmOpcode[`${dataTypeLeft}_REM_S`]);
            }
            else if (node.kind == node_1.NodeKind.SHIFT_RIGHT) {
                if (isFloat || isDouble) {
                    throw "Cannot do bitwise operations on floating point number";
                }
                this.emitBinaryExpression(array, byteOffset, node, isUnsigned ?
                    opcode_1.WasmOpcode[`${dataTypeLeft}_SHR_U`] : opcode_1.WasmOpcode[`${dataTypeLeft}_SHR_S`]);
            }
            else {
                assert_1.assert(false);
            }
        }
        return 1;
    }
    calculateWasmFunctionIndex(index) {
        return this.importCount + index;
    }
    getWasmFunctionCallIndex(symbol) {
        return symbol.node.isExternalImport() ? symbol.offset : this.importCount + symbol.offset;
    }
    getWasmType(type) {
        let context = this.context;
        if (type == context.booleanType || type.isClass() || type.isInteger() || (this.bitness == bitness_1.Bitness.x32 && type.isReference())) {
            return wasm_type_1.WasmType.I32;
        }
        else if (type.isLong() || (this.bitness == bitness_1.Bitness.x64 && type.isReference())) {
            return wasm_type_1.WasmType.I64;
        }
        else if (type.isDouble()) {
            return wasm_type_1.WasmType.F64;
        }
        else if (type.isFloat()) {
            return wasm_type_1.WasmType.F32;
        }
        if (type == context.voidType) {
            return wasm_type_1.WasmType.VOID;
        }
        assert_1.assert(false);
        return wasm_type_1.WasmType.VOID;
    }
}
function getWasmFunctionName(symbol) {
    let moduleName = symbol.kind == symbol_1.SymbolKind.FUNCTION_INSTANCE ? symbol.parent().internalName : "";
    return (moduleName == "" ? "" : moduleName + "_") + symbol.internalName;
}
function wasmWrapType(id) {
    assert_1.assert(id == wasm_type_1.WasmType.VOID || id == wasm_type_1.WasmType.I32 || id == wasm_type_1.WasmType.I64 || id == wasm_type_1.WasmType.F32 || id == wasm_type_1.WasmType.F64);
    let type = new wasm_type_1.WasmWrappedType();
    type.id = id;
    return type;
}
function symbolToValueType(symbol, bitness) {
    let type = symbol.resolvedType;
    if (type.isFloat()) {
        return wasm_type_1.WasmType.F32;
    }
    else if (type.isDouble()) {
        return wasm_type_1.WasmType.F64;
    }
    else if (type.isInteger() || (bitness == bitness_1.Bitness.x32 && type.pointerTo)) {
        return wasm_type_1.WasmType.I32;
    }
    else if (type.isLong() || (bitness == bitness_1.Bitness.x64 && type.pointerTo)) {
        return wasm_type_1.WasmType.I64;
    }
    else {
        return wasm_type_1.WasmType.I32;
    }
}
function typeToDataType(type, bitness) {
    if (type.isFloat()) {
        return "F32";
    }
    else if (type.isDouble()) {
        return "F64";
    }
    else if (type.isInteger() || (bitness == bitness_1.Bitness.x32 && type.pointerTo)) {
        return "I32";
    }
    else if (type.isLong() || (bitness == bitness_1.Bitness.x64 && type.pointerTo)) {
        return "I64";
    }
    else {
        return "I32";
    }
}
function getTypedArrayElementSize(name) {
    switch (name) {
        case "Uint8ClampedArray":
        case "Uint8Array":
        case "Int8Array":
            return 1;
        case "Uint16Array":
        case "Int16Array":
            return 2;
        case "Uint32Array":
        case "Int32Array":
        case "Float32Array":
            return 4;
        case "Float64Array":
            return 8;
        default:
            throw "unknown typed array";
    }
}
function wasmAssignLocalVariableOffsets(fn, node, shared, bitness) {
    if (node.kind == node_1.NodeKind.VARIABLE) {
        assert_1.assert(node.symbol.kind == symbol_1.SymbolKind.VARIABLE_LOCAL);
        node.symbol.offset = shared.nextLocalOffset;
        shared.nextLocalOffset = shared.nextLocalOffset + 1;
        shared.localCount = shared.localCount + 1;
        let local = new wasm_local_1.WasmLocal();
        local.symbol = node.symbol;
        local.type = symbolToValueType(local.symbol, bitness);
        if (fn.firstLocal == null)
            fn.firstLocal = local;
        else
            fn.lastLocal.next = local;
        fn.lastLocal = local;
        fn.localEntries.push(new wasm_local_1.WasmLocalEntry(local.type, local.symbol.name));
    }
    let child = node.firstChild;
    while (child != null) {
        wasmAssignLocalVariableOffsets(fn, child, shared, bitness);
        child = child.nextSibling;
    }
}
function wasmEmit(compiler, bitness = bitness_1.Bitness.x32) {
    let module = new WasmModule(bitness);
    module.context = compiler.context;
    module.memoryInitializer = new bytearray_1.ByteArray();
    // Set these to invalid values since "0" is valid
    module.startFunctionIndex = -1;
    module.mallocFunctionIndex = -1;
    module.freeFunctionIndex = -1;
    module.currentHeapPointer = -1;
    module.originalHeapPointer = -1;
    // Emission requires two passes
    module.prepareToEmit(compiler.global);
    module.assembler.sealFunctions();
    // The standard library must be included
    // assert(module.mallocFunctionIndex != -1);
    // assert(module.freeFunctionIndex != -1);
    // assert(module.currentHeapPointer != -1);
    // assert(module.originalHeapPointer != -1);
    // module.mallocFunctionIndex += module.importCount;
    // module.freeFunctionIndex += module.importCount;
    compiler.outputWASM = new bytearray_1.ByteArray();
    module.emitModule(compiler.outputWASM);
}
exports.wasmEmit = wasmEmit;


/***/ }),
/* 45 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const symbol_1 = __webpack_require__(5);
const type_1 = __webpack_require__(18);
const node_1 = __webpack_require__(4);
const compile_target_1 = __webpack_require__(7);
const log_1 = __webpack_require__(3);
const scope_1 = __webpack_require__(17);
const stringbuilder_1 = __webpack_require__(2);
const utils_1 = __webpack_require__(6);
const const_1 = __webpack_require__(46);
const assert_1 = __webpack_require__(1);
const compiler_1 = __webpack_require__(10);
const terminal_1 = __webpack_require__(0);
/**
 * Author : Nidin Vinayakan
 */
class CheckContext {
    allocateGlobalVariableOffset(sizeOf, alignmentOf) {
        let offset = utils_1.alignToNextMultipleOf(this.nextGlobalVariableOffset, alignmentOf);
        this.nextGlobalVariableOffset = offset + sizeOf;
        return offset;
    }
}
exports.CheckContext = CheckContext;
function addScopeToSymbol(symbol, parentScope) {
    let scope = new scope_1.Scope();
    scope.parent = parentScope;
    scope.symbol = symbol;
    symbol.scope = scope;
}
exports.addScopeToSymbol = addScopeToSymbol;
function linkSymbolToNode(symbol, node) {
    node.symbol = symbol;
    node.scope = symbol.scope;
    symbol.range = node.internalRange != null ? node.internalRange : node.range;
    symbol.node = node;
}
exports.linkSymbolToNode = linkSymbolToNode;
var CheckMode;
(function (CheckMode) {
    CheckMode[CheckMode["NORMAL"] = 0] = "NORMAL";
    CheckMode[CheckMode["INITIALIZE"] = 1] = "INITIALIZE";
})(CheckMode = exports.CheckMode || (exports.CheckMode = {}));
function initialize(context, node, parentScope, mode) {
    let kind = node.kind;
    if (node.parent != null) {
        let parentKind = node.parent.kind;
        // Validate node placement
        if (kind != node_1.NodeKind.IMPORTS &&
            kind != node_1.NodeKind.VARIABLE &&
            kind != node_1.NodeKind.VARIABLES &&
            (kind != node_1.NodeKind.FUNCTION || parentKind != node_1.NodeKind.CLASS) &&
            (parentKind == node_1.NodeKind.FILE || parentKind == node_1.NodeKind.GLOBAL) != (parentKind == node_1.NodeKind.MODULE ||
                kind == node_1.NodeKind.MODULE ||
                kind == node_1.NodeKind.CLASS ||
                kind == node_1.NodeKind.ENUM ||
                kind == node_1.NodeKind.FUNCTION ||
                kind == node_1.NodeKind.CONSTANTS)) {
            context.log.error(node.range, "This statement is not allowed here");
        }
    }
    // Module
    if (kind == node_1.NodeKind.MODULE) {
        assert_1.assert(node.symbol == null);
        let symbol = new symbol_1.Symbol();
        symbol.kind = symbol_1.SymbolKind.TYPE_MODULE;
        symbol.name = node.stringValue;
        symbol.resolvedType = new type_1.Type();
        symbol.resolvedType.symbol = symbol;
        symbol.flags = symbol_1.SYMBOL_FLAG_IS_REFERENCE;
        addScopeToSymbol(symbol, parentScope);
        linkSymbolToNode(symbol, node);
        parentScope.define(context.log, symbol, scope_1.ScopeHint.NORMAL);
        parentScope = symbol.scope;
    }
    // Class
    if (kind == node_1.NodeKind.CLASS || kind == node_1.NodeKind.ENUM) {
        assert_1.assert(node.symbol == null);
        let symbol = new symbol_1.Symbol();
        symbol.kind = kind == node_1.NodeKind.CLASS ? symbol_1.SymbolKind.TYPE_CLASS : symbol_1.SymbolKind.TYPE_ENUM;
        symbol.name = node.stringValue;
        symbol.resolvedType = new type_1.Type();
        symbol.resolvedType.symbol = symbol;
        symbol.flags = symbol_1.SYMBOL_FLAG_IS_REFERENCE;
        addScopeToSymbol(symbol, parentScope);
        linkSymbolToNode(symbol, node);
        parentScope.define(context.log, symbol, scope_1.ScopeHint.NORMAL);
        parentScope = symbol.scope;
        if (node.parameterCount() > 0) {
            //Class has generic parameters. convert it to class template
            symbol.kind = symbol_1.SymbolKind.TYPE_TEMPLATE;
            symbol.flags |= symbol_1.SYMBOL_FLAG_IS_TEMPLATE;
            //TODO: Lift generic parameter limit from 1 to many
            let genericType = node.firstGenericType();
            let genericSymbol = new symbol_1.Symbol();
            genericSymbol.kind = symbol_1.SymbolKind.TYPE_GENERIC;
            genericSymbol.name = genericType.stringValue;
            genericSymbol.resolvedType = new type_1.Type();
            genericSymbol.resolvedType.symbol = genericSymbol;
            genericSymbol.flags = symbol_1.SYMBOL_FLAG_IS_GENERIC;
            genericType.flags = node_1.NODE_FLAG_GENERIC;
            addScopeToSymbol(genericSymbol, parentScope);
            linkSymbolToNode(genericSymbol, genericType);
            parentScope.define(context.log, genericSymbol, scope_1.ScopeHint.NORMAL);
        }
    }
    else if (kind == node_1.NodeKind.FUNCTION) {
        assert_1.assert(node.symbol == null);
        let symbol = new symbol_1.Symbol();
        symbol.kind =
            node.parent.kind == node_1.NodeKind.CLASS ? symbol_1.SymbolKind.FUNCTION_INSTANCE :
                symbol_1.SymbolKind.FUNCTION_GLOBAL;
        symbol.name = node.stringValue;
        if (node.isOperator()) {
            if (symbol.name == "+" || symbol.name == "-") {
                if (node.functionFirstArgument() == node.functionReturnType()) {
                    symbol.flags = symbol_1.SYMBOL_FLAG_IS_UNARY_OPERATOR;
                    symbol.rename = symbol.name == "+" ? "op_positive" : "op_negative";
                }
                else {
                    symbol.flags = symbol_1.SYMBOL_FLAG_IS_BINARY_OPERATOR;
                    symbol.rename = symbol.name == "+" ? "op_add" : "op_subtract";
                }
            }
            else {
                symbol.rename =
                    symbol.name == "%" ? "op_remainder" :
                        symbol.name == "&" ? "op_and" :
                            symbol.name == "*" ? "op_multiply" :
                                symbol.name == "**" ? "op_exponent" :
                                    symbol.name == "++" ? "op_increment" :
                                        symbol.name == "--" ? "op_decrement" :
                                            symbol.name == "/" ? "op_divide" :
                                                symbol.name == "<" ? "op_lessThan" :
                                                    symbol.name == "<<" ? "op_shiftLeft" :
                                                        symbol.name == "==" ? "op_equals" :
                                                            symbol.name == ">" ? "op_greaterThan" :
                                                                symbol.name == ">>" ? "op_shiftRight" :
                                                                    symbol.name == "[]" ? "op_get" :
                                                                        symbol.name == "[]=" ? "op_set" :
                                                                            symbol.name == "^" ? "op_xor" :
                                                                                symbol.name == "|" ? "op_or" :
                                                                                    symbol.name == "~" ? "op_complement" :
                                                                                        null;
            }
        }
        if (symbol.name == "constructor") {
            symbol.rename = "_ctr";
        }
        addScopeToSymbol(symbol, parentScope);
        linkSymbolToNode(symbol, node);
        parentScope.define(context.log, symbol, symbol.isSetter() ? scope_1.ScopeHint.NOT_GETTER :
            symbol.isGetter() ? scope_1.ScopeHint.NOT_SETTER :
                symbol.isBinaryOperator() ? scope_1.ScopeHint.NOT_UNARY :
                    symbol.isUnaryOperator() ? scope_1.ScopeHint.NOT_BINARY :
                        scope_1.ScopeHint.NORMAL);
        parentScope = symbol.scope;
        // All instance functions have a special "this" type
        if (symbol.kind == symbol_1.SymbolKind.FUNCTION_INSTANCE) {
            let parent = symbol.parent();
            initializeSymbol(context, parent);
            if (symbol.name == "constructor") {
                let body = node.functionBody();
                if (body !== null) {
                    let variablesNode = body.firstChild;
                    if (variablesNode.kind !== node_1.NodeKind.VARIABLES) {
                        let _variablesNode = node_1.createVariables();
                        body.insertChildBefore(variablesNode, _variablesNode);
                        variablesNode = _variablesNode;
                    }
                    let firstVariable = variablesNode.firstChild;
                    if (firstVariable !== undefined) {
                        if (firstVariable.stringValue !== "this") {
                            variablesNode.insertChildBefore(firstVariable, node_1.createVariable("this", node_1.createType(parent.resolvedType), null));
                        }
                        else if (firstVariable.stringValue === "this" && firstVariable.firstChild.resolvedType === undefined) {
                            firstVariable.firstChild.resolvedType = parent.resolvedType;
                        }
                    }
                    else {
                        variablesNode.appendChild(node_1.createVariable("this", node_1.createType(parent.resolvedType), null));
                    }
                    // All constructors have special return "this" type
                    let returnNode = node_1.createReturn(node_1.createName("this"));
                    if (node.lastChild.lastChild && node.lastChild.lastChild.kind == node_1.NodeKind.RETURN) {
                        node.lastChild.lastChild.remove();
                    }
                    node.lastChild.appendChild(returnNode);
                }
            }
            else {
                let firstArgument = node.functionFirstArgument();
                if (firstArgument.stringValue !== "this") {
                    node.insertChildBefore(firstArgument, node_1.createVariable("this", node_1.createType(parent.resolvedType), null));
                }
                else if (firstArgument.stringValue === "this" && firstArgument.firstChild.resolvedType === undefined) {
                    firstArgument.firstChild.resolvedType = parent.resolvedType;
                }
            }
        }
    }
    else if (kind == node_1.NodeKind.VARIABLE) {
        assert_1.assert(node.symbol == null);
        let symbol = new symbol_1.Symbol();
        symbol.kind =
            node.parent.kind == node_1.NodeKind.CLASS ? symbol_1.SymbolKind.VARIABLE_INSTANCE :
                node.parent.kind == node_1.NodeKind.FUNCTION ? symbol_1.SymbolKind.VARIABLE_ARGUMENT :
                    node.parent.kind == node_1.NodeKind.CONSTANTS || node.parent.kind == node_1.NodeKind.ENUM ? symbol_1.SymbolKind.VARIABLE_CONSTANT :
                        node.parent.kind == node_1.NodeKind.VARIABLES && node.parent.parent.kind == node_1.NodeKind.FILE ? symbol_1.SymbolKind.VARIABLE_GLOBAL :
                            symbol_1.SymbolKind.VARIABLE_LOCAL;
        symbol.name = node.stringValue;
        symbol.scope = parentScope;
        linkSymbolToNode(symbol, node);
        parentScope.define(context.log, symbol, scope_1.ScopeHint.NORMAL);
    }
    else if (kind == node_1.NodeKind.BLOCK) {
        if (node.parent.kind != node_1.NodeKind.FUNCTION) {
            let scope = new scope_1.Scope();
            scope.parent = parentScope;
            parentScope = scope;
        }
        node.scope = parentScope;
    }
    // Children
    let child = node.firstChild;
    while (child != null) {
        if (mode == CheckMode.INITIALIZE) {
            child.flags |= node_1.NODE_FLAG_LIBRARY;
        }
        initialize(context, child, parentScope, mode);
        child = child.nextSibling;
    }
    if (kind == node_1.NodeKind.FILE && mode == CheckMode.INITIALIZE) {
        context.booleanType = parentScope.findLocal("boolean", scope_1.ScopeHint.NORMAL).resolvedType;
        context.uint8Type = parentScope.findLocal("uint8", scope_1.ScopeHint.NORMAL).resolvedType;
        context.int32Type = parentScope.findLocal("int32", scope_1.ScopeHint.NORMAL).resolvedType;
        context.int64Type = parentScope.findLocal("int64", scope_1.ScopeHint.NORMAL).resolvedType;
        context.int8Type = parentScope.findLocal("int8", scope_1.ScopeHint.NORMAL).resolvedType;
        context.int16Type = parentScope.findLocal("int16", scope_1.ScopeHint.NORMAL).resolvedType;
        context.stringType = parentScope.findLocal("string", scope_1.ScopeHint.NORMAL).resolvedType;
        context.uint32Type = parentScope.findLocal("uint32", scope_1.ScopeHint.NORMAL).resolvedType;
        context.uint64Type = parentScope.findLocal("uint64", scope_1.ScopeHint.NORMAL).resolvedType;
        context.uint16Type = parentScope.findLocal("uint16", scope_1.ScopeHint.NORMAL).resolvedType;
        context.float32Type = parentScope.findLocal("float32", scope_1.ScopeHint.NORMAL).resolvedType;
        context.float64Type = parentScope.findLocal("float64", scope_1.ScopeHint.NORMAL).resolvedType;
        prepareNativeType(context.booleanType, 1, 0);
        prepareNativeType(context.uint8Type, 1, symbol_1.SYMBOL_FLAG_NATIVE_INTEGER | symbol_1.SYMBOL_FLAG_IS_UNSIGNED);
        prepareNativeType(context.int8Type, 1, symbol_1.SYMBOL_FLAG_NATIVE_INTEGER);
        prepareNativeType(context.int16Type, 2, symbol_1.SYMBOL_FLAG_NATIVE_INTEGER);
        prepareNativeType(context.uint16Type, 2, symbol_1.SYMBOL_FLAG_NATIVE_INTEGER | symbol_1.SYMBOL_FLAG_IS_UNSIGNED);
        prepareNativeType(context.int32Type, 4, symbol_1.SYMBOL_FLAG_NATIVE_INTEGER);
        prepareNativeType(context.int64Type, 8, symbol_1.SYMBOL_FLAG_NATIVE_LONG);
        prepareNativeType(context.uint32Type, 4, symbol_1.SYMBOL_FLAG_NATIVE_INTEGER | symbol_1.SYMBOL_FLAG_IS_UNSIGNED);
        prepareNativeType(context.uint64Type, 8, symbol_1.SYMBOL_FLAG_NATIVE_LONG | symbol_1.SYMBOL_FLAG_IS_UNSIGNED);
        prepareNativeType(context.stringType, 4, symbol_1.SYMBOL_FLAG_IS_REFERENCE);
        prepareNativeType(context.float32Type, 4, symbol_1.SYMBOL_FLAG_NATIVE_FLOAT);
        prepareNativeType(context.float64Type, 8, symbol_1.SYMBOL_FLAG_NATIVE_DOUBLE);
    }
}
exports.initialize = initialize;
function prepareNativeType(type, byteSizeAndMaxAlignment, flags) {
    let symbol = type.symbol;
    symbol.kind = symbol_1.SymbolKind.TYPE_NATIVE;
    symbol.byteSize = byteSizeAndMaxAlignment;
    symbol.maxAlignment = byteSizeAndMaxAlignment;
    symbol.flags = flags;
}
function forbidFlag(context, node, flag, text) {
    if ((node.flags & flag) != 0) {
        let range = node_1.rangeForFlag(node.firstFlag, flag);
        if (range != null) {
            node.flags = node.flags & ~flag;
            context.log.error(range, text);
        }
    }
}
exports.forbidFlag = forbidFlag;
function requireFlag(context, node, flag, text) {
    if ((node.flags & flag) == 0) {
        node.flags = node.flags | flag;
        context.log.error(node.range, text);
    }
}
exports.requireFlag = requireFlag;
function initializeSymbol(context, symbol) {
    if (symbol.state == symbol_1.SymbolState.INITIALIZED) {
        assert_1.assert(symbol.resolvedType != null);
        return;
    }
    assert_1.assert(symbol.state == symbol_1.SymbolState.UNINITIALIZED);
    symbol.state = symbol_1.SymbolState.INITIALIZING;
    // Most flags aren't supported yet
    let node = symbol.node;
    // forbidFlag(context, node, NODE_FLAG_EXPORT, "Unsupported flag 'export'");
    forbidFlag(context, node, node_1.NODE_FLAG_PROTECTED, "Unsupported flag 'protected'");
    //forbidFlag(context, node, NODE_FLAG_STATIC, "Unsupported flag 'static'");
    // Module
    if (symbol.kind == symbol_1.SymbolKind.TYPE_MODULE) {
        forbidFlag(context, node, node_1.NODE_FLAG_GET, "Cannot use 'get' on a module");
        forbidFlag(context, node, node_1.NODE_FLAG_SET, "Cannot use 'set' on a module");
        forbidFlag(context, node, node_1.NODE_FLAG_PUBLIC, "Cannot use 'public' on a module");
        forbidFlag(context, node, node_1.NODE_FLAG_PRIVATE, "Cannot use 'private' on a module");
    }
    else if (symbol.kind == symbol_1.SymbolKind.TYPE_CLASS || symbol.kind == symbol_1.SymbolKind.TYPE_NATIVE ||
        symbol.kind == symbol_1.SymbolKind.TYPE_GENERIC || symbol.kind == symbol_1.SymbolKind.TYPE_TEMPLATE) {
        forbidFlag(context, node, node_1.NODE_FLAG_GET, "Cannot use 'get' on a class");
        forbidFlag(context, node, node_1.NODE_FLAG_SET, "Cannot use 'set' on a class");
        forbidFlag(context, node, node_1.NODE_FLAG_PUBLIC, "Cannot use 'public' on a class");
        forbidFlag(context, node, node_1.NODE_FLAG_PRIVATE, "Cannot use 'private' on a class");
    }
    else if (symbol.kind == symbol_1.SymbolKind.TYPE_INTERFACE) {
        forbidFlag(context, node, node_1.NODE_FLAG_GET, "Cannot use 'get' on a interface");
        forbidFlag(context, node, node_1.NODE_FLAG_SET, "Cannot use 'set' on a interface");
        forbidFlag(context, node, node_1.NODE_FLAG_PUBLIC, "Cannot use 'public' on a interface");
        forbidFlag(context, node, node_1.NODE_FLAG_PRIVATE, "Cannot use 'private' on a interface");
    }
    else if (symbol.kind == symbol_1.SymbolKind.TYPE_ENUM) {
        forbidFlag(context, node, node_1.NODE_FLAG_GET, "Cannot use 'get' on an enum");
        forbidFlag(context, node, node_1.NODE_FLAG_SET, "Cannot use 'set' on an enum");
        forbidFlag(context, node, node_1.NODE_FLAG_PUBLIC, "Cannot use 'public' on an enum");
        forbidFlag(context, node, node_1.NODE_FLAG_PRIVATE, "Cannot use 'private' on an enum");
        symbol.resolvedType = new type_1.Type();
        symbol.resolvedType.symbol = symbol;
        let underlyingSymbol = symbol.resolvedType.underlyingType(context).symbol;
        symbol.byteSize = underlyingSymbol.byteSize;
        symbol.maxAlignment = underlyingSymbol.maxAlignment;
    }
    else if (symbol_1.isFunction(symbol.kind)) {
        let body = node.functionBody();
        let returnType = node.functionReturnType();
        let oldUnsafeAllowed = context.isUnsafeAllowed;
        context.isUnsafeAllowed = node.isUnsafe();
        resolveAsType(context, returnType, symbol.scope.parent);
        if (returnType.resolvedType.isClass() && returnType.hasParameters() && node.parent != returnType.resolvedType.symbol.node) {
            deriveConcreteClass(context, returnType, [returnType.firstChild.firstChild], returnType.resolvedType.symbol.scope);
        }
        let argumentCount = 0;
        let child = node.functionFirstArgument();
        while (child != returnType) {
            assert_1.assert(child.kind == node_1.NodeKind.VARIABLE);
            assert_1.assert(child.symbol.kind == symbol_1.SymbolKind.VARIABLE_ARGUMENT);
            initializeSymbol(context, child.symbol);
            child.symbol.offset = argumentCount;
            argumentCount = argumentCount + 1;
            child = child.nextSibling;
        }
        if (symbol.kind != symbol_1.SymbolKind.FUNCTION_INSTANCE) {
            forbidFlag(context, node, node_1.NODE_FLAG_GET, "Cannot use 'get' here");
            forbidFlag(context, node, node_1.NODE_FLAG_SET, "Cannot use 'set' here");
            forbidFlag(context, node, node_1.NODE_FLAG_PUBLIC, "Cannot use 'public' here");
            forbidFlag(context, node, node_1.NODE_FLAG_PRIVATE, "Cannot use 'private' here");
        }
        else if (node.isGet()) {
            forbidFlag(context, node, node_1.NODE_FLAG_SET, "Cannot use both 'get' and 'set'");
            // Validate argument count including "this"
            if (argumentCount != 1) {
                context.log.error(symbol.range, "Getters must not have any arguments");
            }
        }
        else if (node.isSet()) {
            symbol.rename = stringbuilder_1.StringBuilder_new()
                .append("set_")
                .append(symbol.name)
                .finish();
            // Validate argument count including "this"
            if (argumentCount != 2) {
                context.log.error(symbol.range, "Setters must have exactly one argument");
            }
        }
        else if (node.isOperator()) {
            if (symbol.name == "~" || symbol.name == "++" || symbol.name == "--") {
                if (argumentCount != 1) {
                    context.log.error(symbol.range, stringbuilder_1.StringBuilder_new()
                        .append("Operator '")
                        .append(symbol.name)
                        .append("' must not have any arguments")
                        .finish());
                }
            }
            else if (symbol.name == "+" || symbol.name == "-") {
                if (argumentCount > 2) {
                    context.log.error(symbol.range, stringbuilder_1.StringBuilder_new()
                        .append("Operator '")
                        .append(symbol.name)
                        .append("' must have at most one argument")
                        .finish());
                }
            }
            else if (symbol.name == "[]=") {
                if (argumentCount < 2) {
                    context.log.error(symbol.range, "Operator '[]=' must have at least one argument");
                }
            }
            else if (argumentCount != 2) {
                context.log.error(symbol.range, stringbuilder_1.StringBuilder_new()
                    .append("Operator '")
                    .append(symbol.name)
                    .append("' must have exactly one argument")
                    .finish());
            }
        }
        symbol.resolvedType = new type_1.Type();
        symbol.resolvedType.symbol = symbol;
        if (symbol.kind == symbol_1.SymbolKind.FUNCTION_INSTANCE) {
            let parent = symbol.parent();
            let shouldConvertInstanceToGlobal = false;
            forbidFlag(context, node, node_1.NODE_FLAG_EXPORT, "Cannot use 'export' on an instance function");
            forbidFlag(context, node, node_1.NODE_FLAG_DECLARE, "Cannot use 'declare' on an instance function");
            // Functions inside declared classes are automatically declared
            if (parent.node.isDeclare()) {
                if (body == null) {
                    node.flags = node.flags | node_1.NODE_FLAG_DECLARE;
                }
                else {
                    shouldConvertInstanceToGlobal = true;
                }
            }
            else {
                if (body == null) {
                    context.log.error(node.lastChild.range, "Must implement this function");
                }
                // Functions inside export classes are automatically export
                if (parent.node.isExport()) {
                    node.flags = node.flags | node_1.NODE_FLAG_EXPORT;
                }
            }
            // Rewrite this symbol as a global function instead of an instance function
            if (shouldConvertInstanceToGlobal) {
                symbol.kind = symbol_1.SymbolKind.FUNCTION_GLOBAL;
                symbol.flags = symbol.flags | symbol_1.SYMBOL_FLAG_CONVERT_INSTANCE_TO_GLOBAL;
                symbol.rename = stringbuilder_1.StringBuilder_new()
                    .append(parent.name)
                    .appendChar('_')
                    .append(symbol.rename != null ? symbol.rename : symbol.name)
                    .finish();
                let argument = node.functionFirstArgument();
                assert_1.assert(argument.symbol.name == "this");
                argument.symbol.rename = "__this";
            }
        }
        else if (body == null) {
            forbidFlag(context, node, node_1.NODE_FLAG_EXPORT, "Cannot use 'export' on an unimplemented function");
            if (!node.parent || !node.parent.isDeclare()) {
                requireFlag(context, node, node_1.NODE_FLAG_DECLARE, "Declared functions must be prefixed with 'declare'");
            }
        }
        else {
            forbidFlag(context, node, node_1.NODE_FLAG_DECLARE, "Cannot use 'declare' on a function with an implementation");
        }
        context.isUnsafeAllowed = oldUnsafeAllowed;
    }
    else if (symbol_1.isVariable(symbol.kind)) {
        forbidFlag(context, node, node_1.NODE_FLAG_GET, "Cannot use 'get' on a variable");
        forbidFlag(context, node, node_1.NODE_FLAG_SET, "Cannot use 'set' on a variable");
        let type = node.variableType();
        let value = node.variableValue();
        let oldUnsafeAllowed = context.isUnsafeAllowed;
        context.isUnsafeAllowed = context.isUnsafeAllowed || node.isUnsafe();
        if (symbol.kind != symbol_1.SymbolKind.VARIABLE_INSTANCE) {
            forbidFlag(context, node, node_1.NODE_FLAG_PUBLIC, "Cannot use 'public' here");
            forbidFlag(context, node, node_1.NODE_FLAG_PRIVATE, "Cannot use 'private' here");
        }
        if (type != null) {
            resolveAsType(context, type, symbol.scope);
            if (type.resolvedType.isTemplate() && type.hasParameters() && node.parent != type.resolvedType.symbol.node) {
                deriveConcreteClass(context, type, [type.firstChild.firstChild], type.resolvedType.symbol.scope);
            }
            symbol.resolvedType = type.resolvedType;
        }
        else if (value != null) {
            resolveAsExpression(context, value, symbol.scope);
            if (value.resolvedType.isTemplate() && value.hasParameters() && node.parent != value.resolvedType.symbol.node) {
                deriveConcreteClass(context, value, [value.firstChild.firstChild], value.resolvedType.symbol.scope);
            }
            symbol.resolvedType = value.resolvedType;
        }
        else {
            context.log.error(node.internalRange, "Cannot create untyped variables");
            symbol.resolvedType = context.errorType;
        }
        // Validate the variable type
        if (symbol.resolvedType == context.voidType || symbol.resolvedType == context.nullType) {
            context.log.error(node.internalRange, stringbuilder_1.StringBuilder_new()
                .append("Cannot create a variable with type '")
                .append(symbol.resolvedType.toString())
                .appendChar('\'')
                .finish());
            symbol.resolvedType = context.errorType;
        }
        // Resolve constant values at initialization time
        if (symbol.kind == symbol_1.SymbolKind.VARIABLE_CONSTANT) {
            if (value != null) {
                resolveAsExpression(context, value, symbol.scope);
                checkConversion(context, value, symbol.resolvedTypeUnderlyingIfEnumValue(context), type_1.ConversionKind.IMPLICIT);
                if (value.kind == node_1.NodeKind.INT32 || value.kind == node_1.NodeKind.INT64 || value.kind == node_1.NodeKind.BOOLEAN) {
                    symbol.offset = value.intValue;
                }
                else if (value.kind == node_1.NodeKind.FLOAT32 || value.kind == node_1.NodeKind.FLOAT64) {
                    symbol.offset = value.floatValue;
                }
                else if (value.resolvedType != context.errorType) {
                    context.log.error(value.range, "Invalid constant initializer");
                    symbol.resolvedType = context.errorType;
                }
            }
            else if (symbol.isEnumValue()) {
                if (node.previousSibling != null) {
                    let previousSymbol = node.previousSibling.symbol;
                    initializeSymbol(context, previousSymbol);
                    symbol.offset = previousSymbol.offset + 1;
                }
                else {
                    symbol.offset = 0;
                }
            }
            else {
                context.log.error(node.internalRange, "Constants must be initialized");
            }
        }
        // Disallow shadowing at function scope
        if (symbol.scope.symbol == null) {
            let scope = symbol.scope.parent;
            while (scope != null) {
                let shadowed = scope.findLocal(symbol.name, scope_1.ScopeHint.NORMAL);
                if (shadowed != null) {
                    context.log.error(node.internalRange, stringbuilder_1.StringBuilder_new()
                        .append("The symbol '")
                        .append(symbol.name)
                        .append("' shadows another symbol with the same name in a parent scope")
                        .finish());
                    break;
                }
                // Stop when we pass through a function scope
                if (scope.symbol != null) {
                    break;
                }
                scope = scope.parent;
            }
        }
        context.isUnsafeAllowed = oldUnsafeAllowed;
    }
    else {
        assert_1.assert(false);
    }
    assert_1.assert(symbol.resolvedType != null);
    symbol.state = symbol_1.SymbolState.INITIALIZED;
}
exports.initializeSymbol = initializeSymbol;
/**
 * Derive a concrete class from class template type
 * @param context
 * @param type
 * @param parameters
 * @param scope
 * @returns {Symbol}
 */
function deriveConcreteClass(context, type, parameters, scope) {
    let templateNode = type.resolvedType.pointerTo ? type.resolvedType.pointerTo.symbol.node : type.resolvedType.symbol.node;
    let templateName = templateNode.stringValue;
    let typeName = templateNode.stringValue + `<${parameters[0].stringValue}>`;
    let rename = templateNode.stringValue + `_${parameters[0].stringValue}`;
    let symbol = scope.parent.findNested(typeName, scope_1.ScopeHint.NORMAL, scope_1.FindNested.NORMAL);
    if (symbol) {
        // resolve(context, type.firstChild.firstChild, scope.parent);
        let genericSymbol = scope.parent.findNested(type.firstChild.firstChild.stringValue, scope_1.ScopeHint.NORMAL, scope_1.FindNested.NORMAL);
        type.firstChild.firstChild.symbol = genericSymbol;
        if (genericSymbol.resolvedType.pointerTo) {
            type.firstChild.firstChild.resolvedType = genericSymbol.resolvedType.pointerType();
        }
        else {
            type.firstChild.firstChild.resolvedType = genericSymbol.resolvedType;
        }
        type.symbol = symbol;
        if (type.resolvedType.pointerTo) {
            type.resolvedType = symbol.resolvedType.pointerType();
        }
        else {
            type.resolvedType = symbol.resolvedType;
        }
        return;
    }
    let node = templateNode.clone();
    // node.parent = templateNode.parent;
    node.stringValue = typeName;
    cloneChildren(templateNode.firstChild.nextSibling, node, parameters, templateName, typeName);
    node.offset = null; //FIXME: we cannot take offset from class template node
    initialize(context, node, scope.parent, CheckMode.NORMAL);
    resolve(context, node, scope.parent);
    node.symbol.flags |= symbol_1.SYMBOL_FLAG_USED;
    type.symbol = node.symbol;
    node.symbol.rename = rename;
    if (type.resolvedType.pointerTo) {
        type.resolvedType = node.symbol.resolvedType.pointerType();
    }
    else {
        type.resolvedType = node.symbol.resolvedType;
    }
    if (templateNode.parent) {
        templateNode.replaceWith(node);
    }
    else {
        let prevNode = templateNode.derivedNodes[templateNode.derivedNodes.length - 1];
        prevNode.parent.insertChildAfter(prevNode, node);
    }
    if (templateNode.derivedNodes === undefined) {
        templateNode.derivedNodes = [];
    }
    templateNode.derivedNodes.push(node);
    //Leave the parameter for the emitter to identify the type
    type.firstChild.firstChild.kind = node_1.NodeKind.NAME;
    resolve(context, type.firstChild.firstChild, scope.parent);
    type.stringValue = node.symbol.name;
    return;
}
function cloneChildren(child, parentNode, parameters, templateName, typeName) {
    let firstChildNode = null;
    let lastChildNode = null;
    while (child) {
        if (child.stringValue == "this" && child.parent.symbol &&
            child.parent.symbol.kind == symbol_1.SymbolKind.FUNCTION_INSTANCE && child.kind == node_1.NodeKind.TYPE) {
            child = child.nextSibling;
            continue;
        }
        let childNode;
        if (child.kind == node_1.NodeKind.PARAMETERS || child.kind == node_1.NodeKind.PARAMETER) {
            child = child.nextSibling;
            continue;
        }
        if (child.isGeneric()) {
            let offset = child.offset;
            if (child.resolvedType) {
                offset = child.resolvedType.pointerTo ? child.resolvedType.pointerTo.symbol.node.offset : child.resolvedType.symbol.node.offset;
            }
            if (child.symbol && symbol_1.isVariable(child.symbol.kind)) {
                childNode = child.clone();
            }
            else {
                childNode = parameters[offset].clone();
            }
            childNode.kind = node_1.NodeKind.NAME;
        }
        else {
            if (child.stringValue == "T") {
                terminal_1.Terminal.write("Generic type escaped!");
                terminal_1.Terminal.write(child);
            }
            childNode = child.clone();
            if (childNode.stringValue == templateName) {
                childNode.stringValue = typeName;
            }
        }
        childNode.parent = parentNode;
        if (childNode.stringValue == "constructor" && childNode.parent.kind == node_1.NodeKind.CLASS) {
            childNode.parent.constructorFunctionNode = childNode;
        }
        if (!firstChildNode) {
            firstChildNode = childNode;
        }
        if (lastChildNode) {
            lastChildNode.nextSibling = childNode;
            childNode.previousSibling = lastChildNode;
        }
        if (child.firstChild) {
            cloneChildren(child.firstChild, childNode, parameters, templateName, typeName);
        }
        lastChildNode = childNode;
        child = child.nextSibling;
    }
    if (firstChildNode != null)
        parentNode.firstChild = firstChildNode;
    if (lastChildNode != null)
        parentNode.lastChild = lastChildNode;
}
function resolveChildren(context, node, parentScope) {
    let child = node.firstChild;
    while (child != null) {
        resolve(context, child, parentScope);
        assert_1.assert(child.resolvedType != null);
        child = child.nextSibling;
    }
}
exports.resolveChildren = resolveChildren;
function resolveChildrenAsExpressions(context, node, parentScope) {
    let child = node.firstChild;
    while (child != null) {
        resolveAsExpression(context, child, parentScope);
        child = child.nextSibling;
    }
}
exports.resolveChildrenAsExpressions = resolveChildrenAsExpressions;
function resolveAsExpression(context, node, parentScope) {
    assert_1.assert(node_1.isExpression(node));
    resolve(context, node, parentScope);
    assert_1.assert(node.resolvedType != null);
    if (node.resolvedType != context.errorType) {
        if (node.isType()) {
            context.log.error(node.range, "Expected expression but found type");
            node.resolvedType = context.errorType;
        }
        else if (node.resolvedType == context.voidType && node.parent.kind != node_1.NodeKind.EXPRESSION) {
            context.log.error(node.range, "This expression does not return a value");
            node.resolvedType = context.errorType;
        }
    }
}
exports.resolveAsExpression = resolveAsExpression;
function resolveAsType(context, node, parentScope) {
    assert_1.assert(node_1.isExpression(node));
    resolve(context, node, parentScope);
    assert_1.assert(node.resolvedType != null);
    if (node.resolvedType != context.errorType && !node.isType()) {
        context.log.error(node.range, "Expected type but found expression");
        node.resolvedType = context.errorType;
    }
}
exports.resolveAsType = resolveAsType;
function canConvert(context, node, to, kind) {
    let from = node.resolvedType;
    assert_1.assert(node_1.isExpression(node));
    assert_1.assert(from != null);
    assert_1.assert(to != null);
    //Generic always accept any types
    if (from.isGeneric() || to.isGeneric()) {
        return true;
    }
    // Early-out if the types are identical or errors
    if (from == to || from == context.errorType || to == context.errorType) {
        return true;
    }
    else if (from == context.nullType /* && to.isReference()*/) {
        return true;
    }
    else if ((from.isReference() || to.isReference())) {
        if (kind == type_1.ConversionKind.EXPLICIT) {
            return true;
        }
    }
    else if (from == context.booleanType) {
        return true;
    }
    else if (from.isInteger() && to.isInteger()) {
        let mask = to.integerBitMask(context);
        if (from.isUnsigned() && to.isUnsigned()) {
            return true;
        }
        // Allow implicit conversions between enums and int32
        if (from.isEnum() && to == from.underlyingType(context)) {
            return true;
        }
        if (!node.intValue) {
            return true;
        }
        // Only allow lossless conversions implicitly
        if (kind == type_1.ConversionKind.EXPLICIT || from.symbol.byteSize < to.symbol.byteSize ||
            node.kind == node_1.NodeKind.INT32 && (to.isUnsigned()
                ? node.intValue >= 0 && node.intValue <= const_1.MAX_UINT32_VALUE
                : node.intValue >= const_1.MIN_INT32_VALUE && node.intValue <= const_1.MAX_INT32_VALUE)) {
            return true;
        }
        return false;
    }
    else if (from.isInteger() && to.isFloat() ||
        from.isInteger() && to.isDouble() ||
        from.isLong() && to.isInteger() ||
        from.isLong() && to.isFloat() ||
        from.isLong() && to.isDouble() ||
        from.isFloat() && to.isInteger() ||
        from.isFloat() && to.isLong() ||
        from.isDouble() && to.isInteger() ||
        from.isDouble() && to.isLong() ||
        from.isDouble() && to.isFloat()) {
        if (kind == type_1.ConversionKind.IMPLICIT) {
            return false;
        }
        return true;
    }
    else if (from.isInteger() && to.isLong() ||
        from.isFloat() && to.isDouble() ||
        from.isFloat() && to.isFloat() ||
        from.isDouble() && to.isDouble()) {
        return true;
    }
    return false;
}
exports.canConvert = canConvert;
function checkConversion(context, node, to, kind) {
    if (!canConvert(context, node, to, kind)) {
        context.log.error(node.range, stringbuilder_1.StringBuilder_new()
            .append("Cannot convert from type '")
            .append(node.resolvedType.toString())
            .append("' to type '")
            .append(to.toString())
            .append(kind == type_1.ConversionKind.IMPLICIT && canConvert(context, node, to, type_1.ConversionKind.EXPLICIT) ? "' without a cast" : "'")
            .finish());
        node.resolvedType = context.errorType;
    }
}
exports.checkConversion = checkConversion;
function checkStorage(context, target) {
    assert_1.assert(node_1.isExpression(target));
    if (target.resolvedType != context.errorType &&
        target.kind != node_1.NodeKind.INDEX &&
        target.kind != node_1.NodeKind.POINTER_INDEX &&
        target.kind != node_1.NodeKind.DEREFERENCE &&
        (target.kind != node_1.NodeKind.NAME &&
            target.kind != node_1.NodeKind.DOT ||
            target.symbol != null &&
                (!symbol_1.isVariable(target.symbol.kind) ||
                    target.symbol.kind == symbol_1.SymbolKind.VARIABLE_CONSTANT))) {
        context.log.error(target.range, "Cannot store to this location");
        target.resolvedType = context.errorType;
    }
}
exports.checkStorage = checkStorage;
function createDefaultValueForType(context, type) {
    if (type.isLong()) {
        return node_1.createLong(0);
    }
    else if (type.isInteger()) {
        return node_1.createInt(0);
    }
    else if (type.isDouble()) {
        return node_1.createDouble(0);
    }
    else if (type.isFloat()) {
        return node_1.createFloat(0);
    }
    if (type == context.booleanType) {
        return node_1.createboolean(false);
    }
    if (type.isClass()) {
        return node_1.createNull();
    }
    assert_1.assert(type.isReference());
    return node_1.createNull();
}
exports.createDefaultValueForType = createDefaultValueForType;
function simplifyBinary(node) {
    let left = node.binaryLeft();
    let right = node.binaryRight();
    // Canonicalize commutative operators
    if ((node.kind == node_1.NodeKind.ADD || node.kind == node_1.NodeKind.MULTIPLY ||
        node.kind == node_1.NodeKind.BITWISE_AND || node.kind == node_1.NodeKind.BITWISE_OR || node.kind == node_1.NodeKind.BITWISE_XOR) &&
        left.kind == node_1.NodeKind.INT32 && right.kind != node_1.NodeKind.INT32) {
        node.appendChild(left.remove());
        left = node.binaryLeft();
        right = node.binaryRight();
    }
    // Convert multiplication or division by a power of 2 into a shift
    if ((node.kind == node_1.NodeKind.MULTIPLY || (node.kind == node_1.NodeKind.DIVIDE || node.kind == node_1.NodeKind.REMAINDER) && node.resolvedType.isUnsigned()) &&
        right.kind == node_1.NodeKind.INT32 && utils_1.isPositivePowerOf2(right.intValue)) {
        // Extract the shift from the value
        let shift = -1;
        let value = right.intValue;
        while (value != 0) {
            value = value >> 1;
            shift = shift + 1;
        }
        // "x * 16" => "x << 4"
        if (node.kind == node_1.NodeKind.MULTIPLY) {
            node.kind = node_1.NodeKind.SHIFT_LEFT;
            right.intValue = shift;
        }
        else if (node.kind == node_1.NodeKind.DIVIDE) {
            node.kind = node_1.NodeKind.SHIFT_RIGHT;
            right.intValue = shift;
        }
        else if (node.kind == node_1.NodeKind.REMAINDER) {
            node.kind = node_1.NodeKind.BITWISE_AND;
            right.intValue = right.intValue - 1;
        }
        else {
            assert_1.assert(false);
        }
    }
    else if (node.kind == node_1.NodeKind.ADD && right.kind == node_1.NodeKind.NEGATIVE) {
        node.kind = node_1.NodeKind.SUBTRACT;
        right.replaceWith(right.unaryValue().remove());
    }
    else if (node.kind == node_1.NodeKind.ADD && right.isNegativeInteger()) {
        node.kind = node_1.NodeKind.SUBTRACT;
        right.intValue = -right.intValue;
    }
}
exports.simplifyBinary = simplifyBinary;
function binaryHasUnsignedArguments(node) {
    let left = node.binaryLeft();
    let right = node.binaryRight();
    let leftType = left.resolvedType;
    let rightType = right.resolvedType;
    return leftType.isUnsigned() && rightType.isUnsigned() || leftType.isUnsigned() && right.isNonNegativeInteger() ||
        left.isNonNegativeInteger() && rightType.isUnsigned();
}
exports.binaryHasUnsignedArguments = binaryHasUnsignedArguments;
function isBinaryLong(node) {
    let left = node.binaryLeft();
    let right = node.binaryRight();
    let leftType = left.resolvedType;
    let rightType = right.resolvedType;
    return leftType.isLong() || rightType.isLong();
}
exports.isBinaryLong = isBinaryLong;
function isBinaryDouble(node) {
    let left = node.binaryLeft();
    let right = node.binaryRight();
    let leftType = left.resolvedType;
    let rightType = right.resolvedType;
    return leftType.isDouble() || rightType.isDouble();
}
exports.isBinaryDouble = isBinaryDouble;
function isSymbolAccessAllowed(context, symbol, node, range) {
    if (symbol.isUnsafe() && !context.isUnsafeAllowed) {
        context.log.error(range, stringbuilder_1.StringBuilder_new()
            .append("Cannot use symbol '")
            .append(symbol.name)
            .append("' outside an 'unsafe' block")
            .finish());
        return false;
    }
    if (symbol.node != null && symbol.node.isPrivate()) {
        let parent = symbol.parent();
        if (parent != null && context.enclosingClass != parent) {
            context.log.error(range, stringbuilder_1.StringBuilder_new()
                .append("Cannot access private symbol '")
                .append(symbol.name)
                .append("' here")
                .finish());
            return false;
        }
    }
    if (symbol_1.isFunction(symbol.kind) && (symbol.isSetter() ? !node.isAssignTarget() : !node.isCallValue())) {
        if (symbol.isSetter()) {
            context.log.error(range, stringbuilder_1.StringBuilder_new()
                .append("Cannot use setter '")
                .append(symbol.name)
                .append("' here")
                .finish());
        }
        else {
            context.log.error(range, stringbuilder_1.StringBuilder_new()
                .append("Must call function '")
                .append(symbol.name)
                .appendChar('\'')
                .finish());
        }
        return false;
    }
    return true;
}
exports.isSymbolAccessAllowed = isSymbolAccessAllowed;
function resolve(context, node, parentScope) {
    let kind = node.kind;
    assert_1.assert(kind == node_1.NodeKind.FILE || parentScope != null);
    if (node.resolvedType != null) {
        return;
    }
    node.resolvedType = context.errorType;
    if (kind == node_1.NodeKind.FILE || kind == node_1.NodeKind.GLOBAL) {
        resolveChildren(context, node, parentScope);
    }
    else if (kind == node_1.NodeKind.MODULE) {
        let oldEnclosingModule = context.enclosingModule;
        initializeSymbol(context, node.symbol);
        context.enclosingModule = node.symbol;
        resolveChildren(context, node, node.scope);
        context.enclosingModule = oldEnclosingModule;
    }
    else if (kind == node_1.NodeKind.IMPORT || kind == node_1.NodeKind.IMPORT_FROM) {
        //ignore imports
    }
    else if (kind == node_1.NodeKind.CLASS) {
        let oldEnclosingClass = context.enclosingClass;
        initializeSymbol(context, node.symbol);
        context.enclosingClass = node.symbol;
        resolveChildren(context, node, node.scope);
        if (node.symbol.kind == symbol_1.SymbolKind.TYPE_CLASS) {
            node.symbol.determineClassLayout(context);
        }
        context.enclosingClass = oldEnclosingClass;
    }
    else if (kind == node_1.NodeKind.ENUM) {
        initializeSymbol(context, node.symbol);
        resolveChildren(context, node, node.scope);
    }
    else if (kind == node_1.NodeKind.FUNCTION) {
        let body = node.functionBody();
        initializeSymbol(context, node.symbol);
        if (node.stringValue == "constructor" && node.parent.kind == node_1.NodeKind.CLASS) {
            node.parent.constructorFunctionNode = node;
        }
        if (body != null) {
            let oldReturnType = context.currentReturnType;
            let oldUnsafeAllowed = context.isUnsafeAllowed;
            let returnType = node.functionReturnType();
            if (returnType.resolvedType.isTemplate() && returnType.hasParameters() && node.parent != returnType.resolvedType.symbol.node) {
                deriveConcreteClass(context, returnType, [returnType.firstChild.firstChild], returnType.resolvedType.symbol.scope);
            }
            context.currentReturnType = returnType.resolvedType;
            context.isUnsafeAllowed = node.isUnsafe();
            resolveChildren(context, body, node.scope);
            if (oldReturnType && oldReturnType.isTemplate() && returnType.hasParameters() && node.parent != oldReturnType.symbol.node) {
                deriveConcreteClass(context, returnType, [returnType.firstChild.firstChild], oldReturnType.symbol.scope);
            }
            // if (oldReturnType && oldReturnType.isTemplate() && !oldReturnType.symbol.node.hasParameters()) {
            //     deriveConcreteClass(context, oldReturnType.symbol.node, [oldReturnType.symbol.node.firstChild], oldReturnType.symbol.scope);
            // }
            context.currentReturnType = oldReturnType;
            context.isUnsafeAllowed = oldUnsafeAllowed;
        }
    }
    else if (kind == node_1.NodeKind.PARAMETER) {
        let symbol = node.symbol;
    }
    else if (kind == node_1.NodeKind.VARIABLE) {
        let symbol = node.symbol;
        initializeSymbol(context, symbol);
        let oldUnsafeAllowed = context.isUnsafeAllowed;
        context.isUnsafeAllowed = context.isUnsafeAllowed || node.isUnsafe();
        let value = node.variableValue();
        if (value != null) {
            resolveAsExpression(context, value, parentScope);
            checkConversion(context, value, symbol.resolvedTypeUnderlyingIfEnumValue(context), type_1.ConversionKind.IMPLICIT);
            if (symbol.resolvedType != value.resolvedType) {
                value.becomeValueTypeOf(symbol, context);
            }
            // Variable initializers must be compile-time constants
            if (symbol.kind == symbol_1.SymbolKind.VARIABLE_GLOBAL && value.kind != node_1.NodeKind.INT32 && value.kind != node_1.NodeKind.BOOLEAN && value.kind != node_1.NodeKind.NULL) {
                //context.log.error(value.range, "Global initializers must be compile-time constants");
            }
        }
        else if (symbol.resolvedType != context.errorType) {
            value = createDefaultValueForType(context, symbol.resolvedType);
            resolveAsExpression(context, value, parentScope);
            node.appendChild(value);
        }
        // Allocate global variables
        if (symbol.kind == symbol_1.SymbolKind.VARIABLE_GLOBAL && symbol.resolvedType != context.errorType) {
            symbol.offset = context.allocateGlobalVariableOffset(symbol.resolvedType.variableSizeOf(context), symbol.resolvedType.variableAlignmentOf(context));
        }
        context.isUnsafeAllowed = oldUnsafeAllowed;
    }
    else if (kind == node_1.NodeKind.BREAK || kind == node_1.NodeKind.CONTINUE) {
        let found = false;
        let n = node;
        while (n != null) {
            if (n.kind == node_1.NodeKind.WHILE) {
                found = true;
                break;
            }
            n = n.parent;
        }
        if (!found) {
            context.log.error(node.range, "Cannot use this statement outside of a loop");
        }
    }
    else if (kind == node_1.NodeKind.BLOCK) {
        let oldUnsafeAllowed = context.isUnsafeAllowed;
        if (node.isUnsafe())
            context.isUnsafeAllowed = true;
        resolveChildren(context, node, node.scope);
        context.isUnsafeAllowed = oldUnsafeAllowed;
    }
    else if (kind == node_1.NodeKind.IMPORTS || kind == node_1.NodeKind.CONSTANTS || kind == node_1.NodeKind.VARIABLES) {
        resolveChildren(context, node, parentScope);
    }
    else if (kind == node_1.NodeKind.ANY) {
        //imported functions have anyType
        node.kind = node_1.NodeKind.TYPE;
        node.resolvedType = context.anyType;
    }
    else if (kind == node_1.NodeKind.INT32) {
        // Use the positive flag to differentiate between -2147483648 and 2147483648
        node.resolvedType = node.intValue < 0 && !node.isPositive() ? context.uint32Type : context.int32Type;
    }
    else if (kind == node_1.NodeKind.INT64) {
        node.resolvedType = node.intValue < 0 && !node.isPositive() ? context.uint64Type : context.int64Type;
    }
    else if (kind == node_1.NodeKind.FLOAT32) {
        node.resolvedType = context.float32Type;
    }
    else if (kind == node_1.NodeKind.FLOAT64) {
        node.resolvedType = context.float64Type;
    }
    else if (kind == node_1.NodeKind.STRING) {
        node.resolvedType = context.stringType;
    }
    else if (kind == node_1.NodeKind.BOOLEAN) {
        node.resolvedType = context.booleanType;
    }
    else if (kind == node_1.NodeKind.NULL) {
        node.resolvedType = context.nullType;
    }
    else if (kind == node_1.NodeKind.INDEX) {
        resolveChildrenAsExpressions(context, node, parentScope);
        let target = node.indexTarget();
        let type = target.resolvedType;
        if (type != context.errorType) {
            let symbol = type.hasInstanceMembers() ? type.findMember("[]", scope_1.ScopeHint.NORMAL) : null;
            if (symbol == null) {
                if (target.resolvedType.pointerTo !== undefined) {
                    // convert index to pinter index
                    node.kind = node_1.NodeKind.POINTER_INDEX;
                    node.resolvedType = target.resolvedType.pointerTo.symbol.resolvedType;
                }
                else {
                    context.log.error(node.internalRange, stringbuilder_1.StringBuilder_new()
                        .append("Cannot index into type '")
                        .append(target.resolvedType.toString())
                        .appendChar('\'')
                        .finish());
                }
            }
            else {
                assert_1.assert(symbol.kind == symbol_1.SymbolKind.FUNCTION_INSTANCE || symbol.kind == symbol_1.SymbolKind.FUNCTION_GLOBAL && symbol.shouldConvertInstanceToGlobal());
                // Convert to a regular function call and resolve that instead
                node.kind = node_1.NodeKind.CALL;
                target.remove();
                node.insertChildBefore(node.firstChild, node_1.createMemberReference(target, symbol));
                node.resolvedType = null;
                resolveAsExpression(context, node, parentScope);
            }
        }
    }
    else if (kind == node_1.NodeKind.ALIGN_OF) {
        let type = node.alignOfType();
        resolveAsType(context, type, parentScope);
        node.resolvedType = context.int32Type;
        if (type.resolvedType != context.errorType) {
            node.becomeIntegerConstant(type.resolvedType.allocationAlignmentOf(context));
        }
    }
    else if (kind == node_1.NodeKind.SIZE_OF) {
        let type = node.sizeOfType();
        resolveAsType(context, type, parentScope);
        node.resolvedType = context.int32Type;
        if (type.resolvedType != context.errorType) {
            node.becomeIntegerConstant(type.resolvedType.allocationSizeOf(context));
        }
    }
    else if (kind == node_1.NodeKind.THIS) {
        let symbol = parentScope.findNested("this", scope_1.ScopeHint.NORMAL, scope_1.FindNested.NORMAL);
        if (symbol == null) {
            context.log.error(node.range, "Cannot use 'this' here");
        }
        else {
            node.becomeSymbolReference(symbol);
        }
    }
    else if (kind == node_1.NodeKind.PARSE_ERROR) {
        node.resolvedType = context.errorType;
    }
    else if (kind == node_1.NodeKind.NAME) {
        let name = node.stringValue;
        let symbol = parentScope.findNested(name, scope_1.ScopeHint.NORMAL, scope_1.FindNested.NORMAL);
        if (symbol == null) {
            let builder = stringbuilder_1.StringBuilder_new()
                .append("No symbol named '")
                .append(name)
                .append("' here");
            // In JavaScript, "this." before instance symbols is required
            symbol = parentScope.findNested(name, scope_1.ScopeHint.NORMAL, scope_1.FindNested.ALLOW_INSTANCE_ERRORS);
            if (symbol != null) {
                builder
                    .append(", did you mean 'this.")
                    .append(symbol.name)
                    .append("'?");
            }
            else if (name == "number")
                builder.append(", you cannot use generic number type from TypeScript!");
            else if (name == "bool")
                builder.append(", did you mean 'boolean'?");
            context.log.error(node.range, builder.finish());
        }
        else if (symbol.state == symbol_1.SymbolState.INITIALIZING) {
            context.log.error(node.range, stringbuilder_1.StringBuilder_new()
                .append("Cyclic reference to symbol '")
                .append(name)
                .append("' here")
                .finish());
        }
        else if (isSymbolAccessAllowed(context, symbol, node, node.range)) {
            initializeSymbol(context, symbol);
            node.symbol = symbol;
            node.resolvedType = symbol.resolvedType;
            if (node.resolvedType.isGeneric()) {
                node.flags |= node_1.NODE_FLAG_GENERIC;
            }
            // Inline constants
            if (symbol.kind == symbol_1.SymbolKind.VARIABLE_CONSTANT) {
                if (symbol.resolvedType == context.booleanType) {
                    node.becomeBooleanConstant(symbol.offset != 0);
                }
                else if (symbol.resolvedType == context.float32Type) {
                    node.becomeFloatConstant(symbol.offset);
                }
                else if (symbol.resolvedType == context.float64Type) {
                    node.becomeDoubleConstant(symbol.offset);
                }
                else if (symbol.resolvedType == context.int64Type) {
                    node.becomeLongConstant(symbol.offset);
                }
                else {
                    node.becomeIntegerConstant(symbol.offset);
                }
            }
        }
    }
    else if (kind == node_1.NodeKind.CAST) {
        let value = node.castValue();
        let type = node.castType();
        resolveAsExpression(context, value, parentScope);
        resolveAsType(context, type, parentScope);
        let castedType = type.resolvedType;
        checkConversion(context, value, castedType, type_1.ConversionKind.EXPLICIT);
        node.resolvedType = castedType;
        // Automatically fold constants
        if (value.kind == node_1.NodeKind.INT32 && castedType.isInteger()) {
            let result = value.intValue;
            let shift = 32 - castedType.integerBitCount(context);
            node.becomeIntegerConstant(castedType.isUnsigned()
                ? castedType.integerBitMask(context) & result
                : result << shift >> shift);
        }
        else if (value.kind == node_1.NodeKind.INT32 && castedType.isFloat()) {
            node.becomeFloatConstant(value.intValue);
        }
        else if (value.kind == node_1.NodeKind.INT32 && castedType.isDouble()) {
            node.becomeDoubleConstant(value.intValue);
        }
        else if (value.kind == node_1.NodeKind.FLOAT32 && castedType.isInteger()) {
            node.becomeIntegerConstant(Math.round(value.floatValue));
        }
    }
    else if (kind == node_1.NodeKind.DOT) {
        let target = node.dotTarget();
        resolve(context, target, parentScope);
        if (target.resolvedType != context.errorType) {
            if (target.isType() && (target.resolvedType.isEnum() || target.resolvedType.hasInstanceMembers()) ||
                !target.isType() && target.resolvedType.hasInstanceMembers()) {
                let name = node.stringValue;
                // Empty names are left over from parse errors that have already been reported
                if (name.length > 0) {
                    let symbol = target.resolvedType.findMember(name, node.isAssignTarget() ? scope_1.ScopeHint.PREFER_SETTER : scope_1.ScopeHint.PREFER_GETTER);
                    if (symbol == null) {
                        context.log.error(node.internalRange, stringbuilder_1.StringBuilder_new()
                            .append("No member named '")
                            .append(name)
                            .append("' on type '")
                            .append(target.resolvedType.toString())
                            .appendChar('\'')
                            .finish());
                    }
                    else if (symbol.isGetter()) {
                        if (node.parent.stringValue === node.stringValue && node.parent.kind === node_1.NodeKind.CALL) {
                            node.parent.resolvedType = null;
                            node.symbol = symbol;
                            node.resolvedType = symbol.resolvedType;
                            resolveAsExpression(context, node.parent, parentScope);
                        }
                        else {
                            node.kind = node_1.NodeKind.CALL;
                            node.appendChild(node_1.createMemberReference(target.remove(), symbol));
                            node.resolvedType = null;
                            resolveAsExpression(context, node, parentScope);
                        }
                        return;
                    }
                    else if (isSymbolAccessAllowed(context, symbol, node, node.internalRange)) {
                        initializeSymbol(context, symbol);
                        node.symbol = symbol;
                        node.resolvedType = symbol.resolvedType;
                        // Inline constants
                        if (symbol.kind == symbol_1.SymbolKind.VARIABLE_CONSTANT) {
                            node.becomeIntegerConstant(symbol.offset);
                        }
                    }
                }
            }
            else {
                context.log.error(node.internalRange, stringbuilder_1.StringBuilder_new()
                    .append("The type '")
                    .append(target.resolvedType.toString())
                    .append("' has no members")
                    .finish());
            }
        }
    }
    else if (kind == node_1.NodeKind.CALL) {
        let value = node.callValue();
        resolveAsExpression(context, value, parentScope);
        if (value.resolvedType != context.errorType) {
            let symbol = value.symbol;
            // Only functions are callable
            if (symbol == null || !symbol_1.isFunction(symbol.kind)) {
                context.log.error(value.range, stringbuilder_1.StringBuilder_new()
                    .append("Cannot call value of type '")
                    .append(value.resolvedType.toString())
                    .appendChar('\'')
                    .finish());
            }
            else {
                initializeSymbol(context, symbol);
                if (symbol.shouldConvertInstanceToGlobal()) {
                    let name = node_1.createSymbolReference(symbol);
                    node.insertChildBefore(value, name.withRange(value.internalRange));
                    node.insertChildBefore(value, value.dotTarget().remove());
                    value.remove();
                    value = name;
                }
                let returnType = symbol.node.functionReturnType();
                let argumentVariable = symbol.node.functionFirstArgumentIgnoringThis();
                let argumentValue = value.nextSibling;
                // Match argument values with variables
                while (argumentVariable != returnType && argumentValue != null) {
                    resolveAsExpression(context, argumentValue, parentScope);
                    checkConversion(context, argumentValue, argumentVariable.symbol.resolvedType, type_1.ConversionKind.IMPLICIT);
                    argumentVariable = argumentVariable.nextSibling;
                    argumentValue = argumentValue.nextSibling;
                }
                // Not enough arguments?
                if (returnType.resolvedType != context.anyType) {
                    if (argumentVariable != returnType && !argumentVariable.hasVariableValue()) {
                        context.log.error(node.internalRange, stringbuilder_1.StringBuilder_new()
                            .append("Not enough arguments for function '")
                            .append(symbol.name)
                            .appendChar('\'')
                            .finish());
                    }
                    else if (argumentValue != null) {
                        while (argumentValue != null) {
                            resolveAsExpression(context, argumentValue, parentScope);
                            argumentValue = argumentValue.nextSibling;
                        }
                        context.log.error(node.internalRange, stringbuilder_1.StringBuilder_new()
                            .append("Too many arguments for function '")
                            .append(symbol.name)
                            .appendChar('\'')
                            .finish());
                    }
                }
                if (returnType.resolvedType.isArray()) {
                    terminal_1.Terminal.write(returnType);
                }
                // Pass the return type along
                node.resolvedType = returnType.resolvedType;
            }
        }
    }
    else if (kind == node_1.NodeKind.DELETE) {
        let value = node.deleteType();
        if (value != null) {
            resolveAsExpression(context, value, parentScope);
            if (value.resolvedType == null || value.resolvedType == context.voidType) {
                context.log.error(value.range, "Unexpected delete value 'void'");
            }
        }
        else {
            context.log.error(node.range, stringbuilder_1.StringBuilder_new()
                .append("Expected delete value '")
                .append(context.currentReturnType.toString())
                .appendChar('\'')
                .finish());
        }
    }
    else if (kind == node_1.NodeKind.RETURN) {
        let value = node.returnValue();
        if (value != null) {
            resolveAsExpression(context, value, parentScope);
            if (context.currentReturnType != null) {
                if (context.currentReturnType != context.voidType) {
                    if (value.resolvedType.isTemplate() && value.hasParameters() && node.parent != value.resolvedType.symbol.node) {
                        deriveConcreteClass(context, value, [value.firstChild.firstChild], value.resolvedType.symbol.scope);
                    }
                    checkConversion(context, value, context.currentReturnType, type_1.ConversionKind.IMPLICIT);
                }
                else {
                    context.log.error(value.range, "Unexpected return value in function returning 'void'");
                }
            }
            node.parent.returnNode = node;
        }
        else if (context.currentReturnType != null && context.currentReturnType != context.voidType) {
            context.log.error(node.range, stringbuilder_1.StringBuilder_new()
                .append("Expected return value in function returning '")
                .append(context.currentReturnType.toString())
                .appendChar('\'')
                .finish());
        }
    }
    else if (kind == node_1.NodeKind.EMPTY) {
    }
    else if (kind == node_1.NodeKind.PARAMETERS) {
        // resolveAsType(context, node.genericType(), parentScope);
        // resolveAsExpression(context, node.expressionValue(), parentScope);
        // context.log.error(node.range, "Generics are not implemented yet");
    }
    else if (kind == node_1.NodeKind.EXTENDS) {
        resolveAsType(context, node.extendsType(), parentScope);
        //context.log.error(node.range, "Subclassing is not implemented yet");
    }
    else if (kind == node_1.NodeKind.IMPLEMENTS) {
        let child = node.firstChild;
        while (child != null) {
            resolveAsType(context, child, parentScope);
            child = child.nextSibling;
        }
        context.log.error(node.range, "Interfaces are not implemented yet");
    }
    else if (kind == node_1.NodeKind.EXPRESSION) {
        resolveAsExpression(context, node.expressionValue(), parentScope);
    }
    else if (kind == node_1.NodeKind.WHILE) {
        let value = node.whileValue();
        let body = node.whileBody();
        resolveAsExpression(context, value, parentScope);
        checkConversion(context, value, context.booleanType, type_1.ConversionKind.IMPLICIT);
        resolve(context, body, parentScope);
    }
    else if (kind == node_1.NodeKind.IF) {
        let value = node.ifValue();
        let yes = node.ifTrue();
        let no = node.ifFalse();
        resolveAsExpression(context, value, parentScope);
        checkConversion(context, value, context.booleanType, type_1.ConversionKind.IMPLICIT);
        resolve(context, yes, parentScope);
        if (no != null) {
            resolve(context, no, parentScope);
        }
    }
    else if (kind == node_1.NodeKind.HOOK) {
        let value = node.hookValue();
        let yes = node.hookTrue();
        let no = node.hookFalse();
        resolveAsExpression(context, value, parentScope);
        checkConversion(context, value, context.booleanType, type_1.ConversionKind.IMPLICIT);
        resolve(context, yes, parentScope);
        resolve(context, no, parentScope);
        checkConversion(context, yes, no.resolvedType, type_1.ConversionKind.IMPLICIT);
        let commonType = (yes.resolvedType == context.nullType ? no : yes).resolvedType;
        if (yes.resolvedType != commonType && (yes.resolvedType != context.nullType || !commonType.isReference()) &&
            no.resolvedType != commonType && (no.resolvedType != context.nullType || !commonType.isReference())) {
            context.log.error(log_1.spanRanges(yes.range, no.range), stringbuilder_1.StringBuilder_new()
                .append("Type '")
                .append(yes.resolvedType.toString())
                .append("' is not the same as type '")
                .append(no.resolvedType.toString())
                .appendChar('\'')
                .finish());
        }
        node.resolvedType = commonType;
    }
    else if (kind == node_1.NodeKind.ASSIGN) {
        let left = node.binaryLeft();
        let right = node.binaryRight();
        if (left.kind == node_1.NodeKind.INDEX) {
            resolveChildrenAsExpressions(context, left, parentScope);
            let target = left.indexTarget();
            let type = target.resolvedType;
            if (type != context.errorType) {
                let symbol = type.hasInstanceMembers() ? type.findMember("[]=", scope_1.ScopeHint.NORMAL) : null;
                if (symbol == null) {
                    if (target.resolvedType.pointerTo != undefined) {
                        left.kind = node_1.NodeKind.POINTER_INDEX;
                        left.resolvedType = target.resolvedType.pointerTo.symbol.resolvedType;
                    }
                    else {
                        context.log.error(left.internalRange, stringbuilder_1.StringBuilder_new()
                            .append("Cannot index into type '")
                            .append(target.resolvedType.toString())
                            .appendChar('\'')
                            .finish());
                    }
                }
                else {
                    assert_1.assert(symbol.kind == symbol_1.SymbolKind.FUNCTION_INSTANCE);
                    // Convert to a regular function call and resolve that instead
                    node.kind = node_1.NodeKind.CALL;
                    target.remove();
                    left.remove();
                    while (left.lastChild != null) {
                        node.insertChildBefore(node.firstChild, left.lastChild.remove());
                    }
                    node.insertChildBefore(node.firstChild, node_1.createMemberReference(target, symbol));
                    node.internalRange = log_1.spanRanges(left.internalRange, right.range);
                    node.resolvedType = null;
                    resolveAsExpression(context, node, parentScope);
                    return;
                }
            }
        }
        if (!left.resolvedType) {
            resolveAsExpression(context, left, parentScope);
        }
        // Automatically call setters
        if (left.symbol != null && left.symbol.isSetter()) {
            node.kind = node_1.NodeKind.CALL;
            node.internalRange = left.internalRange;
            node.resolvedType = null;
            resolveAsExpression(context, node, parentScope);
            return;
        }
        resolveAsExpression(context, right, parentScope);
        checkConversion(context, right, left.resolvedType, type_1.ConversionKind.IMPLICIT);
        checkStorage(context, left);
        node.resolvedType = left.resolvedType;
    }
    else if (kind == node_1.NodeKind.NEW) {
        compiler_1.Compiler.mallocRequired = true;
        let type = node.newType();
        resolveAsType(context, type, parentScope);
        if (type.resolvedType.isTemplate() && type.hasParameters() && node.parent != type.resolvedType.symbol.node) {
            deriveConcreteClass(context, type, [type.firstChild.firstChild], type.resolvedType.symbol.scope);
        }
        if (type.resolvedType != context.errorType) {
            if (!type.resolvedType.isClass()) {
                context.log.error(type.range, stringbuilder_1.StringBuilder_new()
                    .append("Cannot construct type '")
                    .append(type.resolvedType.toString())
                    .appendChar('\'')
                    .finish());
            }
            else {
                node.resolvedType = type.resolvedType;
            }
        }
        //Constructors arguments
        let child = type.nextSibling;
        let constructorNode = node.constructorNode();
        let argumentVariable = constructorNode.functionFirstArgument();
        while (child != null) {
            resolveAsExpression(context, child, parentScope);
            checkConversion(context, child, argumentVariable.symbol.resolvedType, type_1.ConversionKind.IMPLICIT);
            child = child.nextSibling;
            argumentVariable = argumentVariable.nextSibling;
        }
        // Match argument values with variables
        // while (argumentVariable != returnType && argumentValue != null) {
        //     resolveAsExpression(context, argumentValue, parentScope);
        //     checkConversion(context, argumentValue, argumentVariable.symbol.resolvedType, ConversionKind.IMPLICIT);
        //     argumentVariable = argumentVariable.nextSibling;
        //     argumentValue = argumentValue.nextSibling;
        // }
    }
    else if (kind == node_1.NodeKind.POINTER_TYPE) {
        let value = node.unaryValue();
        resolveAsType(context, value, parentScope);
        if (context.target == compile_target_1.CompileTarget.JAVASCRIPT) {
            context.log.error(node.internalRange, "Cannot use pointers when compiling to JavaScript");
        }
        else {
            let type = value.resolvedType;
            if (type != context.errorType) {
                // if ((!type.isInteger() && !type.symbol.node.isTurbo()) && type.pointerTo == null) {
                //     context.log.error(node.internalRange, StringBuilder_new()
                //         .append("Cannot create a pointer to non-integer type '")
                //         .append(type.toString())
                //         .appendChar('\'')
                //         .finish());
                // }
                //
                // else {
                node.resolvedType = type.pointerType();
                // }
            }
        }
    }
    else if (kind == node_1.NodeKind.POINTER_INDEX) {
        debugger;
    }
    else if (kind == node_1.NodeKind.DEREFERENCE) {
        let value = node.unaryValue();
        resolveAsExpression(context, value, parentScope);
        let type = value.resolvedType;
        if (type != context.errorType) {
            if (type.pointerTo == null) {
                context.log.error(node.internalRange, stringbuilder_1.StringBuilder_new()
                    .append("Cannot dereference type '")
                    .append(type.toString())
                    .appendChar('\'')
                    .finish());
            }
            else {
                node.resolvedType = type.pointerTo;
            }
        }
    }
    else if (kind == node_1.NodeKind.ADDRESS_OF) {
        let value = node.unaryValue();
        resolveAsExpression(context, value, parentScope);
        context.log.error(node.internalRange, "The address-of operator is not supported");
    }
    else if (node_1.isUnary(kind)) {
        let value = node.unaryValue();
        resolveAsExpression(context, value, parentScope);
        // Operator "!" is hard-coded
        if (kind == node_1.NodeKind.NOT) {
            checkConversion(context, value, context.booleanType, type_1.ConversionKind.IMPLICIT);
            node.resolvedType = context.booleanType;
        }
        else if (value.resolvedType.isLong()) {
            if (value.resolvedType.isUnsigned()) {
                node.flags = node.flags | node_1.NODE_FLAG_UNSIGNED_OPERATOR;
                node.resolvedType = context.uint64Type;
            }
            else {
                node.resolvedType = context.int64Type;
            }
            // Automatically fold constants
            if (value.kind == node_1.NodeKind.INT64) {
                let input = value.longValue;
                let output = input;
                if (kind == node_1.NodeKind.COMPLEMENT)
                    output = ~input;
                else if (kind == node_1.NodeKind.NEGATIVE)
                    output = -input;
                node.becomeLongConstant(output);
            }
        }
        else if (value.resolvedType.isInteger()) {
            if (value.resolvedType.isUnsigned()) {
                node.flags = node.flags | node_1.NODE_FLAG_UNSIGNED_OPERATOR;
                node.resolvedType = context.uint32Type;
            }
            else {
                node.resolvedType = context.int32Type;
            }
            // Automatically fold constants
            if (value.kind == node_1.NodeKind.INT32) {
                let input = value.intValue;
                let output = input;
                if (kind == node_1.NodeKind.COMPLEMENT)
                    output = ~input;
                else if (kind == node_1.NodeKind.NEGATIVE)
                    output = -input;
                node.becomeIntegerConstant(output);
            }
        }
        else if (value.resolvedType.isDouble()) {
            node.resolvedType = context.float64Type;
            // Automatically fold constants
            if (value.kind == node_1.NodeKind.FLOAT64) {
                let input = value.doubleValue;
                let output = input;
                if (kind == node_1.NodeKind.COMPLEMENT)
                    output = ~input;
                else if (kind == node_1.NodeKind.NEGATIVE)
                    output = -input;
                node.becomeDoubleConstant(output);
            }
        }
        else if (value.resolvedType.isFloat()) {
            node.resolvedType = context.float32Type;
            // Automatically fold constants
            if (value.kind == node_1.NodeKind.FLOAT32) {
                let input = value.floatValue;
                let output = input;
                if (kind == node_1.NodeKind.COMPLEMENT)
                    output = ~input;
                else if (kind == node_1.NodeKind.NEGATIVE)
                    output = -input;
                node.becomeFloatConstant(output);
            }
        }
        else if (value.resolvedType != context.errorType) {
            let name = node.internalRange.toString();
            let symbol = value.resolvedType.findMember(name, scope_1.ScopeHint.NOT_BINARY);
            // Automatically call the function
            if (symbol != null) {
                node.appendChild(node_1.createMemberReference(value.remove(), symbol).withRange(node.range).withInternalRange(node.internalRange));
                node.kind = node_1.NodeKind.CALL;
                node.resolvedType = null;
                resolveAsExpression(context, node, parentScope);
            }
            else {
                context.log.error(node.internalRange, stringbuilder_1.StringBuilder_new()
                    .append("Cannot use unary operator '")
                    .append(name)
                    .append("' with type '")
                    .append(value.resolvedType.toString())
                    .appendChar('\'')
                    .finish());
            }
        }
    }
    else if (node_1.isBinary(kind)) {
        let left = node.binaryLeft();
        let right = node.binaryRight();
        resolveAsExpression(context, left, parentScope);
        resolveAsExpression(context, right, parentScope);
        let leftType = left.resolvedType;
        if ((leftType.isDouble() && right.resolvedType.isFloat()) ||
            (leftType.isLong() && right.resolvedType.isInteger())) {
            right.becomeTypeOf(left, context);
        }
        let rightType = right.resolvedType;
        // Operators "&&" and "||" are hard-coded
        if (kind == node_1.NodeKind.LOGICAL_OR || kind == node_1.NodeKind.LOGICAL_AND) {
            checkConversion(context, left, context.booleanType, type_1.ConversionKind.IMPLICIT);
            checkConversion(context, right, context.booleanType, type_1.ConversionKind.IMPLICIT);
            node.resolvedType = context.booleanType;
        }
        else if (kind == node_1.NodeKind.ADD && leftType.pointerTo != null && rightType.isInteger()) {
            node.resolvedType = leftType;
        }
        else if ((kind == node_1.NodeKind.LESS_THAN || kind == node_1.NodeKind.LESS_THAN_EQUAL ||
            kind == node_1.NodeKind.GREATER_THAN || kind == node_1.NodeKind.GREATER_THAN_EQUAL) && (leftType.pointerTo != null || rightType.pointerTo != null)) {
            node.resolvedType = context.booleanType;
            // Both pointer types must be exactly the same
            if (leftType != rightType) {
                context.log.error(node.internalRange, stringbuilder_1.StringBuilder_new()
                    .append("Cannot compare type '")
                    .append(leftType.toString())
                    .append("' with type '")
                    .append(rightType.toString())
                    .appendChar('\'')
                    .finish());
            }
        }
        else if ((leftType.isInteger() || leftType.isLong() ||
            leftType.isFloat() || leftType.isDouble() ||
            (leftType.isGeneric() && rightType.isGeneric())) &&
            kind != node_1.NodeKind.EQUAL && kind != node_1.NodeKind.NOT_EQUAL) {
            let isFloat = false;
            let isFloat64 = false;
            if (leftType.isFloat() || leftType.isDouble()) {
                isFloat = true;
                isFloat64 = leftType.isDouble();
            }
            let isUnsigned = binaryHasUnsignedArguments(node);
            // Arithmetic operators
            if (kind == node_1.NodeKind.ADD ||
                kind == node_1.NodeKind.SUBTRACT ||
                kind == node_1.NodeKind.MULTIPLY ||
                kind == node_1.NodeKind.DIVIDE ||
                kind == node_1.NodeKind.REMAINDER ||
                kind == node_1.NodeKind.BITWISE_AND ||
                kind == node_1.NodeKind.BITWISE_OR ||
                kind == node_1.NodeKind.BITWISE_XOR ||
                kind == node_1.NodeKind.SHIFT_LEFT ||
                kind == node_1.NodeKind.SHIFT_RIGHT) {
                let isLong = isBinaryLong(node);
                let commonType;
                if (isFloat) {
                    commonType = isBinaryDouble(node) ? context.float64Type : context.float32Type;
                }
                else {
                    commonType = isUnsigned ? (isLong ? context.uint64Type : context.uint32Type) : (isLong ? context.int64Type : context.int32Type);
                }
                if (isUnsigned) {
                    node.flags = node.flags | node_1.NODE_FLAG_UNSIGNED_OPERATOR;
                }
                checkConversion(context, left, commonType, type_1.ConversionKind.IMPLICIT);
                checkConversion(context, right, commonType, type_1.ConversionKind.IMPLICIT);
                node.resolvedType = commonType;
                // Type conversion
                if (commonType == context.int64Type) {
                    if (left.kind == node_1.NodeKind.INT32) {
                        left.kind = node_1.NodeKind.INT64;
                        left.resolvedType = context.int64Type;
                    }
                    else if (right.kind == node_1.NodeKind.INT32) {
                        right.kind = node_1.NodeKind.INT64;
                        right.resolvedType = context.int64Type;
                    }
                }
                // Automatically fold constants
                if ((left.kind == node_1.NodeKind.INT32 || left.kind == node_1.NodeKind.INT64) &&
                    (right.kind == node_1.NodeKind.INT32 || right.kind == node_1.NodeKind.INT64)) {
                    let inputLeft = left.intValue;
                    let inputRight = right.intValue;
                    let output = 0;
                    if (kind == node_1.NodeKind.ADD)
                        output = inputLeft + inputRight;
                    else if (kind == node_1.NodeKind.BITWISE_AND)
                        output = inputLeft & inputRight;
                    else if (kind == node_1.NodeKind.BITWISE_OR)
                        output = inputLeft | inputRight;
                    else if (kind == node_1.NodeKind.BITWISE_XOR)
                        output = inputLeft ^ inputRight;
                    else if (kind == node_1.NodeKind.DIVIDE)
                        output = inputLeft / inputRight;
                    else if (kind == node_1.NodeKind.MULTIPLY)
                        output = inputLeft * inputRight;
                    else if (kind == node_1.NodeKind.REMAINDER)
                        output = inputLeft % inputRight;
                    else if (kind == node_1.NodeKind.SHIFT_LEFT)
                        output = inputLeft << inputRight;
                    else if (kind == node_1.NodeKind.SHIFT_RIGHT)
                        output = isUnsigned ? ((inputLeft) >> (inputRight)) : inputLeft >> inputRight;
                    else if (kind == node_1.NodeKind.SUBTRACT)
                        output = inputLeft - inputRight;
                    else
                        return;
                    if (left.kind == node_1.NodeKind.INT32) {
                        node.becomeIntegerConstant(output);
                    }
                    else {
                        node.becomeLongConstant(output);
                    }
                }
                else if ((left.kind == node_1.NodeKind.FLOAT32 || left.kind == node_1.NodeKind.FLOAT64) &&
                    (right.kind == node_1.NodeKind.FLOAT32 || right.kind == node_1.NodeKind.FLOAT64)) {
                    let inputLeft = left.floatValue;
                    let inputRight = right.floatValue;
                    let output = 0;
                    if (kind == node_1.NodeKind.ADD)
                        output = inputLeft + inputRight;
                    else if (kind == node_1.NodeKind.BITWISE_AND)
                        output = inputLeft & inputRight;
                    else if (kind == node_1.NodeKind.BITWISE_OR)
                        output = inputLeft | inputRight;
                    else if (kind == node_1.NodeKind.BITWISE_XOR)
                        output = inputLeft ^ inputRight;
                    else if (kind == node_1.NodeKind.DIVIDE)
                        output = inputLeft / inputRight;
                    else if (kind == node_1.NodeKind.MULTIPLY)
                        output = inputLeft * inputRight;
                    else if (kind == node_1.NodeKind.REMAINDER)
                        output = inputLeft % inputRight;
                    else if (kind == node_1.NodeKind.SHIFT_LEFT)
                        output = inputLeft << inputRight;
                    else if (kind == node_1.NodeKind.SHIFT_RIGHT)
                        output = inputLeft >> inputRight;
                    else if (kind == node_1.NodeKind.SUBTRACT)
                        output = inputLeft - inputRight;
                    else
                        return;
                    if (left.kind == node_1.NodeKind.FLOAT32) {
                        node.becomeFloatConstant(output);
                    }
                    else {
                        node.becomeDoubleConstant(output);
                    }
                }
                else {
                    simplifyBinary(node);
                }
            }
            else if (kind == node_1.NodeKind.LESS_THAN ||
                kind == node_1.NodeKind.LESS_THAN_EQUAL ||
                kind == node_1.NodeKind.GREATER_THAN ||
                kind == node_1.NodeKind.GREATER_THAN_EQUAL) {
                let expectedType = isFloat ? (isFloat64 ? context.float64Type : context.float32Type) : (isUnsigned ? context.uint32Type : context.int32Type);
                if (isUnsigned) {
                    node.flags = node.flags | node_1.NODE_FLAG_UNSIGNED_OPERATOR;
                }
                if (leftType != rightType) {
                    checkConversion(context, left, expectedType, type_1.ConversionKind.IMPLICIT);
                    checkConversion(context, right, expectedType, type_1.ConversionKind.IMPLICIT);
                }
                node.resolvedType = context.booleanType;
            }
            else {
                context.log.error(node.internalRange, "This operator is not currently supported");
            }
        }
        else if (leftType != context.errorType) {
            let name = node.internalRange.toString();
            let symbol = leftType.findMember(kind == node_1.NodeKind.NOT_EQUAL ? "==" :
                kind == node_1.NodeKind.LESS_THAN_EQUAL ? ">" :
                    kind == node_1.NodeKind.GREATER_THAN_EQUAL ? "<" :
                        name, scope_1.ScopeHint.NOT_UNARY);
            // Automatically call the function
            if (symbol != null) {
                left = node_1.createMemberReference(left.remove(), symbol).withRange(node.range).withInternalRange(node.internalRange);
                right.remove();
                if (kind == node_1.NodeKind.NOT_EQUAL ||
                    kind == node_1.NodeKind.LESS_THAN_EQUAL ||
                    kind == node_1.NodeKind.GREATER_THAN_EQUAL) {
                    let call = node_1.createCall(left);
                    call.appendChild(right);
                    node.kind = node_1.NodeKind.NOT;
                    node.appendChild(call.withRange(node.range).withInternalRange(node.range));
                }
                else {
                    node.appendChild(left);
                    node.appendChild(right);
                    node.kind = node_1.NodeKind.CALL;
                }
                node.resolvedType = null;
                resolveAsExpression(context, node, parentScope);
            }
            else if (kind == node_1.NodeKind.EQUAL || kind == node_1.NodeKind.NOT_EQUAL) {
                node.resolvedType = context.booleanType;
                if (leftType != context.errorType && rightType != context.errorType && leftType != rightType && !canConvert(context, right, leftType, type_1.ConversionKind.IMPLICIT) && !canConvert(context, left, rightType, type_1.ConversionKind.IMPLICIT)) {
                    context.log.error(node.internalRange, stringbuilder_1.StringBuilder_new()
                        .append("Cannot compare type '")
                        .append(leftType.toString())
                        .append("' with type '")
                        .append(rightType.toString())
                        .appendChar('\'')
                        .finish());
                }
            }
            else {
                context.log.error(node.internalRange, stringbuilder_1.StringBuilder_new()
                    .append("Cannot use binary operator '")
                    .append(name)
                    .append("' with type '")
                    .append(leftType.toString())
                    .appendChar('\'')
                    .finish());
            }
        }
    }
    else if (kind == node_1.NodeKind.TYPE) {
        //ignore types
    }
    else {
        terminal_1.Terminal.error(`Unexpected kind: ${node_1.NodeKind[kind]}`);
        assert_1.assert(false);
    }
}
exports.resolve = resolve;


/***/ }),
/* 46 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Created by Nidin Vinayakan on 11/01/17.
 */
exports.MIN_INT32_VALUE = -Math.pow(2, 31);
exports.MAX_INT32_VALUE = Math.pow(2, 31) - 1;
exports.MIN_UINT32_VALUE = 0;
exports.MAX_UINT32_VALUE = Math.pow(2, 32) - 1;
//FIXME: Cannot represent 64 bit integer in javascript
exports.MIN_INT64_VALUE = -Math.pow(2, 63);
exports.MAX_INT64_VALUE = Math.pow(2, 63) - 1;
exports.MIN_UINT64_VALUE = 0;
exports.MAX_UINT64_VALUE = Math.pow(2, 64) - 1;


/***/ }),
/* 47 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const symbol_1 = __webpack_require__(5);
const node_1 = __webpack_require__(4);
const compiler_1 = __webpack_require__(10);
function treeShakingMarkAllUsed(node) {
    var symbol = node.symbol;
    if (symbol != null && !symbol.isUsed() && symbol_1.isFunction(symbol.kind) && symbol.node != null) {
        symbol.flags = symbol.flags | symbol_1.SYMBOL_FLAG_USED;
        treeShakingMarkAllUsed(symbol.node);
        if (node == symbol.node)
            return;
    }
    if (node.kind == node_1.NodeKind.NEW) {
        var type = node.newType().resolvedType;
        if (type.symbol != null) {
            type.symbol.flags |= symbol_1.SYMBOL_FLAG_USED;
            type.symbol.node.constructorFunctionNode.symbol.flags = symbol_1.SYMBOL_FLAG_USED;
        }
    }
    var child = node.firstChild;
    while (child != null) {
        treeShakingMarkAllUsed(child);
        child = child.nextSibling;
    }
}
exports.treeShakingMarkAllUsed = treeShakingMarkAllUsed;
function treeShakingSearchForUsed(node) {
    if (node.kind == node_1.NodeKind.FUNCTION && (node.isExport() || node.isStart())) {
        if ((node.symbol.name === "malloc" || node.symbol.name === "free") && !compiler_1.Compiler.mallocRequired) {
            return;
        }
        treeShakingMarkAllUsed(node);
    }
    else if (node.kind == node_1.NodeKind.GLOBAL || node.kind == node_1.NodeKind.CLASS) {
        var child = node.firstChild;
        while (child != null) {
            treeShakingSearchForUsed(child);
            child = child.nextSibling;
        }
        if (node.kind == node_1.NodeKind.CLASS && node.isExport()) {
            node.symbol.flags = node.symbol.flags | symbol_1.SYMBOL_FLAG_USED;
        }
    }
}
exports.treeShakingSearchForUsed = treeShakingSearchForUsed;
function treeShakingRemoveUnused(node) {
    if (node.kind == node_1.NodeKind.FUNCTION && !node.symbol.isUsed() && node.range.source.isLibrary) {
        // if (node.symbol.kind == SymbolKind.FUNCTION_INSTANCE) {
        //     if (!node.parent.symbol.isUsed()) {
        //         node.remove();
        //     }
        // } else {
        node.remove();
        // }
    }
    else if (node.kind == node_1.NodeKind.GLOBAL || node.kind == node_1.NodeKind.CLASS) {
        var child = node.firstChild;
        while (child != null) {
            var next = child.nextSibling;
            treeShakingRemoveUnused(child);
            child = next;
        }
        if (node.kind == node_1.NodeKind.CLASS && !node.symbol.isUsed() && !node.isDeclare() && node.range.source.isLibrary) {
            node.remove();
        }
    }
}
exports.treeShakingRemoveUnused = treeShakingRemoveUnused;
function treeShaking(node) {
    treeShakingSearchForUsed(node);
    treeShakingRemoveUnused(node);
}
exports.treeShaking = treeShaking;


/***/ }),
/* 48 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const log_1 = __webpack_require__(3);
const scanner_1 = __webpack_require__(9);
const stringbuilder_1 = __webpack_require__(2);
const filesystem_1 = __webpack_require__(14);
const terminal_1 = __webpack_require__(0);
const javascript = __webpack_require__(22);
function preparse(source, compiler, log) {
    let contents = source.contents;
    let limit = contents.length;
    let pathSeparator = source.name.indexOf("/") > -1 ? "/" : (source.name.indexOf("\\") > -1 ? "\\" : "/");
    let basePath = source.name.substring(0, source.name.lastIndexOf(pathSeparator));
    let wantNewline = false;
    let captureImportFrom = false;
    let captureImportPath = false;
    let i = 0;
    while (i < limit) {
        let start = i;
        let c = contents[i];
        i = i + 1;
        if (c == ' ' || c == '\t' || c == '\r') {
            continue;
        }
        let kind = scanner_1.TokenKind.END_OF_FILE;
        // Newline
        if (c == '\n') {
            if (!wantNewline) {
                continue;
            }
            // Preprocessor commands all end in a newline
            wantNewline = false;
        }
        else if (c == '/') {
            // Single-line comments
            if (i < limit && contents[i] == '/') {
                i = i + 1;
                while (i < limit && contents[i] != '\n') {
                    i = i + 1;
                }
                continue;
            }
            // Multi-line comments
            if (i < limit && contents[i] == '*') {
                i = i + 1;
                let foundEnd = false;
                while (i < limit) {
                    let next = contents[i];
                    if (next == '*' && i + 1 < limit && contents[i + 1] == '/') {
                        foundEnd = true;
                        i = i + 2;
                        break;
                    }
                    i = i + 1;
                }
                if (!foundEnd) {
                    log.error(log_1.createRange(source, start, start + 2), "Unterminated multi-line comment");
                    return null;
                }
            }
        }
        else if (scanner_1.isAlpha(c)) {
            while (i < limit && (scanner_1.isAlpha(contents[i]) || scanner_1.isNumber(contents[i]))) {
                i = i + 1;
            }
            // Keywords
            let length = i - start;
            if (length >= 2 && length <= 10) {
                let text = contents.slice(start, i);
                if (text == "import") {
                    captureImportFrom = true;
                }
                else if (text == "from" && captureImportFrom) {
                    captureImportFrom = false;
                    captureImportPath = true;
                }
            }
        }
        else if (captureImportPath && (c == '"' || c == '\'' || c == '`')) {
            captureImportPath = false;
            while (i < limit) {
                let next = contents[i];
                // Escape any character including newlines
                if (i + 1 < limit && next == '\\') {
                    i = i + 2;
                }
                else if (next == '\n' && c != '`') {
                    break;
                }
                else {
                    i = i + 1;
                    // End the string with a matching quote character
                    if (next == c) {
                        let text = contents.slice(start + 1, i - 1);
                        //FIXME: If the import already resolved don't add it again.
                        let importContent = resolveImport(basePath + pathSeparator + text, text);
                        if (importContent) {
                            compiler.addInputBefore(text, importContent, source);
                        }
                        else {
                            return false;
                        }
                        kind = c == '\'' ? scanner_1.TokenKind.CHARACTER : scanner_1.TokenKind.STRING;
                        break;
                    }
                }
            }
        }
    }
    return true;
}
exports.preparse = preparse;
function resolveImport(importPath, original) {
    let contents = null;
    if (original === "javascript") {
        contents = javascript;
    }
    else {
        contents = filesystem_1.FileSystem.readTextFile(importPath);
    }
    if (contents == null) {
        terminal_1.Terminal.error(stringbuilder_1.StringBuilder_new().append("Cannot read from ").append(importPath).finish());
        return null;
    }
    return contents;
}


/***/ }),
/* 49 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const log_1 = __webpack_require__(3);
const stringbuilder_1 = __webpack_require__(2);
const scanner_1 = __webpack_require__(9);
const parser_1 = __webpack_require__(19);
var PreprocessorValue;
(function (PreprocessorValue) {
    PreprocessorValue[PreprocessorValue["FALSE"] = 0] = "FALSE";
    PreprocessorValue[PreprocessorValue["TRUE"] = 1] = "TRUE";
    PreprocessorValue[PreprocessorValue["ERROR"] = 2] = "ERROR";
})(PreprocessorValue = exports.PreprocessorValue || (exports.PreprocessorValue = {}));
class PreprocessorFlag {
}
exports.PreprocessorFlag = PreprocessorFlag;
// This preprocessor implements the flag-only conditional behavior from C#.
// There are two scopes for flags: global-level and file-level. This is stored
// using an ever-growing linked list of PreprocessorFlag objects that turn a
// flag either on or off. That way file-level state can just reference the
// memory of the global-level state and the global-level state can easily be
// restored after parsing a file just by restoring the pointer.
class Preprocessor {
    peek(kind) {
        return this.current.kind == kind;
    }
    eat(kind) {
        if (this.peek(kind)) {
            this.advance();
            return true;
        }
        return false;
    }
    advance() {
        if (!this.peek(scanner_1.TokenKind.END_OF_FILE)) {
            this.previous = this.current;
            this.current = this.current.next;
        }
    }
    unexpectedToken() {
        this.log.error(this.current.range, stringbuilder_1.StringBuilder_new()
            .append("Unexpected ")
            .append(scanner_1.tokenToString(this.current.kind))
            .finish());
    }
    expect(kind) {
        if (!this.peek(kind)) {
            this.log.error(this.current.range, stringbuilder_1.StringBuilder_new()
                .append("Expected ")
                .append(scanner_1.tokenToString(kind))
                .append(" but found ")
                .append(scanner_1.tokenToString(this.current.kind))
                .finish());
            return false;
        }
        this.advance();
        return true;
    }
    removeTokensFrom(before) {
        before.next = this.current;
        this.previous = before;
    }
    isDefined(name) {
        var flag = this.firstFlag;
        while (flag != null) {
            if (flag.name == name) {
                return flag.isDefined;
            }
            flag = flag.next;
        }
        return false;
    }
    define(name, isDefined) {
        var flag = new PreprocessorFlag();
        flag.isDefined = isDefined;
        flag.name = name;
        flag.next = this.firstFlag;
        this.firstFlag = flag;
    }
    run(source, log) {
        var firstToken = source.firstToken;
        if (firstToken != null && firstToken.kind == scanner_1.TokenKind.PREPROCESSOR_NEEDED) {
            var firstFlag = this.firstFlag;
            // Initialize
            this.isDefineAndUndefAllowed = true;
            this.previous = firstToken;
            this.current = firstToken.next;
            this.log = log;
            // Don't parse this file if preprocessing failed
            if (!this.scan(true)) {
                source.firstToken = null;
                return;
            }
            // Make sure blocks are balanced
            if (!this.peek(scanner_1.TokenKind.END_OF_FILE)) {
                this.unexpectedToken();
            }
            // Restore the global-level state instead of letting the file-level state
            // leak over into the next file that the preprocessor is run on
            this.firstFlag = firstFlag;
            // Skip over the PREPROCESSOR_NEEDED token so the parser doesn't see it
            source.firstToken = source.firstToken.next;
        }
    }
    // Scan over the next reachable tokens, evaluate #define/#undef directives,
    // and fold #if/#else chains. Stop on #elif/#else/#endif. Return false on
    // failure. Takes a booleanean flag for whether or not control flow is live in
    // this block.
    scan(isParentLive) {
        while (!this.peek(scanner_1.TokenKind.END_OF_FILE) &&
            !this.peek(scanner_1.TokenKind.PREPROCESSOR_ELIF) &&
            !this.peek(scanner_1.TokenKind.PREPROCESSOR_ELSE) &&
            !this.peek(scanner_1.TokenKind.PREPROCESSOR_ENDIF)) {
            var previous = this.previous;
            var current = this.current;
            // #define or #undef
            if (this.eat(scanner_1.TokenKind.PREPROCESSOR_DEFINE) || this.eat(scanner_1.TokenKind.PREPROCESSOR_UNDEF)) {
                // Only process the directive if control flow is live at this point
                if (this.expect(scanner_1.TokenKind.IDENTIFIER) && isParentLive) {
                    this.define(this.previous.range.toString(), current.kind == scanner_1.TokenKind.PREPROCESSOR_DEFINE);
                }
                // Help out people trying to use this like C
                if (this.eat(scanner_1.TokenKind.FALSE) || this.eat(scanner_1.TokenKind.INT32) && this.previous.range.toString() == "0") {
                    this.log.error(this.previous.range, "Use '#undef' to turn a preprocessor flag off");
                }
                // Scan up to the next newline
                if (!this.peek(scanner_1.TokenKind.END_OF_FILE) && !this.expect(scanner_1.TokenKind.PREPROCESSOR_NEWLINE)) {
                    while (!this.eat(scanner_1.TokenKind.PREPROCESSOR_NEWLINE) && !this.eat(scanner_1.TokenKind.END_OF_FILE)) {
                        this.advance();
                    }
                }
                // These statements are only valid at the top of the file
                if (!this.isDefineAndUndefAllowed) {
                    this.log.error(log_1.spanRanges(current.range, this.previous.range), "All '#define' and '#undef' directives must be at the top of the file");
                }
                // Remove all of these tokens
                this.removeTokensFrom(previous);
            }
            else if (this.eat(scanner_1.TokenKind.PREPROCESSOR_WARNING) || this.eat(scanner_1.TokenKind.PREPROCESSOR_ERROR)) {
                var next = this.current;
                // Scan up to the next newline
                while (!this.peek(scanner_1.TokenKind.PREPROCESSOR_NEWLINE) && !this.peek(scanner_1.TokenKind.END_OF_FILE)) {
                    this.advance();
                }
                // Only process the directive if control flow is live at this point
                if (isParentLive) {
                    var range = this.current == next ? current.range : log_1.spanRanges(next.range, this.previous.range);
                    this.log.append(range, range.toString(), current.kind == scanner_1.TokenKind.PREPROCESSOR_WARNING ? log_1.DiagnosticKind.WARNING : log_1.DiagnosticKind.ERROR);
                }
                // Remove all of these tokens
                this.eat(scanner_1.TokenKind.PREPROCESSOR_NEWLINE);
                this.removeTokensFrom(previous);
            }
            else if (this.eat(scanner_1.TokenKind.PREPROCESSOR_IF)) {
                var isLive = isParentLive;
                // Scan over the entire if-else chain
                while (true) {
                    var condition = this.parseExpression(parser_1.Precedence.LOWEST);
                    // Reject if the condition is missing
                    if (condition == PreprocessorValue.ERROR || !this.expect(scanner_1.TokenKind.PREPROCESSOR_NEWLINE)) {
                        return false;
                    }
                    // Remove the #if/#elif header
                    this.removeTokensFrom(previous);
                    // Scan to the next #elif, #else, or #endif
                    if (!this.scan(isLive && condition == PreprocessorValue.TRUE)) {
                        return false;
                    }
                    // Remove these tokens?
                    if (!isLive || condition == PreprocessorValue.FALSE) {
                        this.removeTokensFrom(previous);
                    }
                    else {
                        isLive = false;
                    }
                    // Update the previous pointer so we remove from here next
                    previous = this.previous;
                    // #elif
                    if (this.eat(scanner_1.TokenKind.PREPROCESSOR_ELIF)) {
                        continue;
                    }
                    // #else
                    if (this.eat(scanner_1.TokenKind.PREPROCESSOR_ELSE)) {
                        if (!this.expect(scanner_1.TokenKind.PREPROCESSOR_NEWLINE)) {
                            return false;
                        }
                        // Remove the #else
                        this.removeTokensFrom(previous);
                        // Scan to the #endif
                        if (!this.scan(isLive)) {
                            return false;
                        }
                        // Remove these tokens?
                        if (!isLive) {
                            this.removeTokensFrom(previous);
                        }
                    }
                    // #endif
                    break;
                }
                // All if-else chains end with an #endif
                previous = this.previous;
                if (!this.expect(scanner_1.TokenKind.PREPROCESSOR_ENDIF) || !this.peek(scanner_1.TokenKind.END_OF_FILE) && !this.expect(scanner_1.TokenKind.PREPROCESSOR_NEWLINE)) {
                    return false;
                }
                this.removeTokensFrom(previous);
            }
            else {
                this.isDefineAndUndefAllowed = false;
                this.advance();
            }
        }
        return true;
    }
    parsePrefix() {
        var isDefinedOperator = false;
        var start = this.current;
        // true or false
        if (this.eat(scanner_1.TokenKind.TRUE))
            return PreprocessorValue.TRUE;
        if (this.eat(scanner_1.TokenKind.FALSE))
            return PreprocessorValue.FALSE;
        // Identifier
        if (this.eat(scanner_1.TokenKind.IDENTIFIER)) {
            var name = this.previous.range.toString();
            // Recover from a C-style define operator
            if (this.peek(scanner_1.TokenKind.LEFT_PARENTHESIS) && name == "defined") {
                isDefinedOperator = true;
            }
            else {
                var isTrue = this.isDefined(name);
                return isTrue ? PreprocessorValue.TRUE : PreprocessorValue.FALSE;
            }
        }
        // !
        if (this.eat(scanner_1.TokenKind.NOT)) {
            var value = this.parseExpression(parser_1.Precedence.UNARY_PREFIX);
            if (value == PreprocessorValue.ERROR)
                return PreprocessorValue.ERROR;
            return value == PreprocessorValue.TRUE ? PreprocessorValue.FALSE : PreprocessorValue.TRUE;
        }
        // Group
        if (this.eat(scanner_1.TokenKind.LEFT_PARENTHESIS)) {
            var first = this.current;
            var value = this.parseExpression(parser_1.Precedence.LOWEST);
            if (value == PreprocessorValue.ERROR || !this.expect(scanner_1.TokenKind.RIGHT_PARENTHESIS)) {
                return PreprocessorValue.ERROR;
            }
            // Recover from a C-style define operator
            if (isDefinedOperator) {
                var builder = stringbuilder_1.StringBuilder_new().append("There is no 'defined' operator");
                if (first.kind == scanner_1.TokenKind.IDENTIFIER && this.previous == first.next) {
                    builder.append(" (just use '").append(first.range.toString()).append("' instead)");
                }
                this.log.error(log_1.spanRanges(start.range, this.previous.range), builder.finish());
            }
            return value;
        }
        // Recover from a C-style booleanean
        if (this.eat(scanner_1.TokenKind.INT32)) {
            var isTrue = this.previous.range.toString() != "0";
            this.log.error(this.previous.range, stringbuilder_1.StringBuilder_new()
                .append("Unexpected integer (did you mean '")
                .append(isTrue ? "true" : "false")
                .append("')?")
                .finish());
            return isTrue ? PreprocessorValue.TRUE : PreprocessorValue.FALSE;
        }
        this.unexpectedToken();
        return PreprocessorValue.ERROR;
    }
    parseInfix(precedence, left) {
        var operator = this.current.kind;
        // == or !=
        if (precedence < parser_1.Precedence.EQUAL && (this.eat(scanner_1.TokenKind.EQUAL) || this.eat(scanner_1.TokenKind.NOT_EQUAL))) {
            var right = this.parseExpression(parser_1.Precedence.EQUAL);
            if (right == PreprocessorValue.ERROR)
                return PreprocessorValue.ERROR;
            return (operator == scanner_1.TokenKind.EQUAL) == (left == right) ? PreprocessorValue.TRUE : PreprocessorValue.FALSE;
        }
        // &&
        if (precedence < parser_1.Precedence.LOGICAL_AND && this.eat(scanner_1.TokenKind.LOGICAL_AND)) {
            var right = this.parseExpression(parser_1.Precedence.LOGICAL_AND);
            if (right == PreprocessorValue.ERROR)
                return PreprocessorValue.ERROR;
            return (left == PreprocessorValue.TRUE && right == PreprocessorValue.TRUE) ? PreprocessorValue.TRUE : PreprocessorValue.FALSE;
        }
        // ||
        if (precedence < parser_1.Precedence.LOGICAL_OR && this.eat(scanner_1.TokenKind.LOGICAL_OR)) {
            var right = this.parseExpression(parser_1.Precedence.LOGICAL_OR);
            if (right == PreprocessorValue.ERROR)
                return PreprocessorValue.ERROR;
            return (left == PreprocessorValue.TRUE || right == PreprocessorValue.TRUE) ? PreprocessorValue.TRUE : PreprocessorValue.FALSE;
        }
        // Hook
        if (precedence == parser_1.Precedence.LOWEST && this.eat(scanner_1.TokenKind.QUESTION_MARK)) {
            var middle = this.parseExpression(parser_1.Precedence.LOWEST);
            if (middle == PreprocessorValue.ERROR || !this.expect(scanner_1.TokenKind.COLON)) {
                return PreprocessorValue.ERROR;
            }
            var right = this.parseExpression(parser_1.Precedence.LOWEST);
            if (right == PreprocessorValue.ERROR) {
                return PreprocessorValue.ERROR;
            }
            return left == PreprocessorValue.TRUE ? middle : right;
        }
        return left;
    }
    parseExpression(precedence) {
        // Prefix
        var value = this.parsePrefix();
        if (value == PreprocessorValue.ERROR) {
            return PreprocessorValue.ERROR;
        }
        // Infix
        while (true) {
            var current = this.current;
            value = this.parseInfix(precedence, value);
            if (value == PreprocessorValue.ERROR)
                return PreprocessorValue.ERROR;
            if (this.current == current)
                break;
        }
        return value;
    }
}
exports.Preprocessor = Preprocessor;


/***/ }),
/* 50 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const compile_target_1 = __webpack_require__(7);
// library files
const math = __webpack_require__(25);
const types = __webpack_require__(26);
const array = __webpack_require__(23);
const jstypes = __webpack_require__(28);
const runtime = __webpack_require__(27);
const wrapper = __webpack_require__(29);
const malloc = __webpack_require__(24);
const builtins = __webpack_require__(30);
const initializer = __webpack_require__(31);
class Library {
    static get(target) {
        let lib;
        switch (target) {
            case compile_target_1.CompileTarget.JAVASCRIPT:
                lib = jstypes + "\n";
                break;
            case compile_target_1.CompileTarget.WEBASSEMBLY:
                lib = [
                    types,
                    initializer,
                    builtins,
                    math,
                    malloc,
                    array
                ].join('\n');
                break;
        }
        return lib;
    }
    static getRuntime(target) {
        switch (target) {
            case compile_target_1.CompileTarget.JAVASCRIPT:
                return runtime + "\n";
            default:
                return "";
        }
    }
    static getWrapper(target) {
        switch (target) {
            case compile_target_1.CompileTarget.JAVASCRIPT:
                return wrapper + "\n";
            default:
                return "";
        }
    }
}
exports.Library = Library;


/***/ }),
/* 51 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
///<reference path="declarations.d.ts" />
const log_1 = __webpack_require__(3);
const stringbuilder_1 = __webpack_require__(2);
const compiler_1 = __webpack_require__(10);
const compile_target_1 = __webpack_require__(7);
const terminal_1 = __webpack_require__(0);
const filesystem_1 = __webpack_require__(14);
/**
 * TurboScript compiler main entry
 */
class CommandLineArgument {
}
exports.CommandLineArgument = CommandLineArgument;
let firstArgument;
let lastArgument;
function main_addArgument(text) {
    let argument = new CommandLineArgument();
    argument.text = text;
    if (firstArgument == null)
        firstArgument = argument;
    else
        lastArgument.next = argument;
    lastArgument = argument;
}
exports.main_addArgument = main_addArgument;
function main_reset() {
    firstArgument = null;
    lastArgument = null;
}
exports.main_reset = main_reset;
function printUsage() {
    terminal_1.Terminal.write(`
Usage: tc [FLAGS] [INPUTS]

  --help           Print this message.
  --out [PATH]     Emit code to PATH (the target format is the file extension).
    --wasm         Explicit webassembly output 
  --define [NAME]  Define the flag NAME in all input files.

Examples:

  tc src/*.tbs --out main.wasm
`);
}
exports.printUsage = printUsage;
function main_entry() {
    let target = compile_target_1.CompileTarget.NONE;
    let argument = firstArgument;
    let inputCount = 0;
    let output;
    // Print usage by default
    if (firstArgument == null) {
        printUsage();
        return 1;
    }
    // Initial pass over the argument list
    while (argument != null) {
        let text = argument.text;
        if (text.startsWith("-")) {
            if (text == "-h" || text == "-help" || text == "--help" || text == "/?") {
                printUsage();
                return 0;
            }
            else if (text == "--cpp") {
                target = compile_target_1.CompileTarget.CPP;
            }
            else if (text == "--js") {
                target = compile_target_1.CompileTarget.JAVASCRIPT;
            }
            else if (text == "--wasm") {
                target = compile_target_1.CompileTarget.WEBASSEMBLY;
            }
            else if (text == "--define" && argument.next != null) {
                argument = argument.next;
            }
            else if (text == "--out" && argument.next != null) {
                argument = argument.next;
                output = argument.text;
            }
            else {
                terminal_1.Terminal.error(stringbuilder_1.StringBuilder_new().append("Invalid flag: ").append(text).finish());
                return 1;
            }
        }
        else {
            inputCount = inputCount + 1;
        }
        argument = argument.next;
    }
    // Must have inputs
    if (inputCount == 0) {
        terminal_1.Terminal.error("No input files");
        return 1;
    }
    // Must have an output
    if (output == null) {
        terminal_1.Terminal.error("Missing an output file (use the --out flag)");
        return 1;
    }
    // Automatically set the target based on the file extension
    //C emitter and vanilla javascript emitter is disabled due to outdated code base.
    if (target == compile_target_1.CompileTarget.NONE) {
        if (output.endsWith(".wasm"))
            target = compile_target_1.CompileTarget.WEBASSEMBLY;
        else {
            // Terminal.error("Missing a target (use either --c, --js, --asmjs or --wasm)");
            terminal_1.Terminal.error("Missing a target (use either --asmjs or --wasm)");
            return 1;
        }
    }
    // Start the compilation
    let compiler = new compiler_1.Compiler();
    compiler.initialize(target, output);
    // Second pass over the argument list
    argument = firstArgument;
    while (argument != null) {
        let text = argument.text;
        if (text == "--define") {
            argument = argument.next;
            compiler.preprocessor.define(argument.text, true);
        }
        else if (text == "--out") {
            argument = argument.next;
        }
        else if (!text.startsWith("-")) {
            let contents = filesystem_1.FileSystem.readTextFile(text);
            if (contents == null) {
                terminal_1.Terminal.error(stringbuilder_1.StringBuilder_new().append("Cannot read from ").append(text).finish());
                return 1;
            }
            compiler.addInput(text, contents);
        }
        argument = argument.next;
    }
    // Finish the compilation
    compiler.finish();
    log_1.writeLogToTerminal(compiler.log);
    // Only emit the output if the compilation succeeded
    if (!compiler.log.hasErrors()) {
        if (target == compile_target_1.CompileTarget.CPP && filesystem_1.FileSystem.writeTextFile(output, compiler.outputCPP) &&
            filesystem_1.FileSystem.writeTextFile(compiler_1.replaceFileExtension(output, ".h"), compiler.outputH) ||
            target == compile_target_1.CompileTarget.JAVASCRIPT && filesystem_1.FileSystem.writeTextFile(output, compiler.outputJS) ||
            target == compile_target_1.CompileTarget.WEBASSEMBLY && filesystem_1.FileSystem.writeBinaryFile(output, compiler.outputWASM) &&
                filesystem_1.FileSystem.writeTextFile(output + ".log", compiler.outputWASM.log)) {
            terminal_1.Terminal.write("\n");
            return 0;
        }
        terminal_1.Terminal.error(stringbuilder_1.StringBuilder_new().append("Cannot write to ").append(output).finish());
    }
    terminal_1.Terminal.write("\n");
    return 1;
}
exports.main_entry = main_entry;
exports.main = {
    addArgument: main_addArgument,
    reset: main_reset,
    entry: main_entry
};
function compileString(source, target = compile_target_1.CompileTarget.WEBASSEMBLY) {
    terminal_1.Terminal.silent = true;
    if (typeof TURBO_PATH === "undefined") {
        TURBO_PATH = "";
    }
    let input = "tmp-string-source.tbs";
    let output = "tmp-string-source.wasm";
    filesystem_1.FileSystem.writeTextFile("tmp-string-source.tbs", source, true);
    let compiler = new compiler_1.Compiler();
    compiler.initialize(target, output);
    compiler.addInput(input, source);
    compiler.finish();
    terminal_1.Terminal.silent = false;
    if (!compiler.log.hasErrors()) {
        return compiler.outputWASM;
    }
    else {
        log_1.writeLogToTerminal(compiler.log);
        return null;
    }
}
exports.compileString = compileString;


/***/ }),
/* 52 */
/***/ (function(module, exports) {

module.exports = require("fs");

/***/ })
/******/ ]);
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovLy93ZWJwYWNrL2Jvb3RzdHJhcCA1YWE2Mzg3Njk0MmE0NGFhMTAwNCIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvdGVybWluYWwudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzL2Fzc2VydC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvc3RyaW5nYnVpbGRlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvbG9nLnRzIiwid2VicGFjazovLy8uL3NyYy9jb21waWxlci9jb3JlL25vZGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBpbGVyL2NvcmUvc3ltYm9sLnRzIiwid2VicGFjazovLy8uL3NyYy91dGlscy91dGlscy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcGlsZXIvY29tcGlsZS10YXJnZXQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2JhY2tlbmRzL3dlYmFzc2VtYmx5L29wY29kZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcGlsZXIvc2Nhbm5lci9zY2FubmVyLnRzIiwid2VicGFjazovLy8uL3NyYy9jb21waWxlci9jb21waWxlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvYmFja2VuZHMvd2ViYXNzZW1ibHkvY29yZS93YXNtLXR5cGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2JhY2tlbmRzL3dlYmFzc2VtYmx5L3V0aWxzL2xvZ2dlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvYnl0ZWFycmF5LnRzIiwid2VicGFjazovLy8uL3NyYy91dGlscy9maWxlc3lzdGVtLnRzIiwid2VicGFjazovLy8uL3NyYy9iYWNrZW5kcy93ZWJhc3NlbWJseS9jb3JlL3dhc20tc2VjdGlvbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvYmFja2VuZHMvd2ViYXNzZW1ibHkvc3RhY2stbWFjaGluZS93YXNtLXJ1bnRpbWUtbG9jYWwudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBpbGVyL2NvcmUvc2NvcGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBpbGVyL2NvcmUvdHlwZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcGlsZXIvcGFyc2VyL3BhcnNlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvY29sb3IudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzL2Vudi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZXh0cmFzL2phdmFzY3JpcHQudGJzIiwid2VicGFjazovLy8uL3NyYy9saWJyYXJ5L2NvbW1vbi9hcnJheS50YnMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xpYnJhcnkvY29tbW9uL21hbGxvYy50YnMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xpYnJhcnkvY29tbW9uL21hdGgudGJzIiwid2VicGFjazovLy8uL3NyYy9saWJyYXJ5L2NvbW1vbi90eXBlcy50YnMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xpYnJhcnkvdHVyYm8vcnVudGltZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbGlicmFyeS90dXJiby90eXBlcy50YnMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xpYnJhcnkvdHVyYm8vd3JhcHBlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbGlicmFyeS93ZWJhc3NlbWJseS9idWlsdGlucy50YnMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xpYnJhcnkvd2ViYXNzZW1ibHkvaW5pdGlhbGl6ZXIudGJzIiwid2VicGFjazovLy8uL3NyYy9iYWNrZW5kcy9iaXRuZXNzLnRzIiwid2VicGFjazovLy8uL3NyYy9iYWNrZW5kcy93ZWJhc3NlbWJseS9hc3NlbWJsZXIvd2FzbS1hc3NlbWJsZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2JhY2tlbmRzL3dlYmFzc2VtYmx5L2J1ZmZlci9zZWN0aW9uLWJ1ZmZlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvYmFja2VuZHMvd2ViYXNzZW1ibHkvYnVpbHRpbnMtaGVscGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9iYWNrZW5kcy93ZWJhc3NlbWJseS9jb3JlL3dhc20tZXh0ZXJuYWwta2luZC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvYmFja2VuZHMvd2ViYXNzZW1ibHkvY29yZS93YXNtLWZ1bmN0aW9uLnRzIiwid2VicGFjazovLy8uL3NyYy9iYWNrZW5kcy93ZWJhc3NlbWJseS9jb3JlL3dhc20tZ2xvYmFsLnRzIiwid2VicGFjazovLy8uL3NyYy9iYWNrZW5kcy93ZWJhc3NlbWJseS9jb3JlL3dhc20taW1wb3J0LnRzIiwid2VicGFjazovLy8uL3NyYy9iYWNrZW5kcy93ZWJhc3NlbWJseS9jb3JlL3dhc20tbG9jYWwudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2JhY2tlbmRzL3dlYmFzc2VtYmx5L2NvcmUvd2FzbS1zaGFyZWQtb2Zmc2V0LnRzIiwid2VicGFjazovLy8uL3NyYy9iYWNrZW5kcy93ZWJhc3NlbWJseS9jb3JlL3dhc20tc2lnbmF0dXJlLnRzIiwid2VicGFjazovLy8uL3NyYy9iYWNrZW5kcy93ZWJhc3NlbWJseS9zdGFjay1tYWNoaW5lL3dhc20tc3RhY2stdHJhY2VyLnRzIiwid2VicGFjazovLy8uL3NyYy9iYWNrZW5kcy93ZWJhc3NlbWJseS93ZWJhc3NlbWJseS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcGlsZXIvYW5hbHl6ZXIvdHlwZS1jaGVja2VyLnRzIiwid2VicGFjazovLy8uL3NyYy9jb21waWxlci9jb25zdC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcGlsZXIvb3B0aW1pemVyL3NoYWtpbmcudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBpbGVyL3BhcnNlci9wcmVwYXJzZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBpbGVyL3ByZXByb2Nlc3Nvci9wcmVwcm9jZXNzb3IudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xpYnJhcnkvbGlicmFyeS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdHVyYm9zY3JpcHQudHMiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiZnNcIiJdLCJuYW1lcyI6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RUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQzlCLGVBQU0sQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxJQUFJLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUM3RCxNQUFNLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLHVCQUF1QixDQUFDO0lBQ2pFLENBQUM7SUFFRCxZQUFZO1FBQ1IsZUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLElBQUksUUFBUSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ3ZDLGVBQU0sQ0FBQyxJQUFJLENBQUMsVUFBVSxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUM7UUFDL0IsZUFBTSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxJQUFJLFFBQVEsQ0FBQyxLQUFLLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLElBQUksUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ3ZGLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUM7UUFDMUIsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLElBQUksUUFBUSxDQUFDLEtBQUssR0FBRyxJQUFJLEdBQUcsSUFBSSxDQUFDO0lBQ3JELENBQUM7SUFFRCxPQUFPO1FBQ0gsZUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLElBQUksUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ2xDLGVBQU0sQ0FBQyxJQUFJLENBQUMsVUFBVSxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUM7UUFDL0IsZUFBTSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQztRQUN0QyxNQUFNLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQztJQUMzQixDQUFDO0lBRUQsVUFBVTtRQUNOLGVBQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxJQUFJLFFBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUNyQyxlQUFNLENBQUMsSUFBSSxDQUFDLFVBQVUs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O1FBQ3pDLGVBQU0sQ0FBQyxJQUFJLENBQUMsVUFBVSxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUM7UUFDL0IsZUFBTSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQztRQUN0QyxNQUFNLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQztJQUMzQixDQUFDO0lBRUQsVUFBVTtRQUNOLGVBQU0sQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7UUFDNUIsZUFBTSxDQUFDLElBQUksQ0FBQyxVQUFVLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQztRQUMvQixlQUFNLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDO1FBQ3RDLE1BQU0sQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDO0lBQzNCLENBQUM7SUFFRCxXQUFXO1FBQ1AsZUFBTSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztRQUM1QixlQUFNLENBQUMsSUFBSSxDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDO1FBQy9CLGVBQU0sQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUM7UUFDckMsTUFBTSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUM7SUFDMUIsQ0FBQztJQUVELFVBQVU7UUFDTixlQUFNLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO1FBQzNCLGVBQU0sQ0FBQyxJQUFJLENBQUMsVUFBVSxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUM7UUFDL0IsZUFBTSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQztRQUN0QyxNQUFNLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQztJQUMzQixDQUFDO0lBRUQsT0FBTztRQUNILGVBQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxJQUFJLFFBQVEsQ0FBQyxhQUFhLENBQUMsQ0FBQztRQUM1QyxlQUFNLENBQUMsSUFBSSxDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDO1FBQy9CLGVBQU0sQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUM7UUFDdEMsTUFBTSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUM7SUFDM0IsQ0FBQztJQUVELGFBQWE7UUFDVCxlQUFNLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBQ3hCLGVBQU0sQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1FBQ3BDLE1BQU0sQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLFdBQVcsQ0FBQyxRQUFRLENBQUM7SUFDaEQsQ0FBQztJQUVELFVBQVU7UUFDTixlQUFNLENBQUMsSUFBSSxDQUFDLElBQUksSUFBSSxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDcEMsZUFBTSxDQUFDLElBQUksQ0FBQyxVQUFVLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQztRQUMvQixlQUFNLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDO1FBQ3RDLE1BQU0sQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDO0lBQzNCLENBQUM7SUFFRCxTQUFTO1FBQ0wsZUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLElBQUksUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ3BDLGVBQU0sQ0FBQyxJQUFJLENBQUMsVUFBVSxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUM7UUFDL0IsZUFBTSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxJQUFJLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUM5QyxNQUFNLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQztJQUMxQixDQUFDO0lBRUQsU0FBUztRQUNMLGVBQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxJQUFJLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNuQyxlQUFNLENBQUMsSUFBSSxDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDO1FBQy9CLGVBQU0sQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUM7UUFDdEMsTUFBTSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUM7SUFDM0IsQ0FBQztJQUVELFFBQVE7UUFDSixlQUFNLENBQUMsSUFBSSxDQUFDLElBQUksSUFBSSxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDbkMsZUFBTSxDQUFDLElBQUksQ0FBQyxVQUFVLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQztRQUMvQixlQUFNLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQztRQUNsRCxNQUFNLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxXQUFXLENBQUM7SUFDdkMsQ0FBQztJQUVELFNBQVM7UUFDTCxlQUFNLENBQUMsSUFBSSxDQUFDLElBQUksSUFBSSxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDbkMsZUFBTSxDQUFDLElBQUksQ0FBQyxVQUFVLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQztRQUMvQixlQUFNLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDO1FBQ3JDLE1BQU0sQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDO0lBQzFCLENBQUM7SUFFRCxXQUFXO1FBQ1AsZUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLElBQUksUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ3BDLGVBQU0sQ0FBQyxJQUFJLENBQUMsVUFBVSxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUM7UUFDL0IsZUFBTSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQztRQUN0QyxNQUFNLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQztJQUMzQixDQUFDO0lBRUQsT0FBTztRQUNILGVBQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxJQUFJLFFBQVEsQ0FBQyxFQUFFLENB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LFdBQVcsRUFBSSxJQUFJO0lBQ25CLFdBQVcsRUFBSSxJQUFJO0lBQ25CLFdBQVcsRUFBSSxJQUFJO0lBRW5CLFlBQVk7SUFDWixTQUFTLEVBQUksSUFBSTtJQUNqQixTQUFTLEVBQUksSUFBSTtJQUNqQixTQUFTLEVBQUksSUFBSTtJQUNqQixTQUFTLEVBQUksSUFBSTtJQUVqQixzQkFBc0I7SUFDdEIsT0FBTyxFQUFJLElBQUk7SUFDZixNQUFNLEVBQUksSUFBSTtJQUNkLE1BQU0sRUFBSSxJQUFJO0lBQ2QsUUFBUSxFQUFJLElBQUk7SUFDaEIsUUFBUSxFQUFJLElBQUk7SUFDaEIsUUFBUSxFQUFJLElBQUk7SUFDaEIsUUFBUSxFQUFJLElBQUk7SUFDaEIsUUFBUSxFQUFJLElBQUk7SUFDaEIsUUFBUSxFQUFJLElBQUk7SUFDaEIsUUFBUSxFQUFJLElBQUk7SUFDaEIsUUFBUSxFQUFJLElBQUk7SUFFaEIsT0FBTyxFQUFJLElBQUk7SUFDZixNQUFNLEVBQUksSUFBSTtJQUNkLE1BQU0sRUFBSSxJQUFJO0lBQ2QsUUFBUSxFQUFJLElBQUk7SUFDaEIsUUFBUSxFQUFJLElBQUk7SUFDaEIsUUFBUSxFQUFJLElBQUk7SUFDaEIsUUFBUSxFQUFJLElBQUk7SUFDaEIsUUFBUSxFQUFJLElBQUk7SUFDaEIsUUFBUSxFQUFJLElBQUk7SUFDaEIsUUFBUSxFQUFJLElBQUk7SUFDaEIsUUFBUSxFQUFJLElBQUk7SUFFaEIsTUFBTSxFQUFJLElBQUk7SUFDZCxNQUFNLEVBQUksSUFBSTtJQUNkLE1BQU0sRUFBSSxJQUFJO0lBQ2QsTUFBTSxFQUFJLElBQUk7SUFDZCxNQUFNLEVBQUksSUFBSTtJQUNkLE1BQU0sRUFBSSxJQUFJO0lBRWQsTUFBTSxFQUFJLElBQUk7SUFDZCxNQUFNLEVBQUksSUFBSTtJQUNkLE1BQU0sRUFBSSxJQUFJO0lBQ2QsTUFBTSxFQUFJLElBQUk7SUFDZCxNQUFNLEVBQUksSUFBSTtJQUNkLE1BQU0sRUFBSSxJQUFJO0lBRWQsbUJBQW1CO0lBQ25CLE9BQU8sRUFBSSxJQUFJO0lBQ2YsT0FBTyxFQUFJLElBQUk7SUFDZixVQUFVLEVBQUksSUFBSTtJQUNsQixPQUFPLEVBQUksSUFBSTtJQUNmLE9BQU8sRUFBSSxJQUFJO0lBQ2YsT0FBTyxFQUFJLElBQUk7SUFDZixTQUFTLEVBQUksSUFBSTtJQUNqQixTQUFTLEVBQUksSUFBSTtJQUNqQixTQUFTLEVBQUksSUFBSTtJQUNqQixTQUFTLEVBQUksSUFBSTtJQUNqQixPQUFPLEVBQUksSUFBSTtJQUNmLE1BQU0sRUFBSSxJQUFJO0lBQ2QsT0FBTyxFQUFJLElBQUk7SUFDZixPQUFPLEVBQUksSUFBSTtJQUNmLFNBQVMsRUFBSSxJQUFJO0lBQ2pCLFNBQVMsRUFBSSxJQUFJO0lBQ2pCLFFBQVEsRUFBSSxJQUFJO0lBQ2hCLFFBQVEsRUFBSSxJQUFJO0lBRWhCLE9BQU8sRUFBSSxJQUFJO0lBQ2YsT0FBTyxFQUFJLElBQUk7SUFDZixVQUFVLEVBQUksSUFBSTtJQUNsQixPQUFPLEVBQUksSUFBSTtJQUNmLE9BQU8sRUFBSSxJQUFJO0lBQ2YsT0FBTyxFQUFJLElBQUk7SUFDZixTQUFTLEVBQUksSUFBSTtJQUNqQixTQUFTLEVBQUksSUFBSTtJQUNqQixTQUFTLEVBQUksSUFBSTtJQUNqQixTQUFTLEVBQUksSUFBSTtJQUNqQixPQUFPLEVBQUksSUFBSTtJQUNmLE1BQU0sRUFBSSxJQUFJO0lBQ2QsT0FBTyxFQUFJLElBQUk7SUFDZixPQUFPLEVBQUksSUFBSTtJQUNmLFNBQVMsRUFBSSxJQUFJO0lBQ2pCLFNBQVMsRUFBSSxJQUFJO0lBQ2pCLFFBQVEsRUFBSSxJQUFJO0lBQ2hCLFFBQVEsRUFBSSxJQUFJO0lBRWhCLE9BQU8sRUFBSSxJQUFJO0lBQ2YsT0FBTyxFQUFJLElBQUk7SUFDZixRQUFRLEVBQUksSUFBSTtJQUNoQixTQUFTLEVBQUksSUFBSTtJQUNqQixTQUFTLEVBQUksSUFBSTtJQUNqQixXQUFXLEVBQUksSUFBSTtJQUNuQixRQUFRLEVBQUksSUFBSTtJQUNoQixPQUFPLEVBQUksSUFBSTtJQUNmLE9BQU8sRUFBSSxJQUFJO0lBQ2YsT0FBTyxFQUFJLElBQUk7SUFDZixPQUFPLEVBQUksSUFBSTtJQUNmLE9BQU8sRUFBSSxJQUFJO0lBQ2YsT0FBTyxFQUFJLElBQUk7SUFDZixZQUFZLEVBQUksSUFBSTtJQUVwQixPQUFPLEVBQUksSUFBSTtJQUNmLE9BQU8sRUFBSSxJQUFJO0lBQ2YsUUFBUSxFQUFJLElBQUk7SUFDaEIsU0FBUyxFQUFJLElBQUk7SUFDakIsU0FBUyxFQUFJLElBQUk7SUFDakIsV0FBVyxFQUFJLElBQUk7SUFDbkIsUUFBUSxFQUFJLElBQUk7SUFDaEIsT0FBTyxFQUFJLElBQUk7SUFDZixPQUFPLEVBQUksSUFBSTtJQUNmLE9BQU8sRUFBSSxJQUFJO0lBQ2YsT0FBTyxFQUFJLElBQUk7SUFDZixPQUFPLEVBQUksSUFBSTtJQUNmLE9BQU8sRUFBSSxJQUFJO0lBQ2YsWUFBWSxFQUFJLElBQUk7SUFFcEIsYUFBYTtJQUNiLFlBQVksRUFBSSxJQUFJO0lBQ3BCLGVBQWUsRUFBSSxJQUFJO0lBQ3ZCLGVBQWUsRUFBSSxJQUFJO0lBQ3ZCLGVBQWUsRUFBSSxJQUFJO0lBQ3ZCLGVBQWUsRUFBSSxJQUFJO0lBRXZCLGdCQUFnQixFQUFJLElBQUk7SUFDeEIsZ0JBQWdCLEVBQUksSUFBSTtJQUN4QixlQUFlLEVBQUksSUFBSTtJQUN2QixlQUFlLEVBQUksSUFBSTtJQUN2QixlQUFlLEVBQUksSUFBSTtJQUN2QixlQUFlLEVBQUksSUFBSTtJQUV2QixpQkFBaUIsRUFBSSxJQUFJO0lBQ3pCLGlCQUFpQixFQUFJLElBQUk7SUFDekIsaUJBQWlCLEVBQUksSUFBSTtJQUN6QixpQkFBaUIsRUFBSSxJQUFJO0lBQ3pCLGNBQWMsRUFBSSxJQUFJO0lBRXRCLGlCQUFpQixFQUFJLElBQUk7SUFDekIsaUJBQWlCLEVBQUksSUFBSTtJQUN6QixpQkFBaUIsRUFBSSxJQUFJO0lBQ3pCLGlCQUFpQixFQUFJLElBQUk7SUFDekIsZUFBZSxFQUFJLElBQUk7SUFFdkIsbUJBQW1CO0lBQ25CLG1CQUFtQixFQUFJLElBQUk7SUFDM0IsbUJBQW1CLEVBQUksSUFBSTtJQUMzQixtQkFBbUIsRUFBSSxJQUFJO0lBQzNCLG1CQUFtQixFQUFJLElBQUk7Q0FDOUIsQ0FBQztBQUVGLGtCQUFVLENBQUMsa0JBQVUsQ0FBQyxXQUFXLENBQUMsR0FBRyxhQUFhLENBQUM7QUFDbkQsa0JBQVUsQ0FBQyxrQkFBVSxDQUFDLEdBQUcsQ0FBQyxHQUFHLEtBQUssQ0FBQztBQUNuQyxrQkFBVSxDQUFDLGtCQUFVLENBQUMsS0FBSyxDQUFDLEdBQUcsT0FBTyxDQUFDO0FBQ3ZDLGtCQUFVLENBQUMsa0JBQVUsQ0FBQyxJQUFJLENBQUMsR0FBRyxNQUFNLENBQUM7QUFDckMsa0JBQVUsQ0FBQyxrQkFBVSxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQztBQUNqQyxrQkFBVSxDQUFDLGtCQUFVLENBQUMsT0FBTyxDQUFDLEdBQUcsTUFBTSxDQUFDO0FBQ3hDLGtCQUFVLENBQUMsa0JBQVUsQ0FBQyxHQUFHLENBQUMsR0FBRyxLQUFLLENBQUM7QUFDbkMsa0JBQVUsQ0FBQyxrQkFBVSxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQztBQUNqQyxrQkFBVSxDQUFDLGtCQUFVLENBQUMsS0FBSyxDQUFDLEdBQUcsT0FBTyxDQUFDO0FBQ3ZDLGtCQUFVLENBQUMsa0JBQVUsQ0FBQyxRQUFRLENBQUMsR0FBRyxVQUFVLENBQUM7QUFDN0Msa0JBQVUsQ0FBQyxrQkFBVSxDQUFDLE1BQU0sQ0FBQyxHQUFHLFFBQVEsQ0FBQztBQUVyQyxpQkFBaUI7QUFDckIsa0JBQVUsQ0FBQyxrQkFBVSxDQUFDLElBQUksQ0FBQyxHQUFHLE1BQU0sQ0FBQztBQUNyQyxrQkFBVSxDQUFDLGtCQUFVLENBQUMsYUFBYSxDQUFDLEdBQUcsZUFBZSxDQUFDO0FBRW5ELHNCQUFzQjtBQUMxQixrQkFBVSxDQUFDLGtCQUFVLENBQUMsSUFBSSxDQUFDLEdBQUcsTUFBTSxDQUFDO0FBQ3JDLGtCQUFVLENBQUMsa0JBQVUsQ0FBQyxNQUFNLENBQUMsR0FBRyxRQUFRLENBQUM7QUFFckMsaUJBQWlCO0FBQ3JCLGtCQUFVLENBQUMsa0JBQVUsQ0FBQyxTQUFTLENBQUMsR0FBRyxXQUFXLENBQUM7QUFDL0Msa0JBQVUsQ0FBQyxrQkFBVSxDQUFDLFNBQVMsQ0FBQyxHQUFHLFdBQVcsQ0FBQztBQUMvQyxrQkFBVSxDQUFDLGtCQUFVLENBQUMsU0FBUyxDQUFDLEdBQUcsV0FBVyxDQUFDO0FBQy9DLGtCQUFVLENBQUMsa0JBQVUsQ0FBQyxVQUFVLENBQUMsR0FBRyxZQUFZLENBQUM7QUFDakQsa0JBQVUsQ0FBQyxrQkFBVSxDQUFDLFVBQVUsQ0FBQyxHQUFHLFlBQVksQ0FBQztBQUU3QywyQkFBMkI7QUFDL0Isa0JBQVUsQ0FBQyxrQkFBVSxDQUFDLFFBQVEsQ0FBQyxHQUFHLFVBQVUsQ0FBQztBQUM3QyxrQkFBVSxDQUFDLGtCQUFVLENBQUMsUUFBUSxDQUFDLEdBQUcsVUFBVSxDQUFDO0FBQzdDLGtCQUFVLENBQUMsa0JBQVUsQ0FBQyxRQUFRLENBQUMsR0FBRyxVQUFVLENBQUM7QUFDN0Msa0JBQVUsQ0FBQyxrQkFBVSxDQUFDLFFBQVEsQ0FBQyxHQUFHLFVBQVUsQ0FBQztBQUU3QyxrQkFBVSxDQUFDLGtCQUFVLENBQUMsV0FBVyxDQUFDLEdBQUcsYUFBYSxDQUFDO0FBQ25ELGtCQUFVLENBQUMsa0JBQVUsQ0FBQyxXQUFXLENBQUMsR0FBRyxhQUFhLENBQUM7QUFDbkQsa0JBQVUsQ0FBQyxrQkFBVSxDQUFDLFlBQVksQ0FBQyxHQUFHLGNBQWMsQ0FBQztBQUNyRCxrQkFBVSxDQUFDLGtCQUFVLENBQUMsWUFBWSxDQUFDLEdBQUcsY0FBYyxDQUFDO0FBRXJELGtCQUFVLENBQUMsa0JBQVUsQ0FBQyxXQUFXLENBQUMsR0FBRyxhQUFhLENBQUM7QUFDbkQsa0JBQVUsQ0FBQyxrQkFBVSxDQUFDLFdBQVcsQ0FBQyxHQUFHLGFBQWEsQ0FBQztBQUNuRCxrQkFBVSxDQUFDLGtCQUFVLENBQUMsWUFBWSxDQUFDLEdBQUcsY0FBYyxDQUFDO0FBQ3JELGtCQUFVLENBQUMsa0JBQVUsQ0FBQyxZQUFZLENBQUMsR0FBRyxjQUFjLENBQUM7QUFDckQsa0JBQVUsQ0FBQyxrQkFBVSxDQUFDLFlBQVksQ0FBQyxHQUFHLGNBQWMsQ0FBQztBQUNyRCxrQkFBVSxDQUFDLGtCQUFVLENBQUMsWUFBWSxDQUFDLEdBQUcsY0FBYyxDQUFDO0FBRXJELGtCQUFVLENBQUMsa0JBQVUsQ0FBQyxTQUFTLENBQUMsR0FBRyxXQUFXLENBQUM7QUFDL0Msa0JBQVUsQ0FBQyxrQkFBVSxDQUFDLFNBQVMsQ0FBQyxHQUFHLFdBQVcsQ0FBQztBQUMvQyxrQkFBVSxDQUFDLGtCQUFVLENBQUMsU0FBUyxDQUFDLEdBQUcsV0FBVyxDQUFDO0FBQy9DLGtCQUFVLENBQUMsa0JBQVUsQ0FBQyxTQUFTLENBQUMsR0FBRyxXQUFXLENBQUM7QUFFL0Msa0JBQVUsQ0FBQyxrQkFBVSxDQUFDLFVBQVUsQ0FBQyxHQUFHLFlBQVksQ0FBQztBQUNqRCxrQkFBVSxDQUFDLGtCQUFVLENBQUMsV0FBVyxDQUFDLEdBQUcsYUFBYSxDQUFDO0FBQ25ELGtCQUFVLENBQUMsa0JBQVUsQ0FBQyxVQUFVLENBQUMsR0FBRyxZQUFZLENBQUM7QUFDakQsa0JBQVUsQ0FBQyxrQkFBVSxDQUFDLFdBQVcsQ0FBQyxHQUFHLGFBQWEsQ0FBQztBQUNuRCxrQkFBVSxDQUFDLGtCQUFVLENBQUMsV0FBVyxDQUFDLEdBQUcsYUFBYSxDQUFDO0FBQ25ELGtCQUFVLENBQUMsa0JBQVUsQ0FBQyxXQUFXLENBQUMsR0FBRyxnQkFBZ0IsQ0FBQztBQUN0RCxrQkFBVSxDQUFDLGtCQUFVLENBQUMsV0FBVyxDQUFDLEdBQUcsYUFBYSxDQUFDO0FBRS9DLFlBQVk7QUFDaEIsa0JBQVUsQ0FBQyxrQkFBVSxDQUFDLFNBQVMsQ0FBQyxHQUFHLFdBQVcsQ0FBQztBQUMvQyxrQkFBVSxDQUFDLGtCQUFVLENBQUMsU0FBUyxDQUFDLEdBQUcsV0FBVyxDQUFDO0FBQy9DLGtCQUFVLENBQUMsa0JBQVUsQ0FBQyxTQUFTLENBQUMsR0FBRyxXQUFXLENBQUM7QUFDL0Msa0JBQVUsQ0FBQyxrQkFBVSxDQUFDLFNBQVMsQ0FBQyxHQUFHLFdBQVcsQ0FBQztBQUUzQyxzQkFBc0I7QUFDMUIsa0JBQVUsQ0FBQyxrQkFBVSxDQUFDLE9BQU8sQ0FBQyxHQUFHLFNBQVMsQ0FBQztBQUMzQyxrQkFBVSxDQUFDLGtCQUFVLENBQUMsTUFBTSxDQUFDLEdBQUcsUUFBUSxDQUFDO0FBQ3pDLGtCQUFVLENBQUMsa0JBQVUsQ0FBQyxNQUFNLENBQUMsR0FBRyxRQUFRLENBQUM7QUFDekMsa0JBQVUsQ0FBQyxrQkFBVSxDQUFDLFFBQVEsQ0FBQyxHQUFHLFVBQVUsQ0FBQztBQUM3QyxrQkFBVSxDQUFDLGtCQUFVLENBQUMsUUFBUSxDQUFDLEdBQUcsVUFBVSxDQUFDO0FBQzdDLGtCQUFVLENBQUMsa0JBQVUsQ0FBQyxRQUFRLENBQUMsR0FBRyxVQUFVLENBQUM7QUFDN0Msa0JBQVUsQ0FBQyxrQkFBVSxDQUFDLFFBQVEsQ0FBQyxHQUFHLFVBQVUsQ0FBQztBQUM3QyxrQkFBVSxDQUFDLGtCQUFVLENBQUMsUUFBUSxDQUFDLEdBQUcsVUFBVSxDQUFDO0FBQzdDLGtCQUFVLENBQUMsa0JBQVUsQ0FBQyxRQUFRLENBQUMsR0FBRyxVQUFVLENBQUM7QUFDN0Msa0JBQVUsQ0FBQyxrQkFBVSxDQUFDLFFBQVEsQ0FBQyxHQUFHLFVBQVUsQ0FBQztBQUM3QyxrQkFBVSxDQUFDLGtCQUFVLENBQUMsUUFBUSxDQUFDLEdBQUcsVUFBVSxDQUFDO0FBRTdDLGtCQUFVLENBQUMsa0JBQVUsQ0FBQyxPQUFPLENBQUMsR0FBRyxTQUFTLENBQUM7QUFDM0Msa0JBQVUsQ0FBQyxrQkFBVSxDQUFDLE1BQU0sQ0FBQyxHQUFHLFFBQVEsQ0FBQztBQUN6QyxrQkFBVSxDQUFDLGtCQUFVLENBQUMsTUFBTSxDQUFDLEdBQUcsUUFBUSxDQUFDO0FBQ3pDLGtCQUFVLENBQUMsa0JBQVUsQ0FBQyxRQUFRLENBQUMsR0FBRyxVQUFVLENBQUM7QUFDN0Msa0JBQVUsQ0FBQyxrQkFBVSxDQUFDLFFBQVEsQ0FBQyxHQUFHLFVBQVUsQ0FBQztBQUM3QyxrQkFBVSxDQUFDLGtCQUFVLENBQUMsUUFBUSxDQUFDLEdBQUcsVUFBVSxDQUFDO0FBQzdDLGtCQUFVLENBQUMsa0JBQVUsQ0FBQyxRQUFRLENBQUMsR0FBRyxVQUFVLENBQUM7QUFDN0Msa0JBQVUsQ0FBQyxrQkFBVSxDQUFDLFFBQVEsQ0FBQyxHQUFHLFVBQVUsQ0FBQztBQUM3QyxrQkFBVSxDQUFDLGtCQUFVLENBQUMsUUFBUSxDQUFDLEdBQUcsVUFBVSxDQUFDO0FBQzdDLGtCQUFVLENBQUMsa0JBQVUsQ0FBQyxRQUFRLENBQUMsR0FBRyxVQUFVLENBQUM7QUFDN0Msa0JBQVUsQ0FBQyxrQkFBVSxDQUFDLFFBQVEsQ0FBQyxHQUFHLFVBQVUsQ0FBQztBQUU3QyxrQkFBVSxDQUFDLGtCQUFVLENBQUMsTUFBTSxDQUFDLEdBQUcsUUFBUSxDQUFDO0FBQ3pDLGtCQUFVLENBQUMsa0JBQVUsQ0FBQyxNQUFNLENBQUMsR0FBRyxRQUFRLENBQUM7QUFDekMsa0JBQVUsQ0FBQyxrQkFBVSxDQUFDLE1BQU0sQ0FBQyxHQUFHLFFBQVEsQ0FBQztBQUN6QyxrQkFBVSxDQUFDLGtCQUFVLENBQUMsTUFBTSxDQUFDLEdBQUcsUUFBUSxDQUFDO0FBQ3pDLGtCQUFVLENBQUMsa0JBQVUsQ0FBQyxNQUFNLENBQUMsR0FBRyxRQUFRLENBQUM7QUFDekMsa0JBQVUsQ0FBQyxrQkFBVSxDQUFDLE1BQU0sQ0FBQyxHQUFHLFFBQVEsQ0FBQztBQUV6QyxrQkFBVSxDQUFDLGtCQUFVLENBQUMsTUFBTSxDQUFDLEdBQUcsUUFBUSxDQUFDO0FBQ3pDLGtCQUFVLENBQUMsa0JBQVUsQ0FBQyxNQUFNLENBQUMsR0FBRyxRQUFRLENBQUM7QUFDekMsa0JBQVUsQ0FBQyxrQkFBVSxDQUFDLE1BQU0sQ0FBQyxHQUFHLFFBQVEsQ0FBQztBQUN6QyxrQkFBVSxDQUFDLGtCQUFVLENBQUMsTUFBTSxDQUFDLEdBQUcsUUFBUSxDQUFDO0FBQ3pDLGtCQUFVLENBQUMsa0JBQVUsQ0FBQyxNQUFNLENBQUMsR0FBRyxRQUFRLENBQUM7QUFDekMsa0JBQVUsQ0FBQyxrQkFBVSxDQUFDLE1BQU0sQ0FBQyxHQUFHLFFBQVEsQ0FBQztBQUVyQyxtQkFBbUI7QUFDdkIsa0JBQVUsQ0FBQyxrQkFBVSxDQUFDLE9BQU8sQ0FBQyxHQUFHLFNBQVMsQ0FBQztBQUMzQyxrQkFBVSxDQUFDLGtCQUFVLENBQUMsT0FBTyxDQUFDLEdBQUcsU0FBUyxDQUFDO0FBQzNDLGtCQUFVLENBQUMsa0JBQVUsQ0FBQyxVQUFVLENBQUMsR0FBRyxZQUFZLENBQUM7QUFDakQsa0JBQVUsQ0FBQyxrQkFBVSxDQUFDLE9BQU8sQ0FBQyxHQUFHLFNBQVMsQ0FBQztBQUMzQyxrQkFBVSxDQUFDLGtCQUFVLENBQUMsT0FBTyxDQUFDLEdBQUcsU0FBUyxDQUFDO0FBQzNDLGtCQUFVLENBQUMsa0JBQVUsQ0FBQyxPQUFPLENBQUMsR0FBRyxTQUFTLENBQUM7QUFDM0Msa0JBQVUsQ0FBQyxrQkFBVSxDQUFDLFNBQVMsQ0FBQyxHQUFHLFdBQVcsQ0FBQztBQUMvQyxrQkFBVSxDQUFDLGtCQUFVLENBQUMsU0FBUyxDQUFDLEdBQUcsV0FBVyxDQUFDO0FBQy9DLGtCQUFVLENBQUMsa0JBQVUsQ0FBQyxTQUFTLENBQUMsR0FBRyxXQUFXLENBQUM7QUFDL0Msa0JBQVUsQ0FBQyxrQkFBVSxDQUFDLFNBQVMsQ0FBQyxHQUFHLFdBQVcsQ0FBQztBQUMvQyxrQkFBVSxDQUFDLGtCQUFVLENBQUMsT0FBTyxDQUFDLEdBQUcsU0FBUyxDQUFDO0FBQzNDLGtCQUFVLENBQUMsa0JBQVUsQ0FBQyxNQUFNLENBQUMsR0FBRyxRQUFRLENBQUM7QUFDekMsa0JBQVUsQ0FBQyxrQkFBVSxDQUFDLE9BQU8sQ0FBQyxHQUFHLFNBQVMsQ0FBQztBQUMzQyxrQkFBVSxDQUFDLGtCQUFVLENBQUMsT0FBTyxDQUFDLEdBQUcsU0FBUyxDQUFDO0FBQzNDLGtCQUFVLENBQUMsa0JBQVUsQ0FBQyxTQUFTLENBQUMsR0FBRyxXQUFXLENBQUM7QUFDL0Msa0JBQVUsQ0FBQyxrQkFBVSxDQUFDLFNBQVMsQ0FBQyxHQUFHLFdBQVcsQ0FBQztBQUMvQyxrQkFBVSxDQUFDLGtCQUFVLENBQUMsUUFBUSxDQUFDLEdBQUcsVUFBVSxDQUFDO0FBQzdDLGtCQUFVLENBQUMsa0JBQVUsQ0FBQyxRQUFRLENBQUMsR0FBRyxVQUFVLENBQUM7QUFFN0Msa0JBQVUsQ0FBQyxrQkFBVSxDQUFDLE9BQU8sQ0FBQyxHQUFHLFNBQVMsQ0FBQztBQUMzQyxrQkFBVSxDQUFDLGtCQUFVLENBQUMsT0FBTyxDQUFDLEdBQUcsU0FBUyxDQUFDO0FBQzNDLGtCQUFVLENBQUMsa0JBQVUsQ0FBQyxVQUFVLENBQUMsR0FBRyxZQUFZLENBQUM7QUFDakQsa0JBQVUsQ0FBQyxrQkFBVSxDQUFDLE9BQU8sQ0FBQyxHQUFHLFNBQVMsQ0FBQztBQUMzQyxrQkFBVSxDQUFDLGtCQUFVLENBQUMsT0FBTyxDQUFDLEdBQUcsU0FBUyxDQUFDO0FBQzNDLGtCQUFVLENBQUMsa0JBQVUsQ0FBQyxPQUFPLENBQUMsR0FBRyxTQUFTLENBQUM7QUFDM0Msa0JBQVUsQ0FBQyxrQkFBVSxDQUFDLFNBQVMsQ0FBQyxHQUFHLFdBQVcsQ0FBQztBQUMvQyxrQkFBVSxDQUFDLGtCQUFVLENBQUMsU0FBUyxDQUFDLEdBQUcsV0FBVyxDQUFDO0FBQy9DLGtCQUFVLENBQUMsa0JBQVUsQ0FBQyxTQUFTLENBQUMsR0FBRyxXQUFXLENBQUM7QUFDL0Msa0JBQVUsQ0FBQyxrQkFBVSxDQUFDLFNBQVMsQ0FBQyxHQUFHLFdBQVcsQ0FBQztBQUMvQyxrQkFBVSxDQUFDLGtCQUFVLENBQUMsT0FBTyxDQUFDLEdBQUcsU0FBUyxDQUFDO0FBQzNDLGtCQUFVLENBQUMsa0JBQVUsQ0FBQyxNQUFNLENBQUMsR0FBRyxRQUFRLENBQUM7QUFDekMsa0JBQVUsQ0FBQyxrQkFBVSxDQUFDLE9BQU8sQ0FBQyxHQUFHLFNBQVMsQ0FBQztBQUMzQyxrQkFBVSxDQUFDLGtCQUFVLENBQUMsT0FBTyxDQUFDLEdBQUcsU0FBUyxDQUFDO0FBQzNDLGtCQUFVLENBQUMsa0JBQVUsQ0FBQyxTQUFTLENBQUMsR0FBRyxXQUFXLENBQUM7QUFDL0Msa0JBQVUsQ0FBQyxrQkFBVSxDQUFDLFNBQVMsQ0FBQyxHQUFHLFdBQVcsQ0FBQztBQUMvQyxrQkFBVSxDQUFDLGtCQUFVLENBQUMsUUFBUSxDQUFDLEdBQUcsVUFBVSxDQUFDO0FBQzdDLGtCQUFVLENBQUMsa0JBQVUsQ0FBQyxRQUFRLENBQUMsR0FBRyxVQUFVLENBQUM7QUFFN0Msa0JBQVUsQ0FBQyxrQkFBVSxDQUFDLE9BQU8sQ0FBQyxHQUFHLFNBQVMsQ0FBQztBQUMzQyxrQkFBVSxDQUFDLGtCQUFVLENBQUMsT0FBTyxDQUFDLEdBQUcsU0FBUyxDQUFDO0FBQzNDLGtCQUFVLENBQUMsa0JBQVUsQ0FBQyxRQUFRLENBQUMsR0FBRyxVQUFVLENBQUM7QUFDN0Msa0JBQVUsQ0FBQyxrQkFBVSxDQUFDLFNBQVMsQ0FBQyxHQUFHLFdBQVcsQ0FBQztBQUMvQyxrQkFBVSxDQUFDLGtCQUFVLENBQUMsU0FBUyxDQUFDLEdBQUcsV0FBVyxDQUFDO0FBQy9DLGtCQUFVLENBQUMsa0JBQVUsQ0FBQyxXQUFXLENBQUMsR0FBRyxhQUFhLENBQUM7QUFDbkQsa0JBQVUsQ0FBQyxrQkFBVSxDQUFDLFFBQVEsQ0FBQyxHQUFHLFVBQVUsQ0FBQztBQUM3QyxrQkFBVSxDQUFDLGtCQUFVLENBQUMsT0FBTyxDQUFDLEdBQUcsU0FBUyxDQUFDO0FBQzNDLGtCQUFVLENBQUMsa0JBQVUsQ0FBQyxPQUFPLENBQUMsR0FBRyxTQUFTLENBQUM7QUFDM0Msa0JBQVUsQ0FBQyxrQkFBVSxDQUFDLE9BQU8sQ0FBQyxHQUFHLFNBQVMsQ0FBQztBQUMzQyxrQkFBVSxDQUFDLGtCQUFVLENBQUMsT0FBTyxDQUFDLEdBQUcsU0FBUyxDQUFDO0FBQzNDLGtCQUFVLENBQUMsa0JBQVUsQ0FBQyxPQUFPLENBQUMsR0FBRyxTQUFTLENBQUM7QUFDM0Msa0JBQVUsQ0FBQyxrQkFBVSxDQUFDLE9BQU8sQ0FBQyxHQUFHLFNBQVMsQ0FBQztBQUMzQyxrQkFBVSxDQUFDLGtCQUFVLENBQUMsWUFBWSxDQUFDLEdBQUcs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LENBQUM7SUFDbEQsRUFBRSxDQUFDLENBQUMsS0FBSyxJQUFJLFNBQVMsQ0FBQyxVQUFVLENBQUM7UUFBQyxNQUFNLENBQUMsTUFBTSxDQUFDO0lBQ2pELEVBQUUsQ0FBQyxDQUFDLEtBQUssSUFBSSxTQUFTLENBQUMsS0FBSyxDQUFDO1FBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQztJQUMzQyxFQUFFLENBQUMsQ0FBQyxLQUFLLElBQUksU0FBUyxDQUFDLFdBQVcsQ0FBQztRQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUM7SUFDbEQsRUFBRSxDQUFDLENBQUMsS0FBSyxJQUFJLFNBQVMsQ0FBQyxRQUFRLENBQUM7UUFBQyxNQUFNLENBQUMsS0FBSyxDQUFDO0lBQzlDLEVBQUUsQ0FBQyxDQUFDLEtBQUssSUFBSSxTQUFTLENBQUMsR0FBRyxDQUFDO1FBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQztJQUN6QyxFQUFFLENBQUMsQ0FBQyxLQUFLLElBQUksU0FBUyxDQUFDLFNBQVMsQ0FBQztRQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUM7SUFDaEQsRUFBRSxDQUFDLENBQUMsS0FBSyxJQUFJLFNBQVMsQ0FBQyxJQUFJLENBQUM7UUFBQyxNQUFNLENBQUMsS0FBSyxDQUFDO0lBQzFDLEVBQUUsQ0FBQyxDQUFDLEtBQUssSUFBSSxTQUFTLENBQUMsU0FBUyxDQUFDO1FBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQztJQUNoRCxFQUFFLENBQUMsQ0FBQyxLQUFLLElBQUksU0FBUyxDQUFDLGFBQWEsQ0FBQztRQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUM7SUFDbkQsRUFBRSxDQUFDLENBQUMsS0FBSyxJQUFJLFNBQVMsQ0FBQyxTQUFTLENBQUM7UUFBQyxNQUFNLENBQUMsS0FBSyxDQUFDO0lBQy9DLEVBQUUsQ0FBQyxDQUFDLEtBQUssSUFBSSxTQUFTLENBQUMsV0FBVyxDQUFDO1FBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQztJQUNqRCxFQUFFLENBQUMsQ0FBQyxLQUFLLElBQUksU0FBUyxDQUFDLGFBQWEsQ0FBQztRQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUM7SUFDbkQsRUFBRSxDQUFDLENBQUMsS0FBSyxJQUFJLFNBQVMsQ0FBQyxpQkFBaUIsQ0FBQztRQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUM7SUFDdkQsRUFBRSxDQUFDLENBQUMsS0FBSyxJQUFJLFNBQVMsQ0FBQyxTQUFTLENBQUM7UUFBQyxNQUFNLENBQUMsS0FBSyxDQUFDO0lBQy9DLEVBQUUsQ0FBQyxDQUFDLEtBQUssSUFBSSxTQUFTLENBQUMsVUFBVSxDQUFDO1FBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQztJQUNqRCxFQUFFLENBQUMsQ0FBQyxLQUFLLElBQUksU0FBUyxDQUFDLFdBQVcsQ0FBQztRQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUM7SUFFbEQsV0FBVztJQUNYLEVBQUUsQ0FBQyxDQUFDLEtBQUssSUFBSSxTQUFTLENBQUMsSUFBSSxDQUFDO1FBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQztJQUM3QyxFQUFFLENBQUMsQ0FBQyxLQUFLLElBQUksU0FBUyxDQUFDLE9BQU8sQ0FBQztRQUFDLE1BQU0sQ0FBQyxXQUFXLENBQUM7SUFDbkQsRUFBRSxDQUFDLENBQUMsS0FBSyxJQUFJLFNBQVMsQ0FBQyxFQUFFLENBQUM7UUFBQyxNQUFNLENBQUMsTUFBTSxDQUFDO0lBQ3pDLEVBQUUsQ0FBQyxDQUFDLEtBQUssSUFBSSxTQUFTLENBQUMsS0FBSyxDQUFDO1FBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQztJQUMvQyxFQUFFLENBQUMsQ0FBQyxLQUFLLElBQUksU0FBUyxDQUFDLE1BQU0sQ0FBQztRQUFDLE1BQU0sQ0FBQyxVQUFVLENBQUM7SUFDakQsRUFBRSxDQUFDLENBQUMsS0FBSyxJQUFJLFNBQVMsQ0FBQyxLQUFLLENBQUM7UUFBQyxNQUFNLENBQUMsU0FBUyxDQUFDO0lBQy9DLEVBQUUsQ0FBQyxDQUFDLEtBQUssSUFBSSxTQUFTLENBQUMsS0FBSyxDQUFDO1FBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQztJQUMvQyxFQUFFLENBQUMsQ0FBQyxLQUFLLElBQUksU0FBUyxDQUFDLFFBQVEsQ0FBQztRQUFDLE1BQU0sQ0FBQyxZQUFZLENBQUM7SUFDckQsRUFBRSxDQUFDLENBQUMsS0FBSyxJQUFJLFNBQVMsQ0FBQyxPQUFPLENBQUM7UUFBQyxNQUFNLENBQUMsV0FBVyxDQUFDO0lBQ25ELEVBQUUsQ0FBQyxDQUFDLEtBQUssSUFBSSxTQUFTLENBQUMsSUFBSSxDQUFDO1FBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQztJQUM3QyxFQUFFLENBQUMsQ0FBQyxLQUFLLElBQUksU0FBUyxDQUFDLElBQUksQ0FBQztRQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUM7SUFDN0MsRUFBRSxDQUFDLENBQUMsS0FBSyxJQUFJLFNBQVMsQ0FBQyxNQUFNLENBQUM7UUFBQyxNQUFNLENBQUMsVUFBVSxDQUFDO0lBQ2pELEVBQUUsQ0FBQyxDQUFDLEtBQUssSUFBSSxTQUFTLENBQUMsT0FBTyxDQUFDO1FBQUMsTUFBTSxDQUFDLFdBQVcsQ0FBQztJQUNuRCxFQUFFLENBQUMsQ0FBQyxLQUFLLElBQUksU0FBUyxDQUFDLEtBQUssQ0FBQztRQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUM7SUFDL0MsRUFBRSxDQUFDLENBQUMsS0FBSyxJQUFJLFNBQVMsQ0FBQyxRQUFRLENBQUM7UUFBQyxNQUFNLENBQUMsWUFBWSxDQUFDO0lBQ3JELEVBQUUsQ0FBQyxDQUFDLEtBQUssSUFBSSxTQUFTLENBQUMsT0FBTyxDQUFDO1FBQUMsTUFBTSxDQUFDLFdBQVcsQ0FBQztJQUNuRCxFQUFFLENBQUMsQ0FBQyxLQUFLLElBQUksU0FBUyxDQUFDLEVBQUUsQ0FBQztRQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUM7SUFDekMsRUFBRSxDQUFDLENBQUMsS0FBSyxJQUFJLFNBQVMsQ0FBQyxVQUFVLENBQUM7UUFBQyxNQUFNLENBQUMsY0FBYyxDQUFDO0lBQ3pELEVBQUUsQ0FBQyxDQUFDLEtBQUssSUFBSSxTQUFTLENBQUMsTUFBTSxDQUFDO1FBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQztJQUNqRCxFQUFFLENBQUMsQ0FBQyxL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O2dCQUVELElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxNQUFNLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztvQkFDbkIsRUFBRSxDQUFDLENBQUMsSUFBSSxJQUFJLEtBQUssQ0FBQzt3QkFBQyxJQUFJLEdBQUcsU0FBUyxDQUFDLEdBQUcsQ0FBQztvQkFDeEMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDLElBQUksSUFBSSxLQUFLLENBQUM7d0JBQUMsSUFBSSxHQUFHLFNBQVMsQ0FBQyxHQUFHLENBQUM7b0JBQzdDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxJQUFJLElBQUksS0FBSyxDQUFDO3dCQUFDLElBQUksR0FBRyxTQUFTLENBQUMsR0FBRyxDQUFDO29CQUM3QyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsSUFBSSxJQUFJLEtBQUssQ0FBQzt3QkFBQyxJQUFJLEdBQUcsU0FBUyxDQUFDLFVBQVUsQ0FBQztnQkFDeEQsQ0FBQztnQkFFRCxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsTUFBTSxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7b0JBQ25CLEVBQUUsQ0FBQyxDQUFDLElBQUksSUFBSSxNQUFNLENBQUM7d0JBQUMsSUFBSSxHQUFHLFNBQVMsQ0FBQyxJQUFJLENBQUM7b0JBQzFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxJQUFJLElBQUksTUFBTSxDQUFDO3dCQUFDLElBQUksR0FBRyxTQUFTLENBQUMsSUFBSSxDQUFDO29CQUMvQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsSUFBSSxJQUFJLE1BQU0sQ0FBQzt3QkFBQyxJQUFJLEdBQUcsU0FBUyxDQUFDLElBQUksQ0FBQztvQkFDL0MsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDLElBQUksSUFBSSxNQUFNLENBQUM7d0JBQUMsSUFBSSxHQUFHLFNBQVMsQ0FBQyxJQUFJLENBQUM7b0JBQy9DLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxJQUFJLElBQUksTUFBTSxDQUFDO3dCQUFDLElBQUksR0FBRyxTQUFTLENBQUMsSUFBSSxDQUFDO29CQUMvQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsSUFBSSxJQUFJLE1BQU0sQ0FBQzt3QkFBQyxJQUFJLEdBQUcsU0FBUyxDQUFDLElBQUksQ0FBQztnQkFDbkQsQ0FBQztnQkFFRCxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsTUFBTSxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7b0JBQ25CLEVBQUUsQ0FBQyxDQUFDLElBQUksSUFBSSxPQUFPLENBQUM7d0JBQUMsSUFBSSxHQUFHLFNBQVMsQ0FBQyxLQUFLLENBQUM7b0JBQzVDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxJQUFJLElBQUksT0FBTyxDQUFDO3dCQUFDLElBQUksR0FBRyxTQUFTLENBQUMsS0FBSyxDQUFDO29CQUNqRCxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsSUFBSSxJQUFJLE9BQU8sQ0FBQzt3QkFBQyxJQUFJLEdBQUcsU0FBUyxDQUFDLEtBQUssQ0FBQztvQkFDakQsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDLElBQUksSUFBSSxPQUFPLENBQUM7d0JBQUMsSUFBSSxHQUFHLFNBQVMsQ0FBQyxLQUFLLENBQUM7b0JBQ2pELElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxJQUFJLElBQUksT0FBTyxDQUFDO3dCQUFDLElBQUksR0FBRyxTQUFTLENBQUMsS0FBSyxDQUFDO2dCQUNyRCxDQUFDO2dCQUVELElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxNQUFNLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztvQkFDbkIsRUFBRSxDQUFDLENBQUMsSUFBSSxJQUFJLFFBQVEsQ0FBQzt3QkFBQyxJQUFJLEdBQUcsU0FBUyxDQUFDLE1BQU0sQ0FBQztvQkFDOUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDLElBQUksSUFBSSxRQUFRLENBQUM7d0JBQUMsSUFBSSxHQUFHLFNBQVMsQ0FBQyxNQUFNLENBQUM7b0JBQ25ELElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxJQUFJLElBQUksUUFBUSxDQUFDO3dCQUFDLElBQUksR0FBRyxTQUFTLENBQUMsTUFBTSxDQUFDO29CQUNuRCxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsSUFBSSxJQUFJLFFBQVEsQ0FBQzt3QkFBQyxJQUFJLEdBQUcsU0FBUyxDQUFDLE1BQU0sQ0FBQztvQkFDbkQsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDLElBQUksSUFBSSxRQUFRLENBQUM7d0JBQUMsSUFBSSxHQUFHLFNBQVMsQ0FBQyxNQUFNLENBQUM7b0JBQ25ELElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxJQUFJLElBQUksUUFBUSxDQUFDO3dCQUFDLElBQUksR0FBRyxTQUFTLENBQUMsTUFBTSxDQUFDO29CQUNuRCxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsSUFBSSxJQUFJLFFBQVEsQ0FBQzt3QkFBQyxJQUFJLEdBQUcsU0FBUyxDQUFDLE1BQU0sQ0FBQztvQkFDbkQsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDLElBQUksSUFBSSxRQUFRLENBQUM7d0JBQUMsSUFBSSxHQUFHLFNBQVMsQ0FBQyxNQUFNLENBQUM7b0JBQ25ELElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxJQUFJLElBQUksUUFBUSxDQUFDO3dCQUFDLElBQUksR0FBRyxTQUFTLENBQUMsS0FBSyxDQUFDO29CQUNsRCxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsSUFBSSxJQUFJLFFBQVEsQ0FBQzt3QkFBQyxJQUFJLEdBQUcsU0FBUyxDQUFDLE1BQU0sQ0FBQztnQkFDdkQsQ0FBQztnQkFFRCxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsTUFBTSxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7b0JBQ25CLEVBQUUsQ0FBQyxDQUFDLElBQUksSUFBSSxTQUFTLENBQUM7d0JBQUMsSUFBSSxHQUFHLFNBQVMsQ0FBQyxPQUFPLENBQUM7b0JBQ2hELElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxJQUFJLElBQUksU0FBUyxDQUFDO3dCQUFDLElBQUksR0FBRyxTQUFTLENBQUMsT0FBTyxDQUFDO29CQUNyRCxJQUFJLENBQUMsRUFB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QUcsU0FBUyxDQUFDLEtBQUssQ0FBQztZQUV2QixFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsS0FBSyxJQUFJLFFBQVEsQ0FBQyxDQUFDLENBQUMsSUFBSSxHQUFHLENBQUMsQ0FBQyxDQUFDO2dCQUNsQyxJQUFJLEdBQUcsU0FBUyxDQUFDLFdBQVcsQ0FBQztnQkFDN0IsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDZCxDQUFDO1FBQ0wsQ0FBQztRQUdELElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksR0FBRyxDQUFDLENBQUMsQ0FBQztZQUNoQixJQUFJLEdBQUcsU0FBUyxDQUFDLFdBQVcsQ0FBQztZQUU3QixFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsS0FBSyxJQUFJLFFBQVEsQ0FBQyxDQUFDLENBQUMsSUFBSSxHQUFHLENBQUMsQ0FBQyxDQUFDO2dCQUNsQyxJQUFJLEdBQUcsU0FBUyxDQUFDLFdBQVcsQ0FBQztnQkFDN0IsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDZCxDQUFDO1FBQ0wsQ0FBQztRQUdELElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksR0FBRyxDQUFDLENBQUMsQ0FBQztZQUNoQixJQUFJLEdBQUcsU0FBUyxDQUFDLFVBQVUsQ0FBQztZQUU1QixFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsS0FBSyxJQUFJLFFBQVEsQ0FBQyxDQUFDLENBQUMsSUFBSSxHQUFHLENBQUMsQ0FBQyxDQUFDO2dCQUNsQyxJQUFJLEdBQUcsU0FBUyxDQUFDLFVBQVUsQ0FBQztnQkFDNUIsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDZCxDQUFDO1FBQ0wsQ0FBQztRQUdELElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksR0FBRyxDQUFDLENBQUMsQ0FBQztZQUNoQixJQUFJLEdBQUcsU0FBUyxDQUFDLFNBQVMsQ0FBQztZQUUzQixFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FB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QUFDLEtBQUssQ0FBQyxLQUFLLEVBQUUsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7WUFDakUsQ0FBQztZQUVELGVBQWU7WUFDZixFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLG1CQUFTLENBQUMsV0FBVyxDQUFDLENBQUM7Z0JBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxlQUFRLENBQUMsVUFBVSxFQUFFLFNBQVMsQ0FBQyxVQUFVLENBQUMsQ0FBQztZQUM5RyxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLG1CQUFTLENBQUMsVUFBVSxDQUFDLENBQUM7Z0JBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxlQUFRLENBQUMsVUFBVSxFQUFFLFNBQVMsQ0FBQyxVQUFVLENBQUMsQ0FBQztZQUM3RyxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLG1CQUFTLENBQUMsS0FBSyxDQUFDLENBQUM7Z0JBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxlQUFRLENBQUMsUUFBUSxFQUFFLFNBQVMsQ0FBQyxVQUFVLENBQUMsQ0FBQztZQUN0RyxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLG1CQUFTLENBQUMsV0FBVyxDQUFDLENBQUM7Z0JBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxlQUFRLENBQUMsZ0JBQWdCLEVBQUUsU0FBUyxDQUFDLFVBQVUsQ0FBQyxDQUFDO1lBQ3BILEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsbUJBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQztnQkFBQyxNQUFNLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLGVBQVEsQ0FBQyxHQUFHLEVBQUUsU0FBUyxDQUFDLFVBQVUsQ0FBQyxDQUFDO1lBQy9GLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsbUJBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQztnQkFBQyxNQUFNLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLGVBQVEsQ0FBQyxRQUFRLEVBQUUsU0FBUyxDQUFDLFVBQVUsQ0FBQyxDQUFDO1lBQ3JHLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsbUJBQVMsQ0FBQyxTQUFTLENBQUMsQ0FBQztnQkFBQyxNQUFNLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLGVBQVEsQ0FBQyxnQkFBZ0IsRUFBRSxTQUFTLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDdEgsQ0FBQztRQUdELEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsbUJBQVMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDbEMsbUJBQVEsQ0FBQyxLQUFLLENBQUMsaUJBQWlCLENBQUMsQ0FBQztRQUV0QyxDQUFDO1FBRUQsSUFBSSxDQUFDLGVBQWUsRUFBRSxDQUFDO1FBQ3ZCLE1BQU0sQ0FBQyxJQUFJLENBQUM7SUFDaEIsQ0FBQztJQUVELFVBQVUsQ0FBQyxVQUFzQixFQUFFLElBQVUsRUFBRSxJQUFlO1FBQzFELElBQUksS0FBSyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDO1FBRS9CLE1BQU07UUFDTixFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLG1CQUFTLENBQUMsR0FBRyxDQUFDLElBQUksVUFBVSxHQUFHLFVBQVUsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO1lBQzdELElBQUksQ0FBQyxPQUFPLEVBQUUsQ0FBQztZQUVmLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUM7WUFDeEIsSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQztZQUV2Qiw0QkFBNEI7WUFDNUIsRUFBRSxDQUFDLENBQUMsbUJBQVMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUN2QixJQUFJLENBQUMsT0FBTyxFQUFFLENBQUM7WUFDbkIsQ0FBQztZQUdELElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsbUJBQVMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQzFDLEtBQUssR0FBRyxpQkFBVyxDQUFDLEtBQUssQ0FBQyxNQUFNLEVBQUUsS0FBSyxDQUFDLEdBQUcsRUFBRSxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDNUQsQ0FBQztZQUVELE1BQU0sQ0FBQyxnQkFBUyxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQyxTQUFTLENBQUMsZ0JBQVUsQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUMsaUJBQWlCLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDL0csQ0FBQztRQUVELEVBQUUsQ0FBQyxDQUFDLElBQUksSUFBSSxTQUFTLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQztZQUMvQixTQUFTO1lBQ1QsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxtQkFBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDO2dCQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLGVBQVEsQ0FBQyxNQUFNLEVBQUUsSUFBSSxFQUFFLFVBQVUsRUFBRSxVQUFVLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDL0csRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxtQkFBUyxDQUFDLFdBQVcsQ0FBQyxDQUFDO2dCQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLGVBQVEsQ0FBQyxXQUFXLEVBQUUsSUFBSSxFQUFFLFVBQVUsRUFBRSxVQUFVLENBQUMsV0FBVyxDQUFDLENBQUM7WUFDOUgsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxtQkFBUyxDQUFDLFVBQVUsQ0FBQyxDQUFDO2dCQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLGVBQVEsQ0FBQyxVQUFVLEVBQUUsSUFBSSxFQUFFLFVBQVUsRUFBRSxVQUFVLENBQUMsVUFBVSxDQUFDLENBQUM7WUFDM0gsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxtQkFBUyxDQUFDLFdBQVcsQ0FBQyxDQUFDO2dCQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLGVBQVEsQ0FBQyxXQUFXLEVBQUUsSUFBSSxFQUFFLFVBQVUsRUFBRSxVQUFVLENBQUMsV0FBVyxDQUFDLENBQUM7WUFDOUgsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxtQkFBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDO2dCQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLGVBQVEsQ0FBQyxNQUFNLEVBQUUsSUFBSSxFQUFFLFVBQVUsRUFBRSxVQUFVLENBQUMsUUFBUSxDQUFDLENBQUM7WUFDakgsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxtQkFBUyxDQUFDLEtBQUssQ0FBQyxDQUFDO2dCQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLGVBQVEsQ0FBQyxLQUFLLEVBQUUsSUFBSSxFQUFFLFVBQVUsRUFBRSxVQUFVLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDNUcsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxtQkFBUyxDQUFDLFFBQVEsQ0FBQyxDQUFDO2dCQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLGVBQVEsQ0FBQyxRQUFRLEVBQUUsSUFBSSxFQUFFLFVBQVUsRUFBRSxVQUFVLENBQUMsUUFBUSxDQUFDLENBQUM7WUFDckgsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxtQkFBUyxDQUFDLFlBQVksQ0FBQyxDQUFDO2dCQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLGVBQVEsQ0FBQyxZQUFZLEVBQUUsSUFBSSxFQUFFLFVBQVUsRUFBRSxVQUFVLENBQUMsT0FBTyxDQUFDLENBQUM7WUFDNUgsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxtQkFBUyxDQUFDLGtCQUFrQixDQUFDLENBQUM7Z0JBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsZUFBUSxDQUFDLGtCQUFrQixFQUFFLElBQUksRUFBRSxVQUFVLEVBQUUsVUFBVSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1lBQ3hJLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsbUJBQVMsQ0FBQyxTQUFTLENBQUMsQ0FBQztnQkFBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxlQUFRLENBQUMsU0FBUyxFQUFFLElBQUksRUFBRSxVQUFVLEVBQUUsVUFBVSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1lBQ3RILEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsbUJBQVMsQ0FBQyxlQUFlLENBQUMsQ0FBQztnQkFBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxlQUFRLENBQUMsZUFBZSxFQUFFLElBQUksRUFBRSxVQUFVLEVBQUUsVUFBVSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1lBQ2xJLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsbUJBQVMsQ0FBQyxXQUFXLENBQUMsQ0FBQztnQkFBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxlQUFRLENBQUMsV0FBVyxFQUFFLElBQUksRUFBRSxVQUFVLEVBQUUsVUFBVSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1lBQzlILEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsbUJBQVMsQ0FBQyxVQUFVLENBQUMsQ0FBQztnQkFBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxlQUFRLENBQUMsVUFBVSxFQUFFLElBQUksRUFBRSxVQUFVLEVBQUUsVUFBVSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1lBQzNILEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsbUJBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQztnQkFBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxlQUFRLENBQUMsUUFBUSxFQUFFLElBQUksRUFBRSxVQUFVLEVBQUUsVUFBVSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQzdHLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsbUJBQVMsQ0FBQyxRQUFRLENBQUMsQ0FBQztnQkFBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxlQUFRLENBQUMsUUFBUSxFQUFFLElBQUksRUFBRSxVQUFVLEVBQUUsVUFBVSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1lBQ3JILEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsbUJBQVMsQ0FBQyxTQUFTLENBQUMsQ0FBQztnQkFBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxlQUFRLENBQUMsU0FBUyxFQUFFLElBQUksRUFBRSxVQUFVLEVBQUUsVUFBVSxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQ3BILEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsbUJBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQztnQkFBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxlQUFRLENBQUMsR0FBRyxFQUFFLElBQUksRUFBRSxVQUFVLEVBQUUsVUFBVSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQ3ZHLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsbUJBQVMsQ0FBQyxTQUFTLENBQUMsQ0FBQztnQkFBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxlQUFRLENBQUMsU0FBUyxFQUFFLElBQUksRUFBRSxVQUFVLEVBQUUsVUFBVSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1lBQ3ZILEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsbUJBQVMsQ0FBQyxVQUFVLENBQUMsQ0FBQztnQkFBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxlQUFRLENBQUMsVUFBVSxFQUFFLElBQUksRUFBRSxVQUFVLEVBQUUsVUFBVSxDQUFDLEtBQUssQ0FB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LElBQUksQ0FBQyxJQUFJLENBQUMsbUJBQVMsQ0FBQyxNQUFNLENBQUMsSUFBSSxTQUFTLElBQUksSUFBSSxDQUFDO1lBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQyxDQUFDLG9DQUFvQztRQUN0SCxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLG1CQUFTLENBQUMsVUFBVSxDQUFDLElBQUksU0FBUyxJQUFJLElBQUksQ0FBQztZQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsZUFBZSxFQUFFLENBQUM7UUFDeEYsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxtQkFBUyxDQUFDLEtBQUssQ0FBQyxJQUFJLFNBQVMsSUFBSSxJQUFJLENBQUM7WUFBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFVBQVUsRUFBRSxDQUFDO1FBQzlFLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsbUJBQVMsQ0FBQyxLQUFLLENBQUMsSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLG1CQUFTLENBQUMsR0FBRyxDQUFDLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxtQkFBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsU0FBUyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ3BJLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsbUJBQVMsQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLFNBQVMsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUM5RSxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLG1CQUFTLENBQUMsT0FBTyxDQUFDLENBQUM7WUFBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUN0RSxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLG1CQUFTLENBQUMsTUFBTSxDQUFDLENB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QUFDLE1BQU0sQ0FBQyxZQUFZLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQyxDQUFDO3dCQUNyQyxJQUFJLENBQUMsU0FBUyxDQUFDLFlBQVksQ0FBQyxLQUFLLEVBQUUsVUFBVSxFQUFFLG1CQUFVLENBQUMsU0FBUyxFQUFFLEtBQUssQ0FBQyxVQUFVLENBQUMsQ0FBQzt3QkFDdkYsSUFBSSxDQUFDLFNBQVMsQ0FBQyxVQUFVLENBQUMsS0FBSyxFQUFFLEtBQUssQ0FBQyxVQUFVLENBQUMsQ0FBQztvQkFFdkQsQ0FBQztvQkFFRCxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxZQUFZLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQyxDQUFDO3dCQUMzQyxJQUFJLENBQUMsU0FBUyxDQUFDLFlBQVksQ0FBQyxLQUFLLEVBQUUsVUFBVSxFQUFFLG1CQUFVLENBQUMsU0FBUyxFQUFFLEtBQUssQ0FBQyxXQUFXLENBQUMsQ0FBQzt3QkFDeEYsSUFBSSxDQUFDLFNBQVMsQ0FBQyxXQUFXLENBQUMsS0FBSyxFQUFFLEtBQUssQ0FBQyxXQUFXLENBQUMsQ0FBQztvQkFDekQsQ0FBQztvQkFFRCxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxZQUFZLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQyxDQUFDO3dCQUN6QyxJQUFJLENBQUMsU0FBUyxDQUFDLFlBQVksQ0FBQyxLQUFLLEVBQUUsVUFBVSxFQUFFLG1CQUFVLENBQUMsU0FBUyxFQUFFLEtBQUssQ0FBQyxTQUFTLENBQUMsQ0FBQzt3QkFDdEYsSUFBSSxDQUFDLFNBQVMsQ0FBQyxXQUFXLENBQUMsS0FBSyxFQUFFLEtBQUssQ0FBQyxTQUFTLENBQUMsQ0FBQztvQkFDdkQsQ0FBQztvQkFFRCxJQUFJLENBQUMsQ0FBQzt3QkFDRixJQUFJLENBQUMsU0FBUyxDQUFDLFlBQVksQ0FBQyxLQUFLLEVBQUUsVUFBVSxFQUFFLG1CQUFVLENBQUMsU0FBUyxFQUFFLEtBQUssQ0FBQyxRQUFRLENBQUMs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SUFBSSxlQUFRLENBQUMsS0FBSyxJQUFJLElBQUksQ0FBQyxJQUFJLElBQUksZUFBUSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7WUFDcEUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxZQUFZLENBQUMsS0FBSyxFQUFFLFVBQVUsRUFBRSxtQkFBVSxDQUFDLFNBQVMsRUFBRSxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7WUFDcEYsSUFBSSxDQUFDLFNBQVMsQ0FBQyxXQUFXLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxRQUFRLElBQUksQ0FBQyxDQUFDLENBQUM7UUFDMUQsQ0FBQztRQUVELElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxJQUFJLGVBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO1lBQ25DLElBQUksQ0FBQyxTQUFTLENBQUMsWUFBWSxDQUFDLEtBQUssRUFBRSxVQUFVLEVBQUUsbUJBQVUsQ0FBQyxTQUFTLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1lBQ3JGLElBQUksQ0FBQyxTQUFTLENBQUMsV0FBVyxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDdEQsQ0FBQztRQUVELElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxJQUFJLGVBQVEsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO1lBQ3JDLElBQUksQ0FBQyxTQUFTLENBQUMsWUFBWSxDQUFDLEtBQUssRUFBRSxVQUFVLEVBQUUsbUJBQVUsQ0FBQyxTQUFTLEVBQUUsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1lBQ3RGLElBQUksQ0FBQyxTQUFTLENBQUMsVUFBVSxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDdEQsQ0FBQztRQUVELElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxJQUFJLGVBQVEsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO1lBQ3JDLElBQUksQ0FBQyxTQUFTLENB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SUFDcEMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLENBQUM7SUFDakMsUUFBUSxDQUFDLE1BQU0sRUFBRSxDQUFDO0lBQ2xCLG1CQUFRLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztJQUN4QixFQUFFLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsU0FBUyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQzVCLE1BQU0sQ0FBQyxRQUFRLENBQUMsVUFBVSxDQUFDO0lBQy9CLENBQUM7SUFBQyxJQUFJLENBQUMsQ0FBQztRQUNKLHdCQUFrQixDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNqQyxNQUFNLENBQUMsSUFBSSxDQUFDO0lBQ2hCLENBQUM7QUFDTCxDQUFDO0FBbkJELHNDQW1CQzs7Ozs7OztBQzFMRCwrQiIsImZpbGUiOiJ0dXJiby5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkocmVxdWlyZShcImZzXCIpKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFtcImZzXCJdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcInR1cmJvXCJdID0gZmFjdG9yeShyZXF1aXJlKFwiZnNcIikpO1xuXHRlbHNlXG5cdFx0cm9vdFtcInR1cmJvXCJdID0gZmFjdG9yeShyb290W1wiZnNcIl0pO1xufSkodGhpcywgZnVuY3Rpb24oX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV81Ml9fKSB7XG5yZXR1cm4gXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2svdW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbiIsIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGlkZW50aXR5IGZ1bmN0aW9uIGZvciBjYWxsaW5nIGhhcm1vbnkgaW1wb3J0cyB3aXRoIHRoZSBjb3JyZWN0IGNvbnRleHRcbiBcdF9fd2VicGFja19yZXF1aXJlX18uaSA9IGZ1bmN0aW9uKHZhbHVlKSB7IHJldHVybiB2YWx1ZTsgfTtcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7XG4gXHRcdFx0XHRjb25maWd1cmFibGU6IGZhbHNlLFxuIFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcbiBcdFx0XHRcdGdldDogZ2V0dGVyXG4gXHRcdFx0fSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gNTEpO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2svYm9vdHN0cmFwIDVhYTYzODc2OTQyYTQ0YWExMDA0IiwiaW1wb3J0IHtpc05vZGV9IGZyb20gXCIuL2VudlwiO1xuaW1wb3J0IHtDb2xvcn0gZnJvbSBcIi4vY29sb3JcIjtcbi8qKlxuICogQ3JlYXRlZCBieSBuLnZpbmF5YWthbiBvbiAwNi4wNi4xNy5cbiAqL1xuZXhwb3J0IGNsYXNzIFRlcm1pbmFsIHtcblxuICAgIHN0YXRpYyBzaWxlbnQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBzdGF0aWMgaGlzdG9yeTogc3RyaW5nID0gXCJcIjtcblxuICAgIHN0YXRpYyB3cml0ZSh0ZXh0KSB7XG4gICAgICAgIFRlcm1pbmFsLmhpc3RvcnkgKz0gdGV4dDtcbiAgICAgICAgaWYgKFRlcm1pbmFsLnNpbGVudCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc05vZGUpIHtcbiAgICAgICAgICAgIHByb2Nlc3Muc3Rkb3V0LndyaXRlKHRleHQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5sb2codGV4dCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgdGltZShuYW1lOiBzdHJpbmcpIHtcbiAgICAgICAgaWYgKCFUZXJtaW5hbC5zaWxlbnQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUudGltZShuYW1lKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyB0aW1lRW5kKG5hbWU6IHN0cmluZykge1xuICAgICAgICBpZiAoIVRlcm1pbmFsLnNpbGVudCkge1xuICAgICAgICAgICAgY29uc29sZS50aW1lRW5kKG5hbWUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIHNldEJHQ29sb3IoY29sb3IpIHtcbiAgICAgICAgaWYgKGlzTm9kZSkge1xuICAgICAgICAgICAgaWYgKHByb2Nlc3Muc3Rkb3V0LmlzVFRZKSB7XG4gICAgICAgICAgICAgICAgcHJvY2Vzcy5zdGRvdXQud3JpdGUoYFxceDFCWzQ4OzU7JHtjb2xvciA9PT0gbnVsbCA/IFwiXCIgOiBjb2xvcn1tYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBUT0RPXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgc2V0VGV4dENvbG9yKGNvbG9yKSB7XG4gICAgICAgIGlmIChpc05vZGUpIHtcbiAgICAgICAgICAgIGlmIChwcm9jZXNzLnN0ZG91dC5pc1RUWSkge1xuICAgICAgICAgICAgICAgIHByb2Nlc3Muc3Rkb3V0LndyaXRlKGBcXHgxQlszODs1OyR7Y29sb3J9bWApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gVE9ET1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIHNldEJvbGRUZXh0KCkge1xuICAgICAgICBpZiAoaXNOb2RlKSB7XG4gICAgICAgICAgICBpZiAocHJvY2Vzcy5zdGRvdXQuaXNUVFkpIHtcbiAgICAgICAgICAgICAgICBwcm9jZXNzLnN0ZG91dC53cml0ZShgXFx4MUJbMzg7MW1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIFRPRE9cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyBjbGVhckNvbG9yKCkge1xuICAgICAgICBpZiAoaXNOb2RlKSB7XG4gICAgICAgICAgICBpZiAocHJvY2Vzcy5zdGRvdXQuaXNUVFkpIHtcbiAgICAgICAgICAgICAgICBwcm9jZXNzLnN0ZG91dC53cml0ZShgXFx4MUJbMG1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIFRPRE9cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyBlcnJvcih0ZXh0OiBFcnJvciB8IHN0cmluZykge1xuICAgICAgICBUZXJtaW5hbC5zZXRCR0NvbG9yKENvbG9yLlJFRCk7XG4gICAgICAgIFRlcm1pbmFsLnNldFRleHRDb2xvcihDb2xvci5XSElURSk7XG4gICAgICAgIFRlcm1pbmFsLndyaXRlKFwiIEVSUk9SIFwiKTtcbiAgICAgICAgVGVybWluYWwuY2xlYXJDb2xvcigpO1xuICAgICAgICBUZXJtaW5hbC5zZXRUZXh0Q29sb3IoQ29sb3IuUkVEKTtcbiAgICAgICAgVGVybWluYWwud3JpdGUoXCIgXCIpO1xuICAgICAgICBUZXJtaW5hbC53cml0ZSh0ZXh0KTtcbiAgICAgICAgVGVybWluYWwud3JpdGUoXCJcXG5cIik7XG4gICAgICAgIFRlcm1pbmFsLmNsZWFyQ29sb3IoKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgd2Fybih0ZXh0OiBzdHJpbmcpIHtcbiAgICAgICAgVGVybWluYWwuc2V0QkdDb2xvcihDb2xvci5PUkFOR0UpO1xuICAgICAgICBUZXJtaW5hbC5zZXRUZXh0Q29sb3IoQ29sb3IuV0hJVEUpO1xuICAgICAgICBUZXJtaW5hbC53cml0ZShcIiBXQVJOIFwiKTtcbiAgICAgICAgVGVybWluYWwuY2xlYXJDb2xvcigpO1xuICAgICAgICBUZXJtaW5hbC5zZXRUZXh0Q29sb3IoQ29sb3IuT1JBTkdFKTtcbiAgICAgICAgVGVybWluYWwud3JpdGUoXCIgXCIpO1xuICAgICAgICBUZXJtaW5hbC53cml0ZSh0ZXh0KTtcbiAgICAgICAgVGVybWluYWwud3JpdGUoXCJcXG5cIik7XG4gICAgICAgIFRlcm1pbmFsLmNsZWFyQ29sb3IoKTtcbiAgICB9XG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3V0aWxzL3Rlcm1pbmFsLnRzIiwiaW1wb3J0IHtUZXJtaW5hbH0gZnJvbSBcIi4vdGVybWluYWxcIjtcbi8qKlxuICogQ3JlYXRlZCBieSBuLnZpbmF5YWthbiBvbiAwNi4wNi4xNy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydCh0cnV0aCkge1xuICAgIGlmICghdHJ1dGgpIHtcbiAgICAgICAgaWYoZ2xvYmFsW1wiZGVidWdcIl0pe1xuICAgICAgICAgICAgZGVidWdnZXI7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGVycm9yID0gbmV3IEVycm9yKCdBc3NlcnRpb24gZmFpbGVkJyk7XG4gICAgICAgIFRlcm1pbmFsLmVycm9yKGVycm9yKTtcbiAgICAgICAgaWYodHlwZW9mIHByb2Nlc3MgIT09IFwidW5kZWZpbmVkXCIpe1xuICAgICAgICAgICAgcHJvY2Vzcy5leGl0KDEpO1xuICAgICAgICB9IGVsc2V7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy91dGlscy9hc3NlcnQudHMiLCJsZXQgc3RyaW5nQnVpbGRlclBvb2w6IFN0cmluZ0J1aWxkZXIgPSBudWxsO1xuXG4vLyBSZW1vdmUgYW4gb2JqZWN0IGZyb20gdGhlIHBvb2wgb3IgYWxsb2NhdGUgYSBuZXcgb2JqZWN0IGlmIHRoZSBwb29sIGlzIGVtcHR5XG5leHBvcnQgZnVuY3Rpb24gU3RyaW5nQnVpbGRlcl9uZXcoKTogU3RyaW5nQnVpbGRlciB7XG4gICAgbGV0IHNiID0gc3RyaW5nQnVpbGRlclBvb2w7XG4gICAgaWYgKHNiICE9IG51bGwpIHN0cmluZ0J1aWxkZXJQb29sID0gc2IubmV4dDtcbiAgICBlbHNlIHNiID0gbmV3IFN0cmluZ0J1aWxkZXIoKTtcbiAgICBzYi5jbGVhcigpO1xuICAgIHJldHVybiBzYjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFN0cmluZ0J1aWxkZXJfYXBwZW5kUXVvdGVkKHNiOiBTdHJpbmdCdWlsZGVyLCB0ZXh0OiBzdHJpbmcpOiB2b2lkIHtcbiAgICBsZXQgZW5kID0gMDtcbiAgICBsZXQgbGltaXQgPSB0ZXh0Lmxlbmd0aDtcbiAgICBsZXQgc3RhcnQgPSBlbmQ7XG5cbiAgICBzYi5hcHBlbmRDaGFyKCdcIicpO1xuXG4gICAgd2hpbGUgKGVuZCA8IGxpbWl0KSB7XG4gICAgICAgIGxldCBjID0gdGV4dFtlbmRdO1xuXG4gICAgICAgIGlmIChjID09ICdcIicpIHNiLmFwcGVuZFNsaWNlKHRleHQsIHN0YXJ0LCBlbmQpLmFwcGVuZChcIlxcXFxcXFwiXCIpO1xuICAgICAgICBlbHNlIGlmIChjID09ICdcXDAnKSBzYi5hcHBlbmRTbGljZSh0ZXh0LCBzdGFydCwgZW5kKS5hcHBlbmQoXCJcXFxcMFwiKTtcbiAgICAgICAgZWxzZSBpZiAoYyA9PSAnXFx0Jykgc2IuYXBwZW5kU2xpY2UodGV4dCwgc3RhcnQsIGVuZCkuYXBwZW5kKFwiXFxcXHRcIik7XG4gICAgICAgIGVsc2UgaWYgKGMgPT0gJ1xccicpIHNiLmFwcGVuZFNsaWNlKHRleHQsIHN0YXJ0LCBlbmQpLmFwcGVuZChcIlxcXFxyXCIpO1xuICAgICAgICBlbHNlIGlmIChjID09ICdcXG4nKSBzYi5hcHBlbmRTbGljZSh0ZXh0LCBzdGFydCwgZW5kKS5hcHBlbmQoXCJcXFxcblwiKTtcbiAgICAgICAgZWxzZSBpZiAoYyA9PSAnXFxcXCcpIHNiLmFwcGVuZFNsaWNlKHRleHQsIHN0YXJ0LCBlbmQpLmFwcGVuZChcIlxcXFxcXFxcXCIpO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGVuZCA9IGVuZCArIDE7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGVuZCA9IGVuZCArIDE7XG4gICAgICAgIHN0YXJ0ID0gZW5kO1xuICAgIH1cblxuICAgIHNiLmFwcGVuZFNsaWNlKHRleHQsIHN0YXJ0LCBlbmQpLmFwcGVuZENoYXIoJ1wiJyk7XG59XG5cbmRlY2xhcmUgZnVuY3Rpb24gU3RyaW5nQnVpbGRlcl9hcHBlbmRDaGFyKGE6IHN0cmluZywgYjogc3RyaW5nKTogc3RyaW5nO1xuZGVjbGFyZSBmdW5jdGlvbiBTdHJpbmdCdWlsZGVyX2FwcGVuZChhOiBzdHJpbmcsIGI6IHN0cmluZyk6IHN0cmluZztcblxuZXhwb3J0IGNsYXNzIFN0cmluZ0J1aWxkZXIge1xuICAgIGluZGVudDogaW50MzIgPSAwO1xuICAgIG5leHQ6IFN0cmluZ0J1aWxkZXI7XG4gICAgX3RleHQ6IHN0cmluZztcbiAgICBjaHVua3M6IHN0cmluZ1tdID0gW107XG5cbiAgICBjbGVhcigpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5fdGV4dCA9IFwiXCI7XG4gICAgfVxuXG4gICAgY2xlYXJJbmRlbnQoZGVsdGE6IG51bWJlciA9IDApOiB2b2lkIHtcbiAgICAgICAgdGhpcy5fdGV4dCA9IHRoaXMuX3RleHQuc3Vic3RyKDAsIHRoaXMuX3RleHQubGVuZ3RoIC0gKGRlbHRhICogNCkpO1xuICAgIH1cblxuICAgIGVtaXRJbmRlbnQoZGVsdGE6IG51bWJlciA9IDApOiB2b2lkIHtcbiAgICAgICAgaWYgKGRlbHRhIDwgMCkge1xuICAgICAgICAgICAgdGhpcy5fdGV4dCA9IHRoaXMuX3RleHQuc3Vic3RyKDAsIHRoaXMuX3RleHQubGVuZ3RoICsgKGRlbHRhICogNCkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaW5kZW50ICs9IGRlbHRhO1xuICAgICAgICBsZXQgaSA9IHRoaXMuaW5kZW50O1xuICAgICAgICB3aGlsZSAoaSA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuX3RleHQgKz0gXCIgICAgXCI7XG4gICAgICAgICAgICBpID0gaSAtIDE7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhcHBlbmRDaGFyKGM6IHN0cmluZyk6IFN0cmluZ0J1aWxkZXIge1xuICAgICAgICAvLyB0aGlzLl90ZXh0ID0gU3RyaW5nQnVpbGRlcl9hcHBlbmRDaGFyKHRoaXMuX3RleHQsIGMpO1xuICAgICAgICB0aGlzLl90ZXh0ICs9IGM7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGFwcGVuZFNsaWNlKHRleHQ6IHN0cmluZywgc3RhcnQ6IGludDMyLCBlbmQ6IGludDMyKTogU3RyaW5nQnVpbGRlciB7XG4gICAgICAgIC8vIHRoaXMuX3RleHQgPSBTdHJpbmdCdWlsZGVyX2FwcGVuZCh0aGlzLl90ZXh0LCB0ZXh0LnNsaWNlKHN0YXJ0LCBlbmQpKTtcbiAgICAgICAgdGhpcy5fdGV4dCArPSB0ZXh0LnNsaWNlKHN0YXJ0LCBlbmQpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBicmVha0NodW5rKCk6IG51bWJlciB7XG4gICAgICAgIHRoaXMuY2h1bmtzLnB1c2godGhpcy5fdGV4dCk7XG4gICAgICAgIHRoaXMuX3RleHQgPSBcIlwiO1xuICAgICAgICByZXR1cm4gdGhpcy5jaHVua3MubGVuZ3RoIC0gMTtcbiAgICB9XG5cbiAgICBhcHBlbmRMaW5lKHRleHQ6IHN0cmluZywgaW5kZW50OiBudW1iZXIgPSAwKTogU3RyaW5nQnVpbGRlciB7XG4gICAgICAgIHRoaXMuaW5kZW50ICs9IGluZGVudDtcbiAgICAgICAgdGhpcy5lbWl0SW5kZW50KCk7XG4gICAgICAgIHRoaXMuX3RleHQgKz0gdGV4dCArIFwiXFxuXCI7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGFwcGVuZFJhdyh0ZXh0OiBzdHJpbmcpOiBTdHJpbmdCdWlsZGVyIHtcbiAgICAgICAgdGhpcy5fdGV4dCArPSB0ZXh0ICsgXCJcXG5cIjtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgYXBwZW5kKHRleHQ6IHN0cmluZywgaW5kZW50OiBudW1iZXIgPSAwKTogU3RyaW5nQnVpbGRlciB7XG4gICAgICAgIHRoaXMuaW5kZW50ICs9IGluZGVudDtcbiAgICAgICAgbGV0IGxpbmVzOiBzdHJpbmdbXSA9IHRleHQuc3BsaXQoXCJcXG5cIik7XG4gICAgICAgIGxpbmVzLmZvckVhY2goKGxpbmUsIGkpID0+IHtcbiAgICAgICAgICAgIGlmIChpID4gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3RleHQgKz0gXCJcXG5cIjtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXRJbmRlbnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3RleHQgKz0gbGluZTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLy8gVGhpcyBhbHNvIFwiZnJlZXNcIiB0aGlzIG9iamVjdCAocHV0cyBpdCBiYWNrIGluIHRoZSBwb29sKVxuICAgIGZpbmlzaCgpOiBzdHJpbmcge1xuICAgICAgICB0aGlzLm5leHQgPSBzdHJpbmdCdWlsZGVyUG9vbDtcbiAgICAgICAgc3RyaW5nQnVpbGRlclBvb2wgPSB0aGlzO1xuICAgICAgICBpZiAodGhpcy5jaHVua3MubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgbGV0IGNvZGUgPSBcIlwiO1xuICAgICAgICAgICAgdGhpcy5jaHVua3MuZm9yRWFjaCgoY2h1bms6IHN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgIGNvZGUgKz0gY2h1bms7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBjb2RlICsgdGhpcy5fdGV4dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90ZXh0O1xuICAgICAgICB9XG4gICAgfVxuXG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3V0aWxzL3N0cmluZ2J1aWxkZXIudHMiLCJpbXBvcnQge1Rva2VufSBmcm9tIFwiLi4vY29tcGlsZXIvc2Nhbm5lci9zY2FubmVyXCI7XG5pbXBvcnQge05vZGV9IGZyb20gXCIuLi9jb21waWxlci9jb3JlL25vZGVcIjtcbmltcG9ydCB7U3RyaW5nQnVpbGRlciwgU3RyaW5nQnVpbGRlcl9uZXd9IGZyb20gXCIuL3N0cmluZ2J1aWxkZXJcIjtcbmltcG9ydCB7Q29sb3J9IGZyb20gXCIuL2NvbG9yXCI7XG5pbXBvcnQge2Fzc2VydH0gZnJvbSBcIi4vYXNzZXJ0XCI7XG5pbXBvcnQge1Rlcm1pbmFsfSBmcm9tIFwiLi90ZXJtaW5hbFwiO1xuXG5leHBvcnQgY2xhc3MgTGluZUNvbHVtbiB7XG4gICAgbGluZTogaW50MzI7IC8vIDAtYmFzZWRcbiAgICBjb2x1bW46IGludDMyOyAvLyAwLWJhc2VkXG59XG5cbmV4cG9ydCBjbGFzcyBTb3VyY2Uge1xuICAgIG5hbWU6IHN0cmluZztcbiAgICBjb250ZW50czogc3RyaW5nO1xuXG4gICAgLy8gVGhlc2UgYXJlIGZvciBpbnRlcm5hbCB1c2UgYnkgdGhlIGNvbXBpbGVyXG4gICAgcHJldjogU291cmNlO1xuICAgIG5leHQ6IFNvdXJjZTtcbiAgICBpc0xpYnJhcnk6IGJvb2xlYW47XG4gICAgZmlyc3RUb2tlbjogVG9rZW47XG4gICAgZmlsZTogTm9kZTtcblxuICAgIGluZGV4VG9MaW5lQ29sdW1uKGluZGV4OiBpbnQzMik6IExpbmVDb2x1bW4ge1xuICAgICAgICB2YXIgY29udGVudHMgPSB0aGlzLmNvbnRlbnRzO1xuICAgICAgICB2YXIgY29sdW1uID0gMDtcbiAgICAgICAgdmFyIGxpbmUgPSAwO1xuICAgICAgICB2YXIgaSA9IDA7XG5cbiAgICAgICAgLy8gSnVzdCBjb3VudCB0aGUgbnVtYmVyIG9mIGxpbmVzIGZyb20gdGhlIGJlZ2lubmluZyBvZiB0aGUgZmlsZSBmb3Igbm93XG4gICAgICAgIHdoaWxlIChpIDwgaW5kZXgpIHtcbiAgICAgICAgICAgIHZhciBjID0gY29udGVudHMuY2hhckNvZGVBdChpKTtcblxuICAgICAgICAgICAgaWYgKGMgPT0gJ1xcbicuY2hhckNvZGVBdCgwKSkge1xuICAgICAgICAgICAgICAgIGxpbmUgPSBsaW5lICsgMTtcbiAgICAgICAgICAgICAgICBjb2x1bW4gPSAwO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBJZ25vcmUgbG93IHN1cnJvZ2F0ZXNcbiAgICAgICAgICAgIGVsc2UgaWYgKGMgPCAweERDMDAgfHwgYyA+IDB4REZGRikge1xuICAgICAgICAgICAgICAgIGNvbHVtbiA9IGNvbHVtbiArIDE7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGkgPSBpICsgMTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBsb2NhdGlvbiA9IG5ldyBMaW5lQ29sdW1uKCk7XG4gICAgICAgIGxvY2F0aW9uLmxpbmUgPSBsaW5lO1xuICAgICAgICBsb2NhdGlvbi5jb2x1bW4gPSBjb2x1bW47XG4gICAgICAgIHJldHVybiBsb2NhdGlvbjtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBTb3VyY2VSYW5nZSB7XG4gICAgc291cmNlOiBTb3VyY2U7XG4gICAgc3RhcnQ6IGludDMyO1xuICAgIGVuZDogaW50MzI7XG5cbiAgICB0b1N0cmluZygpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5zb3VyY2UuY29udGVudHMuc2xpY2UodGhpcy5zdGFydCwgdGhpcy5lbmQpO1xuICAgIH1cblxuICAgIGVxdWFscyhvdGhlcjogU291cmNlUmFuZ2UpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc291cmNlID09IG90aGVyLnNvdXJjZSAmJiB0aGlzLnN0YXJ0ID09IG90aGVyLnN0YXJ0ICYmIHRoaXMuZW5kID09IG90aGVyLmVuZDtcbiAgICB9XG5cbiAgICBlbmNsb3NpbmdMaW5lKCk6IFNvdXJjZVJhbmdlIHtcbiAgICAgICAgdmFyIGNvbnRlbnRzID0gdGhpcy5zb3VyY2UuY29udGVudHM7XG4gICAgICAgIHZhciBzdGFydCA9IHRoaXMuc3RhcnQ7XG4gICAgICAgIHZhciBlbmQgPSB0aGlzLnN0YXJ0O1xuXG4gICAgICAgIHdoaWxlIChzdGFydCA+IDAgJiYgY29udGVudHNbc3RhcnQgLSAxXSAhPSAnXFxuJykge1xuICAgICAgICAgICAgc3RhcnQgPSBzdGFydCAtIDE7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbGVuZ3RoID0gY29udGVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoZW5kIDwgbGVuZ3RoICYmIGNvbnRlbnRzW2VuZF0gIT0gJ1xcbicpIHtcbiAgICAgICAgICAgIGVuZCA9IGVuZCArIDE7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY3JlYXRlUmFuZ2UodGhpcy5zb3VyY2UsIHN0YXJ0LCBlbmQpO1xuICAgIH1cblxuICAgIHJhbmdlQXRFbmQoKTogU291cmNlUmFuZ2Uge1xuICAgICAgICByZXR1cm4gY3JlYXRlUmFuZ2UodGhpcy5zb3VyY2UsIHRoaXMuZW5kLCB0aGlzLmVuZCk7XG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlUmFuZ2Uoc291cmNlOiBTb3VyY2UsIHN0YXJ0OiBpbnQzMiwgZW5kOiBpbnQzMik6IFNvdXJjZVJhbmdlIHtcbiAgICBhc3NlcnQoc3RhcnQgPD0gZW5kKTtcbiAgICB2YXIgcmFuZ2UgPSBuZXcgU291cmNlUmFuZ2UoKTtcbiAgICByYW5nZS5zb3VyY2UgPSBzb3VyY2U7XG4gICAgcmFuZ2Uuc3RhcnQgPSBzdGFydDtcbiAgICByYW5nZS5lbmQgPSBlbmQ7XG4gICAgcmV0dXJuIHJhbmdlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc3BhblJhbmdlcyhsZWZ0OiBTb3VyY2VSYW5nZSwgcmlnaHQ6IFNvdXJjZVJhbmdlKTogU291cmNlUmFuZ2Uge1xuICAgIGFzc2VydChsZWZ0LnNvdXJjZSA9PSByaWdodC5zb3VyY2UpO1xuICAgIGFzc2VydChsZWZ0LnN0YXJ0IDw9IHJpZ2h0LnN0YXJ0KTtcbiAgICBhc3NlcnQobGVmdC5lbmQgPD0gcmlnaHQuZW5kKTtcbiAgICByZXR1cm4gY3JlYXRlUmFuZ2UobGVmdC5zb3VyY2UsIGxlZnQuc3RhcnQsIHJpZ2h0LmVuZCk7XG59XG5cbmV4cG9ydCBlbnVtIERpYWdub3N0aWNLaW5kIHtcbiAgICBFUlJPUixcbiAgICBXQVJOSU5HLFxufVxuXG5leHBvcnQgY2xhc3MgRGlhZ25vc3RpYyB7XG4gICAgcmFuZ2U6IFNvdXJjZVJhbmdlO1xuICAgIG1lc3NhZ2U6IHN0cmluZztcbiAgICBraW5kOiBEaWFnbm9zdGljS2luZDtcbiAgICBuZXh0OiBEaWFnbm9zdGljO1xuXG4gICAgYXBwZW5kU291cmNlTmFtZShidWlsZGVyOiBTdHJpbmdCdWlsZGVyLCBsb2NhdGlvbjogTGluZUNvbHVtbik6IHZvaWQge1xuICAgICAgICBidWlsZGVyXG4gICAgICAgICAgICAuYXBwZW5kKHRoaXMucmFuZ2Uuc291cmNlLm5hbWUpXG4gICAgICAgICAgICAuYXBwZW5kKCc6JylcbiAgICAgICAgICAgIC5hcHBlbmQoKGxvY2F0aW9uLmxpbmUgKyAxKS50b1N0cmluZygpKVxuICAgICAgICAgICAgLmFwcGVuZCgnOicpXG4gICAgICAgICAgICAuYXBwZW5kKChsb2NhdGlvbi5jb2x1bW4gKyAxKS50b1N0cmluZygpKVxuICAgICAgICAgICAgLmFwcGVuZChcIjogXCIpO1xuICAgIH1cblxuICAgIGFwcGVuZEtpbmQoYnVpbGRlcjogU3RyaW5nQnVpbGRlcik6IHZvaWQge1xuICAgICAgICBidWlsZGVyLmFwcGVuZCh0aGlzLmtpbmQgPT0gRGlhZ25vc3RpY0tpbmQuRVJST1IgPyBcImVycm9yOiBcIiA6IFwid2FybmluZzogXCIpO1xuICAgIH1cblxuICAgIGFwcGVuZE1lc3NhZ2UoYnVpbGRlcjogU3RyaW5nQnVpbGRlcik6IHZvaWQge1xuICAgICAgICBidWlsZGVyLmFwcGVuZCh0aGlzLm1lc3NhZ2UpLmFwcGVuZCgnXFxuJyk7XG4gICAgfVxuXG4gICAgYXBwZW5kTGluZUNvbnRlbnRzKGJ1aWxkZXI6IFN0cmluZ0J1aWxkZXIsIGxvY2F0aW9uOiBMaW5lQ29sdW1uKTogdm9pZCB7XG4gICAgICAgIHZhciByYW5nZSA9IHRoaXMucmFuZ2UuZW5jbG9zaW5nTGluZSgpO1xuICAgICAgICBidWlsZGVyLmFwcGVuZFNsaWNlKHJhbmdlLnNvdXJjZS5jb250ZW50cywgcmFuZ2Uuc3RhcnQsIHJhbmdlLmVuZCkuYXBwZW5kKCdcXG4nKTtcbiAgICB9XG5cbiAgICBhcHBlbmRSYW5nZShidWlsZGVyOiBTdHJpbmdCdWlsZGVyLCBsb2NhdGlvbjogTGluZUNvbHVtbik6IHZvaWQge1xuICAgICAgICB2YXIgcmFuZ2UgPSB0aGlzLnJhbmdlO1xuICAgICAgICB2YXIgY29sdW1uID0gbG9jYXRpb24uY29sdW1uO1xuICAgICAgICB2YXIgY29udGVudHMgPSByYW5nZS5zb3VyY2UuY29udGVudHM7XG5cbiAgICAgICAgLy8gV2hpdGVzcGFjZVxuICAgICAgICB3aGlsZSAoY29sdW1uID4gMCkge1xuICAgICAgICAgICAgYnVpbGRlci5hcHBlbmQoJyAnKTtcbiAgICAgICAgICAgIGNvbHVtbiA9IGNvbHVtbiAtIDE7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTaW5nbGUgY2hhcmFjdGVyXG4gICAgICAgIGlmIChyYW5nZS5lbmQgLSByYW5nZS5zdGFydCA8PSAxKSB7XG4gICAgICAgICAgICBidWlsZGVyLmFwcGVuZCgnXicpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gTXVsdGlwbGUgY2hhcmFjdGVyc1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBpID0gcmFuZ2Uuc3RhcnQ7XG4gICAgICAgICAgICB3aGlsZSAoaSA8IHJhbmdlLmVuZCAmJiBjb250ZW50c1tpXSAhPSAnXFxuJykge1xuICAgICAgICAgICAgICAgIGJ1aWxkZXIuYXBwZW5kKCd+Jyk7XG4gICAgICAgICAgICAgICAgaSA9IGkgKyAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgYnVpbGRlci5hcHBlbmQoJ1xcbicpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIExvZyB7XG4gICAgZmlyc3Q6IERpYWdub3N0aWM7XG4gICAgbGFzdDogRGlhZ25vc3RpYztcblxuICAgIGVycm9yKHJhbmdlOiBTb3VyY2VSYW5nZSwgbWVzc2FnZTogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIHRoaXMuYXBwZW5kKHJhbmdlLCBtZXNzYWdlLCBEaWFnbm9zdGljS2luZC5FUlJPUik7XG4gICAgfVxuXG4gICAgd2FybmluZyhyYW5nZTogU291cmNlUmFuZ2UsIG1lc3NhZ2U6IHN0cmluZyk6IHZvaWQge1xuICAgICAgICB0aGlzLmFwcGVuZChyYW5nZSwgbWVzc2FnZSwgRGlhZ25vc3RpY0tpbmQuV0FSTklORyk7XG4gICAgfVxuXG4gICAgYXBwZW5kKHJhbmdlOiBTb3VyY2VSYW5nZSwgbWVzc2FnZTogc3RyaW5nLCBraW5kOiBEaWFnbm9zdGljS2luZCk6IHZvaWQge1xuICAgICAgICB2YXIgZGlhZ25vc3RpYyA9IG5ldyBEaWFnbm9zdGljKCk7XG4gICAgICAgIGRpYWdub3N0aWMucmFuZ2UgPSByYW5nZTtcbiAgICAgICAgZGlhZ25vc3RpYy5tZXNzYWdlID0gbWVzc2FnZTtcbiAgICAgICAgZGlhZ25vc3RpYy5raW5kID0ga2luZDtcblxuICAgICAgICBpZiAodGhpcy5maXJzdCA9PSBudWxsKSB0aGlzLmZpcnN0ID0gZGlhZ25vc3RpYztcbiAgICAgICAgZWxzZSB0aGlzLmxhc3QubmV4dCA9IGRpYWdub3N0aWM7XG4gICAgICAgIHRoaXMubGFzdCA9IGRpYWdub3N0aWM7XG4gICAgfVxuXG4gICAgdG9TdHJpbmcoKTogc3RyaW5nIHtcbiAgICAgICAgdmFyIGJ1aWxkZXIgPSBTdHJpbmdCdWlsZGVyX25ldygpO1xuICAgICAgICB2YXIgZGlhZ25vc3RpYyA9IHRoaXMuZmlyc3Q7XG5cbiAgICAgICAgd2hpbGUgKGRpYWdub3N0aWMgIT0gbnVsbCkge1xuICAgICAgICAgICAgdmFyIGxvY2F0aW9uID0gZGlhZ25vc3RpYy5yYW5nZS5zb3VyY2UuaW5kZXhUb0xpbmVDb2x1bW4oZGlhZ25vc3RpYy5yYW5nZS5zdGFydCk7XG4gICAgICAgICAgICBkaWFnbm9zdGljLmFwcGVuZFNvdXJjZU5hbWUoYnVpbGRlciwgbG9jYXRpb24pO1xuICAgICAgICAgICAgZGlhZ25vc3RpYy5hcHBlbmRLaW5kKGJ1aWxkZXIpO1xuICAgICAgICAgICAgZGlhZ25vc3RpYy5hcHBlbmRNZXNzYWdlKGJ1aWxkZXIpO1xuICAgICAgICAgICAgZGlhZ25vc3RpYy5hcHBlbmRMaW5lQ29udGVudHMoYnVpbGRlciwgbG9jYXRpb24pO1xuICAgICAgICAgICAgZGlhZ25vc3RpYy5hcHBlbmRSYW5nZShidWlsZGVyLCBsb2NhdGlvbik7XG4gICAgICAgICAgICBkaWFnbm9zdGljID0gZGlhZ25vc3RpYy5uZXh0O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGJ1aWxkZXIuZmluaXNoKCk7XG4gICAgfVxuXG4gICAgaGFzRXJyb3JzKCk6IGJvb2xlYW4ge1xuICAgICAgICB2YXIgZGlhZ25vc3RpYyA9IHRoaXMuZmlyc3Q7XG5cbiAgICAgICAgd2hpbGUgKGRpYWdub3N0aWMgIT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKGRpYWdub3N0aWMua2luZCA9PSBEaWFnbm9zdGljS2luZC5FUlJPUikge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGlhZ25vc3RpYyA9IGRpYWdub3N0aWMubmV4dDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB3cml0ZUxvZ1RvVGVybWluYWwobG9nOiBMb2cpOiB2b2lkIHtcbiAgICBsZXQgZGlhZ25vc3RpYyA9IGxvZy5maXJzdDtcblxuICAgIHdoaWxlIChkaWFnbm9zdGljICE9IG51bGwpIHtcbiAgICAgICAgaWYgKGRpYWdub3N0aWMucmFuZ2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbGV0IGxvY2F0aW9uID0gZGlhZ25vc3RpYy5yYW5nZS5zb3VyY2UuaW5kZXhUb0xpbmVDb2x1bW4oZGlhZ25vc3RpYy5yYW5nZS5zdGFydCk7XG5cbiAgICAgICAgICAgIC8vIFNvdXJjZVxuICAgICAgICAgICAgbGV0IGJ1aWxkZXIgPSBTdHJpbmdCdWlsZGVyX25ldygpO1xuICAgICAgICAgICAgZGlhZ25vc3RpYy5hcHBlbmRTb3VyY2VOYW1lKGJ1aWxkZXIsIGxvY2F0aW9uKTtcbiAgICAgICAgICAgIFRlcm1pbmFsLnNldEJvbGRUZXh0KCk7XG4gICAgICAgICAgICBUZXJtaW5hbC53cml0ZShidWlsZGVyLmZpbmlzaCgpKTtcblxuICAgICAgICAgICAgLy8gS2luZFxuICAgICAgICAgICAgYnVpbGRlciA9IFN0cmluZ0J1aWxkZXJfbmV3KCk7XG4gICAgICAgICAgICBkaWFnbm9zdGljLmFwcGVuZEtpbmQoYnVpbGRlcik7XG4gICAgICAgICAgICBUZXJtaW5hbC5zZXRUZXh0Q29sb3IoZGlhZ25vc3RpYy5raW5kID09IERpYWdub3N0aWNLaW5kLkVSUk9SID8gQ29sb3IuUkVEIDogQ29sb3IuTUFHRU5UQSk7XG4gICAgICAgICAgICBUZXJtaW5hbC53cml0ZShidWlsZGVyLmZpbmlzaCgpKTtcblxuICAgICAgICAgICAgLy8gTWVzc2FnZVxuICAgICAgICAgICAgYnVpbGRlciA9IFN0cmluZ0J1aWxkZXJfbmV3KCk7XG4gICAgICAgICAgICBkaWFnbm9zdGljLmFwcGVuZE1lc3NhZ2UoYnVpbGRlcik7XG4gICAgICAgICAgICBUZXJtaW5hbC5zZXRCb2xkVGV4dCgpO1xuICAgICAgICAgICAgVGVybWluYWwud3JpdGUoYnVpbGRlci5maW5pc2goKSk7XG5cbiAgICAgICAgICAgIC8vIExpbmUgY29udGVudHNcbiAgICAgICAgICAgIGJ1aWxkZXIgPSBTdHJpbmdCdWlsZGVyX25ldygpO1xuICAgICAgICAgICAgZGlhZ25vc3RpYy5hcHBlbmRMaW5lQ29udGVudHMoYnVpbGRlciwgbG9jYXRpb24pO1xuICAgICAgICAgICAgVGVybWluYWwuY2xlYXJDb2xvcigpO1xuICAgICAgICAgICAgVGVybWluYWwud3JpdGUoYnVpbGRlci5maW5pc2goKSk7XG5cbiAgICAgICAgICAgIC8vIFNvdXJjZVJhbmdlXG4gICAgICAgICAgICBidWlsZGVyID0gU3RyaW5nQnVpbGRlcl9uZXcoKTtcbiAgICAgICAgICAgIGRpYWdub3N0aWMuYXBwZW5kUmFuZ2UoYnVpbGRlciwgbG9jYXRpb24pO1xuICAgICAgICAgICAgVGVybWluYWwuc2V0VGV4dENvbG9yKENvbG9yLkdSRUVOKTtcbiAgICAgICAgICAgIFRlcm1pbmFsLndyaXRlKGJ1aWxkZXIuZmluaXNoKCkpO1xuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBUZXJtaW5hbC5zZXRUZXh0Q29sb3IoQ29sb3IuUkVEKTtcbiAgICAgICAgICAgIFRlcm1pbmFsLndyaXRlKGRpYWdub3N0aWMubWVzc2FnZSArIFwiXFxuXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgZGlhZ25vc3RpYyA9IGRpYWdub3N0aWMubmV4dDtcbiAgICB9XG5cbiAgICBUZXJtaW5hbC5jbGVhckNvbG9yKCk7XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvdXRpbHMvbG9nLnRzIiwiaW1wb3J0IHtUeXBlfSBmcm9tIFwiLi90eXBlXCI7XG5pbXBvcnQge2lzVHlwZSwgU3ltYm9sLCBTWU1CT0xfRkxBR19JU19URU1QTEFURSwgU3ltYm9sS2luZH0gZnJvbSBcIi4vc3ltYm9sXCI7XG5pbXBvcnQge1NvdXJjZVJhbmdlfSBmcm9tIFwiLi4vLi4vdXRpbHMvbG9nXCI7XG5pbXBvcnQge1Njb3BlfSBmcm9tIFwiLi9zY29wZVwiO1xuaW1wb3J0IHtDaGVja0NvbnRleHR9IGZyb20gXCIuLi9hbmFseXplci90eXBlLWNoZWNrZXJcIjtcbmltcG9ydCB7YXNzZXJ0fSBmcm9tIFwiLi4vLi4vdXRpbHMvYXNzZXJ0XCI7XG5cbi8qKlxuICogQXV0aG9yOiBOaWRpbiBWaW5heWFrYW5cbiAqL1xuXG5leHBvcnQgZW51bSBOb2RlS2luZCB7XG4gICAgLy8gT3RoZXJcbiAgICBFWFRFTkRTLFxuICAgIEZJTEUsXG4gICAgR0xPQkFMLFxuICAgIElNUExFTUVOVFMsXG4gICAgUEFSQU1FVEVSLFxuICAgIFBBUkFNRVRFUlMsXG4gICAgVkFSSUFCTEUsXG4gICAgSU1QT1JULFxuICAgIElNUE9SVF9GUk9NLFxuICAgICAgICAvLyBTdGF0ZW1lbnRzXG4gICAgQkxPQ0ssXG4gICAgQlJFQUssXG4gICAgTU9EVUxFLFxuICAgIElNUE9SVFMsXG4gICAgQ0xBU1MsXG4gICAgQ09OU1RBTlRTLFxuICAgIENPTlRJTlVFLFxuICAgIEVNUFRZLFxuICAgIEVOVU0sXG4gICAgRVhQUkVTU0lPTixcbiAgICBGVU5DVElPTixcbiAgICBJRixcbiAgICBSRVRVUk4sXG4gICAgVU5TQUZFLFxuICAgIEpBVkFTQ1JJUFQsXG4gICAgU1RBUlQsXG4gICAgVkFSSUFCTEVTLFxuICAgIFdISUxFLFxuXG4gICAgICAgIC8vIEV4cHJlc3Npb25zXG4gICAgQUxJR05fT0YsXG4gICAgQk9PTEVBTixcbiAgICBDQUxMLFxuICAgIENBU1QsXG4gICAgRE9ULFxuICAgIEhPT0ssXG4gICAgSU5ERVgsXG4gICAgUE9JTlRFUl9JTkRFWCxcbiAgICBBTlksXG4gICAgSU5UMzIsXG4gICAgSU5UNjQsXG4gICAgRkxPQVQzMixcbiAgICBGTE9BVDY0LFxuICAgIEFSUkFZLFxuICAgIEdFTkVSSUMsXG4gICAgTkFNRSxcbiAgICBORVcsXG4gICAgREVMRVRFLFxuICAgIE5VTEwsXG4gICAgVU5ERUZJTkVELFxuICAgIFBBUlNFX0VSUk9SLFxuICAgIFNJWkVfT0YsXG4gICAgU1RSSU5HLFxuICAgIFRISVMsXG4gICAgVFlQRSxcblxuICAgICAgICAvLyBVbmFyeSBleHByZXNzaW9uc1xuICAgIEFERFJFU1NfT0YsXG4gICAgQ09NUExFTUVOVCxcbiAgICBERVJFRkVSRU5DRSxcbiAgICBORUdBVElWRSxcbiAgICBOT1QsXG4gICAgUE9JTlRFUl9UWVBFLFxuICAgIFBPU0lUSVZFLFxuICAgIFBPU1RGSVhfREVDUkVNRU5ULFxuICAgIFBPU1RGSVhfSU5DUkVNRU5ULFxuICAgIFBSRUZJWF9ERUNSRU1FTlQsXG4gICAgUFJFRklYX0lOQ1JFTUVOVCxcblxuICAgICAgICAvLyBCaW5hcnkgZXhwcmVzc2lvbnNcbiAgICBBREQsXG4gICAgQVNTSUdOLFxuICAgIEJJVFdJU0VfQU5ELFxuICAgIEJJVFdJU0VfT1IsXG4gICAgQklUV0lTRV9YT1IsXG4gICAgRElWSURFLFxuICAgIEVRVUFMLFxuICAgIEVYUE9ORU5ULFxuICAgIEdSRUFURVJfVEhBTixcbiAgICBHUkVBVEVSX1RIQU5fRVFVQUwsXG4gICAgTEVTU19USEFOLFxuICAgIExFU1NfVEhBTl9FUVVBTCxcbiAgICBMT0dJQ0FMX0FORCxcbiAgICBMT0dJQ0FMX09SLFxuICAgIE1VTFRJUExZLFxuICAgIE5PVF9FUVVBTCxcbiAgICBSRU1BSU5ERVIsXG4gICAgU0hJRlRfTEVGVCxcbiAgICBTSElGVF9SSUdIVCxcbiAgICBTVUJUUkFDVCxcblxuICAgICAgICAvL0phdmFTY3JpcHRcbiAgICBKU19OVU1CRVIsXG4gICAgSlNfT0JKRUNULFxuICAgIEpTX1NUUklORyxcbiAgICBKU19BUlJBWVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNVbmFyeShraW5kOiBOb2RlS2luZCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBraW5kID49IE5vZGVLaW5kLkFERFJFU1NfT0YgJiYga2luZCA8PSBOb2RlS2luZC5QUkVGSVhfSU5DUkVNRU5UO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNVbmFyeVBvc3RmaXgoa2luZDogTm9kZUtpbmQpOiBib29sZWFuIHtcbiAgICByZXR1cm4ga2luZCA+PSBOb2RlS2luZC5QT1NURklYX0RFQ1JFTUVOVCAmJiBraW5kIDw9IE5vZGVLaW5kLlBPU1RGSVhfSU5DUkVNRU5UO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNCaW5hcnkoa2luZDogTm9kZUtpbmQpOiBib29sZWFuIHtcbiAgICByZXR1cm4ga2luZCA+PSBOb2RlS2luZC5BREQgJiYga2luZCA8PSBOb2RlS2luZC5TVUJUUkFDVDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGludmVydGVkQmluYXJ5S2luZChraW5kOiBOb2RlS2luZCk6IE5vZGVLaW5kIHtcbiAgICBpZiAoa2luZCA9PSBOb2RlS2luZC5FUVVBTCkgcmV0dXJuIE5vZGVLaW5kLk5PVF9FUVVBTDtcbiAgICBpZiAoa2luZCA9PSBOb2RlS2luZC5OT1RfRVFVQUwpIHJldHVybiBOb2RlS2luZC5FUVVBTDtcbiAgICBpZiAoa2luZCA9PSBOb2RlS2luZC5HUkVBVEVSX1RIQU4pIHJldHVybiBOb2RlS2luZC5MRVNTX1RIQU5fRVFVQUw7XG4gICAgaWYgKGtpbmQgPT0gTm9kZUtpbmQuR1JFQVRFUl9USEFOX0VRVUFMKSByZXR1cm4gTm9kZUtpbmQuTEVTU19USEFOO1xuICAgIGlmIChraW5kID09IE5vZGVLaW5kLkxFU1NfVEhBTikgcmV0dXJuIE5vZGVLaW5kLkdSRUFURVJfVEhBTl9FUVVBTDtcbiAgICBpZiAoa2luZCA9PSBOb2RlS2luZC5MRVNTX1RIQU5fRVFVQUwpIHJldHVybiBOb2RlS2luZC5HUkVBVEVSX1RIQU47XG4gICAgcmV0dXJuIGtpbmQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0V4cHJlc3Npb24obm9kZTogTm9kZSk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBub2RlLmtpbmQgPj0gTm9kZUtpbmQuQUxJR05fT0YgJiYgbm9kZS5raW5kIDw9IE5vZGVLaW5kLlNVQlRSQUNUO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNDb21wYWN0Tm9kZUtpbmQoa2luZDogTm9kZUtpbmQpOiBib29sZWFuIHtcbiAgICByZXR1cm4ga2luZCA9PSBOb2RlS2luZC5DT05TVEFOVFMgfHwga2luZCA9PSBOb2RlS2luZC5FWFBSRVNTSU9OIHx8IGtpbmQgPT0gTm9kZUtpbmQuVkFSSUFCTEVTO1xufVxuXG5leHBvcnQgY29uc3QgTk9ERV9GTEFHX0RFQ0xBUkUgPSAxIDw8IDA7XG5leHBvcnQgY29uc3QgTk9ERV9GTEFHX0VYUE9SVCA9IDEgPDwgMTtcbmV4cG9ydCBjb25zdCBOT0RFX0ZMQUdfSU1QT1JUID0gMSA8PCAyO1xuZXhwb3J0IGNvbnN0IE5PREVfRkxBR19MSUJSQVJZID0gMSA8PCAzO1xuZXhwb3J0IGNvbnN0IE5PREVfRkxBR19HRVQgPSAxIDw8IDQ7XG5leHBvcnQgY29uc3QgTk9ERV9GTEFHX09QRVJBVE9SID0gMSA8PCA1O1xuZXhwb3J0IGNvbnN0IE5PREVfRkxBR19QT1NJVElWRSA9IDEgPDwgNjtcbmV4cG9ydCBjb25zdCBOT0RFX0ZMQUdfUFJJVkFURSA9IDEgPDwgNztcbmV4cG9ydCBjb25zdCBOT0RFX0ZMQUdfUFJPVEVDVEVEID0gMSA8PCA4O1xuZXhwb3J0IGNvbnN0IE5PREVfRkxBR19QVUJMSUMgPSAxIDw8IDk7XG5leHBvcnQgY29uc3QgTk9ERV9GTEFHX1NFVCA9IDEgPDwgMTA7XG5leHBvcnQgY29uc3QgTk9ERV9GTEFHX1NUQVRJQyA9IDEgPDwgMTE7XG5leHBvcnQgY29uc3QgTk9ERV9GTEFHX1VOU0FGRSA9IDEgPDwgMTI7XG5leHBvcnQgY29uc3QgTk9ERV9GTEFHX0pBVkFTQ1JJUFQgPSAxIDw8IDEzO1xuZXhwb3J0IGNvbnN0IE5PREVfRkxBR19VTlNJR05FRF9PUEVSQVRPUiA9IDEgPDwgMTQ7XG5leHBvcnQgY29uc3QgTk9ERV9GTEFHX1ZJUlRVQUwgPSAxIDw8IDE1O1xuZXhwb3J0IGNvbnN0IE5PREVfRkxBR19TVEFSVCA9IDEgPDwgMTY7XG5leHBvcnQgY29uc3QgTk9ERV9GTEFHX0FOWUZVTkMgPSAxIDw8IDE3O1xuZXhwb3J0IGNvbnN0IE5PREVfRkxBR19HRU5FUklDID0gMSA8PCAxODtcblxuZXhwb3J0IGNsYXNzIE5vZGVGbGFnIHtcbiAgICBmbGFnOiBpbnQzMjtcbiAgICByYW5nZTogU291cmNlUmFuZ2U7XG4gICAgbmV4dDogTm9kZUZsYWc7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhcHBlbmRGbGFnKGZpcnN0OiBOb2RlRmxhZywgZmxhZzogaW50MzIsIHJhbmdlOiBTb3VyY2VSYW5nZSk6IE5vZGVGbGFnIHtcbiAgICBsZXQgbGluayA9IG5ldyBOb2RlRmxhZygpO1xuICAgIGxpbmsuZmxhZyA9IGZsYWc7XG4gICAgbGluay5yYW5nZSA9IHJhbmdlO1xuXG4gICAgLy8gSXMgdGhlIGxpc3QgZW1wdHk/XG4gICAgaWYgKGZpcnN0ID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGxpbms7XG4gICAgfVxuXG4gICAgLy8gQXBwZW5kIHRoZSBmbGFnIHRvIHRoZSBlbmQgb2YgdGhlIGxpc3RcbiAgICBsZXQgc2Vjb25kVG9MYXN0ID0gZmlyc3Q7XG4gICAgd2hpbGUgKHNlY29uZFRvTGFzdC5uZXh0ICE9IG51bGwpIHtcbiAgICAgICAgc2Vjb25kVG9MYXN0ID0gc2Vjb25kVG9MYXN0Lm5leHQ7XG4gICAgfVxuICAgIHNlY29uZFRvTGFzdC5uZXh0ID0gbGluaztcbiAgICByZXR1cm4gZmlyc3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhbGxGbGFncyhsaW5rOiBOb2RlRmxhZyk6IGludDMyIHtcbiAgICBsZXQgYWxsID0gMDtcbiAgICB3aGlsZSAobGluayAhPSBudWxsKSB7XG4gICAgICAgIGFsbCA9IGFsbCB8IGxpbmsuZmxhZztcbiAgICAgICAgbGluayA9IGxpbmsubmV4dDtcbiAgICB9XG4gICAgcmV0dXJuIGFsbDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJhbmdlRm9yRmxhZyhsaW5rOiBOb2RlRmxhZywgZmxhZzogaW50MzIpOiBTb3VyY2VSYW5nZSB7XG4gICAgd2hpbGUgKGxpbmsgIT0gbnVsbCkge1xuICAgICAgICBpZiAobGluay5mbGFnID09IGZsYWcpIHtcbiAgICAgICAgICAgIHJldHVybiBsaW5rLnJhbmdlO1xuICAgICAgICB9XG4gICAgICAgIGxpbmsgPSBsaW5rLm5leHQ7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuXG5leHBvcnQgY2xhc3MgTm9kZSB7XG4gICAga2luZDogTm9kZUtpbmQ7XG4gICAgZmxhZ3M6IGludDMyO1xuICAgIGZpcnN0RmxhZzogTm9kZUZsYWc7XG4gICAgcmFuZ2U6IFNvdXJjZVJhbmdlO1xuICAgIGludGVybmFsUmFuZ2U6IFNvdXJjZVJhbmdlO1xuICAgIHBhcmVudDogTm9kZTtcbiAgICBmaXJzdENoaWxkOiBOb2RlO1xuICAgIGxhc3RDaGlsZDogTm9kZTtcbiAgICBwcmV2aW91c1NpYmxpbmc6IE5vZGU7XG4gICAgbmV4dFNpYmxpbmc6IE5vZGU7XG4gICAgcmVzb2x2ZWRUeXBlOiBUeXBlO1xuICAgIHN5bWJvbDogU3ltYm9sO1xuICAgIHNjb3BlOiBTY29wZTtcbiAgICBvZmZzZXQ6IGludDMyO1xuXG4gICAgcmV0dXJuTm9kZTogTm9kZTtcbiAgICBjb25zdHJ1Y3RvckZ1bmN0aW9uTm9kZTogTm9kZTtcbiAgICBkZXJpdmVkTm9kZXM6IE5vZGVbXTtcblxuICAgIHByaXZhdGUgX3Jhd1ZhbHVlOiBhbnk7XG4gICAgcHJpdmF0ZSBfaGFzVmFsdWU6IGJvb2xlYW47XG4gICAgcHJpdmF0ZSBfaGFzU3RyaW5nVmFsdWU6IGJvb2xlYW47XG5cbiAgICBnZXQgaGFzVmFsdWUoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9oYXNWYWx1ZTtcbiAgICB9XG5cbiAgICBnZXQgcmF3VmFsdWUoKTogYW55IHtcbiAgICAgICAgaWYgKHRoaXMuX2hhc1N0cmluZ1ZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm4gYFwiJHt0aGlzLl9yYXdWYWx1ZX1cImA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcmF3VmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXQgX19pbnRlcm5hbF9yYXdWYWx1ZSgpOiBhbnkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmF3VmFsdWU7XG4gICAgfVxuXG4gICAgc2V0IHJhd1ZhbHVlKG5ld1ZhbHVlOiBhbnkpIHtcbiAgICAgICAgdGhpcy5faGFzVmFsdWUgPSB0cnVlO1xuICAgICAgICB0aGlzLl9yYXdWYWx1ZSA9IG5ld1ZhbHVlO1xuICAgIH1cblxuICAgIGdldCBpbnRWYWx1ZSgpOiBpbnQzMiB7XG4gICAgICAgIGxldCBuID0gdGhpcy5fcmF3VmFsdWU7XG4gICAgICAgIGlmIChOdW1iZXIobikgPT09IG4gJiYgbiAlIDEgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9yYXdWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBzZXQgaW50VmFsdWUobmV3VmFsdWU6IGludDMyKSB7XG4gICAgICAgIHRoaXMuX2hhc1ZhbHVlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fcmF3VmFsdWUgPSBuZXdWYWx1ZTtcbiAgICB9XG5cbiAgICBnZXQgbG9uZ1ZhbHVlKCk6IGludDY0IHtcbiAgICAgICAgLy9UT0RPOiBJbXBsZW1lbnQgSW50NjRcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Jhd1ZhbHVlO1xuICAgIH1cblxuICAgIHNldCBsb25nVmFsdWUobmV3VmFsdWU6IGludDY0KSB7XG4gICAgICAgIC8vVE9ETzogSW1wbGVtZW50IEludDY0XG4gICAgICAgIHRoaXMuX2hhc1ZhbHVlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fcmF3VmFsdWUgPSBuZXdWYWx1ZTtcbiAgICB9XG5cbiAgICBnZXQgZmxvYXRWYWx1ZSgpOiBmbG9hdDMyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Jhd1ZhbHVlO1xuICAgIH1cblxuICAgIHNldCBmbG9hdFZhbHVlKG5ld1ZhbHVlOiBmbG9hdDMyKSB7XG4gICAgICAgIHRoaXMuX2hhc1ZhbHVlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fcmF3VmFsdWUgPSBuZXdWYWx1ZTtcbiAgICB9XG5cbiAgICBnZXQgZG91YmxlVmFsdWUoKTogZmxvYXQ2NCB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yYXdWYWx1ZTtcbiAgICB9XG5cbiAgICBzZXQgZG91YmxlVmFsdWUobmV3VmFsdWU6IGZsb2F0NjQpIHtcbiAgICAgICAgdGhpcy5faGFzVmFsdWUgPSB0cnVlO1xuICAgICAgICB0aGlzLl9yYXdWYWx1ZSA9IG5ld1ZhbHVlO1xuICAgIH1cblxuICAgIGdldCBzdHJpbmdWYWx1ZSgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmF3VmFsdWU7XG4gICAgfVxuXG4gICAgc2V0IHN0cmluZ1ZhbHVlKG5ld1ZhbHVlOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5faGFzVmFsdWUgPSB0cnVlO1xuICAgICAgICB0aGlzLl9oYXNTdHJpbmdWYWx1ZSA9IHRydWU7XG4gICAgICAgIHRoaXMuX3Jhd1ZhbHVlID0gbmV3VmFsdWU7XG4gICAgfVxuXG4gICAgZ2V0IHJlZmVyZW5jZVZhbHVlKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yYXdWYWx1ZTtcbiAgICB9XG5cbiAgICBzZXQgcmVmZXJlbmNlVmFsdWUobmV3VmFsdWU6IHN0cmluZykge1xuICAgICAgICB0aGlzLl9oYXNWYWx1ZSA9IHRydWU7XG4gICAgICAgIHRoaXMuX3Jhd1ZhbHVlID0gbmV3VmFsdWU7XG4gICAgfVxuXG4gICAgYmVjb21lVHlwZU9mKG5vZGU6IE5vZGUsIGNvbnRleHQ6IENoZWNrQ29udGV4dCk6IHZvaWQge1xuXG4gICAgICAgIHN3aXRjaCAobm9kZS5yZXNvbHZlZFR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgY29udGV4dC5pbnQ2NFR5cGU6XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMua2luZCAhPSBOb2RlS2luZC5OQU1FKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMua2luZCA9IE5vZGVLaW5kLklOVDY0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnJlc29sdmVkVHlwZSA9IGNvbnRleHQuaW50NjRUeXBlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBjb250ZXh0LmZsb2F0NjRUeXBlOlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmtpbmQgIT0gTm9kZUtpbmQuTkFNRSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmtpbmQgPSBOb2RlS2luZC5GTE9BVDY0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnJlc29sdmVkVHlwZSA9IGNvbnRleHQuZmxvYXQ2NFR5cGU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobm9kZS5mbGFncykge1xuICAgICAgICAgICAgdGhpcy5mbGFncyA9IG5vZGUuZmxhZ3M7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBiZWNvbWVWYWx1ZVR5cGVPZihzeW1ib2w6IFN5bWJvbCwgY29udGV4dDogQ2hlY2tDb250ZXh0KTogdm9pZCB7XG4gICAgICAgIC8vIGxldCByZXNvbHZlZFN5bWJvbCA9IHN5bWJvbC5yZXNvbHZlZFR5cGUucG9pbnRlclRvID8gc3ltYm9sLnJlc29sdmVkVHlwZS5wb2ludGVyVG8uc3ltYm9sIDogc3ltYm9sLnJlc29sdmVkVHlwZS5zeW1ib2w7XG4gICAgICAgIGxldCByZXNvbHZlZFN5bWJvbCA9IHN5bWJvbC5yZXNvbHZlZFR5cGUuc3ltYm9sO1xuXG4gICAgICAgIGlmIChyZXNvbHZlZFN5bWJvbCkge1xuXG4gICAgICAgICAgICBzd2l0Y2ggKHN5bWJvbC5yZXNvbHZlZFR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIGNvbnRleHQuaW50NjRUeXBlOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc29sdmVkVHlwZSA9IGNvbnRleHQuaW50NjRUeXBlO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5raW5kID09IE5vZGVLaW5kLk5VTEwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9uZ1ZhbHVlID0gMDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5raW5kICE9IE5vZGVLaW5kLk5BTUUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMua2luZCA9IE5vZGVLaW5kLklOVDY0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgY29udGV4dC5mbG9hdDY0VHlwZTpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNvbHZlZFR5cGUgPSBjb250ZXh0LmZsb2F0NjRUeXBlO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5raW5kID09IE5vZGVLaW5kLk5VTEwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZG91YmxlVmFsdWUgPSAwLjA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMua2luZCAhPSBOb2RlS2luZC5OQU1FKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmtpbmQgPSBOb2RlS2luZC5GTE9BVDY0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgY2xvbmUoKTogTm9kZSB7XG4gICAgICAgIGxldCBub2RlOiBOb2RlID0gbmV3IE5vZGUoKTtcbiAgICAgICAgbm9kZS5raW5kID0gdGhpcy5raW5kO1xuICAgICAgICBpZiAodGhpcy5vZmZzZXQgIT09IHVuZGVmaW5lZCkgbm9kZS5vZmZzZXQgPSB0aGlzLm9mZnNldDtcbiAgICAgICAgaWYgKHRoaXMuZmxhZ3MgIT09IHVuZGVmaW5lZCkgbm9kZS5mbGFncyA9IHRoaXMuZmxhZ3M7XG4gICAgICAgIGlmICh0aGlzLmZpcnN0RmxhZyAhPT0gdW5kZWZpbmVkKSBub2RlLmZpcnN0RmxhZyA9IHRoaXMuZmlyc3RGbGFnO1xuICAgICAgICAvLyBpZih0aGlzLmNvbnN0cnVjdG9yRnVuY3Rpb25Ob2RlKSBub2RlLmNvbnN0cnVjdG9yRnVuY3Rpb25Ob2RlID0gdGhpcy5jb25zdHJ1Y3RvckZ1bmN0aW9uTm9kZTtcbiAgICAgICAgaWYgKHRoaXMucmFuZ2UgIT09IHVuZGVmaW5lZCkgbm9kZS5yYW5nZSA9IHRoaXMucmFuZ2U7XG4gICAgICAgIGlmICh0aGlzLmludGVybmFsUmFuZ2UgIT09IHVuZGVmaW5lZCkgbm9kZS5pbnRlcm5hbFJhbmdlID0gdGhpcy5pbnRlcm5hbFJhbmdlO1xuICAgICAgICBpZiAodGhpcy5oYXNWYWx1ZSkgbm9kZS5yYXdWYWx1ZSA9IHRoaXMuX19pbnRlcm5hbF9yYXdWYWx1ZTtcbiAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfVxuXG4gICAgYmVjb21lU3ltYm9sUmVmZXJlbmNlKHN5bWJvbDogU3ltYm9sKTogdm9pZCB7XG4gICAgICAgIHRoaXMua2luZCA9IE5vZGVLaW5kLk5BTUU7XG4gICAgICAgIHRoaXMuc3ltYm9sID0gc3ltYm9sO1xuICAgICAgICB0aGlzLnJlZmVyZW5jZVZhbHVlID0gc3ltYm9sLm5hbWU7XG4gICAgICAgIHRoaXMucmVzb2x2ZWRUeXBlID0gc3ltYm9sLnJlc29sdmVkVHlwZTtcbiAgICAgICAgdGhpcy5yZW1vdmVDaGlsZHJlbigpO1xuICAgIH1cblxuICAgIGJlY29tZUludGVnZXJDb25zdGFudCh2YWx1ZTogaW50MzIpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5raW5kID0gTm9kZUtpbmQuSU5UMzI7XG4gICAgICAgIHRoaXMuc3ltYm9sID0gbnVsbDtcbiAgICAgICAgdGhpcy5pbnRWYWx1ZSA9IHZhbHVlO1xuICAgICAgICB0aGlzLnJlbW92ZUNoaWxkcmVuKCk7XG4gICAgfVxuXG4gICAgYmVjb21lTG9uZ0NvbnN0YW50KHZhbHVlOiBpbnQ2NCk6IHZvaWQge1xuICAgICAgICB0aGlzLmtpbmQgPSBOb2RlS2luZC5JTlQ2NDtcbiAgICAgICAgdGhpcy5zeW1ib2wgPSBudWxsO1xuICAgICAgICB0aGlzLmxvbmdWYWx1ZSA9IHZhbHVlO1xuICAgICAgICB0aGlzLnJlbW92ZUNoaWxkcmVuKCk7XG4gICAgfVxuXG4gICAgYmVjb21lRmxvYXRDb25zdGFudCh2YWx1ZTogZmxvYXQzMik6IHZvaWQge1xuICAgICAgICB0aGlzLmtpbmQgPSBOb2RlS2luZC5GTE9BVDMyO1xuICAgICAgICB0aGlzLnN5bWJvbCA9IG51bGw7XG4gICAgICAgIHRoaXMuZmxvYXRWYWx1ZSA9IHZhbHVlO1xuICAgICAgICB0aGlzLnJlbW92ZUNoaWxkcmVuKCk7XG4gICAgfVxuXG4gICAgYmVjb21lRG91YmxlQ29uc3RhbnQodmFsdWU6IGZsb2F0NjQpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5raW5kID0gTm9kZUtpbmQuRkxPQVQ2NDtcbiAgICAgICAgdGhpcy5zeW1ib2wgPSBudWxsO1xuICAgICAgICB0aGlzLmRvdWJsZVZhbHVlID0gdmFsdWU7XG4gICAgICAgIHRoaXMucmVtb3ZlQ2hpbGRyZW4oKTtcbiAgICB9XG5cbiAgICBiZWNvbWVCb29sZWFuQ29uc3RhbnQodmFsdWU6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICAgICAgdGhpcy5raW5kID0gTm9kZUtpbmQuQk9PTEVBTjtcbiAgICAgICAgdGhpcy5zeW1ib2wgPSBudWxsO1xuICAgICAgICB0aGlzLmludFZhbHVlID0gdmFsdWUgPyAxIDogMDtcbiAgICAgICAgdGhpcy5yZW1vdmVDaGlsZHJlbigpO1xuICAgIH1cblxuICAgIGlzTmVnYXRpdmVJbnRlZ2VyKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5raW5kID09IE5vZGVLaW5kLklOVDMyICYmIHRoaXMuaW50VmFsdWUgPCAwO1xuICAgIH1cblxuICAgIGlzTm9uTmVnYXRpdmVJbnRlZ2VyKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5raW5kID09IE5vZGVLaW5kLklOVDMyICYmIHRoaXMuaW50VmFsdWUgPj0gMDtcbiAgICB9XG5cbiAgICBpc0RlY2xhcmUoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiAodGhpcy5mbGFncyAmIE5PREVfRkxBR19ERUNMQVJFKSAhPSAwO1xuICAgIH1cblxuICAgIGlzTGlicmFyeSgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLmZsYWdzICYgTk9ERV9GTEFHX0xJQlJBUlkpICE9IDA7XG4gICAgfVxuXG4gICAgaXNWaXJ0dWFsKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gKHRoaXMuZmxhZ3MgJiBOT0RFX0ZMQUdfVklSVFVBTCkgIT0gMDtcbiAgICB9XG5cbiAgICBpc0V4cG9ydCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLmZsYWdzICYgTk9ERV9GTEFHX0VYUE9SVCkgIT0gMDtcbiAgICB9XG5cbiAgICBpc0ltcG9ydCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLmZsYWdzICYgTk9ERV9GTEFHX0lNUE9SVCkgIT0gMDtcbiAgICB9XG5cbiAgICBpc0V4dGVybmFsSW1wb3J0KCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5pc0RlY2xhcmUoKSAmJiAhdGhpcy5pc0xpYnJhcnkoKTtcbiAgICB9XG5cbiAgICBpc1N0YXJ0KCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gKHRoaXMuZmxhZ3MgJiBOT0RFX0ZMQUdfU1RBUlQpICE9IDA7XG4gICAgfVxuXG4gICAgaXNKYXZhU2NyaXB0KCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gKHRoaXMuZmxhZ3MgJiBOT0RFX0ZMQUdfSkFWQVNDUklQVCkgIT0gMDtcbiAgICB9XG5cbiAgICBpc1N0YXRpYygpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLmZsYWdzICYgTk9ERV9GTEFHX1NUQVRJQykgIT0gMDtcbiAgICB9XG5cbiAgICBpc0FueWZ1bmMoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiAodGhpcy5mbGFncyAmIE5PREVfRkxBR19BTllGVU5DKSAhPSAwO1xuICAgIH1cblxuICAgIGlzRGVjbGFyZU9ySmF2YVNjcmlwdCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLmZsYWdzICYgKE5PREVfRkxBR19ERUNMQVJFIHwgTk9ERV9GTEFHX0pBVkFTQ1JJUFQpKSAhPSAwO1xuICAgIH1cblxuICAgIGlzRGVjbGFyZU9yRXhwb3J0KCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gKHRoaXMuZmxhZ3MgJiAoTk9ERV9GTEFHX0RFQ0xBUkUgfCBOT0RFX0ZMQUdfRVhQT1JUKSkgIT0gMDtcbiAgICB9XG5cbiAgICBpc0dldCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLmZsYWdzICYgTk9ERV9GTEFHX0dFVCkgIT0gMDtcbiAgICB9XG5cbiAgICBpc1NldCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLmZsYWdzICYgTk9ERV9GTEFHX1NFVCkgIT0gMDtcbiAgICB9XG5cbiAgICBpc09wZXJhdG9yKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gKHRoaXMuZmxhZ3MgJiBOT0RFX0ZMQUdfT1BFUkFUT1IpICE9IDA7XG4gICAgfVxuXG4gICAgaXNQb3NpdGl2ZSgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLmZsYWdzICYgTk9ERV9GTEFHX1BPU0lUSVZFKSAhPSAwO1xuICAgIH1cblxuICAgIGlzUHJpdmF0ZSgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLmZsYWdzICYgTk9ERV9GTEFHX1BSSVZBVEUpICE9IDA7XG4gICAgfVxuXG4gICAgaXNVbnNhZmUoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiAodGhpcy5mbGFncyAmIE5PREVfRkxBR19VTlNBRkUpICE9IDA7XG4gICAgfVxuXG4gICAgaXNHZW5lcmljKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gKHRoaXMuZmxhZ3MgJiBOT0RFX0ZMQUdfR0VORVJJQykgIT0gMDtcbiAgICB9XG5cbiAgICBpc1RlbXBsYXRlKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5zeW1ib2wgJiYgKHRoaXMuc3ltYm9sLmZsYWdzICYgU1lNQk9MX0ZMQUdfSVNfVEVNUExBVEUpICE9IDA7XG4gICAgfVxuXG4gICAgaXNVbnNpZ25lZE9wZXJhdG9yKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gKHRoaXMuZmxhZ3MgJiBOT0RFX0ZMQUdfVU5TSUdORURfT1BFUkFUT1IpICE9IDA7XG4gICAgfVxuXG4gICAgY2hpbGRDb3VudCgpOiBpbnQzMiB7XG4gICAgICAgIGxldCBjb3VudCA9IDA7XG4gICAgICAgIGxldCBjaGlsZCA9IHRoaXMuZmlyc3RDaGlsZDtcbiAgICAgICAgd2hpbGUgKGNoaWxkICE9IG51bGwpIHtcbiAgICAgICAgICAgIGNvdW50ID0gY291bnQgKyAxO1xuICAgICAgICAgICAgY2hpbGQgPSBjaGlsZC5uZXh0U2libGluZztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY291bnQ7XG4gICAgfVxuXG4gICAgcGFyYW1ldGVyQ291bnQoKTogaW50MzIge1xuICAgICAgICBsZXQgY291bnQgPSAwO1xuICAgICAgICBsZXQgY2hpbGQgPSB0aGlzLmZpcnN0Q2hpbGQ7XG4gICAgICAgIGlmIChjaGlsZC5raW5kID09IE5vZGVLaW5kLlBBUkFNRVRFUlMpIHtcbiAgICAgICAgICAgIGNoaWxkID0gY2hpbGQuZmlyc3RDaGlsZDtcbiAgICAgICAgICAgIHdoaWxlIChjaGlsZCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY291bnQgPSBjb3VudCArIDE7XG4gICAgICAgICAgICAgICAgY2hpbGQgPSBjaGlsZC5uZXh0U2libGluZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY291bnQ7XG4gICAgfVxuXG4gICAgaGFzUGFyYW1ldGVycygpOiBib29sZWFuIHtcbiAgICAgICAgaWYgKHRoaXMuZmlyc3RDaGlsZCkge1xuICAgICAgICAgICAgbGV0IGNoaWxkID0gdGhpcy5maXJzdENoaWxkO1xuICAgICAgICAgICAgaWYgKGNoaWxkLmtpbmQgPT0gTm9kZUtpbmQuUEFSQU1FVEVSUykge1xuICAgICAgICAgICAgICAgIHJldHVybiBjaGlsZC5jaGlsZENvdW50KCkgPiAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBhcHBlbmRDaGlsZChjaGlsZDogTm9kZSk6IHZvaWQge1xuICAgICAgICBjaGlsZC5wYXJlbnQgPSB0aGlzO1xuXG4gICAgICAgIGlmICh0aGlzLmZpcnN0Q2hpbGQgPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5maXJzdENoaWxkID0gY2hpbGQ7XG4gICAgICAgICAgICB0aGlzLmZpcnN0Q2hpbGQub2Zmc2V0ID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY2hpbGQucHJldmlvdXNTaWJsaW5nID0gdGhpcy5sYXN0Q2hpbGQ7XG4gICAgICAgICAgICB0aGlzLmxhc3RDaGlsZC5uZXh0U2libGluZyA9IGNoaWxkO1xuICAgICAgICAgICAgY2hpbGQub2Zmc2V0ID0gdGhpcy5sYXN0Q2hpbGQub2Zmc2V0ICsgMTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMubGFzdENoaWxkID0gY2hpbGQ7XG4gICAgfVxuXG4gICAgaW5zZXJ0Q2hpbGRCZWZvcmUoYWZ0ZXI6IE5vZGUsIGJlZm9yZTogTm9kZSk6IHZvaWQge1xuICAgICAgICBpZiAoYmVmb3JlID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGFzc2VydChiZWZvcmUgIT0gYWZ0ZXIpO1xuICAgICAgICBhc3NlcnQoYmVmb3JlLnBhcmVudCA9PSBudWxsKTtcbiAgICAgICAgYXNzZXJ0KGJlZm9yZS5wcmV2aW91c1NpYmxpbmcgPT0gbnVsbCk7XG4gICAgICAgIGFzc2VydChiZWZvcmUubmV4dFNpYmxpbmcgPT0gbnVsbCk7XG4gICAgICAgIGFzc2VydChhZnRlciA9PSBudWxsIHx8IGFmdGVyLnBhcmVudCA9PSB0aGlzKTtcblxuICAgICAgICBpZiAoYWZ0ZXIgPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5hcHBlbmRDaGlsZChiZWZvcmUpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgYmVmb3JlLnBhcmVudCA9IHRoaXM7XG4gICAgICAgIGJlZm9yZS5wcmV2aW91c1NpYmxpbmcgPSBhZnRlci5wcmV2aW91c1NpYmxpbmc7XG4gICAgICAgIGJlZm9yZS5uZXh0U2libGluZyA9IGFmdGVyO1xuXG4gICAgICAgIGlmIChhZnRlci5wcmV2aW91c1NpYmxpbmcgIT0gbnVsbCkge1xuICAgICAgICAgICAgYXNzZXJ0KGFmdGVyID09IGFmdGVyLnByZXZpb3VzU2libGluZy5uZXh0U2libGluZyk7XG4gICAgICAgICAgICBhZnRlci5wcmV2aW91c1NpYmxpbmcubmV4dFNpYmxpbmcgPSBiZWZvcmU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhc3NlcnQoYWZ0ZXIgPT0gdGhpcy5maXJzdENoaWxkKTtcbiAgICAgICAgICAgIHRoaXMuZmlyc3RDaGlsZCA9IGJlZm9yZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGFmdGVyLnByZXZpb3VzU2libGluZyA9IGJlZm9yZTtcbiAgICB9XG5cbiAgICBpbnNlcnRDaGlsZEFmdGVyKGJlZm9yZTogTm9kZSwgYWZ0ZXI6IE5vZGUpOiB2b2lkIHtcbiAgICAgICAgaWYgKGFmdGVyID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGFzc2VydChiZWZvcmUgIT0gYWZ0ZXIpO1xuICAgICAgICBhc3NlcnQoYWZ0ZXIucGFyZW50ID09IG51bGwpO1xuICAgICAgICBhc3NlcnQoYWZ0ZXIucHJldmlvdXNTaWJsaW5nID09IG51bGwpO1xuICAgICAgICBhc3NlcnQoYWZ0ZXIubmV4dFNpYmxpbmcgPT0gbnVsbCk7XG4gICAgICAgIGFzc2VydChiZWZvcmUgPT0gbnVsbCB8fCBiZWZvcmUucGFyZW50ID09IHRoaXMpO1xuXG4gICAgICAgIGlmIChiZWZvcmUgPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5hcHBlbmRDaGlsZChhZnRlcik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBhZnRlci5wYXJlbnQgPSB0aGlzO1xuICAgICAgICBhZnRlci5wcmV2aW91c1NpYmxpbmcgPSBiZWZvcmU7XG4gICAgICAgIGFmdGVyLm5leHRTaWJsaW5nID0gYmVmb3JlLm5leHRTaWJsaW5nO1xuXG4gICAgICAgIGlmIChiZWZvcmUubmV4dFNpYmxpbmcgIT0gbnVsbCkge1xuICAgICAgICAgICAgYXNzZXJ0KGJlZm9yZSA9PSBiZWZvcmUubmV4dFNpYmxpbmcucHJldmlvdXNTaWJsaW5nKTtcbiAgICAgICAgICAgIGJlZm9yZS5uZXh0U2libGluZy5wcmV2aW91c1NpYmxpbmcgPSBhZnRlcjtcbiAgICAgICAgfVxuXG4gICAgICAgIGJlZm9yZS5uZXh0U2libGluZyA9IGFmdGVyO1xuICAgIH1cblxuICAgIHJlbW92ZSgpOiBOb2RlIHtcbiAgICAgICAgYXNzZXJ0KHRoaXMucGFyZW50ICE9IG51bGwpO1xuXG4gICAgICAgIGlmICh0aGlzLnByZXZpb3VzU2libGluZyAhPSBudWxsKSB7XG4gICAgICAgICAgICBhc3NlcnQodGhpcy5wcmV2aW91c1NpYmxpbmcubmV4dFNpYmxpbmcgPT0gdGhpcyk7XG4gICAgICAgICAgICB0aGlzLnByZXZpb3VzU2libGluZy5uZXh0U2libGluZyA9IHRoaXMubmV4dFNpYmxpbmc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhc3NlcnQodGhpcy5wYXJlbnQuZmlyc3RDaGlsZCA9PSB0aGlzKTtcbiAgICAgICAgICAgIHRoaXMucGFyZW50LmZpcnN0Q2hpbGQgPSB0aGlzLm5leHRTaWJsaW5nO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMubmV4dFNpYmxpbmcgIT0gbnVsbCkge1xuICAgICAgICAgICAgYXNzZXJ0KHRoaXMubmV4dFNpYmxpbmcucHJldmlvdXNTaWJsaW5nID09IHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5uZXh0U2libGluZy5wcmV2aW91c1NpYmxpbmcgPSB0aGlzLnByZXZpb3VzU2libGluZztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFzc2VydCh0aGlzLnBhcmVudC5sYXN0Q2hpbGQgPT0gdGhpcyk7XG4gICAgICAgICAgICB0aGlzLnBhcmVudC5sYXN0Q2hpbGQgPSB0aGlzLnByZXZpb3VzU2libGluZztcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucGFyZW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy5wcmV2aW91c1NpYmxpbmcgPSBudWxsO1xuICAgICAgICB0aGlzLm5leHRTaWJsaW5nID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgcmVtb3ZlQ2hpbGRyZW4oKTogdm9pZCB7XG4gICAgICAgIHdoaWxlICh0aGlzLmxhc3RDaGlsZCAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmxhc3RDaGlsZC5yZW1vdmUoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlcGxhY2VXaXRoKG5vZGU6IE5vZGUpOiB2b2lkIHtcbiAgICAgICAgYXNzZXJ0KG5vZGUgIT0gdGhpcyk7XG4gICAgICAgIGFzc2VydCh0aGlzLnBhcmVudCAhPSBudWxsKTtcbiAgICAgICAgYXNzZXJ0KG5vZGUucGFyZW50ID09IG51bGwpO1xuICAgICAgICBhc3NlcnQobm9kZS5wcmV2aW91c1NpYmxpbmcgPT0gbnVsbCk7XG4gICAgICAgIGFzc2VydChub2RlLm5leHRTaWJsaW5nID09IG51bGwpO1xuXG4gICAgICAgIG5vZGUucGFyZW50ID0gdGhpcy5wYXJlbnQ7XG4gICAgICAgIG5vZGUucHJldmlvdXNTaWJsaW5nID0gdGhpcy5wcmV2aW91c1NpYmxpbmc7XG4gICAgICAgIG5vZGUubmV4dFNpYmxpbmcgPSB0aGlzLm5leHRTaWJsaW5nO1xuXG4gICAgICAgIGlmICh0aGlzLnByZXZpb3VzU2libGluZyAhPSBudWxsKSB7XG4gICAgICAgICAgICBhc3NlcnQodGhpcy5wcmV2aW91c1NpYmxpbmcubmV4dFNpYmxpbmcgPT0gdGhpcyk7XG4gICAgICAgICAgICB0aGlzLnByZXZpb3VzU2libGluZy5uZXh0U2libGluZyA9IG5vZGU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhc3NlcnQodGhpcy5wYXJlbnQuZmlyc3RDaGlsZCA9PSB0aGlzKTtcbiAgICAgICAgICAgIHRoaXMucGFyZW50LmZpcnN0Q2hpbGQgPSBub2RlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMubmV4dFNpYmxpbmcgIT0gbnVsbCkge1xuICAgICAgICAgICAgYXNzZXJ0KHRoaXMubmV4dFNpYmxpbmcucHJldmlvdXNTaWJsaW5nID09IHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5uZXh0U2libGluZy5wcmV2aW91c1NpYmxpbmcgPSBub2RlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYXNzZXJ0KHRoaXMucGFyZW50Lmxhc3RDaGlsZCA9PSB0aGlzKTtcbiAgICAgICAgICAgIHRoaXMucGFyZW50Lmxhc3RDaGlsZCA9IG5vZGU7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnBhcmVudCA9IG51bGw7XG4gICAgICAgIHRoaXMucHJldmlvdXNTaWJsaW5nID0gbnVsbDtcbiAgICAgICAgdGhpcy5uZXh0U2libGluZyA9IG51bGw7XG4gICAgfVxuXG4gICAgaXNUeXBlKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5raW5kID09IE5vZGVLaW5kLlRZUEUgfHwgdGhpcy5raW5kID09IE5vZGVLaW5kLlBPSU5URVJfVFlQRSB8fCB0aGlzLnN5bWJvbCAhPSBudWxsICYmIGlzVHlwZSh0aGlzLnN5bWJvbC5raW5kKTtcbiAgICB9XG5cbiAgICBpc0NhbGxWYWx1ZSgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGFyZW50LmtpbmQgPT0gTm9kZUtpbmQuQ0FMTCAmJiB0aGlzID09IHRoaXMucGFyZW50LmNhbGxWYWx1ZSgpO1xuICAgIH1cblxuICAgIGlzQXNzaWduVGFyZ2V0KCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5wYXJlbnQua2luZCA9PSBOb2RlS2luZC5BU1NJR04gJiYgdGhpcyA9PSB0aGlzLnBhcmVudC5iaW5hcnlMZWZ0KCk7XG4gICAgfVxuXG4gICAgd2l0aFJhbmdlKHJhbmdlOiBTb3VyY2VSYW5nZSk6IE5vZGUge1xuICAgICAgICB0aGlzLnJhbmdlID0gcmFuZ2U7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHdpdGhJbnRlcm5hbFJhbmdlKHJhbmdlOiBTb3VyY2VSYW5nZSk6IE5vZGUge1xuICAgICAgICB0aGlzLmludGVybmFsUmFuZ2UgPSByYW5nZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgZnVuY3Rpb25GaXJzdEFyZ3VtZW50KCk6IE5vZGUge1xuICAgICAgICBhc3NlcnQodGhpcy5raW5kID09IE5vZGVLaW5kLkZVTkNUSU9OKTtcbiAgICAgICAgYXNzZXJ0KHRoaXMuY2hpbGRDb3VudCgpID49IDIpO1xuICAgICAgICBsZXQgY2hpbGQgPSB0aGlzLmZpcnN0Q2hpbGQ7XG4gICAgICAgIGlmIChjaGlsZC5raW5kID09IE5vZGVLaW5kLlBBUkFNRVRFUlMpIHtcbiAgICAgICAgICAgIGNoaWxkID0gY2hpbGQubmV4dFNpYmxpbmc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNoaWxkO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uTGFzdEFyZ3VtZW50KCk6IE5vZGUge1xuICAgICAgICBhc3NlcnQodGhpcy5raW5kID09IE5vZGVLaW5kLkZVTkNUSU9OKTtcbiAgICAgICAgYXNzZXJ0KHRoaXMuY2hpbGRDb3VudCgpID49IDIpO1xuICAgICAgICBsZXQgY2hpbGQgPSB0aGlzLmZpcnN0Q2hpbGQ7XG4gICAgICAgIGlmIChjaGlsZC5raW5kID09IE5vZGVLaW5kLlBBUkFNRVRFUlMpIHtcbiAgICAgICAgICAgIGNoaWxkID0gY2hpbGQubmV4dFNpYmxpbmc7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGxhc3RBcmd1bWVudDogTm9kZSA9IG51bGw7XG4gICAgICAgIHdoaWxlIChjaGlsZCAhPSBudWxsKSB7XG4gICAgICAgICAgICBsZXQgbmV4dENoaWxkID0gY2hpbGQubmV4dFNpYmxpbmc7XG4gICAgICAgICAgICBpZiAobmV4dENoaWxkLmtpbmQgIT09IE5vZGVLaW5kLlZBUklBQkxFKSB7XG4gICAgICAgICAgICAgICAgbGFzdEFyZ3VtZW50ID0gY2hpbGQ7XG4gICAgICAgICAgICAgICAgY2hpbGQgPSBudWxsO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjaGlsZCA9IG5leHRDaGlsZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBsYXN0QXJndW1lbnQ7XG4gICAgfVxuXG4gICAgZnVuY3Rpb25GaXJzdEFyZ3VtZW50SWdub3JpbmdUaGlzKCk6IE5vZGUge1xuICAgICAgICBhc3NlcnQodGhpcy5raW5kID09IE5vZGVLaW5kLkZVTkNUSU9OKTtcbiAgICAgICAgYXNzZXJ0KHRoaXMuY2hpbGRDb3VudCgpID49IDIpO1xuICAgICAgICBhc3NlcnQodGhpcy5zeW1ib2wgIT0gbnVsbCk7XG4gICAgICAgIGxldCBjaGlsZCA9IHRoaXMuZnVuY3Rpb25GaXJzdEFyZ3VtZW50KCk7XG4gICAgICAgIGlmICh0aGlzLnN5bWJvbC5raW5kID09IFN5bWJvbEtpbmQuRlVOQ1RJT05fSU5TVEFOQ0UpIHtcbiAgICAgICAgICAgIGNoaWxkID0gY2hpbGQubmV4dFNpYmxpbmc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNoaWxkO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uUmV0dXJuVHlwZSgpOiBOb2RlIHtcbiAgICAgICAgYXNzZXJ0KHRoaXMua2luZCA9PSBOb2RlS2luZC5GVU5DVElPTik7XG4gICAgICAgIGFzc2VydCh0aGlzLmNoaWxkQ291bnQoKSA+PSAyKTtcbiAgICAgICAgYXNzZXJ0KGlzRXhwcmVzc2lvbih0aGlzLmxhc3RDaGlsZC5wcmV2aW91c1NpYmxpbmcpKTtcbiAgICAgICAgcmV0dXJuIHRoaXMubGFzdENoaWxkLnByZXZpb3VzU2libGluZztcbiAgICB9XG5cbiAgICBjb25zdHJ1Y3Rvck5vZGUoKTogTm9kZSB7XG4gICAgICAgIGFzc2VydCh0aGlzLmtpbmQgPT0gTm9kZUtpbmQuTkVXKTtcbiAgICAgICAgYXNzZXJ0KHRoaXMuY2hpbGRDb3VudCgpID4gMCk7XG4gICAgICAgIGFzc2VydCh0aGlzLnJlc29sdmVkVHlwZS5zeW1ib2wubm9kZS5raW5kID09IE5vZGVLaW5kLkNMQVNTKTtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVzb2x2ZWRUeXBlLnN5bWJvbC5ub2RlLmNvbnN0cnVjdG9yRnVuY3Rpb25Ob2RlO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uQm9keSgpOiBOb2RlIHtcbiAgICAgICAgYXNzZXJ0KHRoaXMua2luZCA9PSBOb2RlS2luZC5GVU5DVElPTik7XG4gICAgICAgIGFzc2VydCh0aGlzLmNoaWxkQ291bnQoKSA+PSAyKTtcbiAgICAgICAgYXNzZXJ0KHRoaXMubGFzdENoaWxkLmtpbmQgPT0gTm9kZUtpbmQuQkxPQ0sgfHwgdGhpcy5sYXN0Q2hpbGQua2luZCA9PSBOb2RlS2luZC5FTVBUWSk7XG4gICAgICAgIGxldCBib2R5ID0gdGhpcy5sYXN0Q2hpbGQ7XG4gICAgICAgIHJldHVybiBib2R5LmtpbmQgPT0gTm9kZUtpbmQuQkxPQ0sgPyBib2R5IDogbnVsbDtcbiAgICB9XG5cbiAgICBuZXdUeXBlKCk6IE5vZGUge1xuICAgICAgICBhc3NlcnQodGhpcy5raW5kID09IE5vZGVLaW5kLk5FVyk7XG4gICAgICAgIGFzc2VydCh0aGlzLmNoaWxkQ291bnQoKSA+PSAxKTtcbiAgICAgICAgYXNzZXJ0KGlzRXhwcmVzc2lvbih0aGlzLmZpcnN0Q2hpbGQpKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmlyc3RDaGlsZDtcbiAgICB9XG5cbiAgICBkZWxldGVUeXBlKCk6IE5vZGUge1xuICAgICAgICBhc3NlcnQodGhpcy5raW5kID09IE5vZGVLaW5kLkRFTEVURSk7XG4gICAgICAgIGFzc2VydCh0aGlzLmNoaWxkQ291bnQoKSA+PSAxKTtcbiAgICAgICAgYXNzZXJ0KGlzRXhwcmVzc2lvbih0aGlzLmZpcnN0Q2hpbGQpKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmlyc3RDaGlsZDtcbiAgICB9XG5cbiAgICBjYWxsVmFsdWUoKTogTm9kZSB7XG4gICAgICAgIGFzc2VydCh0aGlzLmtpbmQgPT0gTm9kZUtpbmQuQ0FMTCk7XG4gICAgICAgIGFzc2VydCh0aGlzLmNoaWxkQ291bnQoKSA+PSAxKTtcbiAgICAgICAgYXNzZXJ0KGlzRXhwcmVzc2lvbih0aGlzLmZpcnN0Q2hpbGQpKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmlyc3RDaGlsZDtcbiAgICB9XG5cbiAgICBjYXN0VmFsdWUoKTogTm9kZSB7XG4gICAgICAgIGFzc2VydCh0aGlzLmtpbmQgPT0gTm9kZUtpbmQuQ0FTVCk7XG4gICAgICAgIGFzc2VydCh0aGlzLmNoaWxkQ291bnQoKSA9PSAyKTtcbiAgICAgICAgYXNzZXJ0KGlzRXhwcmVzc2lvbih0aGlzLmZpcnN0Q2hpbGQpKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmlyc3RDaGlsZDtcbiAgICB9XG5cbiAgICBjYXN0VHlwZSgpOiBOb2RlIHtcbiAgICAgICAgYXNzZXJ0KHRoaXMua2luZCA9PSBOb2RlS2luZC5DQVNUKTtcbiAgICAgICAgYXNzZXJ0KHRoaXMuY2hpbGRDb3VudCgpID09IDIpO1xuICAgICAgICBhc3NlcnQoaXNFeHByZXNzaW9uKHRoaXMubGFzdENoaWxkKSk7XG4gICAgICAgIHJldHVybiB0aGlzLmxhc3RDaGlsZDtcbiAgICB9XG5cbiAgICBhbGlnbk9mVHlwZSgpOiBOb2RlIHtcbiAgICAgICAgYXNzZXJ0KHRoaXMua2luZCA9PSBOb2RlS2luZC5BTElHTl9PRik7XG4gICAgICAgIGFzc2VydCh0aGlzLmNoaWxkQ291bnQoKSA9PSAxKTtcbiAgICAgICAgYXNzZXJ0KGlzRXhwcmVzc2lvbih0aGlzLmZpcnN0Q2hpbGQpKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmlyc3RDaGlsZDtcbiAgICB9XG5cbiAgICBzaXplT2ZUeXBlKCk6IE5vZGUge1xuICAgICAgICBhc3NlcnQodGhpcy5raW5kID09IE5vZGVLaW5kLlNJWkVfT0YpO1xuICAgICAgICBhc3NlcnQodGhpcy5jaGlsZENvdW50KCkgPT0gMSk7XG4gICAgICAgIGFzc2VydChpc0V4cHJlc3Npb24odGhpcy5maXJzdENoaWxkKSk7XG4gICAgICAgIHJldHVybiB0aGlzLmZpcnN0Q2hpbGQ7XG4gICAgfVxuXG4gICAgZG90VGFyZ2V0KCk6IE5vZGUge1xuICAgICAgICBhc3NlcnQodGhpcy5raW5kID09IE5vZGVLaW5kLkRPVCk7XG4gICAgICAgIGFzc2VydCh0aGlzLmNoaWxkQ291bnQoKSA9PSAxKTtcbiAgICAgICAgYXNzZXJ0KGlzRXhwcmVzc2lvbih0aGlzLmZpcnN0Q2hpbGQpKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmlyc3RDaGlsZDtcbiAgICB9XG5cbiAgICByZXR1cm5WYWx1ZSgpOiBOb2RlIHtcbiAgICAgICAgYXNzZXJ0KHRoaXMua2luZCA9PSBOb2RlS2luZC5SRVRVUk4pO1xuICAgICAgICBhc3NlcnQodGhpcy5jaGlsZENvdW50KCkgPD0gMSk7XG4gICAgICAgIGFzc2VydCh0aGlzLmZpcnN0Q2hpbGQgPT0gbnVsbCB8fCBpc0V4cHJlc3Npb24odGhpcy5maXJzdENoaWxkKSk7XG4gICAgICAgIHJldHVybiB0aGlzLmZpcnN0Q2hpbGQ7XG4gICAgfVxuXG4gICAgaWZSZXR1cm5Ob2RlKCk6IE5vZGUge1xuICAgICAgICBhc3NlcnQodGhpcy5raW5kID09IE5vZGVLaW5kLklGKTtcbiAgICAgICAgYXNzZXJ0KHRoaXMuZmlyc3RDaGlsZCAhPT0gbnVsbCk7XG4gICAgICAgIGFzc2VydCh0aGlzLmZpcnN0Q2hpbGQubmV4dFNpYmxpbmcgIT09IG51bGwpO1xuICAgICAgICByZXR1cm4gdGhpcy5maXJzdENoaWxkLm5leHRTaWJsaW5nLnJldHVybk5vZGUgfHwgbnVsbDtcbiAgICB9XG5cbiAgICBkZWxldGVWYWx1ZSgpOiBOb2RlIHtcbiAgICAgICAgYXNzZXJ0KHRoaXMua2luZCA9PSBOb2RlS2luZC5ERUxFVEUpO1xuICAgICAgICBhc3NlcnQodGhpcy5jaGlsZENvdW50KCkgPD0gMSk7XG4gICAgICAgIGFzc2VydCh0aGlzLmZpcnN0Q2hpbGQgPT0gbnVsbCB8fCBpc0V4cHJlc3Npb24odGhpcy5maXJzdENoaWxkKSk7XG4gICAgICAgIHJldHVybiB0aGlzLmZpcnN0Q2hpbGQ7XG4gICAgfVxuXG4gICAgZXh0ZW5kc1R5cGUoKTogTm9kZSB7XG4gICAgICAgIGFzc2VydCh0aGlzLmtpbmQgPT0gTm9kZUtpbmQuRVhURU5EUyk7XG4gICAgICAgIGFzc2VydCh0aGlzLmNoaWxkQ291bnQoKSA9PSAxKTtcbiAgICAgICAgYXNzZXJ0KGlzRXhwcmVzc2lvbih0aGlzLmZpcnN0Q2hpbGQpKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmlyc3RDaGlsZDtcbiAgICB9XG5cbiAgICBmaXJzdEdlbmVyaWNUeXBlKCk6IE5vZGUge1xuICAgICAgICBhc3NlcnQodGhpcy5maXJzdENoaWxkLmtpbmQgPT0gTm9kZUtpbmQuUEFSQU1FVEVSUyk7XG4gICAgICAgIGFzc2VydCh0aGlzLmZpcnN0Q2hpbGQuY2hpbGRDb3VudCgpID4gMCk7XG4gICAgICAgIHJldHVybiB0aGlzLmZpcnN0Q2hpbGQuZmlyc3RDaGlsZDtcbiAgICB9XG5cbiAgICB2YXJpYWJsZVR5cGUoKTogTm9kZSB7XG4gICAgICAgIGFzc2VydCh0aGlzLmtpbmQgPT0gTm9kZUtpbmQuVkFSSUFCTEUpO1xuICAgICAgICBhc3NlcnQodGhpcy5jaGlsZENvdW50KCkgPD0gMik7XG4gICAgICAgIGFzc2VydChpc0V4cHJlc3Npb24odGhpcy5maXJzdENoaWxkKSB8fCB0aGlzLmZpcnN0Q2hpbGQua2luZCA9PSBOb2RlS2luZC5FTVBUWSk7XG4gICAgICAgIGxldCB0eXBlID0gdGhpcy5maXJzdENoaWxkO1xuICAgICAgICByZXR1cm4gdHlwZS5raW5kICE9IE5vZGVLaW5kLkVNUFRZID8gdHlwZSA6IG51bGw7XG4gICAgfVxuXG4gICAgdmFyaWFibGVWYWx1ZSgpOiBOb2RlIHtcbiAgICAgICAgYXNzZXJ0KHRoaXMua2luZCA9PSBOb2RlS2luZC5WQVJJQUJMRSk7XG4gICAgICAgIGFzc2VydCh0aGlzLmNoaWxkQ291bnQoKSA8PSAyKTtcbiAgICAgICAgYXNzZXJ0KHRoaXMuZmlyc3RDaGlsZC5uZXh0U2libGluZyA9PSBudWxsIHx8IGlzRXhwcmVzc2lvbih0aGlzLmZpcnN0Q2hpbGQubmV4dFNpYmxpbmcpKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmlyc3RDaGlsZC5uZXh0U2libGluZztcbiAgICB9XG5cbiAgICBoYXNWYXJpYWJsZVZhbHVlKCk6IGJvb2xlYW4ge1xuICAgICAgICBhc3NlcnQodGhpcy5raW5kID09IE5vZGVLaW5kLlZBUklBQkxFKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmlyc3RDaGlsZCAhPSB1bmRlZmluZWQgJiYgdGhpcy5maXJzdENoaWxkLm5leHRTaWJsaW5nICE9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBleHByZXNzaW9uVmFsdWUoKTogTm9kZSB7XG4gICAgICAgIGFzc2VydCh0aGlzLmtpbmQgPT0gTm9kZUtpbmQuRVhQUkVTU0lPTik7XG4gICAgICAgIGFzc2VydCh0aGlzLmNoaWxkQ291bnQoKSA9PSAxKTtcbiAgICAgICAgYXNzZXJ0KGlzRXhwcmVzc2lvbih0aGlzLmZpcnN0Q2hpbGQpKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmlyc3RDaGlsZDtcbiAgICB9XG5cbiAgICBiaW5hcnlMZWZ0KCk6IE5vZGUge1xuICAgICAgICBhc3NlcnQoaXNCaW5hcnkodGhpcy5raW5kKSk7XG4gICAgICAgIGFzc2VydCh0aGlzLmNoaWxkQ291bnQoKSA9PSAyKTtcbiAgICAgICAgYXNzZXJ0KGlzRXhwcmVzc2lvbih0aGlzLmZpcnN0Q2hpbGQpKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmlyc3RDaGlsZDtcbiAgICB9XG5cbiAgICBiaW5hcnlSaWdodCgpOiBOb2RlIHtcbiAgICAgICAgYXNzZXJ0KGlzQmluYXJ5KHRoaXMua2luZCkpO1xuICAgICAgICBhc3NlcnQodGhpcy5jaGlsZENvdW50KCkgPT0gMik7XG4gICAgICAgIGFzc2VydChpc0V4cHJlc3Npb24odGhpcy5sYXN0Q2hpbGQpKTtcbiAgICAgICAgcmV0dXJuIHRoaXMubGFzdENoaWxkO1xuICAgIH1cblxuICAgIHVuYXJ5VmFsdWUoKTogTm9kZSB7XG4gICAgICAgIGFzc2VydChpc1VuYXJ5KHRoaXMua2luZCkpO1xuICAgICAgICBhc3NlcnQodGhpcy5jaGlsZENvdW50KCkgPT0gMSk7XG4gICAgICAgIGFzc2VydChpc0V4cHJlc3Npb24odGhpcy5maXJzdENoaWxkKSk7XG4gICAgICAgIHJldHVybiB0aGlzLmZpcnN0Q2hpbGQ7XG4gICAgfVxuXG4gICAgcG9pbnRlcigpOiBOb2RlIHtcbiAgICAgICAgYXNzZXJ0KHRoaXMua2luZCA9PSBOb2RlS2luZC5QT0lOVEVSX0lOREVYKTtcbiAgICAgICAgYXNzZXJ0KHRoaXMuY2hpbGRDb3VudCgpID49IDEpO1xuICAgICAgICBhc3NlcnQoaXNFeHByZXNzaW9uKHRoaXMuZmlyc3RDaGlsZCkpO1xuICAgICAgICByZXR1cm4gdGhpcy5maXJzdENoaWxkO1xuICAgIH1cblxuICAgIHBvaW50ZXJPZmZzZXQoKTogaW50MzIge1xuICAgICAgICBhc3NlcnQodGhpcy5maXJzdENoaWxkKTtcbiAgICAgICAgYXNzZXJ0KHRoaXMuZmlyc3RDaGlsZC5uZXh0U2libGluZyk7XG4gICAgICAgIHJldHVybiB0aGlzLmZpcnN0Q2hpbGQubmV4dFNpYmxpbmcuaW50VmFsdWU7XG4gICAgfVxuXG4gICAgd2hpbGVWYWx1ZSgpOiBOb2RlIHtcbiAgICAgICAgYXNzZXJ0KHRoaXMua2luZCA9PSBOb2RlS2luZC5XSElMRSk7XG4gICAgICAgIGFzc2VydCh0aGlzLmNoaWxkQ291bnQoKSA9PSAyKTtcbiAgICAgICAgYXNzZXJ0KGlzRXhwcmVzc2lvbih0aGlzLmZpcnN0Q2hpbGQpKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmlyc3RDaGlsZDtcbiAgICB9XG5cbiAgICB3aGlsZUJvZHkoKTogTm9kZSB7XG4gICAgICAgIGFzc2VydCh0aGlzLmtpbmQgPT0gTm9kZUtpbmQuV0hJTEUpO1xuICAgICAgICBhc3NlcnQodGhpcy5jaGlsZENvdW50KCkgPT0gMik7XG4gICAgICAgIGFzc2VydCh0aGlzLmxhc3RDaGlsZC5raW5kID09IE5vZGVLaW5kLkJMT0NLKTtcbiAgICAgICAgcmV0dXJuIHRoaXMubGFzdENoaWxkO1xuICAgIH1cblxuICAgIGhvb2tWYWx1ZSgpOiBOb2RlIHtcbiAgICAgICAgYXNzZXJ0KHRoaXMua2luZCA9PSBOb2RlS2luZC5IT09LKTtcbiAgICAgICAgYXNzZXJ0KHRoaXMuY2hpbGRDb3VudCgpID09IDMpO1xuICAgICAgICBhc3NlcnQoaXNFeHByZXNzaW9uKHRoaXMuZmlyc3RDaGlsZCkpO1xuICAgICAgICByZXR1cm4gdGhpcy5maXJzdENoaWxkO1xuICAgIH1cblxuICAgIGhvb2tUcnVlKCk6IE5vZGUge1xuICAgICAgICBhc3NlcnQodGhpcy5raW5kID09IE5vZGVLaW5kLkhPT0spO1xuICAgICAgICBhc3NlcnQodGhpcy5jaGlsZENvdW50KCkgPT0gMyk7XG4gICAgICAgIGFzc2VydChpc0V4cHJlc3Npb24odGhpcy5maXJzdENoaWxkLm5leHRTaWJsaW5nKSk7XG4gICAgICAgIHJldHVybiB0aGlzLmZpcnN0Q2hpbGQubmV4dFNpYmxpbmc7XG4gICAgfVxuXG4gICAgaG9va0ZhbHNlKCk6IE5vZGUge1xuICAgICAgICBhc3NlcnQodGhpcy5raW5kID09IE5vZGVLaW5kLkhPT0spO1xuICAgICAgICBhc3NlcnQodGhpcy5jaGlsZENvdW50KCkgPT0gMyk7XG4gICAgICAgIGFzc2VydChpc0V4cHJlc3Npb24odGhpcy5sYXN0Q2hpbGQpKTtcbiAgICAgICAgcmV0dXJuIHRoaXMubGFzdENoaWxkO1xuICAgIH1cblxuICAgIGluZGV4VGFyZ2V0KCk6IE5vZGUge1xuICAgICAgICBhc3NlcnQodGhpcy5raW5kID09IE5vZGVLaW5kLklOREVYKTtcbiAgICAgICAgYXNzZXJ0KHRoaXMuY2hpbGRDb3VudCgpID49IDEpO1xuICAgICAgICBhc3NlcnQoaXNFeHByZXNzaW9uKHRoaXMuZmlyc3RDaGlsZCkpO1xuICAgICAgICByZXR1cm4gdGhpcy5maXJzdENoaWxkO1xuICAgIH1cblxuICAgIGlmVmFsdWUoKTogTm9kZSB7XG4gICAgICAgIGFzc2VydCh0aGlzLmtpbmQgPT0gTm9kZUtpbmQuSUYpO1xuICAgICAgICBhc3NlcnQodGhpcy5jaGlsZENvdW50KCkgPT0gMiB8fCB0aGlzLmNoaWxkQ291bnQoKSA9PSAzKTtcbiAgICAgICAgYXNzZXJ0KGlzRXhwcmVzc2lvbih0aGlzLmZpcnN0Q2hpbGQpKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmlyc3RDaGlsZDtcbiAgICB9XG5cbiAgICBpZlRydWUoKTogTm9kZSB7XG4gICAgICAgIGFzc2VydCh0aGlzLmtpbmQgPT0gTm9kZUtpbmQuSUYpO1xuICAgICAgICBhc3NlcnQodGhpcy5jaGlsZENvdW50KCkgPT0gMiB8fCB0aGlzLmNoaWxkQ291bnQoKSA9PSAzKTtcbiAgICAgICAgYXNzZXJ0KHRoaXMuZmlyc3RDaGlsZC5uZXh0U2libGluZy5raW5kID09IE5vZGVLaW5kLkJMT0NLKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmlyc3RDaGlsZC5uZXh0U2libGluZztcbiAgICB9XG5cbiAgICBpZkZhbHNlKCk6IE5vZGUge1xuICAgICAgICBhc3NlcnQodGhpcy5raW5kID09IE5vZGVLaW5kLklGKTtcbiAgICAgICAgYXNzZXJ0KHRoaXMuY2hpbGRDb3VudCgpID09IDIgfHwgdGhpcy5jaGlsZENvdW50KCkgPT0gMyk7XG4gICAgICAgIGFzc2VydCh0aGlzLmZpcnN0Q2hpbGQubmV4dFNpYmxpbmcubmV4dFNpYmxpbmcgPT0gbnVsbCB8fCB0aGlzLmZpcnN0Q2hpbGQubmV4dFNpYmxpbmcubmV4dFNpYmxpbmcua2luZCA9PSBOb2RlS2luZC5CTE9DSyk7XG4gICAgICAgIHJldHVybiB0aGlzLmZpcnN0Q2hpbGQubmV4dFNpYmxpbmcubmV4dFNpYmxpbmcgfHwgbnVsbDtcbiAgICB9XG5cbiAgICBleHBhbmRDYWxsSW50b09wZXJhdG9yVHJlZSgpOiBib29sZWFuIHtcbiAgICAgICAgaWYgKHRoaXMua2luZCAhPSBOb2RlS2luZC5DQUxMKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgdmFsdWUgPSB0aGlzLmNhbGxWYWx1ZSgpO1xuICAgICAgICBsZXQgc3ltYm9sID0gdmFsdWUuc3ltYm9sO1xuXG4gICAgICAgIGlmICh2YWx1ZS5raW5kID09IE5vZGVLaW5kLkRPVCAmJiBzeW1ib2wubm9kZS5pc09wZXJhdG9yKCkgJiYgc3ltYm9sLm5vZGUuaXNEZWNsYXJlKCkpIHtcbiAgICAgICAgICAgIGxldCBiaW5hcnlLaW5kID0gTm9kZUtpbmQuTlVMTDtcblxuICAgICAgICAgICAgaWYgKHN5bWJvbC5uYW1lID09IFwiJVwiKSBiaW5hcnlLaW5kID0gTm9kZUtpbmQuUkVNQUlOREVSO1xuICAgICAgICAgICAgZWxzZSBpZiAoc3ltYm9sLm5hbWUgPT0gXCImXCIpIGJpbmFyeUtpbmQgPSBOb2RlS2luZC5CSVRXSVNFX0FORDtcbiAgICAgICAgICAgIGVsc2UgaWYgKHN5bWJvbC5uYW1lID09IFwiKlwiKSBiaW5hcnlLaW5kID0gTm9kZUtpbmQuTVVMVElQTFk7XG4gICAgICAgICAgICBlbHNlIGlmIChzeW1ib2wubmFtZSA9PSBcIioqXCIpIGJpbmFyeUtpbmQgPSBOb2RlS2luZC5FWFBPTkVOVDtcbiAgICAgICAgICAgIGVsc2UgaWYgKHN5bWJvbC5uYW1lID09IFwiL1wiKSBiaW5hcnlLaW5kID0gTm9kZUtpbmQuRElWSURFO1xuICAgICAgICAgICAgZWxzZSBpZiAoc3ltYm9sLm5hbWUgPT0gXCI8XCIpIGJpbmFyeUtpbmQgPSBOb2RlS2luZC5MRVNTX1RIQU47XG4gICAgICAgICAgICBlbHNlIGlmIChzeW1ib2wubmFtZSA9PSBcIjw8XCIpIGJpbmFyeUtpbmQgPSBOb2RlS2luZC5TSElGVF9MRUZUO1xuICAgICAgICAgICAgZWxzZSBpZiAoc3ltYm9sLm5hbWUgPT0gXCI9PVwiKSBiaW5hcnlLaW5kID0gTm9kZUtpbmQuRVFVQUw7XG4gICAgICAgICAgICBlbHNlIGlmIChzeW1ib2wubmFtZSA9PSBcIj5cIikgYmluYXJ5S2luZCA9IE5vZGVLaW5kLkdSRUFURVJfVEhBTjtcbiAgICAgICAgICAgIGVsc2UgaWYgKHN5bWJvbC5uYW1lID09IFwiPj5cIikgYmluYXJ5S2luZCA9IE5vZGVLaW5kLlNISUZUX1JJR0hUO1xuICAgICAgICAgICAgZWxzZSBpZiAoc3ltYm9sLm5hbWUgPT0gXCJbXVwiKSBiaW5hcnlLaW5kID0gTm9kZUtpbmQuSU5ERVg7XG4gICAgICAgICAgICBlbHNlIGlmIChzeW1ib2wubmFtZSA9PSBcIl5cIikgYmluYXJ5S2luZCA9IE5vZGVLaW5kLkJJVFdJU0VfWE9SO1xuICAgICAgICAgICAgZWxzZSBpZiAoc3ltYm9sLm5hbWUgPT0gXCJ8XCIpIGJpbmFyeUtpbmQgPSBOb2RlS2luZC5CSVRXSVNFX09SO1xuXG4gICAgICAgICAgICBpZiAoYmluYXJ5S2luZCAhPSBOb2RlS2luZC5OVUxMKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5raW5kID0gYmluYXJ5S2luZDtcbiAgICAgICAgICAgICAgICB2YWx1ZS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmluc2VydENoaWxkQmVmb3JlKHRoaXMuZmlyc3RDaGlsZCwgdmFsdWUuZG90VGFyZ2V0KCkucmVtb3ZlKCkpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBlbHNlIGlmIChzeW1ib2wubmFtZSA9PSBcIltdPVwiKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5raW5kID0gTm9kZUtpbmQuQVNTSUdOO1xuICAgICAgICAgICAgICAgIGxldCB0YXJnZXQgPSBjcmVhdGVJbmRleCh2YWx1ZS5yZW1vdmUoKS5kb3RUYXJnZXQoKS5yZW1vdmUoKSk7XG4gICAgICAgICAgICAgICAgdGFyZ2V0LmFwcGVuZENoaWxkKHRoaXMuZmlyc3RDaGlsZC5yZW1vdmUoKSk7XG4gICAgICAgICAgICAgICAgdGhpcy5pbnNlcnRDaGlsZEJlZm9yZSh0aGlzLmZpcnN0Q2hpbGQsIHRhcmdldCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgYXJyYXlMZW5ndGgoKTogTm9kZSB7XG4gICAgICAgIGFzc2VydCh0aGlzLmtpbmQgPT0gTm9kZUtpbmQuTkVXKTtcbiAgICAgICAgYXNzZXJ0KHRoaXMuY2hpbGRDb3VudCgpID49IDEpO1xuICAgICAgICBhc3NlcnQoaXNFeHByZXNzaW9uKHRoaXMuZmlyc3RDaGlsZCkpO1xuICAgICAgICBhc3NlcnQodGhpcy5maXJzdENoaWxkLnJlc29sdmVkVHlwZS5pc0FycmF5KCkpO1xuICAgICAgICByZXR1cm4gdGhpcy5maXJzdENoaWxkLm5leHRTaWJsaW5nO1xuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZU5ldyh0eXBlOiBOb2RlKTogTm9kZSB7XG4gICAgYXNzZXJ0KGlzRXhwcmVzc2lvbih0eXBlKSk7XG4gICAgbGV0IG5vZGUgPSBuZXcgTm9kZSgpO1xuICAgIG5vZGUua2luZCA9IE5vZGVLaW5kLk5FVztcbiAgICBub2RlLmFwcGVuZENoaWxkKHR5cGUpO1xuICAgIHJldHVybiBub2RlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRGVsZXRlKHZhbHVlOiBOb2RlKTogTm9kZSB7XG4gICAgYXNzZXJ0KHZhbHVlID09IG51bGwgfHwgaXNFeHByZXNzaW9uKHZhbHVlKSk7XG4gICAgbGV0IG5vZGUgPSBuZXcgTm9kZSgpO1xuICAgIG5vZGUua2luZCA9IE5vZGVLaW5kLkRFTEVURTtcbiAgICBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgICAgICBub2RlLmFwcGVuZENoaWxkKHZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIG5vZGU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVIb29rKHRlc3Q6IE5vZGUsIHByaW1hcnk6IE5vZGUsIHNlY29uZGFyeTogTm9kZSk6IE5vZGUge1xuICAgIGFzc2VydChpc0V4cHJlc3Npb24odGVzdCkpO1xuICAgIGFzc2VydChpc0V4cHJlc3Npb24ocHJpbWFyeSkpO1xuICAgIGFzc2VydChpc0V4cHJlc3Npb24oc2Vjb25kYXJ5KSk7XG4gICAgbGV0IG5vZGUgPSBuZXcgTm9kZSgpO1xuICAgIG5vZGUua2luZCA9IE5vZGVLaW5kLkhPT0s7XG4gICAgbm9kZS5hcHBlbmRDaGlsZCh0ZXN0KTtcbiAgICBub2RlLmFwcGVuZENoaWxkKHByaW1hcnkpO1xuICAgIG5vZGUuYXBwZW5kQ2hpbGQoc2Vjb25kYXJ5KTtcbiAgICByZXR1cm4gbm9kZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUluZGV4KHRhcmdldDogTm9kZSk6IE5vZGUge1xuICAgIGFzc2VydChpc0V4cHJlc3Npb24odGFyZ2V0KSk7XG4gICAgbGV0IG5vZGUgPSBuZXcgTm9kZSgpO1xuICAgIG5vZGUua2luZCA9IE5vZGVLaW5kLklOREVYO1xuICAgIG5vZGUuYXBwZW5kQ2hpbGQodGFyZ2V0KTtcbiAgICByZXR1cm4gbm9kZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZU51bGwoKTogTm9kZSB7XG4gICAgbGV0IG5vZGUgPSBuZXcgTm9kZSgpO1xuICAgIG5vZGUua2luZCA9IE5vZGVLaW5kLk5VTEw7XG4gICAgcmV0dXJuIG5vZGU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVVbmRlZmluZWQoKTogTm9kZSB7XG4gICAgbGV0IG5vZGUgPSBuZXcgTm9kZSgpO1xuICAgIG5vZGUua2luZCA9IE5vZGVLaW5kLlVOREVGSU5FRDtcbiAgICByZXR1cm4gbm9kZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVRoaXMoKTogTm9kZSB7XG4gICAgbGV0IG5vZGUgPSBuZXcgTm9kZSgpO1xuICAgIG5vZGUua2luZCA9IE5vZGVLaW5kLlRISVM7XG4gICAgcmV0dXJuIG5vZGU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVBZGRyZXNzT2YodmFsdWU6IE5vZGUpOiBOb2RlIHtcbiAgICBhc3NlcnQoaXNFeHByZXNzaW9uKHZhbHVlKSk7XG4gICAgbGV0IG5vZGUgPSBuZXcgTm9kZSgpO1xuICAgIG5vZGUua2luZCA9IE5vZGVLaW5kLkFERFJFU1NfT0Y7XG4gICAgbm9kZS5hcHBlbmRDaGlsZCh2YWx1ZSk7XG4gICAgcmV0dXJuIG5vZGU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVEZXJlZmVyZW5jZSh2YWx1ZTogTm9kZSk6IE5vZGUge1xuICAgIGFzc2VydChpc0V4cHJlc3Npb24odmFsdWUpKTtcbiAgICBsZXQgbm9kZSA9IG5ldyBOb2RlKCk7XG4gICAgbm9kZS5raW5kID0gTm9kZUtpbmQuREVSRUZFUkVOQ0U7XG4gICAgbm9kZS5hcHBlbmRDaGlsZCh2YWx1ZSk7XG4gICAgcmV0dXJuIG5vZGU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVBbGlnbk9mKHR5cGU6IE5vZGUpOiBOb2RlIHtcbiAgICBhc3NlcnQoaXNFeHByZXNzaW9uKHR5cGUpKTtcbiAgICBsZXQgbm9kZSA9IG5ldyBOb2RlKCk7XG4gICAgbm9kZS5raW5kID0gTm9kZUtpbmQuQUxJR05fT0Y7XG4gICAgbm9kZS5hcHBlbmRDaGlsZCh0eXBlKTtcbiAgICByZXR1cm4gbm9kZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVNpemVPZih0eXBlOiBOb2RlKTogTm9kZSB7XG4gICAgYXNzZXJ0KGlzRXhwcmVzc2lvbih0eXBlKSk7XG4gICAgbGV0IG5vZGUgPSBuZXcgTm9kZSgpO1xuICAgIG5vZGUua2luZCA9IE5vZGVLaW5kLlNJWkVfT0Y7XG4gICAgbm9kZS5hcHBlbmRDaGlsZCh0eXBlKTtcbiAgICByZXR1cm4gbm9kZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZWJvb2xlYW4odmFsdWU6IGJvb2xlYW4pOiBOb2RlIHtcbiAgICBsZXQgbm9kZSA9IG5ldyBOb2RlKCk7XG4gICAgbm9kZS5raW5kID0gTm9kZUtpbmQuQk9PTEVBTjtcbiAgICBub2RlLmludFZhbHVlID0gdmFsdWUgPyAxIDogMDtcbiAgICByZXR1cm4gbm9kZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUludCh2YWx1ZTogaW50MzIpOiBOb2RlIHtcbiAgICBsZXQgbm9kZSA9IG5ldyBOb2RlKCk7XG4gICAgbm9kZS5raW5kID0gTm9kZUtpbmQuSU5UMzI7XG4gICAgbm9kZS5pbnRWYWx1ZSA9IHZhbHVlO1xuICAgIHJldHVybiBub2RlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlTG9uZyh2YWx1ZTogaW50NjQpOiBOb2RlIHtcbiAgICBsZXQgbm9kZSA9IG5ldyBOb2RlKCk7XG4gICAgbm9kZS5raW5kID0gTm9kZUtpbmQuSU5UNjQ7XG4gICAgbm9kZS5sb25nVmFsdWUgPSB2YWx1ZTtcbiAgICByZXR1cm4gbm9kZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUZsb2F0KHZhbHVlOiBmbG9hdDMyKTogTm9kZSB7XG4gICAgbGV0IG5vZGUgPSBuZXcgTm9kZSgpO1xuICAgIG5vZGUua2luZCA9IE5vZGVLaW5kLkZMT0FUMzI7XG4gICAgbm9kZS5mbG9hdFZhbHVlID0gdmFsdWU7XG4gICAgcmV0dXJuIG5vZGU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVEb3VibGUodmFsdWU6IGZsb2F0NjQpOiBOb2RlIHtcbiAgICBsZXQgbm9kZSA9IG5ldyBOb2RlKCk7XG4gICAgbm9kZS5raW5kID0gTm9kZUtpbmQuRkxPQVQ2NDtcbiAgICBub2RlLmRvdWJsZVZhbHVlID0gdmFsdWU7XG4gICAgcmV0dXJuIG5vZGU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVTdHJpbmcodmFsdWU6IHN0cmluZyk6IE5vZGUge1xuICAgIGxldCBub2RlID0gbmV3IE5vZGUoKTtcbiAgICBub2RlLmtpbmQgPSBOb2RlS2luZC5TVFJJTkc7XG4gICAgbm9kZS5zdHJpbmdWYWx1ZSA9IHZhbHVlO1xuICAgIHJldHVybiBub2RlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQXJyYXkodHlwZTogVHlwZSk6IE5vZGUge1xuICAgIGxldCBub2RlID0gbmV3IE5vZGUoKTtcbiAgICBub2RlLmtpbmQgPSBOb2RlS2luZC5BUlJBWTtcbiAgICBub2RlLnJlc29sdmVkVHlwZSA9IHR5cGU7XG4gICAgcmV0dXJuIG5vZGU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVOYW1lKHZhbHVlOiBzdHJpbmcpOiBOb2RlIHtcbiAgICBsZXQgbm9kZSA9IG5ldyBOb2RlKCk7XG4gICAgbm9kZS5raW5kID0gTm9kZUtpbmQuTkFNRTtcbiAgICBub2RlLnJlZmVyZW5jZVZhbHVlID0gdmFsdWU7XG4gICAgcmV0dXJuIG5vZGU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVUeXBlKHR5cGU6IFR5cGUpOiBOb2RlIHtcbiAgICBhc3NlcnQodHlwZSAhPSBudWxsKTtcbiAgICBsZXQgbm9kZSA9IG5ldyBOb2RlKCk7XG4gICAgbm9kZS5raW5kID0gTm9kZUtpbmQuVFlQRTtcbiAgICBub2RlLnJlc29sdmVkVHlwZSA9IHR5cGU7XG4gICAgcmV0dXJuIG5vZGU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVBbnkoKTogTm9kZSB7XG4gICAgbGV0IG5vZGUgPSBuZXcgTm9kZSgpO1xuICAgIG5vZGUua2luZCA9IE5vZGVLaW5kLkFOWTtcbiAgICByZXR1cm4gbm9kZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUVtcHR5KCk6IE5vZGUge1xuICAgIGxldCBub2RlID0gbmV3IE5vZGUoKTtcbiAgICBub2RlLmtpbmQgPSBOb2RlS2luZC5FTVBUWTtcbiAgICByZXR1cm4gbm9kZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUV4cHJlc3Npb24odmFsdWU6IE5vZGUpOiBOb2RlIHtcbiAgICBhc3NlcnQoaXNFeHByZXNzaW9uKHZhbHVlKSk7XG4gICAgbGV0IG5vZGUgPSBuZXcgTm9kZSgpO1xuICAgIG5vZGUua2luZCA9IE5vZGVLaW5kLkVYUFJFU1NJT047XG4gICAgbm9kZS5hcHBlbmRDaGlsZCh2YWx1ZSk7XG4gICAgcmV0dXJuIG5vZGU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVCbG9jaygpOiBOb2RlIHtcbiAgICBsZXQgbm9kZSA9IG5ldyBOb2RlKCk7XG4gICAgbm9kZS5raW5kID0gTm9kZUtpbmQuQkxPQ0s7XG4gICAgcmV0dXJuIG5vZGU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVNb2R1bGUobmFtZTogc3RyaW5nKTogTm9kZSB7XG4gICAgbGV0IG5vZGUgPSBuZXcgTm9kZSgpO1xuICAgIG5vZGUua2luZCA9IE5vZGVLaW5kLk1PRFVMRTtcbiAgICBub2RlLnN0cmluZ1ZhbHVlID0gbmFtZTtcbiAgICByZXR1cm4gbm9kZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUNsYXNzKG5hbWU6IHN0cmluZyk6IE5vZGUge1xuICAgIGxldCBub2RlID0gbmV3IE5vZGUoKTtcbiAgICBub2RlLmtpbmQgPSBOb2RlS2luZC5DTEFTUztcbiAgICBub2RlLnN0cmluZ1ZhbHVlID0gbmFtZTtcbiAgICByZXR1cm4gbm9kZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUVudW0obmFtZTogc3RyaW5nKTogTm9kZSB7XG4gICAgbGV0IG5vZGUgPSBuZXcgTm9kZSgpO1xuICAgIG5vZGUua2luZCA9IE5vZGVLaW5kLkVOVU07XG4gICAgbm9kZS5zdHJpbmdWYWx1ZSA9IG5hbWU7XG4gICAgcmV0dXJuIG5vZGU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVJZih2YWx1ZTogTm9kZSwgdHJ1ZUJyYW5jaDogTm9kZSwgZmFsc2VCcmFuY2g6IE5vZGUpOiBOb2RlIHtcbiAgICBhc3NlcnQoaXNFeHByZXNzaW9uKHZhbHVlKSk7XG4gICAgYXNzZXJ0KHRydWVCcmFuY2gua2luZCA9PSBOb2RlS2luZC5CTE9DSyk7XG4gICAgYXNzZXJ0KGZhbHNlQnJhbmNoID09IG51bGwgfHwgZmFsc2VCcmFuY2gua2luZCA9PSBOb2RlS2luZC5CTE9DSyk7XG4gICAgbGV0IG5vZGUgPSBuZXcgTm9kZSgpO1xuICAgIG5vZGUua2luZCA9IE5vZGVLaW5kLklGO1xuICAgIG5vZGUuYXBwZW5kQ2hpbGQodmFsdWUpO1xuICAgIG5vZGUuYXBwZW5kQ2hpbGQodHJ1ZUJyYW5jaCk7XG4gICAgaWYgKGZhbHNlQnJhbmNoICE9IG51bGwpIHtcbiAgICAgICAgbm9kZS5hcHBlbmRDaGlsZChmYWxzZUJyYW5jaCk7XG4gICAgfVxuICAgIHJldHVybiBub2RlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlV2hpbGUodmFsdWU6IE5vZGUsIGJvZHk6IE5vZGUpOiBOb2RlIHtcbiAgICBhc3NlcnQoaXNFeHByZXNzaW9uKHZhbHVlKSk7XG4gICAgYXNzZXJ0KGJvZHkua2luZCA9PSBOb2RlS2luZC5CTE9DSyk7XG4gICAgbGV0IG5vZGUgPSBuZXcgTm9kZSgpO1xuICAgIG5vZGUua2luZCA9IE5vZGVLaW5kLldISUxFO1xuICAgIG5vZGUuYXBwZW5kQ2hpbGQodmFsdWUpO1xuICAgIG5vZGUuYXBwZW5kQ2hpbGQoYm9keSk7XG4gICAgcmV0dXJuIG5vZGU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVSZXR1cm4odmFsdWU6IE5vZGUpOiBOb2RlIHtcbiAgICBhc3NlcnQodmFsdWUgPT0gbnVsbCB8fCBpc0V4cHJlc3Npb24odmFsdWUpKTtcbiAgICBsZXQgbm9kZSA9IG5ldyBOb2RlKCk7XG4gICAgbm9kZS5raW5kID0gTm9kZUtpbmQuUkVUVVJOO1xuICAgIGlmICh2YWx1ZSAhPSBudWxsKSB7XG4gICAgICAgIG5vZGUuYXBwZW5kQ2hpbGQodmFsdWUpO1xuICAgIH1cbiAgICByZXR1cm4gbm9kZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUltcG9ydHMoKTogTm9kZSB7XG4gICAgbGV0IG5vZGUgPSBuZXcgTm9kZSgpO1xuICAgIG5vZGUua2luZCA9IE5vZGVLaW5kLklNUE9SVFM7XG4gICAgcmV0dXJuIG5vZGU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVJbXBvcnQobmFtZTogc3RyaW5nKTogTm9kZSB7XG4gICAgbGV0IG5vZGUgPSBuZXcgTm9kZSgpO1xuICAgIG5vZGUua2luZCA9IE5vZGVLaW5kLklNUE9SVDtcbiAgICBub2RlLnN0cmluZ1ZhbHVlID0gbmFtZTtcbiAgICByZXR1cm4gbm9kZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUltcG9ydEZyb20obmFtZTogc3RyaW5nKTogTm9kZSB7XG4gICAgbGV0IG5vZGUgPSBuZXcgTm9kZSgpO1xuICAgIG5vZGUua2luZCA9IE5vZGVLaW5kLklNUE9SVF9GUk9NO1xuICAgIG5vZGUuc3RyaW5nVmFsdWUgPSBuYW1lO1xuICAgIHJldHVybiBub2RlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlVmFyaWFibGVzKCk6IE5vZGUge1xuICAgIGxldCBub2RlID0gbmV3IE5vZGUoKTtcbiAgICBub2RlLmtpbmQgPSBOb2RlS2luZC5WQVJJQUJMRVM7XG4gICAgcmV0dXJuIG5vZGU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVDb25zdGFudHMoKTogTm9kZSB7XG4gICAgbGV0IG5vZGUgPSBuZXcgTm9kZSgpO1xuICAgIG5vZGUua2luZCA9IE5vZGVLaW5kLkNPTlNUQU5UUztcbiAgICByZXR1cm4gbm9kZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVBhcmFtZXRlcnMoKTogTm9kZSB7XG4gICAgbGV0IG5vZGUgPSBuZXcgTm9kZSgpO1xuICAgIG5vZGUua2luZCA9IE5vZGVLaW5kLlBBUkFNRVRFUlM7XG4gICAgcmV0dXJuIG5vZGU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVFeHRlbmRzKHR5cGU6IE5vZGUpOiBOb2RlIHtcbiAgICBhc3NlcnQoaXNFeHByZXNzaW9uKHR5cGUpKTtcbiAgICBsZXQgbm9kZSA9IG5ldyBOb2RlKCk7XG4gICAgbm9kZS5raW5kID0gTm9kZUtpbmQuRVhURU5EUztcbiAgICBub2RlLmFwcGVuZENoaWxkKHR5cGUpO1xuICAgIHJldHVybiBub2RlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlSW1wbGVtZW50cygpOiBOb2RlIHtcbiAgICBsZXQgbm9kZSA9IG5ldyBOb2RlKCk7XG4gICAgbm9kZS5raW5kID0gTm9kZUtpbmQuSU1QTEVNRU5UUztcbiAgICByZXR1cm4gbm9kZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVBhcmFtZXRlcihuYW1lOiBzdHJpbmcpOiBOb2RlIHtcbiAgICBsZXQgbm9kZSA9IG5ldyBOb2RlKCk7XG4gICAgbm9kZS5raW5kID0gTm9kZUtpbmQuUEFSQU1FVEVSO1xuICAgIG5vZGUuc3RyaW5nVmFsdWUgPSBuYW1lO1xuICAgIHJldHVybiBub2RlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlVmFyaWFibGUobmFtZTogc3RyaW5nLCB0eXBlOiBOb2RlLCB2YWx1ZTogTm9kZSk6IE5vZGUge1xuICAgIGFzc2VydCh0eXBlID09IG51bGwgfHwgaXNFeHByZXNzaW9uKHR5cGUpKTtcbiAgICBhc3NlcnQodmFsdWUgPT0gbnVsbCB8fCBpc0V4cHJlc3Npb24odmFsdWUpKTtcblxuICAgIGxldCBub2RlID0gbmV3IE5vZGUoKTtcbiAgICBub2RlLmtpbmQgPSBOb2RlS2luZC5WQVJJQUJMRTtcbiAgICBub2RlLnN0cmluZ1ZhbHVlID0gbmFtZTtcblxuICAgIG5vZGUuYXBwZW5kQ2hpbGQodHlwZSAhPSBudWxsID8gdHlwZSA6IGNyZWF0ZUVtcHR5KCkpO1xuICAgIGlmICh2YWx1ZSAhPSBudWxsKSB7XG4gICAgICAgIG5vZGUuYXBwZW5kQ2hpbGQodmFsdWUpO1xuICAgIH1cblxuICAgIHJldHVybiBub2RlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRnVuY3Rpb24obmFtZTogc3RyaW5nKTogTm9kZSB7XG4gICAgbGV0IG5vZGUgPSBuZXcgTm9kZSgpO1xuICAgIG5vZGUua2luZCA9IE5vZGVLaW5kLkZVTkNUSU9OO1xuICAgIG5vZGUuc3RyaW5nVmFsdWUgPSBuYW1lO1xuICAgIHJldHVybiBub2RlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlVW5hcnkoa2luZDogTm9kZUtpbmQsIHZhbHVlOiBOb2RlKTogTm9kZSB7XG4gICAgYXNzZXJ0KGlzVW5hcnkoa2luZCkpO1xuICAgIGFzc2VydChpc0V4cHJlc3Npb24odmFsdWUpKTtcbiAgICBsZXQgbm9kZSA9IG5ldyBOb2RlKCk7XG4gICAgbm9kZS5raW5kID0ga2luZDtcbiAgICBub2RlLmFwcGVuZENoaWxkKHZhbHVlKTtcbiAgICByZXR1cm4gbm9kZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUJpbmFyeShraW5kOiBOb2RlS2luZCwgbGVmdDogTm9kZSwgcmlnaHQ6IE5vZGUpOiBOb2RlIHtcbiAgICBhc3NlcnQoaXNCaW5hcnkoa2luZCkpO1xuICAgIGFzc2VydChpc0V4cHJlc3Npb24obGVmdCkpO1xuICAgIGFzc2VydChpc0V4cHJlc3Npb24ocmlnaHQpKTtcbiAgICBsZXQgbm9kZSA9IG5ldyBOb2RlKCk7XG4gICAgbm9kZS5raW5kID0ga2luZDtcbiAgICBub2RlLmFwcGVuZENoaWxkKGxlZnQpO1xuICAgIG5vZGUuYXBwZW5kQ2hpbGQocmlnaHQpO1xuICAgIHJldHVybiBub2RlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQ2FsbCh2YWx1ZTogTm9kZSk6IE5vZGUge1xuICAgIGFzc2VydChpc0V4cHJlc3Npb24odmFsdWUpKTtcbiAgICBsZXQgbm9kZSA9IG5ldyBOb2RlKCk7XG4gICAgbm9kZS5raW5kID0gTm9kZUtpbmQuQ0FMTDtcbiAgICBub2RlLmFwcGVuZENoaWxkKHZhbHVlKTtcbiAgICByZXR1cm4gbm9kZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUNhc3QodmFsdWU6IE5vZGUsIHR5cGU6IE5vZGUpOiBOb2RlIHtcbiAgICBhc3NlcnQoaXNFeHByZXNzaW9uKHZhbHVlKSk7XG4gICAgYXNzZXJ0KGlzRXhwcmVzc2lvbih0eXBlKSk7XG4gICAgbGV0IG5vZGUgPSBuZXcgTm9kZSgpO1xuICAgIG5vZGUua2luZCA9IE5vZGVLaW5kLkNBU1Q7XG4gICAgbm9kZS5hcHBlbmRDaGlsZCh2YWx1ZSk7XG4gICAgbm9kZS5hcHBlbmRDaGlsZCh0eXBlKTtcbiAgICByZXR1cm4gbm9kZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZURvdCh2YWx1ZTogTm9kZSwgbmFtZTogc3RyaW5nKTogTm9kZSB7XG4gICAgYXNzZXJ0KGlzRXhwcmVzc2lvbih2YWx1ZSkpO1xuICAgIGxldCBub2RlID0gbmV3IE5vZGUoKTtcbiAgICBub2RlLmtpbmQgPSBOb2RlS2luZC5ET1Q7XG4gICAgbm9kZS5zdHJpbmdWYWx1ZSA9IG5hbWU7XG4gICAgbm9kZS5hcHBlbmRDaGlsZCh2YWx1ZSk7XG4gICAgcmV0dXJuIG5vZGU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVTeW1ib2xSZWZlcmVuY2Uoc3ltYm9sOiBTeW1ib2wpOiBOb2RlIHtcbiAgICBsZXQgbm9kZSA9IGNyZWF0ZU5hbWUoc3ltYm9sLm5hbWUpO1xuICAgIG5vZGUuc3ltYm9sID0gc3ltYm9sO1xuICAgIG5vZGUucmVzb2x2ZWRUeXBlID0gc3ltYm9sLnJlc29sdmVkVHlwZTtcbiAgICByZXR1cm4gbm9kZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZU1lbWJlclJlZmVyZW5jZSh2YWx1ZTogTm9kZSwgc3ltYm9sOiBTeW1ib2wpOiBOb2RlIHtcbiAgICBsZXQgbm9kZSA9IGNyZWF0ZURvdCh2YWx1ZSwgc3ltYm9sLm5hbWUpO1xuICAgIG5vZGUuc3ltYm9sID0gc3ltYm9sO1xuICAgIG5vZGUucmVzb2x2ZWRUeXBlID0gc3ltYm9sLnJlc29sdmVkVHlwZTtcbiAgICByZXR1cm4gbm9kZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVBhcnNlRXJyb3IoKTogTm9kZSB7XG4gICAgbGV0IG5vZGUgPSBuZXcgTm9kZSgpO1xuICAgIG5vZGUua2luZCA9IE5vZGVLaW5kLlBBUlNFX0VSUk9SO1xuICAgIHJldHVybiBub2RlO1xufVxuXG4vL0phdmFTY3JpcHRcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVKU051bWJlcigpOiBOb2RlIHtcbiAgICBsZXQgbm9kZSA9IG5ldyBOb2RlKCk7XG4gICAgbm9kZS5raW5kID0gTm9kZUtpbmQuSlNfTlVNQkVSO1xuICAgIHJldHVybiBub2RlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlSlNPYmplY3QoKTogTm9kZSB7XG4gICAgbGV0IG5vZGUgPSBuZXcgTm9kZSgpO1xuICAgIG5vZGUua2luZCA9IE5vZGVLaW5kLkpTX09CSkVDVDtcbiAgICByZXR1cm4gbm9kZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUpTU3RyaW5nKCk6IE5vZGUge1xuICAgIGxldCBub2RlID0gbmV3IE5vZGUoKTtcbiAgICBub2RlLmtpbmQgPSBOb2RlS2luZC5KU19TVFJJTkc7XG4gICAgcmV0dXJuIG5vZGU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVKU0FycmF5KCk6IE5vZGUge1xuICAgIGxldCBub2RlID0gbmV3IE5vZGUoKTtcbiAgICBub2RlLmtpbmQgPSBOb2RlS2luZC5KU19BUlJBWTtcbiAgICByZXR1cm4gbm9kZTtcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tcGlsZXIvY29yZS9ub2RlLnRzIiwiaW1wb3J0IHtUeXBlfSBmcm9tIFwiLi90eXBlXCI7XG5pbXBvcnQge05vZGUsIE5vZGVLaW5kfSBmcm9tIFwiLi9ub2RlXCI7XG5pbXBvcnQge0NoZWNrQ29udGV4dH0gZnJvbSBcIi4uL2FuYWx5emVyL3R5cGUtY2hlY2tlclwiO1xuaW1wb3J0IHtTY29wZX0gZnJvbSBcIi4vc2NvcGVcIjtcbmltcG9ydCB7U291cmNlUmFuZ2V9IGZyb20gXCIuLi8uLi91dGlscy9sb2dcIjtcbmltcG9ydCB7YWxpZ25Ub05leHRNdWx0aXBsZU9mfSBmcm9tIFwiLi4vLi4vdXRpbHMvdXRpbHNcIjtcbmltcG9ydCB7YXNzZXJ0fSBmcm9tIFwiLi4vLi4vdXRpbHMvYXNzZXJ0XCI7XG5cbmV4cG9ydCBlbnVtIFN5bWJvbEtpbmQge1xuICAgIFRZUEVfTU9EVUxFLFxuICAgIFRZUEVfSU5URVJGQUNFLFxuICAgIFRZUEVfQ0xBU1MsXG4gICAgVFlQRV9HRU5FUklDLFxuICAgIFRZUEVfVEVNUExBVEUsXG4gICAgVFlQRV9FTlVNLFxuICAgIFRZUEVfR0xPQkFMLFxuICAgIFRZUEVfTkFUSVZFLFxuXG4gICAgRlVOQ1RJT05fSU5TVEFOQ0UsXG4gICAgRlVOQ1RJT05fR0xPQkFMLFxuXG4gICAgVkFSSUFCTEVfQVJHVU1FTlQsXG4gICAgVkFSSUFCTEVfQ09OU1RBTlQsXG4gICAgVkFSSUFCTEVfR0xPQkFMLFxuICAgIFZBUklBQkxFX0lOU1RBTkNFLFxuICAgIFZBUklBQkxFX0xPQ0FMLFxufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNNb2R1bGUoa2luZDogU3ltYm9sS2luZCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBraW5kID09IFN5bWJvbEtpbmQuVFlQRV9NT0RVTEU7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNUeXBlKGtpbmQ6IFN5bWJvbEtpbmQpOiBib29sZWFuIHtcbiAgICByZXR1cm4ga2luZCA+PSBTeW1ib2xLaW5kLlRZUEVfQ0xBU1MgJiYga2luZCA8PSBTeW1ib2xLaW5kLlRZUEVfTkFUSVZFO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNGdW5jdGlvbihraW5kOiBTeW1ib2xLaW5kKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGtpbmQgPj0gU3ltYm9sS2luZC5GVU5DVElPTl9JTlNUQU5DRSAmJiBraW5kIDw9IFN5bWJvbEtpbmQuRlVOQ1RJT05fR0xPQkFMO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNWYXJpYWJsZShraW5kOiBTeW1ib2xLaW5kKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGtpbmQgPj0gU3ltYm9sS2luZC5WQVJJQUJMRV9BUkdVTUVOVCAmJiBraW5kIDw9IFN5bWJvbEtpbmQuVkFSSUFCTEVfTE9DQUw7XG59XG5cbmV4cG9ydCBlbnVtIFN5bWJvbFN0YXRlIHtcbiAgICBVTklOSVRJQUxJWkVELFxuICAgIElOSVRJQUxJWklORyxcbiAgICBJTklUSUFMSVpFRCxcbn1cblxuZXhwb3J0IGNvbnN0IFNZTUJPTF9GTEFHX0NPTlZFUlRfSU5TVEFOQ0VfVE9fR0xPQkFMID0gMSA8PCAwO1xuZXhwb3J0IGNvbnN0IFNZTUJPTF9GTEFHX0lTX0JJTkFSWV9PUEVSQVRPUiA9IDEgPDwgMTtcbmV4cG9ydCBjb25zdCBTWU1CT0xfRkxBR19JU19SRUZFUkVOQ0UgPSAxIDw8IDI7XG5leHBvcnQgY29uc3QgU1lNQk9MX0ZMQUdfSVNfVU5BUllfT1BFUkFUT1IgPSAxIDw8IDM7XG5leHBvcnQgY29uc3QgU1lNQk9MX0ZMQUdfSVNfVU5TSUdORUQgPSAxIDw8IDQ7XG5leHBvcnQgY29uc3QgU1lNQk9MX0ZMQUdfTkFUSVZFX0lOVEVHRVIgPSAxIDw8IDU7XG5leHBvcnQgY29uc3QgU1lNQk9MX0ZMQUdfTkFUSVZFX0xPTkcgPSAxIDw8IDY7XG5leHBvcnQgY29uc3QgU1lNQk9MX0ZMQUdfTkFUSVZFX0ZMT0FUID0gMSA8PCA3O1xuZXhwb3J0IGNvbnN0IFNZTUJPTF9GTEFHX05BVElWRV9ET1VCTEUgPSAxIDw8IDg7XG5leHBvcnQgY29uc3QgU1lNQk9MX0ZMQUdfVVNFRCA9IDEgPDwgOTtcbmV4cG9ydCBjb25zdCBTWU1CT0xfRkxBR19JU19BUlJBWSA9IDEgPDwgMTA7XG5leHBvcnQgY29uc3QgU1lNQk9MX0ZMQUdfSVNfR0VORVJJQyA9IDEgPDwgMTE7XG5leHBvcnQgY29uc3QgU1lNQk9MX0ZMQUdfSVNfVEVNUExBVEUgPSAxIDw8IDEyO1xuXG5leHBvcnQgY2xhc3MgU3ltYm9sIHtcbiAgICBraW5kOiBTeW1ib2xLaW5kO1xuICAgIG5hbWU6IHN0cmluZztcbiAgICBub2RlOiBOb2RlO1xuICAgIHJhbmdlOiBTb3VyY2VSYW5nZTtcbiAgICBzY29wZTogU2NvcGU7XG4gICAgcmVzb2x2ZWRUeXBlOiBUeXBlO1xuICAgIG5leHQ6IFN5bWJvbDtcbiAgICBzdGF0ZTogU3ltYm9sU3RhdGUgPSBTeW1ib2xTdGF0ZS5VTklOSVRJQUxJWkVEO1xuICAgIGZsYWdzOiBpbnQzMjtcbiAgICBieXRlU2l6ZTogaW50MzIgPSAwO1xuICAgIG1heEFsaWdubWVudDogaW50MzIgPSAwO1xuICAgIHJlbmFtZTogc3RyaW5nO1xuXG4gICAgLy8gVGhlIFwib2Zmc2V0XCIgdmFyaWFibGUgaXMgdXNlZCB0byBzdG9yZSBraW5kLXNwZWNpZmljIGluZm9ybWF0aW9uXG4gICAgLy9cbiAgICAvLyAgIFRZUEVfQ0xBU1M6IE4vQVxuICAgIC8vICAgVFlQRV9FTlVNOiBOL0FcbiAgICAvLyAgIFRZUEVfR0xPQkFMOiBOL0FcbiAgICAvLyAgIFRZUEVfTkFUSVZFOiBOL0FcbiAgICAvL1xuICAgIC8vICAgRlVOQ1RJT05fSU5TVEFOQ0U6IE4vQVxuICAgIC8vICAgRlVOQ1RJT05fR0xPQkFMOiBOL0FcbiAgICAvL1xuICAgIC8vICAgVkFSSUFCTEVfQVJHVU1FTlQ6IEFyZ3VtZW50IGluZGV4XG4gICAgLy8gICBWQVJJQUJMRV9DT05TVEFOVDogSW50ZWdlciBjb25zdGFudCB2YWx1ZVxuICAgIC8vICAgVkFSSUFCTEVfR0xPQkFMOiBNZW1vcnkgYWRkcmVzcyByZWxhdGl2ZSB0byBzdGFydCBhZGRyZXNzXG4gICAgLy8gICBWQVJJQUJMRV9JTlNUQU5DRTogSW5zdGFuY2Ugb2Zmc2V0XG4gICAgLy8gICBWQVJJQUJMRV9MT0NBTDogTi9BXG4gICAgLy9cbiAgICBvZmZzZXQ6IGludDMyO1xuXG4gICAgZ2V0IGludGVybmFsTmFtZSgpOnN0cmluZ3tcbiAgICAgICAgcmV0dXJuIHRoaXMucmVuYW1lICE9IG51bGwgPyB0aGlzLnJlbmFtZSA6IHRoaXMubmFtZTtcbiAgICB9XG5cbiAgICBjbG9uZSgpOiBTeW1ib2wge1xuICAgICAgICBsZXQgc3ltYm9sID0gbmV3IFN5bWJvbCgpO1xuICAgICAgICBzeW1ib2wua2luZCA9IHRoaXMua2luZDtcbiAgICAgICAgc3ltYm9sLm5hbWUgPSB0aGlzLm5hbWU7XG4gICAgICAgIHN5bWJvbC5ub2RlID0gdGhpcy5ub2RlO1xuICAgICAgICBzeW1ib2wucmFuZ2UgPSB0aGlzLnJhbmdlO1xuICAgICAgICBzeW1ib2wuc2NvcGUgPSB0aGlzLnNjb3BlO1xuICAgICAgICBzeW1ib2wucmVzb2x2ZWRUeXBlID0gdGhpcy5yZXNvbHZlZFR5cGU7XG4gICAgICAgIHN5bWJvbC5ieXRlU2l6ZSA9IHRoaXMuYnl0ZVNpemU7XG4gICAgICAgIHN5bWJvbC5zdGF0ZSA9IHRoaXMuc3RhdGU7XG4gICAgICAgIHN5bWJvbC5tYXhBbGlnbm1lbnQgPSB0aGlzLm1heEFsaWdubWVudDtcbiAgICAgICAgc3ltYm9sLmZsYWdzID0gdGhpcy5mbGFncztcbiAgICAgICAgc3ltYm9sLnJlbmFtZSA9IHRoaXMucmVuYW1lO1xuICAgICAgICByZXR1cm4gc3ltYm9sO1xuICAgIH1cblxuICAgIGlzRW51bVZhbHVlKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5ub2RlLnBhcmVudC5raW5kID09IE5vZGVLaW5kLkVOVU07XG4gICAgfVxuXG4gICAgaXNVbnNhZmUoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLm5vZGUgIT0gbnVsbCAmJiB0aGlzLm5vZGUuaXNVbnNhZmUoKTtcbiAgICB9XG5cbiAgICBpc0dldHRlcigpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubm9kZS5pc0dldCgpO1xuICAgIH1cblxuICAgIGlzU2V0dGVyKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5ub2RlLmlzU2V0KCk7XG4gICAgfVxuXG4gICAgaXNCaW5hcnlPcGVyYXRvcigpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLmZsYWdzICYgU1lNQk9MX0ZMQUdfSVNfQklOQVJZX09QRVJBVE9SKSAhPSAwO1xuICAgIH1cblxuICAgIGlzVW5hcnlPcGVyYXRvcigpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLmZsYWdzICYgU1lNQk9MX0ZMQUdfSVNfVU5BUllfT1BFUkFUT1IpICE9IDA7XG4gICAgfVxuXG4gICAgc2hvdWxkQ29udmVydEluc3RhbmNlVG9HbG9iYWwoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiAodGhpcy5mbGFncyAmIFNZTUJPTF9GTEFHX0NPTlZFUlRfSU5TVEFOQ0VfVE9fR0xPQkFMKSAhPSAwO1xuICAgIH1cblxuICAgIGlzVXNlZCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLmZsYWdzICYgU1lNQk9MX0ZMQUdfVVNFRCkgIT0gMDtcbiAgICB9XG5cbiAgICBwYXJlbnQoKTogU3ltYm9sIHtcbiAgICAgICAgdmFyIHBhcmVudCA9IHRoaXMubm9kZS5wYXJlbnQ7XG4gICAgICAgIHJldHVybiBwYXJlbnQua2luZCA9PSBOb2RlS2luZC5DTEFTUyA/IHBhcmVudC5zeW1ib2wgOiBudWxsO1xuICAgIH1cblxuICAgIHJlc29sdmVkVHlwZVVuZGVybHlpbmdJZkVudW1WYWx1ZShjb250ZXh0OiBDaGVja0NvbnRleHQpOiBUeXBlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNFbnVtVmFsdWUoKSA/IHRoaXMucmVzb2x2ZWRUeXBlLnVuZGVybHlpbmdUeXBlKGNvbnRleHQpIDogdGhpcy5yZXNvbHZlZFR5cGU7XG4gICAgfVxuXG4gICAgZGV0ZXJtaW5lQ2xhc3NMYXlvdXQoY29udGV4dDogQ2hlY2tDb250ZXh0KTogdm9pZCB7XG4gICAgICAgIGFzc2VydCh0aGlzLmtpbmQgPT0gU3ltYm9sS2luZC5UWVBFX0NMQVNTKTtcblxuICAgICAgICAvLyBPbmx5IGRldGVybWluZSBjbGFzcyBsYXlvdXQgb25jZVxuICAgICAgICBpZiAodGhpcy5ieXRlU2l6ZSAhPSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgb2Zmc2V0ID0gMDtcbiAgICAgICAgdmFyIGNoaWxkID0gdGhpcy5ub2RlLmZpcnN0Q2hpbGQ7XG4gICAgICAgIHZhciBtYXhBbGlnbm1lbnQgPSAxO1xuXG4gICAgICAgIHdoaWxlIChjaGlsZCAhPSBudWxsKSB7XG4gICAgICAgICAgICBpZiAoY2hpbGQua2luZCA9PSBOb2RlS2luZC5WQVJJQUJMRSkge1xuICAgICAgICAgICAgICAgIHZhciB0eXBlID0gY2hpbGQuc3ltYm9sLnJlc29sdmVkVHlwZTtcblxuICAgICAgICAgICAgICAgIC8vIElnbm9yZSBpbnZhbGlkIG1lbWJlcnNcbiAgICAgICAgICAgICAgICBpZiAodHlwZSAhPSBjb250ZXh0LmVycm9yVHlwZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgYWxpZ25tZW50T2YgPSB0eXBlLnZhcmlhYmxlQWxpZ25tZW50T2YoY29udGV4dCk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gQWxpZ24gdGhlIG1lbWJlciB0byB0aGUgbmV4dCBhdmFpbGFibGUgc2xvdFxuICAgICAgICAgICAgICAgICAgICBvZmZzZXQgPSBhbGlnblRvTmV4dE11bHRpcGxlT2Yob2Zmc2V0LCBhbGlnbm1lbnRPZik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhbGlnbm1lbnRPZiA+IG1heEFsaWdubWVudCkgbWF4QWxpZ25tZW50ID0gYWxpZ25tZW50T2Y7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gQWxsb2NhdGUgdGhlIG1lbWJlciBieSBleHRlbmRpbmcgdGhlIG9iamVjdFxuICAgICAgICAgICAgICAgICAgICBjaGlsZC5zeW1ib2wub2Zmc2V0ID0gb2Zmc2V0O1xuICAgICAgICAgICAgICAgICAgICBvZmZzZXQgPSBvZmZzZXQgKyB0eXBlLnZhcmlhYmxlU2l6ZU9mKGNvbnRleHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2hpbGQgPSBjaGlsZC5uZXh0U2libGluZztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEFsbCBvYmplY3RzIG11c3QgaGF2ZSBhIG5vbi16ZXJvIHNpemVcbiAgICAgICAgaWYgKG9mZnNldCA9PSAwKSB7XG4gICAgICAgICAgICBvZmZzZXQgPSAxO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVGhlIG9iamVjdCBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiB0aGUgbWF4aW11bSBhbGlnbm1lbnQgZm9yIGFycmF5cyB0byB3b3JrIGNvcnJlY3RseVxuICAgICAgICBvZmZzZXQgPSBhbGlnblRvTmV4dE11bHRpcGxlT2Yob2Zmc2V0LCBtYXhBbGlnbm1lbnQpO1xuXG4gICAgICAgIHRoaXMuYnl0ZVNpemUgPSBvZmZzZXQ7XG4gICAgICAgIHRoaXMubWF4QWxpZ25tZW50ID0gbWF4QWxpZ25tZW50O1xuICAgIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb21waWxlci9jb3JlL3N5bWJvbC50cyIsImltcG9ydCB7YXNzZXJ0fSBmcm9tIFwiLi9hc3NlcnRcIjtcbi8qKlxuICogQ3JlYXRlZCBieSBOaWRpbiBWaW5heWFrYW4gb24gMTcvMDEvMTcuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b0hleCh2YWx1ZTogbnVtYmVyLCBzaXplOiBudW1iZXIgPSA3KTogc3RyaW5nIHtcbiAgICBpZih2YWx1ZSA9PSB1bmRlZmluZWQgfHwgdmFsdWUgPT0gbnVsbCl7XG4gICAgICAgIHJldHVybiBcIlwiO1xuICAgIH1cbiAgICBsZXQgaGV4OiBzdHJpbmcgPSB2YWx1ZS50b1N0cmluZygxNik7XG4gICAgbGV0IHplcm86IHN0cmluZ1tdID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaXplOyBpKyspIHtcbiAgICAgICAgemVyby5wdXNoKFwiMFwiKTtcbiAgICB9XG4gICAgbGV0IHN0ciA9IGhleC5zcGxpdChcIlwiKTtcbiAgICBzdHIuZm9yRWFjaCgocykgPT4ge1xuICAgICAgICB6ZXJvLnNoaWZ0KCk7XG4gICAgICAgIHplcm8ucHVzaChzKTtcbiAgICB9KTtcbiAgICByZXR1cm4gemVyby5qb2luKFwiXCIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNQb3NpdGl2ZVBvd2VyT2YyKHZhbHVlOiBpbnQzMik6IGJvb2xlYW4ge1xuICAgIHJldHVybiB2YWx1ZSA+IDAgJiYgKHZhbHVlICYgKHZhbHVlIC0gMSkpID09IDA7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhbGlnblRvTmV4dE11bHRpcGxlT2Yob2Zmc2V0OiBpbnQzMiwgYWxpZ25tZW50OiBpbnQzMik6IGludDMyIHtcbiAgICBhc3NlcnQoaXNQb3NpdGl2ZVBvd2VyT2YyKGFsaWdubWVudCkpO1xuICAgIHJldHVybiAob2Zmc2V0ICsgYWxpZ25tZW50IC0gMSkgJiAtYWxpZ25tZW50O1xufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3V0aWxzL3V0aWxzLnRzIiwiLyoqXG4gKiBDcmVhdGVkIGJ5IG4udmluYXlha2FuIG9uIDA2LjA2LjE3LlxuICovXG5leHBvcnQgZW51bSBDb21waWxlVGFyZ2V0IHtcbiAgICBOT05FLFxuICAgIEFVVE8sXG4gICAgQ1BQLFxuICAgIEpBVkFTQ1JJUFQsXG4gICAgV0VCQVNTRU1CTFksXG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tcGlsZXIvY29tcGlsZS10YXJnZXQudHMiLCIvKipcbiAqIENyZWF0ZWQgYnkgbmlkaW4gb24gMjAxNy0wMS0xMi5cbiAqL1xuZXhwb3J0IGNvbnN0IFdhc21PcGNvZGUgID0ge1xuICAgIC8vIENvbnRyb2wgZmxvdyBvcGVyYXRvcnNcbiAgICBVTlJFQUNIQUJMRSA6ICAweDAwLFxuICAgIE5PUCA6ICAweDAxLFxuICAgIEJMT0NLIDogIDB4MDIsXG4gICAgTE9PUCA6ICAweDAzLFxuICAgIElGIDogIDB4MDQsXG4gICAgSUZfRUxTRSA6ICAweDA1LFxuICAgIEVORCA6ICAweDBiLFxuICAgIEJSIDogIDB4MGMsXG4gICAgQlJfSUYgOiAgMHgwZCxcbiAgICBCUl9UQUJMRSA6ICAweDBlLFxuICAgIFJFVFVSTiA6ICAweDBmLFxuXG4gICAgLy8gQ2FsbCBvcGVyYXRvcnNcbiAgICBDQUxMIDogIDB4MTAsXG4gICAgQ0FMTF9JTkRJUkVDVCA6ICAweDExLFxuXG4gICAgLy9QYXJhbWV0cmljIG9wZXJhdG9yc1xuICAgIERST1AgOiAgMHgxYSxcbiAgICBTRUxFQ1QgOiAgMHgxYixcblxuICAgIC8vVmFyaWFibGUgYWNjZXNzXG4gICAgR0VUX0xPQ0FMIDogIDB4MjAsXG4gICAgU0VUX0xPQ0FMIDogIDB4MjEsXG4gICAgVEVFX0xPQ0FMIDogIDB4MjIsXG4gICAgR0VUX0dMT0JBTCA6ICAweDIzLFxuICAgIFNFVF9HTE9CQUwgOiAgMHgyNCxcblxuICAgIC8vIE1lbW9yeS1yZWxhdGVkIG9wZXJhdG9yc1xuICAgIEkzMl9MT0FEIDogIDB4MjgsXG4gICAgSTY0X0xPQUQgOiAgMHgyOSxcbiAgICBGMzJfTE9BRCA6ICAweDJhLFxuICAgIEY2NF9MT0FEIDogIDB4MmIsXG5cbiAgICBJMzJfTE9BRDhfUyA6ICAweDJjLFxuICAgIEkzMl9MT0FEOF9VIDogIDB4MmQsXG4gICAgSTMyX0xPQUQxNl9TIDogIDB4MmUsXG4gICAgSTMyX0xPQUQxNl9VIDogIDB4MmYsXG5cbiAgICBJNjRfTE9BRDhfUyA6ICAweDMwLFxuICAgIEk2NF9MT0FEOF9VIDogIDB4MzEsXG4gICAgSTY0X0xPQUQxNl9TIDogIDB4MzIsXG4gICAgSTY0X0xPQUQxNl9VIDogIDB4MzMsXG4gICAgSTY0X0xPQUQzMl9TIDogIDB4MzQsXG4gICAgSTY0X0xPQUQzMl9VIDogIDB4MzUsXG5cbiAgICBJMzJfU1RPUkUgOiAgMHgzNixcbiAgICBJNjRfU1RPUkUgOiAgMHgzNyxcbiAgICBGMzJfU1RPUkUgOiAgMHgzOCxcbiAgICBGNjRfU1RPUkUgOiAgMHgzOSxcblxuICAgIEkzMl9TVE9SRTggOiAgMHgzYSxcbiAgICBJMzJfU1RPUkUxNiA6ICAweDNiLFxuICAgIEk2NF9TVE9SRTggOiAgMHgzYyxcbiAgICBJNjRfU1RPUkUxNiA6ICAweDNkLFxuICAgIEk2NF9TVE9SRTMyIDogIDB4M2UsXG4gICAgTUVNT1JZX1NJWkUgOiAgMHgzZiwgLy9xdWVyeSB0aGUgc2l6ZSBvZiBtZW1vcnlcbiAgICBHUk9XX01FTU9SWSA6ICAweDQwLFxuXG4gICAgLy8gQ29uc3RhbnRzXG4gICAgSTMyX0NPTlNUIDogIDB4NDEsXG4gICAgSTY0X0NPTlNUIDogIDB4NDIsXG4gICAgRjMyX0NPTlNUIDogIDB4NDMsXG4gICAgRjY0X0NPTlNUIDogIDB4NDQsXG5cbiAgICAvL0NvbXBhcmlzb24gb3BlcmF0b3JzXG4gICAgSTMyX0VRWiA6ICAweDQ1LFxuICAgIEkzMl9FUSA6ICAweDQ2LFxuICAgIEkzMl9ORSA6ICAweDQ3LFxuICAgIEkzMl9MVF9TIDogIDB4NDgsXG4gICAgSTMyX0xUX1UgOiAgMHg0OSxcbiAgICBJMzJfR1RfUyA6ICAweDRhLFxuICAgIEkzMl9HVF9VIDogIDB4NGIsXG4gICAgSTMyX0xFX1MgOiAgMHg0YyxcbiAgICBJMzJfTEVfVSA6ICAweDRkLFxuICAgIEkzMl9HRV9TIDogIDB4NGUsXG4gICAgSTMyX0dFX1UgOiAgMHg0ZixcblxuICAgIEk2NF9FUVogOiAgMHg1MCxcbiAgICBJNjRfRVEgOiAgMHg1MSxcbiAgICBJNjRfTkUgOiAgMHg1MixcbiAgICBJNjRfTFRfUyA6ICAweDUzLFxuICAgIEk2NF9MVF9VIDogIDB4NTQsXG4gICAgSTY0X0dUX1MgOiAgMHg1NSxcbiAgICBJNjRfR1RfVSA6ICAweDU2LFxuICAgIEk2NF9MRV9TIDogIDB4NTcsXG4gICAgSTY0X0xFX1UgOiAgMHg1OCxcbiAgICBJNjRfR0VfUyA6ICAweDU5LFxuICAgIEk2NF9HRV9VIDogIDB4NWEsXG5cbiAgICBGMzJfRVEgOiAgMHg1YixcbiAgICBGMzJfTkUgOiAgMHg1YyxcbiAgICBGMzJfTFQgOiAgMHg1ZCxcbiAgICBGMzJfR1QgOiAgMHg1ZSxcbiAgICBGMzJfTEUgOiAgMHg1ZixcbiAgICBGMzJfR0UgOiAgMHg2MCxcblxuICAgIEY2NF9FUSA6ICAweDYxLFxuICAgIEY2NF9ORSA6ICAweDYyLFxuICAgIEY2NF9MVCA6ICAweDYzLFxuICAgIEY2NF9HVCA6ICAweDY0LFxuICAgIEY2NF9MRSA6ICAweDY1LFxuICAgIEY2NF9HRSA6ICAweDY2LFxuXG4gICAgLy9OdW1lcmljIG9wZXJhdG9yc1xuICAgIEkzMl9DTFogOiAgMHg2NyxcbiAgICBJMzJfQ1RaIDogIDB4NjgsXG4gICAgSTMyX1BPUENOVCA6ICAweDY5LFxuICAgIEkzMl9BREQgOiAgMHg2YSxcbiAgICBJMzJfU1VCIDogIDB4NmIsXG4gICAgSTMyX01VTCA6ICAweDZjLFxuICAgIEkzMl9ESVZfUyA6ICAweDZkLFxuICAgIEkzMl9ESVZfVSA6ICAweDZlLFxuICAgIEkzMl9SRU1fUyA6ICAweDZmLFxuICAgIEkzMl9SRU1fVSA6ICAweDcwLFxuICAgIEkzMl9BTkQgOiAgMHg3MSxcbiAgICBJMzJfT1IgOiAgMHg3MixcbiAgICBJMzJfWE9SIDogIDB4NzMsXG4gICAgSTMyX1NITCA6ICAweDc0LFxuICAgIEkzMl9TSFJfUyA6ICAweDc1LFxuICAgIEkzMl9TSFJfVSA6ICAweDc2LFxuICAgIEkzMl9ST1RMIDogIDB4NzcsXG4gICAgSTMyX1JPVFIgOiAgMHg3OCxcblxuICAgIEk2NF9DTFogOiAgMHg3OSxcbiAgICBJNjRfQ1RaIDogIDB4N2EsXG4gICAgSTY0X1BPUENOVCA6ICAweDdiLFxuICAgIEk2NF9BREQgOiAgMHg3YyxcbiAgICBJNjRfU1VCIDogIDB4N2QsXG4gICAgSTY0X01VTCA6ICAweDdlLFxuICAgIEk2NF9ESVZfUyA6ICAweDdmLFxuICAgIEk2NF9ESVZfVSA6ICAweDgwLFxuICAgIEk2NF9SRU1fUyA6ICAweDgxLFxuICAgIEk2NF9SRU1fVSA6ICAweDgyLFxuICAgIEk2NF9BTkQgOiAgMHg4MyxcbiAgICBJNjRfT1IgOiAgMHg4NCxcbiAgICBJNjRfWE9SIDogIDB4ODUsXG4gICAgSTY0X1NITCA6ICAweDg2LFxuICAgIEk2NF9TSFJfUyA6ICAweDg3LFxuICAgIEk2NF9TSFJfVSA6ICAweDg4LFxuICAgIEk2NF9ST1RMIDogIDB4ODksXG4gICAgSTY0X1JPVFIgOiAgMHg4YSxcblxuICAgIEYzMl9BQlMgOiAgMHg4YixcbiAgICBGMzJfTkVHIDogIDB4OGMsXG4gICAgRjMyX0NFSUwgOiAgMHg4ZCxcbiAgICBGMzJfRkxPT1IgOiAgMHg4ZSxcbiAgICBGMzJfVFJVTkMgOiAgMHg4ZixcbiAgICBGMzJfTkVBUkVTVCA6ICAweDkwLFxuICAgIEYzMl9TUVJUIDogIDB4OTEsXG4gICAgRjMyX0FERCA6ICAweDkyLFxuICAgIEYzMl9TVUIgOiAgMHg5MyxcbiAgICBGMzJfTVVMIDogIDB4OTQsXG4gICAgRjMyX0RJViA6ICAweDk1LFxuICAgIEYzMl9NSU4gOiAgMHg5NixcbiAgICBGMzJfTUFYIDogIDB4OTcsXG4gICAgRjMyX0NPUFlTSUdOIDogIDB4OTgsXG5cbiAgICBGNjRfQUJTIDogIDB4OTksXG4gICAgRjY0X05FRyA6ICAweDlhLFxuICAgIEY2NF9DRUlMIDogIDB4OWIsXG4gICAgRjY0X0ZMT09SIDogIDB4OWMsXG4gICAgRjY0X1RSVU5DIDogIDB4OWQsXG4gICAgRjY0X05FQVJFU1QgOiAgMHg5ZSxcbiAgICBGNjRfU1FSVCA6ICAweDlmLFxuICAgIEY2NF9BREQgOiAgMHhhMCxcbiAgICBGNjRfU1VCIDogIDB4YTEsXG4gICAgRjY0X01VTCA6ICAweGEyLFxuICAgIEY2NF9ESVYgOiAgMHhhMyxcbiAgICBGNjRfTUlOIDogIDB4YTQsXG4gICAgRjY0X01BWCA6ICAweGE1LFxuICAgIEY2NF9DT1BZU0lHTiA6ICAweGE2LFxuXG4gICAgLy9Db252ZXJzaW9uc1xuICAgIEkzMl9XUkFQX0k2NCA6ICAweGE3LFxuICAgIEkzMl9UUlVOQ19TX0YzMiA6ICAweGE4LFxuICAgIEkzMl9UUlVOQ19VX0YzMiA6ICAweGE5LFxuICAgIEkzMl9UUlVOQ19TX0Y2NCA6ICAweGFhLFxuICAgIEkzMl9UUlVOQ19VX0Y2NCA6ICAweGFiLFxuXG4gICAgSTY0X0VYVEVORF9TX0kzMiA6ICAweGFjLFxuICAgIEk2NF9FWFRFTkRfVV9JMzIgOiAgMHhhZCxcbiAgICBJNjRfVFJVTkNfU19GMzIgOiAgMHhhZSxcbiAgICBJNjRfVFJVTkNfVV9GMzIgOiAgMHhhZixcbiAgICBJNjRfVFJVTkNfU19GNjQgOiAgMHhiMCxcbiAgICBJNjRfVFJVTkNfVV9GNjQgOiAgMHhiMSxcblxuICAgIEYzMl9DT05WRVJUX1NfSTMyIDogIDB4YjIsXG4gICAgRjMyX0NPTlZFUlRfVV9JMzIgOiAgMHhiMyxcbiAgICBGMzJfQ09OVkVSVF9TX0k2NCA6ICAweGI0LFxuICAgIEYzMl9DT05WRVJUX1VfSTY0IDogIDB4YjUsXG4gICAgRjMyX0RFTU9URV9GNjQgOiAgMHhiNixcblxuICAgIEY2NF9DT05WRVJUX1NfSTMyIDogIDB4YjcsXG4gICAgRjY0X0NPTlZFUlRfVV9JMzIgOiAgMHhiOCxcbiAgICBGNjRfQ09OVkVSVF9TX0k2NCA6ICAweGI5LFxuICAgIEY2NF9DT05WRVJUX1VfSTY0IDogIDB4YmEsXG4gICAgRjY0X1BST01PVEVfRjMyIDogIDB4YmIsXG5cbiAgICAvL1JlaW50ZXJwcmV0YXRpb25zXG4gICAgSTMyX1JFSU5URVJQUkVUX0YzMiA6ICAweGJjLFxuICAgIEk2NF9SRUlOVEVSUFJFVF9GNjQgOiAgMHhiZCxcbiAgICBGMzJfUkVJTlRFUlBSRVRfSTMyIDogIDB4YmUsXG4gICAgRjY0X1JFSU5URVJQUkVUX0k2NCA6ICAweGJmLFxufTtcblxuV2FzbU9wY29kZVtXYXNtT3Bjb2RlLlVOUkVBQ0hBQkxFXSA9IFwidW5yZWFjaGFibGVcIjtcbldhc21PcGNvZGVbV2FzbU9wY29kZS5OT1BdID0gXCJub3BcIjtcbldhc21PcGNvZGVbV2FzbU9wY29kZS5CTE9DS10gPSBcImJsb2NrXCI7XG5XYXNtT3Bjb2RlW1dhc21PcGNvZGUuTE9PUF0gPSBcImxvb3BcIjtcbldhc21PcGNvZGVbV2FzbU9wY29kZS5JRl0gPSBcImlmXCI7XG5XYXNtT3Bjb2RlW1dhc21PcGNvZGUuSUZfRUxTRV0gPSBcImVsc2VcIjtcbldhc21PcGNvZGVbV2FzbU9wY29kZS5FTkRdID0gXCJlbmRcIjtcbldhc21PcGNvZGVbV2FzbU9wY29kZS5CUl0gPSBcImJyXCI7XG5XYXNtT3Bjb2RlW1dhc21PcGNvZGUuQlJfSUZdID0gXCJicl9pZlwiO1xuV2FzbU9wY29kZVtXYXNtT3Bjb2RlLkJSX1RBQkxFXSA9IFwiYnJfdGFibGVcIjtcbldhc21PcGNvZGVbV2FzbU9wY29kZS5SRVRVUk5dID0gXCJyZXR1cm5cIjtcblxuICAgIC8vIENhbGwgb3BlcmF0b3JzXG5XYXNtT3Bjb2RlW1dhc21PcGNvZGUuQ0FMTF0gPSBcImNhbGxcIjtcbldhc21PcGNvZGVbV2FzbU9wY29kZS5DQUxMX0lORElSRUNUXSA9IFwiY2FsbF9pbmRpcmVjdFwiO1xuXG4gICAgLy9QYXJhbWV0cmljIG9wZXJhdG9yc1xuV2FzbU9wY29kZVtXYXNtT3Bjb2RlLkRST1BdID0gXCJkcm9wXCI7XG5XYXNtT3Bjb2RlW1dhc21PcGNvZGUuU0VMRUNUXSA9IFwic2VsZWN0XCI7XG5cbiAgICAvL1ZhcmlhYmxlIGFjY2Vzc1xuV2FzbU9wY29kZVtXYXNtT3Bjb2RlLkdFVF9MT0NBTF0gPSBcImdldF9sb2NhbFwiO1xuV2FzbU9wY29kZVtXYXNtT3Bjb2RlLlNFVF9MT0NBTF0gPSBcInNldF9sb2NhbFwiO1xuV2FzbU9wY29kZVtXYXNtT3Bjb2RlLlRFRV9MT0NBTF0gPSBcInRlZV9sb2NhbFwiO1xuV2FzbU9wY29kZVtXYXNtT3Bjb2RlLkdFVF9HTE9CQUxdID0gXCJnZXRfZ2xvYmFsXCI7XG5XYXNtT3Bjb2RlW1dhc21PcGNvZGUuU0VUX0dMT0JBTF0gPSBcInNldF9nbG9iYWxcIjtcblxuICAgIC8vIE1lbW9yeS1yZWxhdGVkIG9wZXJhdG9yc1xuV2FzbU9wY29kZVtXYXNtT3Bjb2RlLkkzMl9MT0FEXSA9IFwiaTMyLmxvYWRcIjtcbldhc21PcGNvZGVbV2FzbU9wY29kZS5JNjRfTE9BRF0gPSBcImk2NC5sb2FkXCI7XG5XYXNtT3Bjb2RlW1dhc21PcGNvZGUuRjMyX0xPQURdID0gXCJmMzIubG9hZFwiO1xuV2FzbU9wY29kZVtXYXNtT3Bjb2RlLkY2NF9MT0FEXSA9IFwiZjY0LmxvYWRcIjtcblxuV2FzbU9wY29kZVtXYXNtT3Bjb2RlLkkzMl9MT0FEOF9TXSA9IFwiaTMyLmxvYWQ4X3NcIjtcbldhc21PcGNvZGVbV2FzbU9wY29kZS5JMzJfTE9BRDhfVV0gPSBcImkzMl9sb2FkOF91XCI7XG5XYXNtT3Bjb2RlW1dhc21PcGNvZGUuSTMyX0xPQUQxNl9TXSA9IFwiaTMyX2xvYWQxNl9zXCI7XG5XYXNtT3Bjb2RlW1dhc21PcGNvZGUuSTMyX0xPQUQxNl9VXSA9IFwiaTMyX2xvYWQxNl91XCI7XG5cbldhc21PcGNvZGVbV2FzbU9wY29kZS5JNjRfTE9BRDhfU10gPSBcImk2NC5sb2FkOF9zXCI7XG5XYXNtT3Bjb2RlW1dhc21PcGNvZGUuSTY0X0xPQUQ4X1VdID0gXCJpNjQubG9hZDhfdVwiO1xuV2FzbU9wY29kZVtXYXNtT3Bjb2RlLkk2NF9MT0FEMTZfU10gPSBcImk2NC5sb2FkMTZfc1wiO1xuV2FzbU9wY29kZVtXYXNtT3Bjb2RlLkk2NF9MT0FEMTZfVV0gPSBcImk2NC5sb2FkMTZfdVwiO1xuV2FzbU9wY29kZVtXYXNtT3Bjb2RlLkk2NF9MT0FEMzJfU10gPSBcImk2NC5sb2FkMzJfc1wiO1xuV2FzbU9wY29kZVtXYXNtT3Bjb2RlLkk2NF9MT0FEMzJfVV0gPSBcImk2NC5sb2FkMzJfdVwiO1xuXG5XYXNtT3Bjb2RlW1dhc21PcGNvZGUuSTMyX1NUT1JFXSA9IFwiaTMyLnN0b3JlXCI7XG5XYXNtT3Bjb2RlW1dhc21PcGNvZGUuSTY0X1NUT1JFXSA9IFwiaTY0LnN0b3JlXCI7XG5XYXNtT3Bjb2RlW1dhc21PcGNvZGUuRjMyX1NUT1JFXSA9IFwiZjMyLnN0b3JlXCI7XG5XYXNtT3Bjb2RlW1dhc21PcGNvZGUuRjY0X1NUT1JFXSA9IFwiZjY0LnN0b3JlXCI7XG5cbldhc21PcGNvZGVbV2FzbU9wY29kZS5JMzJfU1RPUkU4XSA9IFwiaTMyLnN0b3JlOFwiO1xuV2FzbU9wY29kZVtXYXNtT3Bjb2RlLkkzMl9TVE9SRTE2XSA9IFwiaTMyLnN0b3JlMTZcIjtcbldhc21PcGNvZGVbV2FzbU9wY29kZS5JNjRfU1RPUkU4XSA9IFwiaTY0LnN0b3JlOFwiO1xuV2FzbU9wY29kZVtXYXNtT3Bjb2RlLkk2NF9TVE9SRTE2XSA9IFwiaTY0LnN0b3JlMTZcIjtcbldhc21PcGNvZGVbV2FzbU9wY29kZS5JNjRfU1RPUkUzMl0gPSBcImk2NC5zdG9yZTMyXCI7XG5XYXNtT3Bjb2RlW1dhc21PcGNvZGUuTUVNT1JZX1NJWkVdID0gXCJjdXJyZW50X21lbW9yeVwiO1xuV2FzbU9wY29kZVtXYXNtT3Bjb2RlLkdST1dfTUVNT1JZXSA9IFwiZ3Jvd19tZW1vcnlcIjtcblxuICAgIC8vIENvbnN0YW50c1xuV2FzbU9wY29kZVtXYXNtT3Bjb2RlLkkzMl9DT05TVF0gPSBcImkzMi5jb25zdFwiO1xuV2FzbU9wY29kZVtXYXNtT3Bjb2RlLkk2NF9DT05TVF0gPSBcImk2NC5jb25zdFwiO1xuV2FzbU9wY29kZVtXYXNtT3Bjb2RlLkYzMl9DT05TVF0gPSBcImYzMi5jb25zdFwiO1xuV2FzbU9wY29kZVtXYXNtT3Bjb2RlLkY2NF9DT05TVF0gPSBcImY2NC5jb25zdFwiO1xuXG4gICAgLy9Db21wYXJpc29uIG9wZXJhdG9yc1xuV2FzbU9wY29kZVtXYXNtT3Bjb2RlLkkzMl9FUVpdID0gXCJpMzIuZXF6XCI7XG5XYXNtT3Bjb2RlW1dhc21PcGNvZGUuSTMyX0VRXSA9IFwiaTMyLmVxXCI7XG5XYXNtT3Bjb2RlW1dhc21PcGNvZGUuSTMyX05FXSA9IFwiaTMyLm5lXCI7XG5XYXNtT3Bjb2RlW1dhc21PcGNvZGUuSTMyX0xUX1NdID0gXCJpMzIubHRfc1wiO1xuV2FzbU9wY29kZVtXYXNtT3Bjb2RlLkkzMl9MVF9VXSA9IFwiaTMyLmx0X3VcIjtcbldhc21PcGNvZGVbV2FzbU9wY29kZS5JMzJfR1RfU10gPSBcImkzMi5ndF9zXCI7XG5XYXNtT3Bjb2RlW1dhc21PcGNvZGUuSTMyX0dUX1VdID0gXCJpMzIuZ3RfdVwiO1xuV2FzbU9wY29kZVtXYXNtT3Bjb2RlLkkzMl9MRV9TXSA9IFwiaTMyLmxlX3NcIjtcbldhc21PcGNvZGVbV2FzbU9wY29kZS5JMzJfTEVfVV0gPSBcImkzMi5sZV91XCI7XG5XYXNtT3Bjb2RlW1dhc21PcGNvZGUuSTMyX0dFX1NdID0gXCJpMzIuZ2Vfc1wiO1xuV2FzbU9wY29kZVtXYXNtT3Bjb2RlLkkzMl9HRV9VXSA9IFwiaTMyLmdlX3VcIjtcblxuV2FzbU9wY29kZVtXYXNtT3Bjb2RlLkk2NF9FUVpdID0gXCJpNjQuZXF6XCI7XG5XYXNtT3Bjb2RlW1dhc21PcGNvZGUuSTY0X0VRXSA9IFwiaTY0LmVxXCI7XG5XYXNtT3Bjb2RlW1dhc21PcGNvZGUuSTY0X05FXSA9IFwiaTY0Lm5lXCI7XG5XYXNtT3Bjb2RlW1dhc21PcGNvZGUuSTY0X0xUX1NdID0gXCJpNjQubHRfc1wiO1xuV2FzbU9wY29kZVtXYXNtT3Bjb2RlLkk2NF9MVF9VXSA9IFwiaTY0Lmx0X3VcIjtcbldhc21PcGNvZGVbV2FzbU9wY29kZS5JNjRfR1RfU10gPSBcImk2NC5ndF9zXCI7XG5XYXNtT3Bjb2RlW1dhc21PcGNvZGUuSTY0X0dUX1VdID0gXCJpNjQuZ3RfdVwiO1xuV2FzbU9wY29kZVtXYXNtT3Bjb2RlLkk2NF9MRV9TXSA9IFwiaTY0LmxlX3NcIjtcbldhc21PcGNvZGVbV2FzbU9wY29kZS5JNjRfTEVfVV0gPSBcImk2NC5sZV91XCI7XG5XYXNtT3Bjb2RlW1dhc21PcGNvZGUuSTY0X0dFX1NdID0gXCJpNjQuZ2Vfc1wiO1xuV2FzbU9wY29kZVtXYXNtT3Bjb2RlLkk2NF9HRV9VXSA9IFwiaTY0LmdlX3VcIjtcblxuV2FzbU9wY29kZVtXYXNtT3Bjb2RlLkYzMl9FUV0gPSBcImYzMi5lcVwiO1xuV2FzbU9wY29kZVtXYXNtT3Bjb2RlLkYzMl9ORV0gPSBcImYzMi5uZVwiO1xuV2FzbU9wY29kZVtXYXNtT3Bjb2RlLkYzMl9MVF0gPSBcImYzMi5sdFwiO1xuV2FzbU9wY29kZVtXYXNtT3Bjb2RlLkYzMl9HVF0gPSBcImYzMi5ndFwiO1xuV2FzbU9wY29kZVtXYXNtT3Bjb2RlLkYzMl9MRV0gPSBcImYzMi5sZVwiO1xuV2FzbU9wY29kZVtXYXNtT3Bjb2RlLkYzMl9HRV0gPSBcImYzMi5nZVwiO1xuXG5XYXNtT3Bjb2RlW1dhc21PcGNvZGUuRjY0X0VRXSA9IFwiZjY0LmVxXCI7XG5XYXNtT3Bjb2RlW1dhc21PcGNvZGUuRjY0X05FXSA9IFwiZjY0Lm5lXCI7XG5XYXNtT3Bjb2RlW1dhc21PcGNvZGUuRjY0X0xUXSA9IFwiZjY0Lmx0XCI7XG5XYXNtT3Bjb2RlW1dhc21PcGNvZGUuRjY0X0dUXSA9IFwiZjY0Lmd0XCI7XG5XYXNtT3Bjb2RlW1dhc21PcGNvZGUuRjY0X0xFXSA9IFwiZjY0LmxlXCI7XG5XYXNtT3Bjb2RlW1dhc21PcGNvZGUuRjY0X0dFXSA9IFwiZjY0LmdlXCI7XG5cbiAgICAvL051bWVyaWMgb3BlcmF0b3JzXG5XYXNtT3Bjb2RlW1dhc21PcGNvZGUuSTMyX0NMWl0gPSBcImkzMi5jbHpcIjtcbldhc21PcGNvZGVbV2FzbU9wY29kZS5JMzJfQ1RaXSA9IFwiaTMyLmN0elwiO1xuV2FzbU9wY29kZVtXYXNtT3Bjb2RlLkkzMl9QT1BDTlRdID0gXCJpMzIucG9wY250XCI7XG5XYXNtT3Bjb2RlW1dhc21PcGNvZGUuSTMyX0FERF0gPSBcImkzMi5hZGRcIjtcbldhc21PcGNvZGVbV2FzbU9wY29kZS5JMzJfU1VCXSA9IFwiaTMyLnN1YlwiO1xuV2FzbU9wY29kZVtXYXNtT3Bjb2RlLkkzMl9NVUxdID0gXCJpMzIubXVsXCI7XG5XYXNtT3Bjb2RlW1dhc21PcGNvZGUuSTMyX0RJVl9TXSA9IFwiaTMyLmRpdl9zXCI7XG5XYXNtT3Bjb2RlW1dhc21PcGNvZGUuSTMyX0RJVl9VXSA9IFwiaTMyLmRpdl91XCI7XG5XYXNtT3Bjb2RlW1dhc21PcGNvZGUuSTMyX1JFTV9TXSA9IFwiaTMyLnJlbV9zXCI7XG5XYXNtT3Bjb2RlW1dhc21PcGNvZGUuSTMyX1JFTV9VXSA9IFwiaTMyLnJlbV91XCI7XG5XYXNtT3Bjb2RlW1dhc21PcGNvZGUuSTMyX0FORF0gPSBcImkzMi5hbmRcIjtcbldhc21PcGNvZGVbV2FzbU9wY29kZS5JMzJfT1JdID0gXCJpMzIub3JcIjtcbldhc21PcGNvZGVbV2FzbU9wY29kZS5JMzJfWE9SXSA9IFwiaTMyLnhvclwiO1xuV2FzbU9wY29kZVtXYXNtT3Bjb2RlLkkzMl9TSExdID0gXCJpMzIuc2hsXCI7XG5XYXNtT3Bjb2RlW1dhc21PcGNvZGUuSTMyX1NIUl9TXSA9IFwiaTMyLnNocl9zXCI7XG5XYXNtT3Bjb2RlW1dhc21PcGNvZGUuSTMyX1NIUl9VXSA9IFwiaTMyLnNocl91XCI7XG5XYXNtT3Bjb2RlW1dhc21PcGNvZGUuSTMyX1JPVExdID0gXCJpMzIucm90bFwiO1xuV2FzbU9wY29kZVtXYXNtT3Bjb2RlLkkzMl9ST1RSXSA9IFwiaTMyLnJvdHJcIjtcblxuV2FzbU9wY29kZVtXYXNtT3Bjb2RlLkk2NF9DTFpdID0gXCJpNjQuY2x6XCI7XG5XYXNtT3Bjb2RlW1dhc21PcGNvZGUuSTY0X0NUWl0gPSBcImk2NC5jdHpcIjtcbldhc21PcGNvZGVbV2FzbU9wY29kZS5JNjRfUE9QQ05UXSA9IFwiaTY0LnBvcGNudFwiO1xuV2FzbU9wY29kZVtXYXNtT3Bjb2RlLkk2NF9BRERdID0gXCJpNjQuYWRkXCI7XG5XYXNtT3Bjb2RlW1dhc21PcGNvZGUuSTY0X1NVQl0gPSBcImk2NC5zdWJcIjtcbldhc21PcGNvZGVbV2FzbU9wY29kZS5JNjRfTVVMXSA9IFwiaTY0Lm11bFwiO1xuV2FzbU9wY29kZVtXYXNtT3Bjb2RlLkk2NF9ESVZfU10gPSBcImk2NC5kaXZfc1wiO1xuV2FzbU9wY29kZVtXYXNtT3Bjb2RlLkk2NF9ESVZfVV0gPSBcImk2NC5kaXZfdVwiO1xuV2FzbU9wY29kZVtXYXNtT3Bjb2RlLkk2NF9SRU1fU10gPSBcImk2NC5yZW1fc1wiO1xuV2FzbU9wY29kZVtXYXNtT3Bjb2RlLkk2NF9SRU1fVV0gPSBcImk2NC5yZW1fdVwiO1xuV2FzbU9wY29kZVtXYXNtT3Bjb2RlLkk2NF9BTkRdID0gXCJpNjQuYW5kXCI7XG5XYXNtT3Bjb2RlW1dhc21PcGNvZGUuSTY0X09SXSA9IFwiaTY0Lm9yXCI7XG5XYXNtT3Bjb2RlW1dhc21PcGNvZGUuSTY0X1hPUl0gPSBcImk2NC54b3JcIjtcbldhc21PcGNvZGVbV2FzbU9wY29kZS5JNjRfU0hMXSA9IFwiaTY0LnNobFwiO1xuV2FzbU9wY29kZVtXYXNtT3Bjb2RlLkk2NF9TSFJfU10gPSBcImk2NC5zaHJfc1wiO1xuV2FzbU9wY29kZVtXYXNtT3Bjb2RlLkk2NF9TSFJfVV0gPSBcImk2NC5zaHJfdVwiO1xuV2FzbU9wY29kZVtXYXNtT3Bjb2RlLkk2NF9ST1RMXSA9IFwiaTY0LnJvdGxcIjtcbldhc21PcGNvZGVbV2FzbU9wY29kZS5JNjRfUk9UUl0gPSBcImk2NC5yb3RyXCI7XG5cbldhc21PcGNvZGVbV2FzbU9wY29kZS5GMzJfQUJTXSA9IFwiZjMyLmFic1wiO1xuV2FzbU9wY29kZVtXYXNtT3Bjb2RlLkYzMl9ORUddID0gXCJmMzIubmVnXCI7XG5XYXNtT3Bjb2RlW1dhc21PcGNvZGUuRjMyX0NFSUxdID0gXCJmMzIuY2VpbFwiO1xuV2FzbU9wY29kZVtXYXNtT3Bjb2RlLkYzMl9GTE9PUl0gPSBcImYzMi5mbG9vclwiO1xuV2FzbU9wY29kZVtXYXNtT3Bjb2RlLkYzMl9UUlVOQ10gPSBcImYzMi50cnVuY1wiO1xuV2FzbU9wY29kZVtXYXNtT3Bjb2RlLkYzMl9ORUFSRVNUXSA9IFwiZjMyLm5lYXJlc3RcIjtcbldhc21PcGNvZGVbV2FzbU9wY29kZS5GMzJfU1FSVF0gPSBcImYzMi5zcXJ0XCI7XG5XYXNtT3Bjb2RlW1dhc21PcGNvZGUuRjMyX0FERF0gPSBcImYzMi5hZGRcIjtcbldhc21PcGNvZGVbV2FzbU9wY29kZS5GMzJfU1VCXSA9IFwiZjMyLnN1YlwiO1xuV2FzbU9wY29kZVtXYXNtT3Bjb2RlLkYzMl9NVUxdID0gXCJmMzIubXVsXCI7XG5XYXNtT3Bjb2RlW1dhc21PcGNvZGUuRjMyX0RJVl0gPSBcImYzMi5kaXZcIjtcbldhc21PcGNvZGVbV2FzbU9wY29kZS5GMzJfTUlOXSA9IFwiZjMyLm1pblwiO1xuV2FzbU9wY29kZVtXYXNtT3Bjb2RlLkYzMl9NQVhdID0gXCJmMzIubWF4XCI7XG5XYXNtT3Bjb2RlW1dhc21PcGNvZGUuRjMyX0NPUFlTSUdOXSA9IFwiZjMyLmNvcHlzaWduXCI7XG5cbldhc21PcGNvZGVbV2FzbU9wY29kZS5GNjRfQUJTXSA9IFwiZjY0LmFic1wiO1xuV2FzbU9wY29kZVtXYXNtT3Bjb2RlLkY2NF9ORUddID0gXCJmNjQubmVnXCI7XG5XYXNtT3Bjb2RlW1dhc21PcGNvZGUuRjY0X0NFSUxdID0gXCJmNjQuY2VpbFwiO1xuV2FzbU9wY29kZVtXYXNtT3Bjb2RlLkY2NF9GTE9PUl0gPSBcImY2NC5mbG9vclwiO1xuV2FzbU9wY29kZVtXYXNtT3Bjb2RlLkY2NF9UUlVOQ10gPSBcImY2NC50cnVuY1wiO1xuV2FzbU9wY29kZVtXYXNtT3Bjb2RlLkY2NF9ORUFSRVNUXSA9IFwiZjY0Lm5lYXJlc3RcIjtcbldhc21PcGNvZGVbV2FzbU9wY29kZS5GNjRfU1FSVF0gPSBcImY2NC5zcXJ0XCI7XG5XYXNtT3Bjb2RlW1dhc21PcGNvZGUuRjY0X0FERF0gPSBcImY2NC5hZGRcIjtcbldhc21PcGNvZGVbV2FzbU9wY29kZS5GNjRfU1VCXSA9IFwiZjY0LnN1YlwiO1xuV2FzbU9wY29kZVtXYXNtT3Bjb2RlLkY2NF9NVUxdID0gXCJmNjQubXVsXCI7XG5XYXNtT3Bjb2RlW1dhc21PcGNvZGUuRjY0X0RJVl0gPSBcImY2NC5kaXZcIjtcbldhc21PcGNvZGVbV2FzbU9wY29kZS5GNjRfTUlOXSA9IFwiZjY0Lm1pblwiO1xuV2FzbU9wY29kZVtXYXNtT3Bjb2RlLkY2NF9NQVhdID0gXCJmNjQubWF4XCI7XG5XYXNtT3Bjb2RlW1dhc21PcGNvZGUuRjY0X0NPUFlTSUdOXSA9IFwiZjY0LmNvcHlzaWduXCI7XG5cbiAgICAvL0NvbnZlcnNpb25zXG5XYXNtT3Bjb2RlW1dhc21PcGNvZGUuSTMyX1dSQVBfSTY0XSA9IFwiaTMyLndyYXAvaTY0XCI7XG5XYXNtT3Bjb2RlW1dhc21PcGNvZGUuSTMyX1RSVU5DX1NfRjMyXSA9IFwiaTMyLnRydW5jX3MvZjMyXCI7XG5XYXNtT3Bjb2RlW1dhc21PcGNvZGUuSTMyX1RSVU5DX1VfRjMyXSA9IFwiaTMyLnRydW5jX3UvZjMyXCI7XG5XYXNtT3Bjb2RlW1dhc21PcGNvZGUuSTMyX1RSVU5DX1NfRjY0XSA9IFwiaTMyLnRydW5jX3MvZjY0XCI7XG5XYXNtT3Bjb2RlW1dhc21PcGNvZGUuSTMyX1RSVU5DX1VfRjY0XSA9IFwiaTMyLnRydW5jX3UvZjY0XCI7XG5cbldhc21PcGNvZGVbV2FzbU9wY29kZS5JNjRfRVhURU5EX1NfSTMyXSA9IFwiaTY0LmV4dGVuZF9zL2kzMlwiO1xuV2FzbU9wY29kZVtXYXNtT3Bjb2RlLkk2NF9FWFRFTkRfVV9JMzJdID0gXCJpNjQuZXh0ZW5kX3UvaTMyXCI7XG5XYXNtT3Bjb2RlW1dhc21PcGNvZGUuSTY0X1RSVU5DX1NfRjMyXSA9IFwiaTY0LnRydW5jX3MvZjMyXCI7XG5XYXNtT3Bjb2RlW1dhc21PcGNvZGUuSTY0X1RSVU5DX1VfRjMyXSA9IFwiaTY0LnRydW5jX3UvZjMyXCI7XG5XYXNtT3Bjb2RlW1dhc21PcGNvZGUuSTY0X1RSVU5DX1NfRjY0XSA9IFwiaTY0LnRydW5jX3MvZjY0XCI7XG5XYXNtT3Bjb2RlW1dhc21PcGNvZGUuSTY0X1RSVU5DX1VfRjY0XSA9IFwiaTY0LnRydW5jX3UvZjY0XCI7XG5cbldhc21PcGNvZGVbV2FzbU9wY29kZS5GMzJfQ09OVkVSVF9TX0kzMl0gPSBcImYzMi5jb252ZXJ0X3MvaTMyXCI7XG5XYXNtT3Bjb2RlW1dhc21PcGNvZGUuRjMyX0NPTlZFUlRfVV9JMzJdID0gXCJmMzIuY29udmVydF91L2kzMlwiO1xuV2FzbU9wY29kZVtXYXNtT3Bjb2RlLkYzMl9DT05WRVJUX1NfSTY0XSA9IFwiZjMyLmNvbnZlcnRfcy9pNjRcIjtcbldhc21PcGNvZGVbV2FzbU9wY29kZS5GMzJfQ09OVkVSVF9VX0k2NF0gPSBcImYzMi5jb252ZXJ0X3UvaTY0XCI7XG5XYXNtT3Bjb2RlW1dhc21PcGNvZGUuRjMyX0RFTU9URV9GNjRdID0gXCJmMzIuZGVtb3RlL2Y2NFwiO1xuXG5XYXNtT3Bjb2RlW1dhc21PcGNvZGUuRjY0X0NPTlZFUlRfU19JMzJdID0gXCJmNjQuY29udmVydF9zL2kzMlwiO1xuV2FzbU9wY29kZVtXYXNtT3Bjb2RlLkY2NF9DT05WRVJUX1VfSTMyXSA9IFwiZjY0LmNvbnZlcnRfdS9pMzJcIjtcbldhc21PcGNvZGVbV2FzbU9wY29kZS5GNjRfQ09OVkVSVF9TX0k2NF0gPSBcImY2NC5jb252ZXJ0X3MvaTY0XCI7XG5XYXNtT3Bjb2RlW1dhc21PcGNvZGUuRjY0X0NPTlZFUlRfVV9JNjRdID0gXCJmNjQuY29udmVydF91L2k2NFwiO1xuV2FzbU9wY29kZVtXYXNtT3Bjb2RlLkY2NF9QUk9NT1RFX0YzMl0gPSBcImY2NC5wcm9tb3RlL2YzMlwiO1xuXG4gICAgLy9SZWludGVycHJldGF0aW9uc1xuV2FzbU9wY29kZVtXYXNtT3Bjb2RlLkkzMl9SRUlOVEVSUFJFVF9GMzJdID0gXCJpMzIucmVpbnRlcnByZXQvZjMyXCI7XG5XYXNtT3Bjb2RlW1dhc21PcGNvZGUuSTY0X1JFSU5URVJQUkVUX0Y2NF0gPSBcImk2NC5yZWludGVycHJldC9mNjRcIjtcbldhc21PcGNvZGVbV2FzbU9wY29kZS5GMzJfUkVJTlRFUlBSRVRfSTMyXSA9IFwiZjMyLnJlaW50ZXJwcmV0L2kzMlwiO1xuV2FzbU9wY29kZVtXYXNtT3Bjb2RlLkY2NF9SRUlOVEVSUFJFVF9JNjRdID0gXCJmNjQucmVpbnRlcnByZXQvaTY0XCI7XG5cbk9iamVjdC5mcmVlemUoV2FzbU9wY29kZSk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvYmFja2VuZHMvd2ViYXNzZW1ibHkvb3Bjb2RlLnRzIiwiaW1wb3J0IHtTb3VyY2VSYW5nZSwgY3JlYXRlUmFuZ2UsIFNvdXJjZSwgTG9nfSBmcm9tIFwiLi4vLi4vdXRpbHMvbG9nXCI7XG5pbXBvcnQge1N0cmluZ0J1aWxkZXJfbmV3fSBmcm9tIFwiLi4vLi4vdXRpbHMvc3RyaW5nYnVpbGRlclwiO1xuaW1wb3J0IHthc3NlcnR9IGZyb20gXCIuLi8uLi91dGlscy9hc3NlcnRcIjtcbi8qKlxuICogQXV0aG9yOiBOaWRpbiBWaW5heWFrYW5cbiAqL1xuZXhwb3J0IGVudW0gVG9rZW5LaW5kIHtcbiAgICBFTkRfT0ZfRklMRSxcbiAgICAgICAgLy8gTGl0ZXJhbHNcbiAgICBDSEFSQUNURVIsXG4gICAgSURFTlRJRklFUixcbiAgICBJTlQzMixcbiAgICBJTlQ2NCxcbiAgICBGTE9BVDMyLFxuICAgIEZMT0FUNjQsXG4gICAgU1RSSU5HLFxuICAgIEFSUkFZLFxuXG4gICAgICAgIC8vIFB1bmN0dWF0aW9uXG4gICAgQVNTSUdOLFxuICAgIEJJVFdJU0VfQU5ELFxuICAgIEJJVFdJU0VfT1IsXG4gICAgQklUV0lTRV9YT1IsXG4gICAgQ09MT04sXG4gICAgQ09NTUEsXG4gICAgQ09NUExFTUVOVCxcbiAgICBESVZJREUsXG4gICAgRE9ULFxuICAgIEVRVUFMLFxuICAgIEVYUE9ORU5ULFxuICAgIEdSRUFURVJfVEhBTixcbiAgICBHUkVBVEVSX1RIQU5fRVFVQUwsXG4gICAgTEVGVF9CUkFDRSxcbiAgICBMRUZUX0JSQUNLRVQsXG4gICAgTEVGVF9QQVJFTlRIRVNJUyxcbiAgICBMRVNTX1RIQU4sXG4gICAgTEVTU19USEFOX0VRVUFMLFxuICAgIExPR0lDQUxfQU5ELFxuICAgIExPR0lDQUxfT1IsXG4gICAgTUlOVVMsXG4gICAgTUlOVVNfTUlOVVMsXG4gICAgTVVMVElQTFksXG4gICAgTk9ULFxuICAgIE5PVF9FUVVBTCxcbiAgICBQTFVTLFxuICAgIFBMVVNfUExVUyxcbiAgICBRVUVTVElPTl9NQVJLLFxuICAgIFJFTUFJTkRFUixcbiAgICBSSUdIVF9CUkFDRSxcbiAgICBSSUdIVF9CUkFDS0VULFxuICAgIFJJR0hUX1BBUkVOVEhFU0lTLFxuICAgIFNFTUlDT0xPTixcbiAgICBGUk9NLFxuICAgIFNISUZUX0xFRlQsXG4gICAgU0hJRlRfUklHSFQsXG5cbiAgICAgICAgLy8gS2V5d29yZHNcbiAgICBBTElHTk9GLFxuICAgIEFTLFxuICAgIEJSRUFLLFxuICAgIE1PRFVMRSxcbiAgICBDTEFTUyxcbiAgICBDT05TVCxcbiAgICBDT05USU5VRSxcbiAgICBERUNMQVJFLFxuICAgIEVMU0UsXG4gICAgRU5VTSxcbiAgICBFWFBPUlQsXG4gICAgRVhURU5EUyxcbiAgICBGQUxTRSxcbiAgICBGVU5DVElPTixcbiAgICBBTllGVU5DLFxuICAgIElGLFxuICAgIElNUExFTUVOVFMsXG4gICAgSU1QT1JULFxuICAgIExFVCxcbiAgICBORVcsXG4gICAgREVMRVRFLFxuICAgIE5VTEwsXG4gICAgVU5ERUZJTkVELFxuICAgIE9QRVJBVE9SLFxuICAgIFBSSVZBVEUsXG4gICAgUFJPVEVDVEVELFxuICAgIFBVQkxJQyxcbiAgICBSRVRVUk4sXG4gICAgU0laRU9GLFxuICAgIFNUQVRJQyxcbiAgICBUSElTLFxuICAgIFRSVUUsXG4gICAgVU5TQUZFLFxuICAgIEpBVkFTQ1JJUFQsXG4gICAgU1RBUlQsXG4gICAgVklSVFVBTCxcbiAgICBWQVIsXG4gICAgV0hJTEUsXG5cbiAgICAgICAgLy8gUHJlcHJvY2Vzc29yXG4gICAgUFJFUFJPQ0VTU09SX0RFRklORSxcbiAgICBQUkVQUk9DRVNTT1JfRUxJRixcbiAgICBQUkVQUk9DRVNTT1JfRUxTRSxcbiAgICBQUkVQUk9DRVNTT1JfRU5ESUYsXG4gICAgUFJFUFJPQ0VTU09SX0VSUk9SLFxuICAgIFBSRVBST0NFU1NPUl9JRixcbiAgICBQUkVQUk9DRVNTT1JfTkVFREVELFxuICAgIFBSRVBST0NFU1NPUl9ORVdMSU5FLFxuICAgIFBSRVBST0NFU1NPUl9VTkRFRixcbiAgICBQUkVQUk9DRVNTT1JfV0FSTklORyxcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzS2V5d29yZChraW5kOiBUb2tlbktpbmQpOiBib29sZWFuIHtcbiAgICByZXR1cm4ga2luZCA+PSBUb2tlbktpbmQuQUxJR05PRiAmJiBraW5kIDw9IFRva2VuS2luZC5XSElMRTtcbn1cblxuZXhwb3J0IGNsYXNzIFRva2VuIHtcbiAgICBraW5kOiBUb2tlbktpbmQ7XG4gICAgcmFuZ2U6IFNvdXJjZVJhbmdlO1xuICAgIG5leHQ6IFRva2VuO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc3BsaXRUb2tlbihmaXJzdDogVG9rZW4sIGZpcnN0S2luZDogVG9rZW5LaW5kLCBzZWNvbmRLaW5kOiBUb2tlbktpbmQpOiB2b2lkIHtcbiAgICB2YXIgcmFuZ2UgPSBmaXJzdC5yYW5nZTtcbiAgICBhc3NlcnQocmFuZ2UuZW5kIC0gcmFuZ2Uuc3RhcnQgPj0gMik7XG5cbiAgICB2YXIgc2Vjb25kID0gbmV3IFRva2VuKCk7XG4gICAgc2Vjb25kLmtpbmQgPSBzZWNvbmRLaW5kO1xuICAgIHNlY29uZC5yYW5nZSA9IGNyZWF0ZVJhbmdlKHJhbmdlLnNvdXJjZSwgcmFuZ2Uuc3RhcnQgKyAxLCByYW5nZS5lbmQpO1xuICAgIHNlY29uZC5uZXh0ID0gZmlyc3QubmV4dDtcblxuICAgIGZpcnN0LmtpbmQgPSBmaXJzdEtpbmQ7XG4gICAgZmlyc3QubmV4dCA9IHNlY29uZDtcbiAgICByYW5nZS5lbmQgPSByYW5nZS5zdGFydCArIDE7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0b2tlblRvU3RyaW5nKHRva2VuOiBUb2tlbktpbmQpOiBzdHJpbmcge1xuICAgIGlmICh0b2tlbiA9PSBUb2tlbktpbmQuRU5EX09GX0ZJTEUpIHJldHVybiBcImVuZCBvZiBmaWxlXCI7XG5cbiAgICAvLyBMaXRlcmFsc1xuICAgIGlmICh0b2tlbiA9PSBUb2tlbktpbmQuQ0hBUkFDVEVSKSByZXR1cm4gXCJjaGFyYWN0ZXIgbGl0ZXJhbFwiO1xuICAgIGlmICh0b2tlbiA9PSBUb2tlbktpbmQuSURFTlRJRklFUikgcmV0dXJuIFwiaWRlbnRpZmllclwiO1xuICAgIGlmICh0b2tlbiA9PSBUb2tlbktpbmQuSU5UMzIpIHJldHVybiBcImludGVnZXIzMiBsaXRlcmFsXCI7XG4gICAgaWYgKHRva2VuID09IFRva2VuS2luZC5JTlQ2NCkgcmV0dXJuIFwiaW50ZWdlcjY0IGxpdGVyYWxcIjtcbiAgICBpZiAodG9rZW4gPT0gVG9rZW5LaW5kLkZMT0FUMzIpIHJldHVybiBcImZsb2F0MzIgbGl0ZXJhbFwiO1xuICAgIGlmICh0b2tlbiA9PSBUb2tlbktpbmQuRkxPQVQ2NCkgcmV0dXJuIFwiZmxvYXQ2NCBsaXRlcmFsXCI7XG4gICAgaWYgKHRva2VuID09IFRva2VuS2luZC5TVFJJTkcpIHJldHVybiBcInN0cmluZyBsaXRlcmFsXCI7XG4gICAgaWYgKHRva2VuID09IFRva2VuS2luZC5BUlJBWSkgcmV0dXJuIFwiYXJyYXkgbGl0ZXJhbFwiO1xuXG4gICAgLy8gUHVuY3R1YXRpb25cbiAgICBpZiAodG9rZW4gPT0gVG9rZW5LaW5kLkFTU0lHTikgcmV0dXJuIFwiJz0nXCI7XG4gICAgaWYgKHRva2VuID09IFRva2VuS2luZC5CSVRXSVNFX0FORCkgcmV0dXJuIFwiJyYnXCI7XG4gICAgaWYgKHRva2VuID09IFRva2VuS2luZC5CSVRXSVNFX09SKSByZXR1cm4gXCInfCdcIjtcbiAgICBpZiAodG9rZW4gPT0gVG9rZW5LaW5kLkJJVFdJU0VfWE9SKSByZXR1cm4gXCInXidcIjtcbiAgICBpZiAodG9rZW4gPT0gVG9rZW5LaW5kLkNPTE9OKSByZXR1cm4gXCInOidcIjtcbiAgICBpZiAodG9rZW4gPT0gVG9rZW5LaW5kLkNPTU1BKSByZXR1cm4gXCInLCdcIjtcbiAgICBpZiAodG9rZW4gPT0gVG9rZW5LaW5kLkNPTVBMRU1FTlQpIHJldHVybiBcIid+J1wiO1xuICAgIGlmICh0b2tlbiA9PSBUb2tlbktpbmQuRElWSURFKSByZXR1cm4gXCInLydcIjtcbiAgICBpZiAodG9rZW4gPT0gVG9rZW5LaW5kLkRPVCkgcmV0dXJuIFwiJy4nXCI7XG4gICAgaWYgKHRva2VuID09IFRva2VuS2luZC5FUVVBTCkgcmV0dXJuIFwiJz09J1wiO1xuICAgIGlmICh0b2tlbiA9PSBUb2tlbktpbmQuRVhQT05FTlQpIHJldHVybiBcIicqKidcIjtcbiAgICBpZiAodG9rZW4gPT0gVG9rZW5LaW5kLkdSRUFURVJfVEhBTikgcmV0dXJuIFwiJz4nXCI7XG4gICAgaWYgKHRva2VuID09IFRva2VuS2luZC5HUkVBVEVSX1RIQU5fRVFVQUwpIHJldHVybiBcIic+PSdcIjtcbiAgICBpZiAodG9rZW4gPT0gVG9rZW5LaW5kLkxFRlRfQlJBQ0UpIHJldHVybiBcIid7J1wiO1xuICAgIGlmICh0b2tlbiA9PSBUb2tlbktpbmQuTEVGVF9CUkFDS0VUKSByZXR1cm4gXCInWydcIjtcbiAgICBpZiAodG9rZW4gPT0gVG9rZW5LaW5kLkxFRlRfUEFSRU5USEVTSVMpIHJldHVybiBcIicoJ1wiO1xuICAgIGlmICh0b2tlbiA9PSBUb2tlbktpbmQuTEVTU19USEFOKSByZXR1cm4gXCInPCdcIjtcbiAgICBpZiAodG9rZW4gPT0gVG9rZW5LaW5kLkxFU1NfVEhBTl9FUVVBTCkgcmV0dXJuIFwiJzw9J1wiO1xuICAgIGlmICh0b2tlbiA9PSBUb2tlbktpbmQuTE9HSUNBTF9BTkQpIHJldHVybiBcIicmJidcIjtcbiAgICBpZiAodG9rZW4gPT0gVG9rZW5LaW5kLkxPR0lDQUxfT1IpIHJldHVybiBcIid8fCdcIjtcbiAgICBpZiAodG9rZW4gPT0gVG9rZW5LaW5kLk1JTlVTKSByZXR1cm4gXCInLSdcIjtcbiAgICBpZiAodG9rZW4gPT0gVG9rZW5LaW5kLk1JTlVTX01JTlVTKSByZXR1cm4gXCInLS0nXCI7XG4gICAgaWYgKHRva2VuID09IFRva2VuS2luZC5NVUxUSVBMWSkgcmV0dXJuIFwiJyonXCI7XG4gICAgaWYgKHRva2VuID09IFRva2VuS2luZC5OT1QpIHJldHVybiBcIichJ1wiO1xuICAgIGlmICh0b2tlbiA9PSBUb2tlbktpbmQuTk9UX0VRVUFMKSByZXR1cm4gXCInIT0nXCI7XG4gICAgaWYgKHRva2VuID09IFRva2VuS2luZC5QTFVTKSByZXR1cm4gXCInKydcIjtcbiAgICBpZiAodG9rZW4gPT0gVG9rZW5LaW5kLlBMVVNfUExVUykgcmV0dXJuIFwiJysrJ1wiO1xuICAgIGlmICh0b2tlbiA9PSBUb2tlbktpbmQuUVVFU1RJT05fTUFSSykgcmV0dXJuIFwiJz8nXCI7XG4gICAgaWYgKHRva2VuID09IFRva2VuS2luZC5SRU1BSU5ERVIpIHJldHVybiBcIiclJ1wiO1xuICAgIGlmICh0b2tlbiA9PSBUb2tlbktpbmQuUklHSFRfQlJBQ0UpIHJldHVybiBcIid9J1wiO1xuICAgIGlmICh0b2tlbiA9PSBUb2tlbktpbmQuUklHSFRfQlJBQ0tFVCkgcmV0dXJuIFwiJ10nXCI7XG4gICAgaWYgKHRva2VuID09IFRva2VuS2luZC5SSUdIVF9QQVJFTlRIRVNJUykgcmV0dXJuIFwiJyknXCI7XG4gICAgaWYgKHRva2VuID09IFRva2VuS2luZC5TRU1JQ09MT04pIHJldHVybiBcIic7J1wiO1xuICAgIGlmICh0b2tlbiA9PSBUb2tlbktpbmQuU0hJRlRfTEVGVCkgcmV0dXJuIFwiJzw8J1wiO1xuICAgIGlmICh0b2tlbiA9PSBUb2tlbktpbmQuU0hJRlRfUklHSFQpIHJldHVybiBcIic+PidcIjtcblxuICAgIC8vIEtleXdvcmRzXG4gICAgaWYgKHRva2VuID09IFRva2VuS2luZC5GUk9NKSByZXR1cm4gXCInZnJvbSdcIjtcbiAgICBpZiAodG9rZW4gPT0gVG9rZW5LaW5kLkFMSUdOT0YpIHJldHVybiBcIidhbGlnbm9mJ1wiO1xuICAgIGlmICh0b2tlbiA9PSBUb2tlbktpbmQuQVMpIHJldHVybiBcIidhcydcIjtcbiAgICBpZiAodG9rZW4gPT0gVG9rZW5LaW5kLkJSRUFLKSByZXR1cm4gXCInYnJlYWsnXCI7XG4gICAgaWYgKHRva2VuID09IFRva2VuS2luZC5NT0RVTEUpIHJldHVybiBcIidtb2R1bGUnXCI7XG4gICAgaWYgKHRva2VuID09IFRva2VuS2luZC5DTEFTUykgcmV0dXJuIFwiJ2NsYXNzJ1wiO1xuICAgIGlmICh0b2tlbiA9PSBUb2tlbktpbmQuQ09OU1QpIHJldHVybiBcIidjb25zdCdcIjtcbiAgICBpZiAodG9rZW4gPT0gVG9rZW5LaW5kLkNPTlRJTlVFKSByZXR1cm4gXCInY29udGludWUnXCI7XG4gICAgaWYgKHRva2VuID09IFRva2VuS2luZC5ERUNMQVJFKSByZXR1cm4gXCInZGVjbGFyZSdcIjtcbiAgICBpZiAodG9rZW4gPT0gVG9rZW5LaW5kLkVMU0UpIHJldHVybiBcIidlbHNlJ1wiO1xuICAgIGlmICh0b2tlbiA9PSBUb2tlbktpbmQuRU5VTSkgcmV0dXJuIFwiJ2VudW0nXCI7XG4gICAgaWYgKHRva2VuID09IFRva2VuS2luZC5FWFBPUlQpIHJldHVybiBcIidleHBvcnQnXCI7XG4gICAgaWYgKHRva2VuID09IFRva2VuS2luZC5FWFRFTkRTKSByZXR1cm4gXCInZXh0ZW5kcydcIjtcbiAgICBpZiAodG9rZW4gPT0gVG9rZW5LaW5kLkZBTFNFKSByZXR1cm4gXCInZmFsc2UnXCI7XG4gICAgaWYgKHRva2VuID09IFRva2VuS2luZC5GVU5DVElPTikgcmV0dXJuIFwiJ2Z1bmN0aW9uJ1wiO1xuICAgIGlmICh0b2tlbiA9PSBUb2tlbktpbmQuQU5ZRlVOQykgcmV0dXJuIFwiJ2FueWZ1bmMnXCI7XG4gICAgaWYgKHRva2VuID09IFRva2VuS2luZC5JRikgcmV0dXJuIFwiJ2lmJ1wiO1xuICAgIGlmICh0b2tlbiA9PSBUb2tlbktpbmQuSU1QTEVNRU5UUykgcmV0dXJuIFwiJ2ltcGxlbWVudHMnXCI7XG4gICAgaWYgKHRva2VuID09IFRva2VuS2luZC5JTVBPUlQpIHJldHVybiBcIidpbXBvcnQnXCI7XG4gICAgaWYgKHRva2VuID09IFRva2VuS2luZC5MRVQpIHJldHVybiBcIidsZXQnXCI7XG4gICAgaWYgKHRva2VuID09IFRva2VuS2luZC5ORVcpIHJldHVybiBcIiduZXcnXCI7XG4gICAgaWYgKHRva2VuID09IFRva2VuS2luZC5ERUxFVEUpIHJldHVybiBcIidkZWxldGUnXCI7XG4gICAgaWYgKHRva2VuID09IFRva2VuS2luZC5OVUxMKSByZXR1cm4gXCInbnVsbCdcIjtcbiAgICBpZiAodG9rZW4gPT0gVG9rZW5LaW5kLlVOREVGSU5FRCkgcmV0dXJuIFwiJ3VuZGVmaW5lZCdcIjtcbiAgICBpZiAodG9rZW4gPT0gVG9rZW5LaW5kLk9QRVJBVE9SKSByZXR1cm4gXCInb3BlcmF0b3InXCI7XG4gICAgaWYgKHRva2VuID09IFRva2VuS2luZC5QUklWQVRFKSByZXR1cm4gXCIncHJpdmF0ZSdcIjtcbiAgICBpZiAodG9rZW4gPT0gVG9rZW5LaW5kLlBST1RFQ1RFRCkgcmV0dXJuIFwiJ3Byb3RlY3RlZCdcIjtcbiAgICBpZiAodG9rZW4gPT0gVG9rZW5LaW5kLlBVQkxJQykgcmV0dXJuIFwiJ3B1YmxpYydcIjtcbiAgICBpZiAodG9rZW4gPT0gVG9rZW5LaW5kLlJFVFVSTikgcmV0dXJuIFwiJ3JldHVybidcIjtcbiAgICBpZiAodG9rZW4gPT0gVG9rZW5LaW5kLlNJWkVPRikgcmV0dXJuIFwiJ3NpemVvZidcIjtcbiAgICBpZiAodG9rZW4gPT0gVG9rZW5LaW5kLlNUQVRJQykgcmV0dXJuIFwiJ3N0YXRpYydcIjtcbiAgICBpZiAodG9rZW4gPT0gVG9rZW5LaW5kLlRISVMpIHJldHVybiBcIid0aGlzJ1wiO1xuICAgIGlmICh0b2tlbiA9PSBUb2tlbktpbmQuVFJVRSkgcmV0dXJuIFwiJ3RydWUnXCI7XG4gICAgaWYgKHRva2VuID09IFRva2VuS2luZC5VTlNBRkUpIHJldHVybiBcIid1bnNhZmUnXCI7XG4gICAgaWYgKHRva2VuID09IFRva2VuS2luZC5KQVZBU0NSSVBUKSByZXR1cm4gXCInQEpTJ1wiO1xuICAgIGlmICh0b2tlbiA9PSBUb2tlbktpbmQuU1RBUlQpIHJldHVybiBcIidAc3RhcnQnXCI7XG4gICAgaWYgKHRva2VuID09IFRva2VuS2luZC5WSVJUVUFMKSByZXR1cm4gXCInQHZpcnR1YWwnXCI7XG4gICAgaWYgKHRva2VuID09IFRva2VuS2luZC5WQVIpIHJldHVybiBcIid2YXInXCI7XG4gICAgaWYgKHRva2VuID09IFRva2VuS2luZC5XSElMRSkgcmV0dXJuIFwiJ3doaWxlJ1wiO1xuXG4gICAgLy8gUHJlcHJvY2Vzc29yXG4gICAgaWYgKHRva2VuID09IFRva2VuS2luZC5QUkVQUk9DRVNTT1JfREVGSU5FKSByZXR1cm4gXCInI2RlZmluZSdcIjtcbiAgICBpZiAodG9rZW4gPT0gVG9rZW5LaW5kLlBSRVBST0NFU1NPUl9FTElGKSByZXR1cm4gXCInI2VsaWYnXCI7XG4gICAgaWYgKHRva2VuID09IFRva2VuS2luZC5QUkVQUk9DRVNTT1JfRUxTRSkgcmV0dXJuIFwiJyNlbHNlJ1wiO1xuICAgIGlmICh0b2tlbiA9PSBUb2tlbktpbmQuUFJFUFJPQ0VTU09SX0VORElGKSByZXR1cm4gXCInI2VuZGlmJ1wiO1xuICAgIGlmICh0b2tlbiA9PSBUb2tlbktpbmQuUFJFUFJPQ0VTU09SX0VSUk9SKSByZXR1cm4gXCInI2Vycm9yJ1wiO1xuICAgIGlmICh0b2tlbiA9PSBUb2tlbktpbmQuUFJFUFJPQ0VTU09SX0lGKSByZXR1cm4gXCInI2lmJ1wiO1xuICAgIGlmICh0b2tlbiA9PSBUb2tlbktpbmQuUFJFUFJPQ0VTU09SX05FV0xJTkUpIHJldHVybiBcIm5ld2xpbmVcIjtcbiAgICBpZiAodG9rZW4gPT0gVG9rZW5LaW5kLlBSRVBST0NFU1NPUl9VTkRFRikgcmV0dXJuIFwiJyN1bmRlZidcIjtcbiAgICBpZiAodG9rZW4gPT0gVG9rZW5LaW5kLlBSRVBST0NFU1NPUl9XQVJOSU5HKSByZXR1cm4gXCInI3dhcm5pbmcnXCI7XG5cbiAgICBhc3NlcnQoZmFsc2UpO1xuICAgIHJldHVybiBudWxsO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNBbHBoYShjOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICByZXR1cm4gYyA+PSAnYScgJiYgYyA8PSAneicgfHwgYyA+PSAnQScgJiYgYyA8PSAnWicgfHwgYyA9PSAnXyc7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0FTQ0lJKGM6IHVpbnQxNik6IGJvb2xlYW4ge1xuICAgIHJldHVybiBjID49IDB4MjAgJiYgYyA8PSAweDdFO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNOdW1iZXIoYzogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGMgPj0gJzAnICYmIGMgPD0gJzknO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNEaWdpdChjOiBhbnksIGJhc2U6IHVpbnQ4KTogYm9vbGVhbiB7XG4gICAgaWYgKGMudHJpbSgpID09IFwiXCIpIHJldHVybiBmYWxzZTtcbiAgICBpZiAoYmFzZSA9PSAxNikge1xuICAgICAgICByZXR1cm4gaXNOdW1iZXIoYykgfHwgYyA+PSAnQScgJiYgYyA8PSAnRicgfHwgYyA+PSAnYScgJiYgYyA8PSAnZic7XG4gICAgfVxuICAgIC8vcmV0dXJuIGMgPj0gJzAnICYmIGMgPCAnMCcgKyBiYXNlO1xuICAgIHJldHVybiAhaXNOYU4oYyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0b2tlbml6ZShzb3VyY2U6IFNvdXJjZSwgbG9nOiBMb2cpOiBUb2tlbiB7XG4gICAgdmFyIGZpcnN0OiBUb2tlbiA9IG51bGw7XG4gICAgdmFyIGxhc3Q6IFRva2VuID0gbnVsbDtcbiAgICB2YXIgY29udGVudHMgPSBzb3VyY2UuY29udGVudHM7XG4gICAgdmFyIGxpbWl0ID0gY29udGVudHMubGVuZ3RoO1xuICAgIHZhciBuZWVkc1ByZXByb2Nlc3NvciA9IGZhbHNlO1xuICAgIHZhciB3YW50TmV3bGluZSA9IGZhbHNlO1xuICAgIHZhciBpID0gMDtcblxuICAgIHdoaWxlIChpIDwgbGltaXQpIHtcbiAgICAgICAgdmFyIHN0YXJ0ID0gaTtcbiAgICAgICAgdmFyIGMgPSBjb250ZW50c1tpXTtcbiAgICAgICAgaSA9IGkgKyAxO1xuXG4gICAgICAgIGlmIChjID09ICcgJyB8fCBjID09ICdcXHQnIHx8IGMgPT0gJ1xccicpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGtpbmQgPSBUb2tlbktpbmQuRU5EX09GX0ZJTEU7XG5cbiAgICAgICAgLy8gTmV3bGluZVxuICAgICAgICBpZiAoYyA9PSAnXFxuJykge1xuICAgICAgICAgICAgaWYgKCF3YW50TmV3bGluZSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBQcmVwcm9jZXNzb3IgY29tbWFuZHMgYWxsIGVuZCBpbiBhIG5ld2xpbmVcbiAgICAgICAgICAgIGtpbmQgPSBUb2tlbktpbmQuUFJFUFJPQ0VTU09SX05FV0xJTkU7XG4gICAgICAgICAgICB3YW50TmV3bGluZSA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSWRlbnRpZmllclxuICAgICAgICBlbHNlIGlmIChpc0FscGhhKGMpIHx8IGMgPT0gXCJAXCIpIHtcbiAgICAgICAgICAgIGtpbmQgPSBUb2tlbktpbmQuSURFTlRJRklFUjtcblxuICAgICAgICAgICAgd2hpbGUgKGkgPCBsaW1pdCAmJiAoaXNBbHBoYShjb250ZW50c1tpXSkgfHwgaXNOdW1iZXIoY29udGVudHNbaV0pKSkge1xuICAgICAgICAgICAgICAgIGkgPSBpICsgMTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gS2V5d29yZHNcbiAgICAgICAgICAgIHZhciBsZW5ndGggPSBpIC0gc3RhcnQ7XG4gICAgICAgICAgICBpZiAobGVuZ3RoID49IDIgJiYgbGVuZ3RoIDw9IDEwKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRleHQgPSBjb250ZW50cy5zbGljZShzdGFydCwgaSk7XG5cbiAgICAgICAgICAgICAgICBpZiAobGVuZ3RoID09IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRleHQgPT0gXCJhc1wiKSBraW5kID0gVG9rZW5LaW5kLkFTO1xuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0ZXh0ID09IFwiaWZcIikga2luZCA9IFRva2VuS2luZC5JRjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChsZW5ndGggPT0gMykge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGV4dCA9PSBcImxldFwiKSBraW5kID0gVG9rZW5LaW5kLkxFVDtcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodGV4dCA9PSBcIm5ld1wiKSBraW5kID0gVG9rZW5LaW5kLk5FVztcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodGV4dCA9PSBcInZhclwiKSBraW5kID0gVG9rZW5LaW5kLlZBUjtcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodGV4dCA9PSBcIkBKU1wiKSBraW5kID0gVG9rZW5LaW5kLkpBVkFTQ1JJUFQ7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAobGVuZ3RoID09IDQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRleHQgPT0gXCJlbHNlXCIpIGtpbmQgPSBUb2tlbktpbmQuRUxTRTtcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodGV4dCA9PSBcImVudW1cIikga2luZCA9IFRva2VuS2luZC5FTlVNO1xuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0ZXh0ID09IFwibnVsbFwiKSBraW5kID0gVG9rZW5LaW5kLk5VTEw7XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRleHQgPT0gXCJ0aGlzXCIpIGtpbmQgPSBUb2tlbktpbmQuVEhJUztcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodGV4dCA9PSBcInRydWVcIikga2luZCA9IFRva2VuS2luZC5UUlVFO1xuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0ZXh0ID09IFwiZnJvbVwiKSBraW5kID0gVG9rZW5LaW5kLkZST007XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAobGVuZ3RoID09IDUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRleHQgPT0gXCJicmVha1wiKSBraW5kID0gVG9rZW5LaW5kLkJSRUFLO1xuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0ZXh0ID09IFwiY2xhc3NcIikga2luZCA9IFRva2VuS2luZC5DTEFTUztcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodGV4dCA9PSBcImNvbnN0XCIpIGtpbmQgPSBUb2tlbktpbmQuQ09OU1Q7XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRleHQgPT0gXCJmYWxzZVwiKSBraW5kID0gVG9rZW5LaW5kLkZBTFNFO1xuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0ZXh0ID09IFwid2hpbGVcIikga2luZCA9IFRva2VuS2luZC5XSElMRTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChsZW5ndGggPT0gNikge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGV4dCA9PSBcImV4cG9ydFwiKSBraW5kID0gVG9rZW5LaW5kLkVYUE9SVDtcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodGV4dCA9PSBcIm1vZHVsZVwiKSBraW5kID0gVG9rZW5LaW5kLk1PRFVMRTtcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodGV4dCA9PSBcImltcG9ydFwiKSBraW5kID0gVG9rZW5LaW5kLklNUE9SVDtcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodGV4dCA9PSBcInB1YmxpY1wiKSBraW5kID0gVG9rZW5LaW5kLlBVQkxJQztcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodGV4dCA9PSBcInJldHVyblwiKSBraW5kID0gVG9rZW5LaW5kLlJFVFVSTjtcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodGV4dCA9PSBcInNpemVvZlwiKSBraW5kID0gVG9rZW5LaW5kLlNJWkVPRjtcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodGV4dCA9PSBcInN0YXRpY1wiKSBraW5kID0gVG9rZW5LaW5kLlNUQVRJQztcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodGV4dCA9PSBcInVuc2FmZVwiKSBraW5kID0gVG9rZW5LaW5kLlVOU0FGRTtcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodGV4dCA9PSBcIkBzdGFydFwiKSBraW5kID0gVG9rZW5LaW5kLlNUQVJUO1xuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0ZXh0ID09IFwiZGVsZXRlXCIpIGtpbmQgPSBUb2tlbktpbmQuREVMRVRFO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGxlbmd0aCA9PSA3KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0ZXh0ID09IFwiYWxpZ25vZlwiKSBraW5kID0gVG9rZW5LaW5kLkFMSUdOT0Y7XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRleHQgPT0gXCJkZWNsYXJlXCIpIGtpbmQgPSBUb2tlbktpbmQuREVDTEFSRTtcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodGV4dCA9PSBcImV4dGVuZHNcIikga2luZCA9IFRva2VuS2luZC5FWFRFTkRTO1xuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0ZXh0ID09IFwicHJpdmF0ZVwiKSBraW5kID0gVG9rZW5LaW5kLlBSSVZBVEU7XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRleHQgPT0gXCJhbnlmdW5jXCIpIGtpbmQgPSBUb2tlbktpbmQuQU5ZRlVOQztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRleHQgPT0gXCJjb250aW51ZVwiKSBraW5kID0gVG9rZW5LaW5kLkNPTlRJTlVFO1xuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0ZXh0ID09IFwiQHZpcnR1YWxcIikga2luZCA9IFRva2VuS2luZC5WSVJUVUFMO1xuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0ZXh0ID09IFwiZnVuY3Rpb25cIikga2luZCA9IFRva2VuS2luZC5GVU5DVElPTjtcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodGV4dCA9PSBcImltcGxlbWVudHNcIikga2luZCA9IFRva2VuS2luZC5JTVBMRU1FTlRTO1xuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0ZXh0ID09IFwicHJvdGVjdGVkXCIpIGtpbmQgPSBUb2tlbktpbmQuUFJPVEVDVEVEO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEludGVnZXIgb3IgRmxvYXRcbiAgICAgICAgZWxzZSBpZiAoaXNOdW1iZXIoYykpIHtcblxuICAgICAgICAgICAgbGV0IGlzRmxvYXQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgICAgIGxldCBpc0RvdWJsZTogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgICAgICAgICAvL2tpbmQgPSBUb2tlbktpbmQuSU5UMzI7XG5cbiAgICAgICAgICAgIGlmIChpIDwgbGltaXQpIHtcbiAgICAgICAgICAgICAgICB2YXIgbmV4dCA9IGNvbnRlbnRzW2ldO1xuICAgICAgICAgICAgICAgIHZhciBiYXNlOiB1aW50OCA9IDEwO1xuXG4gICAgICAgICAgICAgICAgLy8gSGFuZGxlIGJpbmFyeSwgb2N0YWwsIGFuZCBoZXhhZGVjaW1hbCBwcmVmaXhlc1xuICAgICAgICAgICAgICAgIGlmIChjID09ICcwJyAmJiBpICsgMSA8IGxpbWl0KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXh0ID09ICdiJyB8fCBuZXh0ID09ICdCJykgYmFzZSA9IDI7XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5leHQgPT0gJ28nIHx8IG5leHQgPT0gJ08nKSBiYXNlID0gODtcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAobmV4dCA9PSAneCcgfHwgbmV4dCA9PSAnWCcpIGJhc2UgPSAxNjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJhc2UgIT0gMTApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0RpZ2l0KGNvbnRlbnRzW2kgKyAxXSwgYmFzZSkpIGkgPSBpICsgMjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgYmFzZSA9IDEwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbGV0IGZsb2F0Rm91bmQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBsZXQgZXhwb25lbnRGb3VuZDogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIC8vIFNjYW4gdGhlIHBheWxvYWRcbiAgICAgICAgICAgICAgICB3aGlsZSAoaSA8IGxpbWl0ICYmIChpc0RpZ2l0KGNvbnRlbnRzW2ldLCBiYXNlKSB8fFxuICAgICAgICAgICAgICAgICAgICAoZXhwb25lbnRGb3VuZCA9IGNvbnRlbnRzW2ldID09PSBcImVcIikgfHxcbiAgICAgICAgICAgICAgICAgICAgKGZsb2F0Rm91bmQgPSBjb250ZW50c1tpXSA9PT0gXCIuXCIpKSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGkgPSBpICsgMTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoZXhwb25lbnRGb3VuZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaXNGbG9hdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZihjb250ZW50c1tpXSA9PT0gXCIrXCIgfHwgY29udGVudHNbaV0gPT09IFwiLVwiKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpID0gaSArIDE7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoZmxvYXRGb3VuZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaXNGbG9hdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoY29udGVudHNbaV0gPT09IFwiZlwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGtpbmQgPSBUb2tlbktpbmQuRkxPQVQzMjtcbiAgICAgICAgICAgICAgICAgICAgaSA9IGkgKyAxO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGtpbmQgPSBpc0Zsb2F0ID8gVG9rZW5LaW5kLkZMT0FUNjQgOiBUb2tlbktpbmQuSU5UMzI7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gRXh0cmEgbGV0dGVycyBhZnRlciB0aGUgZW5kIGlzIGFuIGVycm9yXG4gICAgICAgICAgICAgICAgaWYgKGkgPCBsaW1pdCAmJiAoaXNBbHBoYShjb250ZW50c1tpXSkgfHwgaXNOdW1iZXIoY29udGVudHNbaV0pKSkge1xuICAgICAgICAgICAgICAgICAgICBpID0gaSArIDE7XG5cbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGkgPCBsaW1pdCAmJiAoaXNBbHBoYShjb250ZW50c1tpXSkgfHwgaXNOdW1iZXIoY29udGVudHNbaV0pKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaSA9IGkgKyAxO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgbG9nLmVycm9yKGNyZWF0ZVJhbmdlKHNvdXJjZSwgc3RhcnQsIGkpLCBTdHJpbmdCdWlsZGVyX25ldygpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKGBJbnZhbGlkICR7aXNGbG9hdCA/IFwiZmxvYXRcIiA6IFwiaW50ZWdlclwifSBsaXRlcmFsOiAnYClcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmRTbGljZShjb250ZW50cywgc3RhcnQsIGkpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kQ2hhcignXFwnJylcbiAgICAgICAgICAgICAgICAgICAgICAgIC5maW5pc2goKSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENoYXJhY3RlciBvciBzdHJpbmdcbiAgICAgICAgZWxzZSBpZiAoYyA9PSAnXCInIHx8IGMgPT0gJ1xcJycgfHwgYyA9PSAnYCcpIHtcbiAgICAgICAgICAgIHdoaWxlIChpIDwgbGltaXQpIHtcbiAgICAgICAgICAgICAgICB2YXIgbmV4dCA9IGNvbnRlbnRzW2ldO1xuXG4gICAgICAgICAgICAgICAgLy8gRXNjYXBlIGFueSBjaGFyYWN0ZXIgaW5jbHVkaW5nIG5ld2xpbmVzXG4gICAgICAgICAgICAgICAgaWYgKGkgKyAxIDwgbGltaXQgJiYgbmV4dCA9PSAnXFxcXCcpIHtcbiAgICAgICAgICAgICAgICAgICAgaSA9IGkgKyAyO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIE9ubHkgYWxsb3cgbmV3bGluZXMgaW4gdGVtcGxhdGUgbGl0ZXJhbHNcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChuZXh0ID09ICdcXG4nICYmIGMgIT0gJ2AnKSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIEhhbmRsZSBhIG5vcm1hbCBjaGFyYWN0ZXJcbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaSA9IGkgKyAxO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIEVuZCB0aGUgc3RyaW5nIHdpdGggYSBtYXRjaGluZyBxdW90ZSBjaGFyYWN0ZXJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5leHQgPT0gYykge1xuICAgICAgICAgICAgICAgICAgICAgICAga2luZCA9IGMgPT0gJ1xcJycgPyBUb2tlbktpbmQuQ0hBUkFDVEVSIDogVG9rZW5LaW5kLlNUUklORztcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBJdCdzIGFuIGVycm9yIGlmIHdlIGRpZG4ndCBmaW5kIGEgbWF0Y2hpbmcgcXVvdGUgY2hhcmFjdGVyXG4gICAgICAgICAgICBpZiAoa2luZCA9PSBUb2tlbktpbmQuRU5EX09GX0ZJTEUpIHtcbiAgICAgICAgICAgICAgICBsb2cuZXJyb3IoY3JlYXRlUmFuZ2Uoc291cmNlLCBzdGFydCwgaSksXG4gICAgICAgICAgICAgICAgICAgIGMgPT0gJ1xcJycgPyBcIlVudGVybWluYXRlZCBjaGFyYWN0ZXIgbGl0ZXJhbFwiIDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGMgPT0gJ2AnID8gXCJVbnRlcm1pbmF0ZWQgdGVtcGxhdGUgbGl0ZXJhbFwiIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlVudGVybWluYXRlZCBzdHJpbmcgbGl0ZXJhbFwiKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE9wZXJhdG9yc1xuICAgICAgICBlbHNlIGlmIChjID09ICclJykga2luZCA9IFRva2VuS2luZC5SRU1BSU5ERVI7XG4gICAgICAgIGVsc2UgaWYgKGMgPT0gJygnKSBraW5kID0gVG9rZW5LaW5kLkxFRlRfUEFSRU5USEVTSVM7XG4gICAgICAgIGVsc2UgaWYgKGMgPT0gJyknKSBraW5kID0gVG9rZW5LaW5kLlJJR0hUX1BBUkVOVEhFU0lTO1xuICAgICAgICBlbHNlIGlmIChjID09ICcsJykga2luZCA9IFRva2VuS2luZC5DT01NQTtcbiAgICAgICAgZWxzZSBpZiAoYyA9PSAnLicpIGtpbmQgPSBUb2tlbktpbmQuRE9UO1xuICAgICAgICBlbHNlIGlmIChjID09ICc6Jykga2luZCA9IFRva2VuS2luZC5DT0xPTjtcbiAgICAgICAgZWxzZSBpZiAoYyA9PSAnOycpIGtpbmQgPSBUb2tlbktpbmQuU0VNSUNPTE9OO1xuICAgICAgICBlbHNlIGlmIChjID09ICc/Jykga2luZCA9IFRva2VuS2luZC5RVUVTVElPTl9NQVJLO1xuICAgICAgICBlbHNlIGlmIChjID09ICdbJykga2luZCA9IFRva2VuS2luZC5MRUZUX0JSQUNLRVQ7XG4gICAgICAgIGVsc2UgaWYgKGMgPT0gJ10nKSBraW5kID0gVG9rZW5LaW5kLlJJR0hUX0JSQUNLRVQ7XG4gICAgICAgIGVsc2UgaWYgKGMgPT0gJ14nKSBraW5kID0gVG9rZW5LaW5kLkJJVFdJU0VfWE9SO1xuICAgICAgICBlbHNlIGlmIChjID09ICd7Jykga2luZCA9IFRva2VuS2luZC5MRUZUX0JSQUNFO1xuICAgICAgICBlbHNlIGlmIChjID09ICd9Jykga2luZCA9IFRva2VuS2luZC5SSUdIVF9CUkFDRTtcbiAgICAgICAgZWxzZSBpZiAoYyA9PSAnficpIGtpbmQgPSBUb2tlbktpbmQuQ09NUExFTUVOVDtcblxuICAgICAgICAvLyAqIG9yICoqXG4gICAgICAgIGVsc2UgaWYgKGMgPT0gJyonKSB7XG4gICAgICAgICAgICBraW5kID0gVG9rZW5LaW5kLk1VTFRJUExZO1xuXG4gICAgICAgICAgICBpZiAoaSA8IGxpbWl0ICYmIGNvbnRlbnRzW2ldID09ICcqJykge1xuICAgICAgICAgICAgICAgIGtpbmQgPSBUb2tlbktpbmQuRVhQT05FTlQ7XG4gICAgICAgICAgICAgICAgaSA9IGkgKyAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gLyBvciAvLyBvciAvKlxuICAgICAgICBlbHNlIGlmIChjID09ICcvJykge1xuICAgICAgICAgICAga2luZCA9IFRva2VuS2luZC5ESVZJREU7XG5cbiAgICAgICAgICAgIC8vIFNpbmdsZS1saW5lIGNvbW1lbnRzXG4gICAgICAgICAgICBpZiAoaSA8IGxpbWl0ICYmIGNvbnRlbnRzW2ldID09ICcvJykge1xuICAgICAgICAgICAgICAgIGkgPSBpICsgMTtcblxuICAgICAgICAgICAgICAgIHdoaWxlIChpIDwgbGltaXQgJiYgY29udGVudHNbaV0gIT0gJ1xcbicpIHtcbiAgICAgICAgICAgICAgICAgICAgaSA9IGkgKyAxO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBNdWx0aS1saW5lIGNvbW1lbnRzXG4gICAgICAgICAgICBpZiAoaSA8IGxpbWl0ICYmIGNvbnRlbnRzW2ldID09ICcqJykge1xuICAgICAgICAgICAgICAgIGkgPSBpICsgMTtcbiAgICAgICAgICAgICAgICB2YXIgZm91bmRFbmQgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgIHdoaWxlIChpIDwgbGltaXQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5leHQgPSBjb250ZW50c1tpXTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAobmV4dCA9PSAnKicgJiYgaSArIDEgPCBsaW1pdCAmJiBjb250ZW50c1tpICsgMV0gPT0gJy8nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3VuZEVuZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBpID0gaSArIDI7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGkgPSBpICsgMTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoIWZvdW5kRW5kKSB7XG4gICAgICAgICAgICAgICAgICAgIGxvZy5lcnJvcihjcmVhdGVSYW5nZShzb3VyY2UsIHN0YXJ0LCBzdGFydCArIDIpLCBcIlVudGVybWluYXRlZCBtdWx0aS1saW5lIGNvbW1lbnRcIik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gISBvciAhPVxuICAgICAgICBlbHNlIGlmIChjID09ICchJykge1xuICAgICAgICAgICAga2luZCA9IFRva2VuS2luZC5OT1Q7XG5cbiAgICAgICAgICAgIGlmIChpIDwgbGltaXQgJiYgY29udGVudHNbaV0gPT0gJz0nKSB7XG4gICAgICAgICAgICAgICAga2luZCA9IFRva2VuS2luZC5OT1RfRVFVQUw7XG4gICAgICAgICAgICAgICAgaSA9IGkgKyAxO1xuXG4gICAgICAgICAgICAgICAgLy8gUmVjb3ZlciBmcm9tICE9PVxuICAgICAgICAgICAgICAgIGlmIChpIDwgbGltaXQgJiYgY29udGVudHNbaV0gPT0gJz0nKSB7XG4gICAgICAgICAgICAgICAgICAgIGkgPSBpICsgMTtcbiAgICAgICAgICAgICAgICAgICAgbG9nLmVycm9yKGNyZWF0ZVJhbmdlKHNvdXJjZSwgc3RhcnQsIGkpLCBcIlVzZSAnIT0nIGluc3RlYWQgb2YgJyE9PSdcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gPSBvciA9PVxuICAgICAgICBlbHNlIGlmIChjID09ICc9Jykge1xuICAgICAgICAgICAga2luZCA9IFRva2VuS2luZC5BU1NJR047XG5cbiAgICAgICAgICAgIGlmIChpIDwgbGltaXQgJiYgY29udGVudHNbaV0gPT0gJz0nKSB7XG4gICAgICAgICAgICAgICAga2luZCA9IFRva2VuS2luZC5FUVVBTDtcbiAgICAgICAgICAgICAgICBpID0gaSArIDE7XG5cbiAgICAgICAgICAgICAgICAvLyBSZWNvdmVyIGZyb20gPT09XG4gICAgICAgICAgICAgICAgaWYgKGkgPCBsaW1pdCAmJiBjb250ZW50c1tpXSA9PSAnPScpIHtcbiAgICAgICAgICAgICAgICAgICAgaSA9IGkgKyAxO1xuICAgICAgICAgICAgICAgICAgICBsb2cuZXJyb3IoY3JlYXRlUmFuZ2Uoc291cmNlLCBzdGFydCwgaSksIFwiVXNlICc9PScgaW5zdGVhZCBvZiAnPT09J1wiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyArIG9yICsrXG4gICAgICAgIGVsc2UgaWYgKGMgPT0gJysnKSB7XG4gICAgICAgICAgICBraW5kID0gVG9rZW5LaW5kLlBMVVM7XG5cbiAgICAgICAgICAgIGlmIChpIDwgbGltaXQgJiYgY29udGVudHNbaV0gPT0gJysnKSB7XG4gICAgICAgICAgICAgICAga2luZCA9IFRva2VuS2luZC5QTFVTX1BMVVM7XG4gICAgICAgICAgICAgICAgaSA9IGkgKyAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gLSBvciAtLVxuICAgICAgICBlbHNlIGlmIChjID09ICctJykge1xuICAgICAgICAgICAga2luZCA9IFRva2VuS2luZC5NSU5VUztcblxuICAgICAgICAgICAgaWYgKGkgPCBsaW1pdCAmJiBjb250ZW50c1tpXSA9PSAnLScpIHtcbiAgICAgICAgICAgICAgICBraW5kID0gVG9rZW5LaW5kLk1JTlVTX01JTlVTO1xuICAgICAgICAgICAgICAgIGkgPSBpICsgMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vICYgb3IgJiZcbiAgICAgICAgZWxzZSBpZiAoYyA9PSAnJicpIHtcbiAgICAgICAgICAgIGtpbmQgPSBUb2tlbktpbmQuQklUV0lTRV9BTkQ7XG5cbiAgICAgICAgICAgIGlmIChpIDwgbGltaXQgJiYgY29udGVudHNbaV0gPT0gJyYnKSB7XG4gICAgICAgICAgICAgICAga2luZCA9IFRva2VuS2luZC5MT0dJQ0FMX0FORDtcbiAgICAgICAgICAgICAgICBpID0gaSArIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyB8IG9yIHx8XG4gICAgICAgIGVsc2UgaWYgKGMgPT0gJ3wnKSB7XG4gICAgICAgICAgICBraW5kID0gVG9rZW5LaW5kLkJJVFdJU0VfT1I7XG5cbiAgICAgICAgICAgIGlmIChpIDwgbGltaXQgJiYgY29udGVudHNbaV0gPT0gJ3wnKSB7XG4gICAgICAgICAgICAgICAga2luZCA9IFRva2VuS2luZC5MT0dJQ0FMX09SO1xuICAgICAgICAgICAgICAgIGkgPSBpICsgMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIDwgb3IgPDwgb3IgPD1cbiAgICAgICAgZWxzZSBpZiAoYyA9PSAnPCcpIHtcbiAgICAgICAgICAgIGtpbmQgPSBUb2tlbktpbmQuTEVTU19USEFOO1xuXG4gICAgICAgICAgICBpZiAoaSA8IGxpbWl0KSB7XG4gICAgICAgICAgICAgICAgYyA9IGNvbnRlbnRzW2ldO1xuXG4gICAgICAgICAgICAgICAgaWYgKGMgPT0gJzwnKSB7XG4gICAgICAgICAgICAgICAgICAgIGtpbmQgPSBUb2tlbktpbmQuU0hJRlRfTEVGVDtcbiAgICAgICAgICAgICAgICAgICAgaSA9IGkgKyAxO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGMgPT0gJz0nKSB7XG4gICAgICAgICAgICAgICAgICAgIGtpbmQgPSBUb2tlbktpbmQuTEVTU19USEFOX0VRVUFMO1xuICAgICAgICAgICAgICAgICAgICBpID0gaSArIDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gPiBvciA+PiBvciA+PVxuICAgICAgICBlbHNlIGlmIChjID09ICc+Jykge1xuICAgICAgICAgICAga2luZCA9IFRva2VuS2luZC5HUkVBVEVSX1RIQU47XG5cbiAgICAgICAgICAgIGlmIChpIDwgbGltaXQpIHtcbiAgICAgICAgICAgICAgICBjID0gY29udGVudHNbaV07XG5cbiAgICAgICAgICAgICAgICBpZiAoYyA9PSAnPicpIHtcbiAgICAgICAgICAgICAgICAgICAga2luZCA9IFRva2VuS2luZC5TSElGVF9SSUdIVDtcbiAgICAgICAgICAgICAgICAgICAgaSA9IGkgKyAxO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGMgPT0gJz0nKSB7XG4gICAgICAgICAgICAgICAgICAgIGtpbmQgPSBUb2tlbktpbmQuR1JFQVRFUl9USEFOX0VRVUFMO1xuICAgICAgICAgICAgICAgICAgICBpID0gaSArIDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZWxzZSBpZiAoYyA9PSAnIycpIHtcbiAgICAgICAgICAgIHdoaWxlIChpIDwgbGltaXQgJiYgKGlzQWxwaGEoY29udGVudHNbaV0pIHx8IGlzTnVtYmVyKGNvbnRlbnRzW2ldKSkpIHtcbiAgICAgICAgICAgICAgICBpID0gaSArIDE7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciB0ZXh0ID0gY29udGVudHMuc2xpY2Uoc3RhcnQsIGkpO1xuXG4gICAgICAgICAgICBpZiAodGV4dCA9PSBcIiNkZWZpbmVcIikga2luZCA9IFRva2VuS2luZC5QUkVQUk9DRVNTT1JfREVGSU5FO1xuICAgICAgICAgICAgZWxzZSBpZiAodGV4dCA9PSBcIiNlbGlmXCIpIGtpbmQgPSBUb2tlbktpbmQuUFJFUFJPQ0VTU09SX0VMSUY7XG4gICAgICAgICAgICBlbHNlIGlmICh0ZXh0ID09IFwiI2Vsc2VcIikga2luZCA9IFRva2VuS2luZC5QUkVQUk9DRVNTT1JfRUxTRTtcbiAgICAgICAgICAgIGVsc2UgaWYgKHRleHQgPT0gXCIjZW5kaWZcIikga2luZCA9IFRva2VuS2luZC5QUkVQUk9DRVNTT1JfRU5ESUY7XG4gICAgICAgICAgICBlbHNlIGlmICh0ZXh0ID09IFwiI2Vycm9yXCIpIGtpbmQgPSBUb2tlbktpbmQuUFJFUFJPQ0VTU09SX0VSUk9SO1xuICAgICAgICAgICAgZWxzZSBpZiAodGV4dCA9PSBcIiNpZlwiKSBraW5kID0gVG9rZW5LaW5kLlBSRVBST0NFU1NPUl9JRjtcbiAgICAgICAgICAgIGVsc2UgaWYgKHRleHQgPT0gXCIjdW5kZWZcIikga2luZCA9IFRva2VuS2luZC5QUkVQUk9DRVNTT1JfVU5ERUY7XG4gICAgICAgICAgICBlbHNlIGlmICh0ZXh0ID09IFwiI3dhcm5pbmdcIikga2luZCA9IFRva2VuS2luZC5QUkVQUk9DRVNTT1JfV0FSTklORztcblxuICAgICAgICAgICAgLy8gQWxsb3cgYSBzaGViYW5nIGF0IHRoZSBzdGFydCBvZiB0aGUgZmlsZVxuICAgICAgICAgICAgZWxzZSBpZiAoc3RhcnQgPT0gMCAmJiB0ZXh0ID09IFwiI1wiICYmIGkgPCBsaW1pdCAmJiBjb250ZW50c1tpXSA9PSAnIScpIHtcbiAgICAgICAgICAgICAgICB3aGlsZSAoaSA8IGxpbWl0ICYmIGNvbnRlbnRzW2ldICE9ICdcXG4nKSB7XG4gICAgICAgICAgICAgICAgICAgIGkgPSBpICsgMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBidWlsZGVyID0gU3RyaW5nQnVpbGRlcl9uZXcoKS5hcHBlbmQoXCJJbnZhbGlkIHByZXByb2Nlc3NvciB0b2tlbiAnXCIpLmFwcGVuZCh0ZXh0KS5hcHBlbmRDaGFyKCdcXCcnKTtcblxuICAgICAgICAgICAgICAgIC8vIENoZWNrIGZvciAjaWYgdHlwb3NcbiAgICAgICAgICAgICAgICBpZiAodGV4dCA9PSBcIiNpZmRlZlwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGJ1aWxkZXIuYXBwZW5kKFwiLCBkaWQgeW91IG1lYW4gJyNpZic/XCIpO1xuICAgICAgICAgICAgICAgICAgICBraW5kID0gVG9rZW5LaW5kLlBSRVBST0NFU1NPUl9JRjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBDaGVjayBmb3IgI2VsaWYgdHlwb3NcbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0ZXh0ID09IFwiI2Vsc2lmXCIgfHwgdGV4dCA9PSBcIiNlbHNlaWZcIikge1xuICAgICAgICAgICAgICAgICAgICBidWlsZGVyLmFwcGVuZChcIiwgZGlkIHlvdSBtZWFuICcjZWxpZic/XCIpO1xuICAgICAgICAgICAgICAgICAgICBraW5kID0gVG9rZW5LaW5kLlBSRVBST0NFU1NPUl9FTElGO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIENoZWNrIGZvciAjZW5kaWYgdHlwb3NcbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0ZXh0ID09IFwiI2VuZFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGJ1aWxkZXIuYXBwZW5kKFwiLCBkaWQgeW91IG1lYW4gJyNlbmRpZic/XCIpO1xuICAgICAgICAgICAgICAgICAgICBraW5kID0gVG9rZW5LaW5kLlBSRVBST0NFU1NPUl9FTkRJRjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBsb2cuZXJyb3IoY3JlYXRlUmFuZ2Uoc291cmNlLCBzdGFydCwgaSksIGJ1aWxkZXIuZmluaXNoKCkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBBbGwgcHJlcHJvY2Vzc29yIGRpcmVjdGl2ZXMgbXVzdCBiZSBvbiBhIGxpbmUgYnkgdGhlbXNlbHZlc1xuICAgICAgICAgICAgaWYgKGxhc3QgIT0gbnVsbCAmJiBsYXN0LmtpbmQgIT0gVG9rZW5LaW5kLlBSRVBST0NFU1NPUl9ORVdMSU5FKSB7XG4gICAgICAgICAgICAgICAgdmFyIGVuZCA9IGxhc3QucmFuZ2UuZW5kO1xuICAgICAgICAgICAgICAgIHZhciBqID0gaSAtIDE7XG4gICAgICAgICAgICAgICAgd2hpbGUgKGogPj0gZW5kKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb250ZW50c1tqXSA9PSAnXFxuJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaiA9IGogLSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaiA8IGVuZCkge1xuICAgICAgICAgICAgICAgICAgICBsb2cuZXJyb3IoY3JlYXRlUmFuZ2Uoc291cmNlLCBzdGFydCwgaSksIFN0cmluZ0J1aWxkZXJfbmV3KClcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoXCJFeHBlY3RlZCBuZXdsaW5lIGJlZm9yZSBcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQodG9rZW5Ub1N0cmluZyhraW5kKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5maW5pc2goKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBuZWVkc1ByZXByb2Nlc3NvciA9IHRydWU7XG4gICAgICAgICAgICB3YW50TmV3bGluZSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcmFuZ2UgPSBjcmVhdGVSYW5nZShzb3VyY2UsIHN0YXJ0LCBpKTtcblxuICAgICAgICBpZiAoa2luZCA9PSBUb2tlbktpbmQuRU5EX09GX0ZJTEUpIHtcbiAgICAgICAgICAgIGxvZy5lcnJvcihyYW5nZSwgU3RyaW5nQnVpbGRlcl9uZXcoKVxuICAgICAgICAgICAgICAgIC5hcHBlbmQoXCJTeW50YXggZXJyb3I6ICdcIilcbiAgICAgICAgICAgICAgICAuYXBwZW5kU2xpY2UoY29udGVudHMsIHN0YXJ0LCBzdGFydCArIDEpXG4gICAgICAgICAgICAgICAgLmFwcGVuZENoYXIoJ1xcJycpXG4gICAgICAgICAgICAgICAgLmZpbmlzaCgpKTtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHRva2VuID0gbmV3IFRva2VuKCk7XG4gICAgICAgIHRva2VuLmtpbmQgPSBraW5kO1xuICAgICAgICB0b2tlbi5yYW5nZSA9IHJhbmdlO1xuXG4gICAgICAgIGlmIChmaXJzdCA9PSBudWxsKSBmaXJzdCA9IHRva2VuO1xuICAgICAgICBlbHNlIGxhc3QubmV4dCA9IHRva2VuO1xuICAgICAgICBsYXN0ID0gdG9rZW47XG4gICAgfVxuXG4gICAgdmFyIGVvZiA9IG5ldyBUb2tlbigpO1xuICAgIGVvZi5raW5kID0gVG9rZW5LaW5kLkVORF9PRl9GSUxFO1xuICAgIGVvZi5yYW5nZSA9IGNyZWF0ZVJhbmdlKHNvdXJjZSwgbGltaXQsIGxpbWl0KTtcblxuICAgIGlmIChmaXJzdCA9PSBudWxsKSBmaXJzdCA9IGVvZjtcbiAgICBlbHNlIGxhc3QubmV4dCA9IGVvZjtcbiAgICBsYXN0ID0gZW9mO1xuXG4gICAgLy8gUGFzcyBhIFwiZmxhZ1wiIGZvciB3aGV0aGVyIHRoZSBwcmVwcm9jZXNzb3IgaXMgbmVlZGVkIGJhY2sgdG8gdGhlIGNhbGxlclxuICAgIGlmIChuZWVkc1ByZXByb2Nlc3Nvcikge1xuICAgICAgICB2YXIgdG9rZW4gPSBuZXcgVG9rZW4oKTtcbiAgICAgICAgdG9rZW4ua2luZCA9IFRva2VuS2luZC5QUkVQUk9DRVNTT1JfTkVFREVEO1xuICAgICAgICB0b2tlbi5uZXh0ID0gZmlyc3Q7XG4gICAgICAgIHJldHVybiB0b2tlbjtcbiAgICB9XG5cbiAgICByZXR1cm4gZmlyc3Q7XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tcGlsZXIvc2Nhbm5lci9zY2FubmVyLnRzIiwiLy8vPHJlZmVyZW5jZSBwYXRoPVwiLi4vZGVjbGFyYXRpb25zLmQudHNcIiAvPlxuaW1wb3J0IHtDaGVja0NvbnRleHQsIENoZWNrTW9kZSwgcmVzb2x2ZSwgaW5pdGlhbGl6ZX0gZnJvbSBcIi4vYW5hbHl6ZXIvdHlwZS1jaGVja2VyXCI7XG5pbXBvcnQge05vZGUsIE5PREVfRkxBR19MSUJSQVJZLCBOb2RlS2luZH0gZnJvbSBcIi4vY29yZS9ub2RlXCI7XG5pbXBvcnQge0J5dGVBcnJheX0gZnJvbSBcIi4uL3V0aWxzL2J5dGVhcnJheVwiO1xuaW1wb3J0IHtMb2csIFNvdXJjZX0gZnJvbSBcIi4uL3V0aWxzL2xvZ1wiO1xuaW1wb3J0IHtQcmVwcm9jZXNzb3J9IGZyb20gXCIuL3ByZXByb2Nlc3Nvci9wcmVwcm9jZXNzb3JcIjtcbmltcG9ydCB7U2NvcGV9IGZyb20gXCIuL2NvcmUvc2NvcGVcIjtcbmltcG9ydCB7dG9rZW5pemV9IGZyb20gXCIuL3NjYW5uZXIvc2Nhbm5lclwiO1xuaW1wb3J0IHtwYXJzZX0gZnJvbSBcIi4vcGFyc2VyL3BhcnNlclwiO1xuaW1wb3J0IHt0cmVlU2hha2luZ30gZnJvbSBcIi4vb3B0aW1pemVyL3NoYWtpbmdcIjtcbmltcG9ydCB7U3RyaW5nQnVpbGRlcl9uZXd9IGZyb20gXCIuLi91dGlscy9zdHJpbmdidWlsZGVyXCI7XG5pbXBvcnQge2NwcEVtaXR9IGZyb20gXCIuLi9iYWNrZW5kcy9jKysvYysrXCI7XG5pbXBvcnQge2pzRW1pdH0gZnJvbSBcIi4uL2JhY2tlbmRzL2phdmFzY3JpcHQvanNcIjtcbmltcG9ydCB7d2FzbUVtaXR9IGZyb20gXCIuLi9iYWNrZW5kcy93ZWJhc3NlbWJseS93ZWJhc3NlbWJseVwiO1xuaW1wb3J0IHtMaWJyYXJ5fSBmcm9tIFwiLi4vbGlicmFyeS9saWJyYXJ5XCI7XG5pbXBvcnQge3ByZXBhcnNlfSBmcm9tIFwiLi9wYXJzZXIvcHJlcGFyc2VyXCI7XG5pbXBvcnQge0NvbXBpbGVUYXJnZXR9IGZyb20gXCIuL2NvbXBpbGUtdGFyZ2V0XCI7XG5pbXBvcnQge2Fzc2VydH0gZnJvbSBcIi4uL3V0aWxzL2Fzc2VydFwiO1xuaW1wb3J0IHtUZXJtaW5hbH0gZnJvbSBcIi4uL3V0aWxzL3Rlcm1pbmFsXCI7XG4vKipcbiAqIEF1dGhvcjogTmlkaW4gVmluYXlha2FuXG4gKi9cblxuZXhwb3J0IGNsYXNzIENvbXBpbGVyIHtcbiAgICBsb2c6IExvZztcbiAgICBnbG9iYWw6IE5vZGU7XG4gICAgZmlyc3RTb3VyY2U6IFNvdXJjZTtcbiAgICBsYXN0U291cmNlOiBTb3VyY2U7XG4gICAgcHJlcHJvY2Vzc29yOiBQcmVwcm9jZXNzb3I7XG4gICAgdGFyZ2V0OiBDb21waWxlVGFyZ2V0O1xuICAgIGNvbnRleHQ6IENoZWNrQ29udGV4dDtcbiAgICBsaWJyYXJ5U291cmNlOiBTb3VyY2U7XG4gICAgcnVudGltZVNvdXJjZTogc3RyaW5nO1xuICAgIHdyYXBwZXJTb3VyY2U6IHN0cmluZztcbiAgICBvdXRwdXROYW1lOiBzdHJpbmc7XG4gICAgb3V0cHV0V0FTTTogQnl0ZUFycmF5O1xuICAgIG91dHB1dEpTOiBzdHJpbmc7XG4gICAgb3V0cHV0Q1BQOiBzdHJpbmc7XG4gICAgb3V0cHV0SDogc3RyaW5nO1xuXG4gICAgc3RhdGljIG1hbGxvY1JlcXVpcmVkOmJvb2xlYW4gPSBmYWxzZTtcblxuICAgIGluaXRpYWxpemUodGFyZ2V0OiBDb21waWxlVGFyZ2V0LCBvdXRwdXROYW1lOiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgYXNzZXJ0KHRoaXMubG9nID09IG51bGwpO1xuICAgICAgICB0aGlzLmxvZyA9IG5ldyBMb2coKTtcbiAgICAgICAgdGhpcy5wcmVwcm9jZXNzb3IgPSBuZXcgUHJlcHJvY2Vzc29yKCk7XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gdGFyZ2V0O1xuICAgICAgICB0aGlzLm91dHB1dE5hbWUgPSBvdXRwdXROYW1lO1xuICAgICAgICB0aGlzLmxpYnJhcnlTb3VyY2UgPSB0aGlzLmFkZElucHV0KFwiPG5hdGl2ZT5cIiwgTGlicmFyeS5nZXQodGFyZ2V0KSk7XG4gICAgICAgIHRoaXMubGlicmFyeVNvdXJjZS5pc0xpYnJhcnkgPSB0cnVlO1xuICAgICAgICB0aGlzLnJ1bnRpbWVTb3VyY2UgPSBMaWJyYXJ5LmdldFJ1bnRpbWUodGFyZ2V0KTtcbiAgICAgICAgdGhpcy53cmFwcGVyU291cmNlID0gTGlicmFyeS5nZXRXcmFwcGVyKHRhcmdldCk7XG4gICAgICAgIHRoaXMuY3JlYXRlR2xvYmFscygpO1xuXG4gICAgICAgIGlmICh0YXJnZXQgPT0gQ29tcGlsZVRhcmdldC5DUFApIHtcbiAgICAgICAgICAgIHRoaXMucHJlcHJvY2Vzc29yLmRlZmluZShcIkNQUFwiLCB0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGVsc2UgaWYgKHRhcmdldCA9PSBDb21waWxlVGFyZ2V0LkpBVkFTQ1JJUFQpIHtcbiAgICAgICAgICAgIHRoaXMucHJlcHJvY2Vzc29yLmRlZmluZShcIkpTXCIsIHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgZWxzZSBpZiAodGFyZ2V0ID09IENvbXBpbGVUYXJnZXQuV0VCQVNTRU1CTFkpIHtcbiAgICAgICAgICAgIHRoaXMucHJlcHJvY2Vzc29yLmRlZmluZShcIldBU01cIiwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjcmVhdGVHbG9iYWxzKCk6IHZvaWQge1xuICAgICAgICBsZXQgY29udGV4dCA9IG5ldyBDaGVja0NvbnRleHQoKTtcbiAgICAgICAgY29udGV4dC5sb2cgPSB0aGlzLmxvZztcbiAgICAgICAgY29udGV4dC50YXJnZXQgPSB0aGlzLnRhcmdldDtcbiAgICAgICAgY29udGV4dC5wb2ludGVyQnl0ZVNpemUgPSA0OyAvLyBBc3N1bWUgMzItYml0IGNvZGUgZ2VuZXJhdGlvbiBmb3Igbm93XG5cbiAgICAgICAgbGV0IGdsb2JhbCA9IG5ldyBOb2RlKCk7XG4gICAgICAgIGdsb2JhbC5raW5kID0gTm9kZUtpbmQuR0xPQkFMO1xuXG4gICAgICAgIGxldCBzY29wZSA9IG5ldyBTY29wZSgpO1xuICAgICAgICBnbG9iYWwuc2NvcGUgPSBzY29wZTtcblxuICAgICAgICAvLyBIYXJkLWNvZGVkIHR5cGVzXG4gICAgICAgIGNvbnRleHQuYW55VHlwZSA9IHNjb3BlLmRlZmluZU5hdGl2ZVR5cGUoY29udGV4dC5sb2csIFwiYW55XCIpO1xuICAgICAgICBjb250ZXh0LmVycm9yVHlwZSA9IHNjb3BlLmRlZmluZU5hdGl2ZVR5cGUoY29udGV4dC5sb2csIFwiPGVycm9yPlwiKTtcbiAgICAgICAgY29udGV4dC5udWxsVHlwZSA9IHNjb3BlLmRlZmluZU5hdGl2ZVR5cGUoY29udGV4dC5sb2csIFwibnVsbFwiKTtcbiAgICAgICAgY29udGV4dC51bmRlZmluZWRUeXBlID0gc2NvcGUuZGVmaW5lTmF0aXZlVHlwZShjb250ZXh0LmxvZywgXCJ1bmRlZmluZWRcIik7XG4gICAgICAgIGNvbnRleHQudm9pZFR5cGUgPSBzY29wZS5kZWZpbmVOYXRpdmVUeXBlKGNvbnRleHQubG9nLCBcInZvaWRcIik7XG5cbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgdGhpcy5nbG9iYWwgPSBnbG9iYWw7XG4gICAgfVxuXG4gICAgYWRkSW5wdXQobmFtZTogc3RyaW5nLCBjb250ZW50czogc3RyaW5nKTogU291cmNlIHtcbiAgICAgICAgbGV0IHNvdXJjZSA9IG5ldyBTb3VyY2UoKTtcbiAgICAgICAgc291cmNlLm5hbWUgPSBuYW1lO1xuICAgICAgICBzb3VyY2UuY29udGVudHMgPSBjb250ZW50cztcblxuICAgICAgICBpZiAodGhpcy5maXJzdFNvdXJjZSA9PSBudWxsKSB0aGlzLmZpcnN0U291cmNlID0gc291cmNlO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHNvdXJjZS5wcmV2ID0gdGhpcy5sYXN0U291cmNlO1xuICAgICAgICAgICAgdGhpcy5sYXN0U291cmNlLm5leHQgPSBzb3VyY2U7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sYXN0U291cmNlID0gc291cmNlO1xuXG4gICAgICAgIHJldHVybiBzb3VyY2U7XG4gICAgfVxuXG4gICAgYWRkSW5wdXRCZWZvcmUobmFtZTogc3RyaW5nLCBjb250ZW50czogc3RyaW5nLCBuZXh0U291cmNlOlNvdXJjZSk6IFNvdXJjZSB7XG4gICAgICAgIGxldCBzb3VyY2UgPSBuZXcgU291cmNlKCk7XG4gICAgICAgIHNvdXJjZS5uYW1lID0gbmFtZTtcbiAgICAgICAgc291cmNlLmNvbnRlbnRzID0gY29udGVudHM7XG5cbiAgICAgICAgbmV4dFNvdXJjZS5wcmV2Lm5leHQgPSBzb3VyY2U7XG4gICAgICAgIHNvdXJjZS5wcmV2ID0gbmV4dFNvdXJjZS5wcmV2O1xuICAgICAgICBuZXh0U291cmNlLnByZXYgPSBzb3VyY2U7XG4gICAgICAgIHNvdXJjZS5uZXh0ID0gbmV4dFNvdXJjZTtcblxuICAgICAgICByZXR1cm4gc291cmNlO1xuICAgIH1cblxuICAgIGZpbmlzaCgpOiBib29sZWFuIHtcbiAgICAgICAgVGVybWluYWwudGltZShcInByZS1wYXJzaW5nXCIpO1xuXG4gICAgICAgIGxldCBzb3VyY2UgPSB0aGlzLmZpcnN0U291cmNlO1xuICAgICAgICB3aGlsZSAoc291cmNlICE9IG51bGwpIHtcbiAgICAgICAgICAgIGlmKCFwcmVwYXJzZShzb3VyY2UsIHRoaXMsIHRoaXMubG9nKSl7XG4gICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNvdXJjZSA9IHNvdXJjZS5uZXh0O1xuICAgICAgICB9XG4gICAgICAgIFRlcm1pbmFsLnRpbWVFbmQoXCJwcmUtcGFyc2luZ1wiKTtcblxuICAgICAgICBUZXJtaW5hbC50aW1lKFwic2Nhbm5pbmdcIik7XG5cbiAgICAgICAgc291cmNlID0gdGhpcy5maXJzdFNvdXJjZTtcbiAgICAgICAgd2hpbGUgKHNvdXJjZSAhPSBudWxsKSB7XG4gICAgICAgICAgICBzb3VyY2UuZmlyc3RUb2tlbiA9IHRva2VuaXplKHNvdXJjZSwgdGhpcy5sb2cpO1xuICAgICAgICAgICAgc291cmNlID0gc291cmNlLm5leHQ7XG4gICAgICAgIH1cblxuICAgICAgICBUZXJtaW5hbC50aW1lRW5kKFwic2Nhbm5pbmdcIik7XG4gICAgICAgIFRlcm1pbmFsLnRpbWUoXCJwcmUtcHJvY2Vzc2luZ1wiKTtcblxuICAgICAgICBzb3VyY2UgPSB0aGlzLmZpcnN0U291cmNlO1xuICAgICAgICB3aGlsZSAoc291cmNlICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMucHJlcHJvY2Vzc29yLnJ1bihzb3VyY2UsIHRoaXMubG9nKTtcbiAgICAgICAgICAgIHNvdXJjZSA9IHNvdXJjZS5uZXh0O1xuICAgICAgICB9XG5cbiAgICAgICAgVGVybWluYWwudGltZUVuZChcInByZS1wcm9jZXNzaW5nXCIpO1xuICAgICAgICBUZXJtaW5hbC50aW1lKFwicGFyc2luZ1wiKTtcblxuICAgICAgICBzb3VyY2UgPSB0aGlzLmZpcnN0U291cmNlO1xuICAgICAgICB3aGlsZSAoc291cmNlICE9IG51bGwpIHtcbiAgICAgICAgICAgIGlmIChzb3VyY2UuZmlyc3RUb2tlbiAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgc291cmNlLmZpbGUgPSBwYXJzZShzb3VyY2UuZmlyc3RUb2tlbiwgdGhpcy5sb2cpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc291cmNlID0gc291cmNlLm5leHQ7XG4gICAgICAgIH1cblxuICAgICAgICBUZXJtaW5hbC50aW1lRW5kKFwicGFyc2luZ1wiKTtcbiAgICAgICAgVGVybWluYWwudGltZShcInR5cGUtY2hlY2tpbmdcIik7XG5cbiAgICAgICAgbGV0IGdsb2JhbCA9IHRoaXMuZ2xvYmFsO1xuICAgICAgICBsZXQgY29udGV4dCA9IHRoaXMuY29udGV4dDtcbiAgICAgICAgbGV0IGZ1bGxSZXNvbHZlID0gdHJ1ZTtcblxuICAgICAgICBzb3VyY2UgPSB0aGlzLmZpcnN0U291cmNlO1xuICAgICAgICB3aGlsZSAoc291cmNlICE9IG51bGwpIHtcbiAgICAgICAgICAgIGxldCBmaWxlID0gc291cmNlLmZpbGU7XG5cbiAgICAgICAgICAgIGlmIChmaWxlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAoc291cmNlLmlzTGlicmFyeSkge1xuICAgICAgICAgICAgICAgICAgICBmaWxlLmZsYWdzIHw9IE5PREVfRkxBR19MSUJSQVJZO1xuICAgICAgICAgICAgICAgICAgICBpbml0aWFsaXplKGNvbnRleHQsIGZpbGUsIGdsb2JhbC5zY29wZSwgQ2hlY2tNb2RlLklOSVRJQUxJWkUpO1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGNvbnRleHQsIGZpbGUsIGdsb2JhbC5zY29wZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaW5pdGlhbGl6ZShjb250ZXh0LCBmaWxlLCBnbG9iYWwuc2NvcGUsIENoZWNrTW9kZS5OT1JNQUwpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHdoaWxlIChmaWxlLmZpcnN0Q2hpbGQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgY2hpbGQgPSBmaWxlLmZpcnN0Q2hpbGQ7XG4gICAgICAgICAgICAgICAgICAgIGNoaWxkLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICAgICBnbG9iYWwuYXBwZW5kQ2hpbGQoY2hpbGQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gU3RvcCBpZiB0aGUgbGlicmFyeSBjb2RlIGhhcyBlcnJvcnMgYmVjYXVzZSBpdCdzIGhpZ2hseSBsaWtlbHkgdGhhdCBldmVyeXRoaW5nIGlzIGJyb2tlblxuICAgICAgICAgICAgaWYgKHNvdXJjZS5pc0xpYnJhcnkgJiYgdGhpcy5sb2cuaGFzRXJyb3JzKCkpIHtcbiAgICAgICAgICAgICAgICBmdWxsUmVzb2x2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzb3VyY2UgPSBzb3VyY2UubmV4dDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChmdWxsUmVzb2x2ZSkge1xuICAgICAgICAgICAgcmVzb2x2ZShjb250ZXh0LCBnbG9iYWwsIGdsb2JhbC5zY29wZSk7XG4gICAgICAgIH1cblxuICAgICAgICBUZXJtaW5hbC50aW1lRW5kKFwidHlwZS1jaGVja2luZ1wiKTtcblxuICAgICAgICBpZiAodGhpcy5sb2cuaGFzRXJyb3JzKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIFRlcm1pbmFsLnRpbWUoXCJvcHRpbWl6aW5nXCIpO1xuXG4gICAgICAgIHRyZWVTaGFraW5nKGdsb2JhbCk7XG5cbiAgICAgICAgVGVybWluYWwudGltZUVuZChcIm9wdGltaXppbmdcIik7XG4gICAgICAgIFRlcm1pbmFsLnRpbWUoXCJlbWl0dGluZ1wiKTtcblxuICAgICAgICAvLyBpZiAodGhpcy50YXJnZXQgPT0gQ29tcGlsZVRhcmdldC5DKSB7XG4gICAgICAgIC8vICAgICBjRW1pdCh0aGlzKTtcbiAgICAgICAgLy8gfVxuXG4gICAgICAgIC8vIGVsc2UgaWYgKHRoaXMudGFyZ2V0ID09IENvbXBpbGVUYXJnZXQuSkFWQVNDUklQVCkge1xuICAgICAgICAvLyAgICAganNFbWl0KHRoaXMpO1xuICAgICAgICAvLyB9IGVsc2VcblxuICAgICAgICBpZiAodGhpcy50YXJnZXQgPT0gQ29tcGlsZVRhcmdldC5XRUJBU1NFTUJMWSkge1xuICAgICAgICAgICAgd2FzbUVtaXQodGhpcyk7XG4gICAgICAgIH1cblxuICAgICAgICBUZXJtaW5hbC50aW1lRW5kKFwiZW1pdHRpbmdcIik7XG5cbiAgICAgICAgVGVybWluYWwud3JpdGUoXCJEb25lIVwiKTtcblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZXBsYWNlRmlsZUV4dGVuc2lvbihwYXRoOiBzdHJpbmcsIGV4dGVuc2lvbjogc3RyaW5nKTogc3RyaW5nIHtcbiAgICBsZXQgYnVpbGRlciA9IFN0cmluZ0J1aWxkZXJfbmV3KCk7XG4gICAgbGV0IGRvdCA9IHBhdGgubGFzdEluZGV4T2YoXCIuXCIpO1xuICAgIGxldCBmb3J3YXJkID0gcGF0aC5sYXN0SW5kZXhPZihcIi9cIik7XG4gICAgbGV0IGJhY2t3YXJkID0gcGF0aC5sYXN0SW5kZXhPZihcIlxcXFxcIik7XG5cbiAgICAvLyBNYWtlIHN1cmUgdGhhdCB0aGVyZSdzIGEgbm9uLWVtcHR5IGZpbGUgbmFtZSB0aGF0IHRoZSBkb3QgaXMgYSBwYXJ0IG9mXG4gICAgaWYgKGRvdCA+IDAgJiYgZG90ID4gZm9yd2FyZCAmJiBkb3QgPiBiYWNrd2FyZCkge1xuICAgICAgICBwYXRoID0gcGF0aC5zbGljZSgwLCBkb3QpO1xuICAgIH1cblxuICAgIHJldHVybiBidWlsZGVyLmFwcGVuZChwYXRoKS5hcHBlbmQoZXh0ZW5zaW9uKS5maW5pc2goKTtcbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb21waWxlci9jb21waWxlci50cyIsIi8qKlxuICogQ3JlYXRlZCBieSBuLnZpbmF5YWthbiBvbiAwMi4wNi4xNy5cbiAqL1xuZXhwb3J0IGVudW0gV2FzbVR5cGUge1xuICAgIFZPSUQgPSAwLFxuICAgIEkzMiA9IDB4N2YsXG4gICAgSTY0ID0gMHg3ZSxcbiAgICBGMzIgPSAweDdkLFxuICAgIEY2NCA9IDB4N2MsXG4gICAgYW55ZnVuYyA9IDB4NzAsXG4gICAgZnVuYyA9IDB4NjAsXG4gICAgYmxvY2tfdHlwZSA9IDB4NDAsIC8vcHNldWRvIHR5cGUgZm9yIHJlcHJlc2VudGluZyBhbiBlbXB0eSBibG9ja190eXBlXG59XG5cbmV4cG9ydCBjbGFzcyBXYXNtV3JhcHBlZFR5cGUge1xuICAgIGlkOiBXYXNtVHlwZTtcbiAgICBuZXh0OiBXYXNtV3JhcHBlZFR5cGU7XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvYmFja2VuZHMvd2ViYXNzZW1ibHkvY29yZS93YXNtLXR5cGUudHMiLCJpbXBvcnQge3RvSGV4fSBmcm9tIFwiLi4vLi4vLi4vdXRpbHMvdXRpbHNcIjtcbmltcG9ydCB7Qnl0ZUFycmF5fSBmcm9tIFwiLi4vLi4vLi4vdXRpbHMvYnl0ZWFycmF5XCI7XG4vKipcbiAqIENyZWF0ZWQgYnkgbi52aW5heWFrYW4gb24gMDIuMDYuMTcuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsb2coYXJyYXk6IEJ5dGVBcnJheSwgb2Zmc2V0ID0gMCwgdmFsdWUgPSBudWxsLCBtc2cgPSBudWxsKSB7XG4gICAgaWYgKGdsb2JhbFtcImRlYnVnXCJdKSB7XG4gICAgICAgIGFycmF5LmxvZyArPSAodmFsdWUgIT0gbnVsbCA/IGAke3RvSGV4KG9mZnNldCArIGFycmF5LnBvc2l0aW9uKX06ICR7dG9IZXgodmFsdWUsIDIpfSAgICAgICAgICAgICAgICAgICAgOyBgIDogXCJcIikgKyAobXNnICE9IG51bGwgPyBgJHttc2d9XFxuYCA6IFwiXFxuXCIpO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBsb2dEYXRhKGFycmF5OiBCeXRlQXJyYXksIG9mZnNldCA9IDAsIHZhbHVlLCBhZGRQb3NpdGlvbiA9IHRydWUpIHtcbiAgICBpZiAoZ2xvYmFsW1wiZGVidWdcIl0pIHtcbiAgICAgICAgYXJyYXkubG9nICs9IChhZGRQb3NpdGlvbiA/IGAke3RvSGV4KG9mZnNldCArIGFycmF5LnBvc2l0aW9uKX06ICR7dG9IZXgodmFsdWUsIDIpfWAgOiBgICR7dG9IZXgodmFsdWUsIDIpfWApO1xuICAgIH1cbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvYmFja2VuZHMvd2ViYXNzZW1ibHkvdXRpbHMvbG9nZ2VyLnRzIiwiaW1wb3J0IHthc3NlcnR9IGZyb20gXCIuL2Fzc2VydFwiO1xuZXhwb3J0IGZ1bmN0aW9uIEJ5dGVBcnJheV9zZXQxNihhcnJheTogQnl0ZUFycmF5LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogbnVtYmVyKTogdm9pZCB7XG4gICAgYXJyYXkuc2V0KGluZGV4LCB2YWx1ZSk7XG4gICAgYXJyYXkuc2V0KGluZGV4ICsgMSwgKHZhbHVlID4+IDgpKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEJ5dGVBcnJheV9zZXQzMihhcnJheTogQnl0ZUFycmF5LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogbnVtYmVyKTogdm9pZCB7XG4gICAgYXJyYXkuc2V0KGluZGV4LCB2YWx1ZSk7XG4gICAgYXJyYXkuc2V0KGluZGV4ICsgMSwgKHZhbHVlID4+IDgpKTtcbiAgICBhcnJheS5zZXQoaW5kZXggKyAyLCAodmFsdWUgPj4gMTYpKTtcbiAgICBhcnJheS5zZXQoaW5kZXggKyAzLCAodmFsdWUgPj4gMjQpKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEJ5dGVBcnJheV9hcHBlbmQzMihhcnJheTogQnl0ZUFycmF5LCB2YWx1ZTogbnVtYmVyKTogdm9pZCB7XG4gICAgYXJyYXkuYXBwZW5kKHZhbHVlKTtcbiAgICBhcnJheS5hcHBlbmQoKHZhbHVlID4+IDgpKTtcbiAgICBhcnJheS5hcHBlbmQoKHZhbHVlID4+IDE2KSk7XG4gICAgYXJyYXkuYXBwZW5kKCh2YWx1ZSA+PiAyNCkpO1xufVxuLy9cbi8vIGV4cG9ydCBmdW5jdGlvbiBCeXRlQXJyYXlfYXBwZW5kNjQoYXJyYXk6IEJ5dGVBcnJheSwgdmFsdWU6IGludDY0KTogdm9pZCB7XG4vLyAgICAgYXJyYXkuYXBwZW5kKHZhbHVlKTtcbi8vICAgICBhcnJheS5hcHBlbmQoKHZhbHVlID4+IDgpKTtcbi8vICAgICBhcnJheS5hcHBlbmQoKHZhbHVlID4+IDE2KSk7XG4vLyAgICAgYXJyYXkuYXBwZW5kKCh2YWx1ZSA+PiAyNCkpO1xuLy8gICAgIGFycmF5LmFwcGVuZCgodmFsdWUgPj4gMzIpKTtcbi8vICAgICBhcnJheS5hcHBlbmQoKHZhbHVlID4+IDQwKSk7XG4vLyAgICAgYXJyYXkuYXBwZW5kKCh2YWx1ZSA+PiA0OCkpO1xuLy8gICAgIGFycmF5LmFwcGVuZCgodmFsdWUgPj4gNTYpKTtcbi8vIH1cbi8vXG4vLyBkZWNsYXJlIGZ1bmN0aW9uIFVpbnQ4QXJyYXlfbmV3KGxlbmd0aDogbnVtYmVyKTogVWludDhBcnJheTtcbi8vXG5leHBvcnQgZnVuY3Rpb24gQnl0ZUFycmF5X3NldFN0cmluZyhkYXRhOiBCeXRlQXJyYXksIGluZGV4OiBudW1iZXIsIHRleHQ6IHN0cmluZyk6IHZvaWQge1xuICAgIHZhciBsZW5ndGggPSB0ZXh0Lmxlbmd0aDtcbiAgICBhc3NlcnQoaW5kZXggPj0gMCAmJiBpbmRleCArIGxlbmd0aCAqIDIgPD0gZGF0YS5sZW5ndGgpO1xuICAgIHZhciBhcnJheSA9IGRhdGEuYXJyYXk7XG4gICAgdmFyIGkgPSAwO1xuICAgIHdoaWxlIChpIDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBjID0gdGV4dC5jaGFyQ29kZUF0KGkpO1xuICAgICAgICBhcnJheVtpbmRleF0gPSBjO1xuICAgICAgICBhcnJheVtpbmRleCArIDFdID0gKGMgPj4gOCk7XG4gICAgICAgIGluZGV4ID0gaW5kZXggKyAyO1xuICAgICAgICBpID0gaSArIDE7XG4gICAgfVxufVxuXG4vKipcbiAqIEphdmFTY3JpcHQgQnl0ZUFycmF5XG4gKiB2ZXJzaW9uIDogMC4yXG4gKiBAYXV0aG9yIE5pZGluIFZpbmF5YWthbiB8IG5pZGludGhiQGdtYWlsLmNvbVxuICpcbiAqIEFjdGlvblNjcmlwdDMgQnl0ZUFycmF5IGltcGxlbWVudGF0aW9uIGluIEphdmFTY3JpcHRcbiAqIGxpbWl0YXRpb24gOiBzaXplIG9mIEJ5dGVBcnJheSBjYW5ub3QgYmUgY2hhbmdlZFxuICpcbiAqL1xuZXhwb3J0IGNsYXNzIEJ5dGVBcnJheSB7XG4gICAgc3RhdGljIEJJR19FTkRJQU46IHN0cmluZyA9IFwiYmlnRW5kaWFuXCI7XG4gICAgc3RhdGljIExJVFRMRV9FTkRJQU46IHN0cmluZyA9IFwibGl0dGxlRW5kaWFuXCI7XG5cbiAgICBzdGF0aWMgU0laRV9PRl9CT09MRUFOOiBudW1iZXIgPSAxO1xuICAgIHN0YXRpYyBTSVpFX09GX0lOVDg6IG51bWJlciA9IDE7XG4gICAgc3RhdGljIFNJWkVfT0ZfSU5UMTY6IG51bWJlciA9IDI7XG4gICAgc3RhdGljIFNJWkVfT0ZfSU5UMzI6IG51bWJlciA9IDQ7XG4gICAgc3RhdGljIFNJWkVfT0ZfSU5UNjQ6IG51bWJlciA9IDg7XG4gICAgc3RhdGljIFNJWkVfT0ZfVUlOVDg6IG51bWJlciA9IDE7XG4gICAgc3RhdGljIFNJWkVfT0ZfVUlOVDE2OiBudW1iZXIgPSAyO1xuICAgIHN0YXRpYyBTSVpFX09GX1VJTlQzMjogbnVtYmVyID0gNDtcbiAgICBzdGF0aWMgU0laRV9PRl9VSU5UNjQ6IG51bWJlciA9IDg7XG4gICAgc3RhdGljIFNJWkVfT0ZfRkxPQVQzMjogbnVtYmVyID0gNDtcbiAgICBzdGF0aWMgU0laRV9PRl9GTE9BVDY0OiBudW1iZXIgPSA4O1xuXG4gICAgcHJpdmF0ZSBCVUZGRVJfRVhUX1NJWkU6IG51bWJlciA9IDEwMjQ7Ly9CdWZmZXIgZXhwYW5zaW9uIHNpemVcblxuICAgIHByaXZhdGUgX2FycmF5OiBVaW50OEFycmF5ID0gbnVsbDtcbiAgICBnZXQgYXJyYXkoKTogVWludDhBcnJheSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hcnJheS5zdWJhcnJheSgwLCB0aGlzLmxlbmd0aCk7XG4gICAgfTtcblxuICAgIHB1YmxpYyBsb2c6IHN0cmluZyA9IFwiXCI7XG4gICAgcHVibGljIGRhdGE6IERhdGFWaWV3O1xuICAgIHByaXZhdGUgX3Bvc2l0aW9uOiBudW1iZXI7XG4gICAgcHVibGljIHdyaXRlX3Bvc2l0aW9uOiBudW1iZXI7XG4gICAgcHVibGljIGVuZGlhbjogc3RyaW5nO1xuXG4gICAgY29uc3RydWN0b3IoYnVmZmVyPzogQXJyYXlCdWZmZXIsIG9mZnNldDogbnVtYmVyID0gMCwgbGVuZ3RoOiBudW1iZXIgPSAwKSB7XG5cbiAgICAgICAgaWYgKGJ1ZmZlciA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcih0aGlzLkJVRkZFUl9FWFRfU0laRSk7XG4gICAgICAgICAgICB0aGlzLndyaXRlX3Bvc2l0aW9uID0gMDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChidWZmZXIgPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy53cml0ZV9wb3NpdGlvbiA9IDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLndyaXRlX3Bvc2l0aW9uID0gbGVuZ3RoID4gMCA/IGxlbmd0aCA6IGJ1ZmZlci5ieXRlTGVuZ3RoO1xuICAgICAgICB9XG4gICAgICAgIGlmIChidWZmZXIpIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YSA9IG5ldyBEYXRhVmlldyhidWZmZXIsIG9mZnNldCwgbGVuZ3RoID4gMCA/IGxlbmd0aCA6IGJ1ZmZlci5ieXRlTGVuZ3RoKTtcbiAgICAgICAgICAgIHRoaXMuX2FycmF5ID0gbmV3IFVpbnQ4QXJyYXkodGhpcy5kYXRhLmJ1ZmZlciwgdGhpcy5kYXRhLmJ5dGVPZmZzZXQsIHRoaXMuZGF0YS5ieXRlTGVuZ3RoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9wb3NpdGlvbiA9IDA7XG4gICAgICAgIHRoaXMuZW5kaWFuID0gQnl0ZUFycmF5LkxJVFRMRV9FTkRJQU47XG4gICAgfVxuXG4gICAgZ2V0KGluZGV4OiBudW1iZXIpOiBieXRlIHtcbiAgICAgICAgLy8gYXNzZXJ0KChpbmRleCkgPCAodGhpcy5fbGVuZ3RoKSk7XG4gICAgICAgIHJldHVybiB0aGlzLl9hcnJheVtpbmRleF07XG4gICAgfVxuXG4gICAgc2V0KGluZGV4OiBudW1iZXIsIHZhbHVlOiBieXRlKTogdm9pZCB7XG4gICAgICAgIC8vYXNzZXJ0KChpbmRleCkgPCAodGhpcy5fbGVuZ3RoKSk7XG4gICAgICAgIHRoaXMuX2FycmF5W2luZGV4XSA9IHZhbHVlO1xuICAgIH1cblxuICAgIGFwcGVuZCh2YWx1ZTogYnl0ZSk6IHZvaWQge1xuICAgICAgICBsZXQgaW5kZXggPSB0aGlzLnBvc2l0aW9uO1xuICAgICAgICB0aGlzLnJlc2l6ZShpbmRleCArIDEpO1xuICAgICAgICB0aGlzLl9hcnJheVtpbmRleF0gPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5wb3NpdGlvbisrO1xuICAgIH1cblxuICAgIHJlc2l6ZShsZW5ndGg6IG51bWJlcik6IEJ5dGVBcnJheSB7XG4gICAgICAgIGlmIChsZW5ndGggPiB0aGlzLmRhdGEuYnl0ZUxlbmd0aCkge1xuICAgICAgICAgICAgbGV0IHBvcyA9IHRoaXMucG9zaXRpb247XG4gICAgICAgICAgICBsZXQgbGVuID0gdGhpcy5sZW5ndGg7XG4gICAgICAgICAgICBsZXQgY2FwYWNpdHkgPSBsZW5ndGggKiAyO1xuICAgICAgICAgICAgbGV0IGRhdGEgPSBuZXcgVWludDhBcnJheShjYXBhY2l0eSk7XG4gICAgICAgICAgICBkYXRhLnNldCh0aGlzLmFycmF5KTtcbiAgICAgICAgICAgIHRoaXMuc2V0QXJyYXkoZGF0YSk7XG4gICAgICAgICAgICB0aGlzLl9wb3NpdGlvbiA9IHBvcztcbiAgICAgICAgICAgIHRoaXMud3JpdGVfcG9zaXRpb24gPSBsZW47XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgY29weShzb3VyY2U6IEJ5dGVBcnJheSwgb2Zmc2V0OiBudW1iZXIgPSAwLCBsZW5ndGg6IG51bWJlciA9IDApOiBCeXRlQXJyYXkge1xuXG4gICAgICAgIG9mZnNldCA9IG9mZnNldCA+IDAgPyBvZmZzZXQgOiB0aGlzLmxlbmd0aDtcblxuICAgICAgICBpZiAob2Zmc2V0ICsgc291cmNlLmxlbmd0aCA+IHRoaXMuX2FycmF5Lmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5yZXNpemUob2Zmc2V0ICsgc291cmNlLmxlbmd0aCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9hcnJheS5zZXQoc291cmNlLmFycmF5LCBvZmZzZXQpO1xuXG4gICAgICAgIHRoaXMucG9zaXRpb24gPSBvZmZzZXQgKyBzb3VyY2UubGVuZ3RoO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvLyBnZXR0ZXIgc2V0dGVyXG4gICAgZ2V0IGJ1ZmZlcigpOiBBcnJheUJ1ZmZlciB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEuYnVmZmVyO1xuICAgIH1cblxuICAgIHNldCBidWZmZXIodmFsdWU6IEFycmF5QnVmZmVyKSB7XG4gICAgICAgIHRoaXMuZGF0YSA9IG5ldyBEYXRhVmlldyh2YWx1ZSk7XG4gICAgfVxuXG4gICAgZ2V0IGRhdGFWaWV3KCk6IERhdGFWaWV3IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YTtcbiAgICB9XG5cbiAgICBzZXQgZGF0YVZpZXcodmFsdWU6IERhdGFWaWV3KSB7XG4gICAgICAgIHRoaXMuZGF0YSA9IHZhbHVlO1xuICAgICAgICB0aGlzLndyaXRlX3Bvc2l0aW9uID0gdmFsdWUuYnl0ZUxlbmd0aDtcbiAgICB9XG5cbiAgICBnZXQgcGh5UG9zaXRpb24oKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Bvc2l0aW9uICsgdGhpcy5kYXRhLmJ5dGVPZmZzZXQ7XG4gICAgfVxuXG4gICAgZ2V0IGJ1ZmZlck9mZnNldCgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLmJ5dGVPZmZzZXQ7XG4gICAgfVxuXG4gICAgZ2V0IHBvc2l0aW9uKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wb3NpdGlvbjtcbiAgICB9XG5cbiAgICBzZXQgcG9zaXRpb24odmFsdWU6IG51bWJlcikge1xuICAgICAgICBpZiAodGhpcy5fcG9zaXRpb24gPCB2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnZhbGlkYXRlKHRoaXMuX3Bvc2l0aW9uIC0gdmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3Bvc2l0aW9uID0gdmFsdWU7XG4gICAgICAgIHRoaXMud3JpdGVfcG9zaXRpb24gPSB2YWx1ZSA+IHRoaXMud3JpdGVfcG9zaXRpb24gPyB2YWx1ZSA6IHRoaXMud3JpdGVfcG9zaXRpb247XG4gICAgfVxuXG4gICAgZ2V0IGxlbmd0aCgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy53cml0ZV9wb3NpdGlvbjtcbiAgICB9XG5cbiAgICBzZXQgbGVuZ3RoKHZhbHVlOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy52YWxpZGF0ZUJ1ZmZlcih2YWx1ZSk7XG4gICAgfVxuXG4gICAgZ2V0IGJ5dGVzQXZhaWxhYmxlKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEuYnl0ZUxlbmd0aCAtIHRoaXMuX3Bvc2l0aW9uO1xuICAgIH1cblxuICAgIC8vZW5kXG4gICAgcHVibGljIGNsZWFyKCk6IHZvaWQge1xuICAgICAgICB0aGlzLl9wb3NpdGlvbiA9IDA7XG4gICAgfVxuXG4gICAgcHVibGljIHNldEFycmF5KGFycmF5OiBVaW50OEFycmF5KTogdm9pZCB7XG4gICAgICAgIHRoaXMuX2FycmF5ID0gYXJyYXk7XG4gICAgICAgIHRoaXMuc2V0QnVmZmVyKGFycmF5LmJ1ZmZlciwgYXJyYXkuYnl0ZU9mZnNldCwgYXJyYXkuYnl0ZUxlbmd0aCk7XG4gICAgfVxuXG4gICAgcHVibGljIHNldEJ1ZmZlcihidWZmZXI6IEFycmF5QnVmZmVyLCBvZmZzZXQ6IG51bWJlciA9IDAsIGxlbmd0aDogbnVtYmVyID0gMCkge1xuICAgICAgICBpZiAoYnVmZmVyKSB7XG4gICAgICAgICAgICB0aGlzLmRhdGEgPSBuZXcgRGF0YVZpZXcoYnVmZmVyLCBvZmZzZXQsIGxlbmd0aCA+IDAgPyBsZW5ndGggOiBidWZmZXIuYnl0ZUxlbmd0aCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBXcml0ZSB1bnNpZ25lZCBMaXR0bGUgRW5kaWFuIEJhc2UgMTI4XG4gICAgICovXG4gICAgd3JpdGVVbnNpZ25lZExFQjEyOCh2YWx1ZSkge1xuICAgICAgICBsZXQgYiA9IDA7XG4gICAgICAgIHZhbHVlIHw9IDA7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgIGIgPSB2YWx1ZSAmIDB4N0Y7XG4gICAgICAgICAgICB2YWx1ZSA+Pj49IDc7XG4gICAgICAgICAgICBpZiAodmFsdWUpXG4gICAgICAgICAgICAgICAgYiB8PSAweDgwO1xuXG4gICAgICAgICAgICB0aGlzLmFwcGVuZChiKTtcbiAgICAgICAgfSB3aGlsZSAodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFdyaXRlIHNpZ25lZCBMaXR0bGUgRW5kaWFuIEJhc2UgMTI4XG4gICAgICovXG4gICAgd3JpdGVMRUIxMjgodmFsdWUpIHtcbiAgICAgICAgbGV0IGI7XG4gICAgICAgIHZhbHVlIHw9IDA7XG5cbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgYiA9IHZhbHVlICYgMHg3RjtcbiAgICAgICAgICAgIHZhbHVlID4+PSA3O1xuXG4gICAgICAgICAgICBsZXQgc2lnbkJpdCA9IChiICYgMHg0MCkgIT09IDA7XG5cbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAoKHZhbHVlID09PSAwKSAmJiAhc2lnbkJpdCkgfHxcbiAgICAgICAgICAgICAgICAoKHZhbHVlID09PSAtMSkgJiYgc2lnbkJpdClcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHRoaXMuYXBwZW5kKGIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBiIHw9IDB4ODA7XG4gICAgICAgICAgICAgICAgdGhpcy5hcHBlbmQoYik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gd2hpbGUgKHRydWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFdyaXRlIFdBU00gU3RyaW5nXG4gICAgICovXG4gICAgd3JpdGVXYXNtU3RyaW5nKHZhbHVlOiBzdHJpbmcpIHtcbiAgICAgICAgbGV0IGxlbmd0aCA9IHZhbHVlLmxlbmd0aDtcbiAgICAgICAgdGhpcy53cml0ZVVuc2lnbmVkTEVCMTI4KGxlbmd0aCk7XG4gICAgICAgIGxldCBpbmRleCA9IHRoaXMubGVuZ3RoO1xuICAgICAgICB0aGlzLnJlc2l6ZShpbmRleCArIGxlbmd0aCk7XG4gICAgICAgIGxldCBpID0gMDtcbiAgICAgICAgd2hpbGUgKGkgPCBsZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0KGluZGV4ICsgaSwgdmFsdWUuY2hhckNvZGVBdChpKSk7XG4gICAgICAgICAgICBpID0gaSArIDE7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wb3NpdGlvbiA9IGluZGV4ICsgbGVuZ3RoO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlYWRzIGEgQm9vbGVhbiB2YWx1ZSBmcm9tIHRoZSBieXRlIHN0cmVhbS4gQSBzaW5nbGUgYnl0ZSBpcyByZWFkLFxuICAgICAqIGFuZCB0cnVlIGlzIHJldHVybmVkIGlmIHRoZSBieXRlIGlzIG5vbnplcm8sXG4gICAgICogZmFsc2Ugb3RoZXJ3aXNlLlxuICAgICAqIEByZXR1cm4gICAgUmV0dXJucyB0cnVlIGlmIHRoZSBieXRlIGlzIG5vbnplcm8sIGZhbHNlIG90aGVyd2lzZS5cbiAgICAgKi9cbiAgICBwdWJsaWMgcmVhZEJvb2xlYW4oKTogYm9vbGVhbiB7XG4gICAgICAgIGlmICghdGhpcy52YWxpZGF0ZShCeXRlQXJyYXkuU0laRV9PRl9CT09MRUFOKSkgcmV0dXJuIG51bGw7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS5nZXRVaW50OCh0aGlzLnBvc2l0aW9uKyspICE9IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVhZHMgYSBzaWduZWQgYnl0ZSBmcm9tIHRoZSBieXRlIHN0cmVhbS5cbiAgICAgKiBUaGUgcmV0dXJuZWQgdmFsdWUgaXMgaW4gdGhlIHJhbmdlIC0xMjggdG8gMTI3LlxuICAgICAqIEByZXR1cm4gICAgQW4gaW50ZWdlciBiZXR3ZWVuIC0xMjggYW5kIDEyNy5cbiAgICAgKi9cbiAgICBwdWJsaWMgcmVhZEJ5dGUoKTogbnVtYmVyIHtcbiAgICAgICAgaWYgKCF0aGlzLnZhbGlkYXRlKEJ5dGVBcnJheS5TSVpFX09GX0lOVDgpKSByZXR1cm4gbnVsbDtcblxuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLmdldEludDgodGhpcy5wb3NpdGlvbisrKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZWFkcyB0aGUgbnVtYmVyIG9mIGRhdGEgYnl0ZXMsIHNwZWNpZmllZCBieSB0aGUgbGVuZ3RoIHBhcmFtZXRlciwgZnJvbSB0aGUgYnl0ZSBzdHJlYW0uXG4gICAgICogVGhlIGJ5dGVzIGFyZSByZWFkIGludG8gdGhlIEJ5dGVBcnJheSBvYmplY3Qgc3BlY2lmaWVkIGJ5IHRoZSBieXRlcyBwYXJhbWV0ZXIsXG4gICAgICogYW5kIHRoZSBieXRlcyBhcmUgd3JpdHRlbiBpbnRvIHRoZSBkZXN0aW5hdGlvbiBCeXRlQXJyYXkgc3RhcnRpbmcgYXQgdGhlIF9wb3NpdGlvbiBzcGVjaWZpZWQgYnkgb2Zmc2V0LlxuICAgICAqIEBwYXJhbSAgICBieXRlcyAgICBUaGUgQnl0ZUFycmF5IG9iamVjdCB0byByZWFkIGRhdGEgaW50by5cbiAgICAgKiBAcGFyYW0gICAgb2Zmc2V0ICAgIFRoZSBvZmZzZXQgKF9wb3NpdGlvbikgaW4gYnl0ZXMgYXQgd2hpY2ggdGhlIHJlYWQgZGF0YSBzaG91bGQgYmUgd3JpdHRlbi5cbiAgICAgKiBAcGFyYW0gICAgbGVuZ3RoICAgIFRoZSBudW1iZXIgb2YgYnl0ZXMgdG8gcmVhZC4gIFRoZSBkZWZhdWx0IHZhbHVlIG9mIDAgY2F1c2VzIGFsbCBhdmFpbGFibGUgZGF0YSB0byBiZSByZWFkLlxuICAgICAqL1xuICAgIHB1YmxpYyByZWFkQnl0ZXMoX2J5dGVzOiBCeXRlQXJyYXkgPSBudWxsLCBvZmZzZXQ6IG51bWJlciA9IDAsIGxlbmd0aDogbnVtYmVyID0gMCwgY3JlYXRlTmV3QnVmZmVyOiBib29sZWFuID0gZmFsc2UpOiBCeXRlQXJyYXkge1xuICAgICAgICBpZiAobGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgIGxlbmd0aCA9IHRoaXMuYnl0ZXNBdmFpbGFibGU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIXRoaXMudmFsaWRhdGUobGVuZ3RoKSkgcmV0dXJuIG51bGw7XG5cbiAgICAgICAgaWYgKGNyZWF0ZU5ld0J1ZmZlcikge1xuICAgICAgICAgICAgX2J5dGVzID0gX2J5dGVzID09IG51bGwgPyBuZXcgQnl0ZUFycmF5KG5ldyBBcnJheUJ1ZmZlcihsZW5ndGgpKSA6IF9ieXRlcztcbiAgICAgICAgICAgIC8vVGhpcyBtZXRob2QgaXMgZXhwZW5zaXZlXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgX2J5dGVzLmRhdGEuc2V0VWludDgoaSArIG9mZnNldCwgdGhpcy5kYXRhLmdldFVpbnQ4KHRoaXMucG9zaXRpb24rKykpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy9PZmZzZXQgYXJndW1lbnQgaWdub3JlZFxuICAgICAgICAgICAgX2J5dGVzID0gX2J5dGVzID09IG51bGwgPyBuZXcgQnl0ZUFycmF5KG51bGwpIDogX2J5dGVzO1xuICAgICAgICAgICAgX2J5dGVzLmRhdGFWaWV3ID0gbmV3IERhdGFWaWV3KHRoaXMuZGF0YS5idWZmZXIsIHRoaXMuYnVmZmVyT2Zmc2V0ICsgdGhpcy5wb3NpdGlvbiwgbGVuZ3RoKTtcbiAgICAgICAgICAgIHRoaXMucG9zaXRpb24gKz0gbGVuZ3RoO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIF9ieXRlcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZWFkcyBhbiBJRUVFIDc1NCBkb3VibGUtcHJlY2lzaW9uICg2NC1iaXQpIGZsb2F0aW5nLXBvaW50IG51bWJlciBmcm9tIHRoZSBieXRlIHN0cmVhbS5cbiAgICAgKiBAcmV0dXJuICAgIEEgZG91YmxlLXByZWNpc2lvbiAoNjQtYml0KSBmbG9hdGluZy1wb2ludCBudW1iZXIuXG4gICAgICovXG4gICAgcHVibGljIHJlYWREb3VibGUoKTogbnVtYmVyIHtcbiAgICAgICAgaWYgKCF0aGlzLnZhbGlkYXRlKEJ5dGVBcnJheS5TSVpFX09GX0ZMT0FUNjQpKSByZXR1cm4gbnVsbDtcblxuICAgICAgICB2YXIgdmFsdWU6IG51bWJlciA9IHRoaXMuZGF0YS5nZXRGbG9hdDY0KHRoaXMucG9zaXRpb24sIHRoaXMuZW5kaWFuID09IEJ5dGVBcnJheS5MSVRUTEVfRU5ESUFOKTtcbiAgICAgICAgdGhpcy5wb3NpdGlvbiArPSBCeXRlQXJyYXkuU0laRV9PRl9GTE9BVDY0O1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVhZHMgYW4gSUVFRSA3NTQgc2luZ2xlLXByZWNpc2lvbiAoMzItYml0KSBmbG9hdGluZy1wb2ludCBudW1iZXIgZnJvbSB0aGUgYnl0ZSBzdHJlYW0uXG4gICAgICogQHJldHVybiAgICBBIHNpbmdsZS1wcmVjaXNpb24gKDMyLWJpdCkgZmxvYXRpbmctcG9pbnQgbnVtYmVyLlxuICAgICAqL1xuICAgIHB1YmxpYyByZWFkRmxvYXQoKTogbnVtYmVyIHtcbiAgICAgICAgaWYgKCF0aGlzLnZhbGlkYXRlKEJ5dGVBcnJheS5TSVpFX09GX0ZMT0FUMzIpKSByZXR1cm4gbnVsbDtcblxuICAgICAgICB2YXIgdmFsdWU6IG51bWJlciA9IHRoaXMuZGF0YS5nZXRGbG9hdDMyKHRoaXMucG9zaXRpb24sIHRoaXMuZW5kaWFuID09IEJ5dGVBcnJheS5MSVRUTEVfRU5ESUFOKTtcbiAgICAgICAgdGhpcy5wb3NpdGlvbiArPSBCeXRlQXJyYXkuU0laRV9PRl9GTE9BVDMyO1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVhZHMgYSBzaWduZWQgMzItYml0IGludGVnZXIgZnJvbSB0aGUgYnl0ZSBzdHJlYW0uXG4gICAgICpcbiAgICAgKiAgIFRoZSByZXR1cm5lZCB2YWx1ZSBpcyBpbiB0aGUgcmFuZ2UgLTIxNDc0ODM2NDggdG8gMjE0NzQ4MzY0Ny5cbiAgICAgKiBAcmV0dXJuICAgIEEgMzItYml0IHNpZ25lZCBpbnRlZ2VyIGJldHdlZW4gLTIxNDc0ODM2NDggYW5kIDIxNDc0ODM2NDcuXG4gICAgICovXG4gICAgcHVibGljIHJlYWRJbnQoKTogbnVtYmVyIHtcbiAgICAgICAgaWYgKCF0aGlzLnZhbGlkYXRlKEJ5dGVBcnJheS5TSVpFX09GX0lOVDMyKSkgcmV0dXJuIG51bGw7XG5cbiAgICAgICAgdmFyIHZhbHVlID0gdGhpcy5kYXRhLmdldEludDMyKHRoaXMucG9zaXRpb24sIHRoaXMuZW5kaWFuID09IEJ5dGVBcnJheS5MSVRUTEVfRU5ESUFOKTtcbiAgICAgICAgdGhpcy5wb3NpdGlvbiArPSBCeXRlQXJyYXkuU0laRV9PRl9JTlQzMjtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlYWRzIGEgc2lnbmVkIDY0LWJpdCBpbnRlZ2VyIGZyb20gdGhlIGJ5dGUgc3RyZWFtLlxuICAgICAqXG4gICAgICogICBUaGUgcmV0dXJuZWQgdmFsdWUgaXMgaW4gdGhlIHJhbmdlIOKIkigyXjYzKSB0byAyXjYzIOKIkiAxXG4gICAgICogQHJldHVybiAgICBBIDY0LWJpdCBzaWduZWQgaW50ZWdlciBiZXR3ZWVuIOKIkigyXjYzKSB0byAyXjYzIOKIkiAxXG4gICAgICovXG4gICAgLy8gcHVibGljIHJlYWRJbnQ2NCgpOiBJbnQ2NCB7XG4gICAgLy8gICAgIGlmICghdGhpcy52YWxpZGF0ZShCeXRlQXJyYXkuU0laRV9PRl9VSU5UMzIpKSByZXR1cm4gbnVsbDtcbiAgICAvL1xuICAgIC8vICAgICB2YXIgbG93ID0gdGhpcy5kYXRhLmdldEludDMyKHRoaXMucG9zaXRpb24sIHRoaXMuZW5kaWFuID09IEJ5dGVBcnJheS5MSVRUTEVfRU5ESUFOKTtcbiAgICAvLyAgICAgdGhpcy5wb3NpdGlvbiArPSBCeXRlQXJyYXkuU0laRV9PRl9JTlQzMjtcbiAgICAvLyAgICAgdmFyIGhpZ2ggPSB0aGlzLmRhdGEuZ2V0SW50MzIodGhpcy5wb3NpdGlvbiwgdGhpcy5lbmRpYW4gPT0gQnl0ZUFycmF5LkxJVFRMRV9FTkRJQU4pO1xuICAgIC8vICAgICB0aGlzLnBvc2l0aW9uICs9IEJ5dGVBcnJheS5TSVpFX09GX0lOVDMyO1xuICAgIC8vICAgICByZXR1cm4gbmV3IEludDY0KGxvdywgaGlnaCk7XG4gICAgLy8gfVxuXG4gICAgLyoqXG4gICAgICogUmVhZHMgYSBtdWx0aWJ5dGUgc3RyaW5nIG9mIHNwZWNpZmllZCBsZW5ndGggZnJvbSB0aGUgYnl0ZSBzdHJlYW0gdXNpbmcgdGhlXG4gICAgICogc3BlY2lmaWVkIGNoYXJhY3RlciBzZXQuXG4gICAgICogQHBhcmFtICAgIGxlbmd0aCAgICBUaGUgbnVtYmVyIG9mIGJ5dGVzIGZyb20gdGhlIGJ5dGUgc3RyZWFtIHRvIHJlYWQuXG4gICAgICogQHBhcmFtICAgIGNoYXJTZXQgICAgVGhlIHN0cmluZyBkZW5vdGluZyB0aGUgY2hhcmFjdGVyIHNldCB0byB1c2UgdG8gaW50ZXJwcmV0IHRoZSBieXRlcy5cbiAgICAgKiAgIFBvc3NpYmxlIGNoYXJhY3RlciBzZXQgc3RyaW5ncyBpbmNsdWRlIFwic2hpZnQtamlzXCIsIFwiY24tZ2JcIixcbiAgICAgKiAgIFwiaXNvLTg4NTktMVwiLCBhbmQgb3RoZXJzLlxuICAgICAqICAgRm9yIGEgY29tcGxldGUgbGlzdCwgc2VlIFN1cHBvcnRlZCBDaGFyYWN0ZXIgU2V0cy5cbiAgICAgKiAgIE5vdGU6IElmIHRoZSB2YWx1ZSBmb3IgdGhlIGNoYXJTZXQgcGFyYW1ldGVyXG4gICAgICogICBpcyBub3QgcmVjb2duaXplZCBieSB0aGUgY3VycmVudCBzeXN0ZW0sIHRoZSBhcHBsaWNhdGlvbiB1c2VzIHRoZSBzeXN0ZW0ncyBkZWZhdWx0XG4gICAgICogICBjb2RlIHBhZ2UgYXMgdGhlIGNoYXJhY3RlciBzZXQuIEZvciBleGFtcGxlLCBhIHZhbHVlIGZvciB0aGUgY2hhclNldCBwYXJhbWV0ZXIsXG4gICAgICogICBhcyBpbiBteVRlc3QucmVhZE11bHRpQnl0ZSgyMiwgXCJpc28tODg1OS0wMVwiKSB0aGF0IHVzZXMgMDEgaW5zdGVhZCBvZlxuICAgICAqICAgMSBtaWdodCB3b3JrIG9uIHlvdXIgZGV2ZWxvcG1lbnQgc3lzdGVtLCBidXQgbm90IG9uIGFub3RoZXIgc3lzdGVtLlxuICAgICAqICAgT24gdGhlIG90aGVyIHN5c3RlbSwgdGhlIGFwcGxpY2F0aW9uIHdpbGwgdXNlIHRoZSBzeXN0ZW0ncyBkZWZhdWx0IGNvZGUgcGFnZS5cbiAgICAgKiBAcmV0dXJuICAgIFVURi04IGVuY29kZWQgc3RyaW5nLlxuICAgICAqL1xuICAgIHB1YmxpYyByZWFkTXVsdGlCeXRlKGxlbmd0aDogbnVtYmVyLCBjaGFyU2V0Pzogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgaWYgKCF0aGlzLnZhbGlkYXRlKGxlbmd0aCkpIHJldHVybiBudWxsO1xuXG4gICAgICAgIHJldHVybiBcIlwiO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlYWRzIGEgc2lnbmVkIDE2LWJpdCBpbnRlZ2VyIGZyb20gdGhlIGJ5dGUgc3RyZWFtLlxuICAgICAqXG4gICAgICogICBUaGUgcmV0dXJuZWQgdmFsdWUgaXMgaW4gdGhlIHJhbmdlIC0zMjc2OCB0byAzMjc2Ny5cbiAgICAgKiBAcmV0dXJuICAgIEEgMTYtYml0IHNpZ25lZCBpbnRlZ2VyIGJldHdlZW4gLTMyNzY4IGFuZCAzMjc2Ny5cbiAgICAgKi9cbiAgICBwdWJsaWMgcmVhZFNob3J0KCk6IG51bWJlciB7XG4gICAgICAgIGlmICghdGhpcy52YWxpZGF0ZShCeXRlQXJyYXkuU0laRV9PRl9JTlQxNikpIHJldHVybiBudWxsO1xuXG4gICAgICAgIHZhciB2YWx1ZSA9IHRoaXMuZGF0YS5nZXRJbnQxNih0aGlzLnBvc2l0aW9uLCB0aGlzLmVuZGlhbiA9PSBCeXRlQXJyYXkuTElUVExFX0VORElBTik7XG4gICAgICAgIHRoaXMucG9zaXRpb24gKz0gQnl0ZUFycmF5LlNJWkVfT0ZfSU5UMTY7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZWFkcyBhbiB1bnNpZ25lZCBieXRlIGZyb20gdGhlIGJ5dGUgc3RyZWFtLlxuICAgICAqXG4gICAgICogICBUaGUgcmV0dXJuZWQgdmFsdWUgaXMgaW4gdGhlIHJhbmdlIDAgdG8gMjU1LlxuICAgICAqIEByZXR1cm4gICAgQSAzMi1iaXQgdW5zaWduZWQgaW50ZWdlciBiZXR3ZWVuIDAgYW5kIDI1NS5cbiAgICAgKi9cbiAgICBwdWJsaWMgcmVhZFVuc2lnbmVkQnl0ZSgpOiBudW1iZXIge1xuICAgICAgICBpZiAoIXRoaXMudmFsaWRhdGUoQnl0ZUFycmF5LlNJWkVfT0ZfVUlOVDgpKSByZXR1cm4gbnVsbDtcblxuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLmdldFVpbnQ4KHRoaXMucG9zaXRpb24rKyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVhZHMgYW4gdW5zaWduZWQgMzItYml0IGludGVnZXIgZnJvbSB0aGUgYnl0ZSBzdHJlYW0uXG4gICAgICpcbiAgICAgKiAgIFRoZSByZXR1cm5lZCB2YWx1ZSBpcyBpbiB0aGUgcmFuZ2UgMCB0byA0Mjk0OTY3Mjk1LlxuICAgICAqIEByZXR1cm4gICAgQSAzMi1iaXQgdW5zaWduZWQgaW50ZWdlciBiZXR3ZWVuIDAgYW5kIDQyOTQ5NjcyOTUuXG4gICAgICovXG4gICAgcHVibGljIHJlYWRVbnNpZ25lZEludCgpOiBudW1iZXIge1xuICAgICAgICBpZiAoIXRoaXMudmFsaWRhdGUoQnl0ZUFycmF5LlNJWkVfT0ZfVUlOVDMyKSkgcmV0dXJuIG51bGw7XG5cbiAgICAgICAgdmFyIHZhbHVlID0gdGhpcy5kYXRhLmdldFVpbnQzMih0aGlzLnBvc2l0aW9uLCB0aGlzLmVuZGlhbiA9PSBCeXRlQXJyYXkuTElUVExFX0VORElBTik7XG4gICAgICAgIHRoaXMucG9zaXRpb24gKz0gQnl0ZUFycmF5LlNJWkVfT0ZfVUlOVDMyO1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVhZHMgYSB2YXJpYWJsZSBzaXplZCB1bnNpZ25lZCBpbnRlZ2VyIChWWCAtPiAxNi1iaXQgb3IgMzItYml0KSBmcm9tIHRoZSBieXRlIHN0cmVhbS5cbiAgICAgKlxuICAgICAqICAgQSBWWCBpcyB3cml0dGVuIGFzIGEgdmFyaWFibGUgbGVuZ3RoIDItIG9yIDQtYnl0ZSBlbGVtZW50LiBJZiB0aGUgaW5kZXggdmFsdWUgaXMgbGVzcyB0aGFuIDY1LDI4MCAoMHhGRjAwKSxcbiAgICAgKiAgIHRoZW4gdGhlIGluZGV4IGlzIHdyaXR0ZW4gYXMgYW4gdW5zaWduZWQgdHdvLWJ5dGUgaW50ZWdlci4gT3RoZXJ3aXNlIHRoZSBpbmRleCBpcyB3cml0dGVuIGFzIGFuIHVuc2lnbmVkXG4gICAgICogICBmb3VyIGJ5dGUgaW50ZWdlciB3aXRoIGJpdHMgMjQtMzEgc2V0LiBXaGVuIHJlYWRpbmcgYW4gaW5kZXgsIGlmIHRoZSBmaXJzdCBieXRlIGVuY291bnRlcmVkIGlzIDI1NSAoMHhGRiksXG4gICAgICogICB0aGVuIHRoZSBmb3VyLWJ5dGUgZm9ybSBpcyBiZWluZyB1c2VkIGFuZCB0aGUgZmlyc3QgYnl0ZSBzaG91bGQgYmUgZGlzY2FyZGVkIG9yIG1hc2tlZCBvdXQuXG4gICAgICpcbiAgICAgKiAgIFRoZSByZXR1cm5lZCB2YWx1ZSBpcyBpbiB0aGUgcmFuZ2UgIDAgdG8gNjUyNzkgb3IgMCB0byAyMTQ3NDgzNjQ3LlxuICAgICAqIEByZXR1cm4gICAgQSBWWCAxNi1iaXQgb3IgMzItYml0IHVuc2lnbmVkIGludGVnZXIgYmV0d2VlbiAwIHRvIDY1Mjc5IG9yIDAgYW5kIDIxNDc0ODM2NDcuXG4gICAgICovXG4gICAgcHVibGljIHJlYWRWYXJpYWJsZVNpemVkVW5zaWduZWRJbnQoKTogbnVtYmVyIHtcblxuICAgICAgICB2YXIgdmFsdWU6IG51bWJlcjtcbiAgICAgICAgdmFyIGMgPSB0aGlzLnJlYWRVbnNpZ25lZEJ5dGUoKTtcbiAgICAgICAgaWYgKGMgIT0gMHhGRikge1xuICAgICAgICAgICAgdmFsdWUgPSBjIDw8IDg7XG4gICAgICAgICAgICBjID0gdGhpcy5yZWFkVW5zaWduZWRCeXRlKCk7XG4gICAgICAgICAgICB2YWx1ZSB8PSBjO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYyA9IHRoaXMucmVhZFVuc2lnbmVkQnl0ZSgpO1xuICAgICAgICAgICAgdmFsdWUgPSBjIDw8IDE2O1xuICAgICAgICAgICAgYyA9IHRoaXMucmVhZFVuc2lnbmVkQnl0ZSgpO1xuICAgICAgICAgICAgdmFsdWUgfD0gYyA8PCA4O1xuICAgICAgICAgICAgYyA9IHRoaXMucmVhZFVuc2lnbmVkQnl0ZSgpO1xuICAgICAgICAgICAgdmFsdWUgfD0gYztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmFzdCByZWFkIGZvciBXZWJHTCBzaW5jZSBvbmx5IFVpbnQxNiBudW1iZXJzIGFyZSBleHBlY3RlZFxuICAgICAqL1xuICAgIHB1YmxpYyByZWFkVTE2VlgoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLnJlYWRVbnNpZ25lZEJ5dGUoKSA8PCA4KSB8IHRoaXMucmVhZFVuc2lnbmVkQnl0ZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlYWRzIGFuIHVuc2lnbmVkIDY0LWJpdCBpbnRlZ2VyIGZyb20gdGhlIGJ5dGUgc3RyZWFtLlxuICAgICAqXG4gICAgICogICBUaGUgcmV0dXJuZWQgdmFsdWUgaXMgaW4gdGhlIHJhbmdlIDAgdG8gMl42NCDiiJIgMS5cbiAgICAgKiBAcmV0dXJuICAgIEEgNjQtYml0IHVuc2lnbmVkIGludGVnZXIgYmV0d2VlbiAwIGFuZCAyXjY0IOKIkiAxXG4gICAgICovXG4gICAgLy8gcHVibGljIHJlYWRVbnNpZ25lZEludDY0KCk6IFVJbnQ2NCB7XG4gICAgLy8gICAgIGlmICghdGhpcy52YWxpZGF0ZShCeXRlQXJyYXkuU0laRV9PRl9VSU5UMzIpKSByZXR1cm4gbnVsbDtcbiAgICAvL1xuICAgIC8vICAgICB2YXIgbG93ID0gdGhpcy5kYXRhLmdldFVpbnQzMih0aGlzLnBvc2l0aW9uLCB0aGlzLmVuZGlhbiA9PSBCeXRlQXJyYXkuTElUVExFX0VORElBTik7XG4gICAgLy8gICAgIHRoaXMucG9zaXRpb24gKz0gQnl0ZUFycmF5LlNJWkVfT0ZfVUlOVDMyO1xuICAgIC8vICAgICB2YXIgaGlnaCA9IHRoaXMuZGF0YS5nZXRVaW50MzIodGhpcy5wb3NpdGlvbiwgdGhpcy5lbmRpYW4gPT0gQnl0ZUFycmF5LkxJVFRMRV9FTkRJQU4pO1xuICAgIC8vICAgICB0aGlzLnBvc2l0aW9uICs9IEJ5dGVBcnJheS5TSVpFX09GX1VJTlQzMjtcbiAgICAvLyAgICAgcmV0dXJuIG5ldyBVSW50NjQobG93LCBoaWdoKTtcbiAgICAvLyB9XG5cbiAgICAvKipcbiAgICAgKiBSZWFkcyBhbiB1bnNpZ25lZCAxNi1iaXQgaW50ZWdlciBmcm9tIHRoZSBieXRlIHN0cmVhbS5cbiAgICAgKlxuICAgICAqICAgVGhlIHJldHVybmVkIHZhbHVlIGlzIGluIHRoZSByYW5nZSAwIHRvIDY1NTM1LlxuICAgICAqIEByZXR1cm4gICAgQSAxNi1iaXQgdW5zaWduZWQgaW50ZWdlciBiZXR3ZWVuIDAgYW5kIDY1NTM1LlxuICAgICAqL1xuICAgIHB1YmxpYyByZWFkVW5zaWduZWRTaG9ydCgpOiBudW1iZXIge1xuICAgICAgICBpZiAoIXRoaXMudmFsaWRhdGUoQnl0ZUFycmF5LlNJWkVfT0ZfVUlOVDE2KSkgcmV0dXJuIG51bGw7XG5cbiAgICAgICAgdmFyIHZhbHVlID0gdGhpcy5kYXRhLmdldFVpbnQxNih0aGlzLnBvc2l0aW9uLCB0aGlzLmVuZGlhbiA9PSBCeXRlQXJyYXkuTElUVExFX0VORElBTik7XG4gICAgICAgIHRoaXMucG9zaXRpb24gKz0gQnl0ZUFycmF5LlNJWkVfT0ZfVUlOVDE2O1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVhZHMgYSBVVEYtOCBzdHJpbmcgZnJvbSB0aGUgYnl0ZSBzdHJlYW0uICBUaGUgc3RyaW5nXG4gICAgICogaXMgYXNzdW1lZCB0byBiZSBwcmVmaXhlZCB3aXRoIGFuIHVuc2lnbmVkIGludDE2IGluZGljYXRpbmdcbiAgICAgKiB0aGUgbGVuZ3RoIGluIGJ5dGVzLlxuICAgICAqIEByZXR1cm4gICAgVVRGLTggZW5jb2RlZCAgc3RyaW5nLlxuICAgICAqL1xuICAgIHB1YmxpYyByZWFkVVRGKCk6IHN0cmluZyB7XG4gICAgICAgIGlmICghdGhpcy52YWxpZGF0ZShCeXRlQXJyYXkuU0laRV9PRl9VSU5UMTYpKSByZXR1cm4gbnVsbDtcblxuICAgICAgICB2YXIgbGVuZ3RoOiBudW1iZXIgPSB0aGlzLmRhdGEuZ2V0VWludDE2KHRoaXMucG9zaXRpb24sIHRoaXMuZW5kaWFuID09IEJ5dGVBcnJheS5MSVRUTEVfRU5ESUFOKTtcbiAgICAgICAgdGhpcy5wb3NpdGlvbiArPSBCeXRlQXJyYXkuU0laRV9PRl9VSU5UMTY7XG5cbiAgICAgICAgaWYgKGxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJlYWRVVEZCeXRlcyhsZW5ndGgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZWFkcyBhIHNlcXVlbmNlIG9mIFVURi04IGJ5dGVzIHNwZWNpZmllZCBieSB0aGUgbGVuZ3RoXG4gICAgICogcGFyYW1ldGVyIGZyb20gdGhlIGJ5dGUgc3RyZWFtIGFuZCByZXR1cm5zIGEgc3RyaW5nLlxuICAgICAqIEBwYXJhbSAgICBsZW5ndGggICAgQW4gdW5zaWduZWQgaW50MTYgaW5kaWNhdGluZyB0aGUgbGVuZ3RoIG9mIHRoZSBVVEYtOCBieXRlcy5cbiAgICAgKiBAcmV0dXJuICAgIEEgc3RyaW5nIGNvbXBvc2VkIG9mIHRoZSBVVEYtOCBieXRlcyBvZiB0aGUgc3BlY2lmaWVkIGxlbmd0aC5cbiAgICAgKi9cbiAgICBwdWJsaWMgcmVhZFVURkJ5dGVzKGxlbmd0aDogbnVtYmVyKTogc3RyaW5nIHtcbiAgICAgICAgaWYgKCF0aGlzLnZhbGlkYXRlKGxlbmd0aCkpIHJldHVybiBudWxsO1xuXG4gICAgICAgIHZhciBfYnl0ZXM6IFVpbnQ4QXJyYXkgPSBuZXcgVWludDhBcnJheSh0aGlzLmJ1ZmZlciwgdGhpcy5idWZmZXJPZmZzZXQgKyB0aGlzLnBvc2l0aW9uLCBsZW5ndGgpO1xuICAgICAgICB0aGlzLnBvc2l0aW9uICs9IGxlbmd0aDtcbiAgICAgICAgLyp2YXIgX2J5dGVzOiBVaW50OEFycmF5ID0gbmV3IFVpbnQ4QXJyYXkobmV3IEFycmF5QnVmZmVyKGxlbmd0aCkpO1xuICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgX2J5dGVzW2ldID0gdGhpcy5kYXRhLmdldFVpbnQ4KHRoaXMucG9zaXRpb24rKyk7XG4gICAgICAgICB9Ki9cbiAgICAgICAgcmV0dXJuIHRoaXMuZGVjb2RlVVRGOChfYnl0ZXMpO1xuICAgIH1cblxuICAgIHB1YmxpYyByZWFkU3RhbmRhcmRTdHJpbmcobGVuZ3RoOiBudW1iZXIpOiBzdHJpbmcge1xuICAgICAgICBpZiAoIXRoaXMudmFsaWRhdGUobGVuZ3RoKSkgcmV0dXJuIG51bGw7XG5cbiAgICAgICAgdmFyIHN0cjogc3RyaW5nID0gXCJcIjtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBzdHIgKz0gU3RyaW5nLmZyb21DaGFyQ29kZSh0aGlzLmRhdGEuZ2V0VWludDgodGhpcy5wb3NpdGlvbisrKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0cjtcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVhZFN0cmluZ1RpbGxOdWxsKGtlZXBFdmVuQnl0ZTogYm9vbGVhbiA9IHRydWUpOiBzdHJpbmcge1xuXG4gICAgICAgIHZhciBzdHI6IHN0cmluZyA9IFwiXCI7XG4gICAgICAgIHZhciBudW06IG51bWJlciA9IDA7XG4gICAgICAgIHdoaWxlICh0aGlzLmJ5dGVzQXZhaWxhYmxlID4gMCkge1xuICAgICAgICAgICAgdmFyIF9ieXRlOiBudW1iZXIgPSB0aGlzLmRhdGEuZ2V0VWludDgodGhpcy5wb3NpdGlvbisrKTtcbiAgICAgICAgICAgIG51bSsrO1xuICAgICAgICAgICAgaWYgKF9ieXRlICE9IDApIHtcbiAgICAgICAgICAgICAgICBzdHIgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShfYnl0ZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChrZWVwRXZlbkJ5dGUgJiYgbnVtICUgMiAhPSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucG9zaXRpb24rKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0cjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBXcml0ZXMgYSBCb29sZWFuIHZhbHVlLiBBIHNpbmdsZSBieXRlIGlzIHdyaXR0ZW4gYWNjb3JkaW5nIHRvIHRoZSB2YWx1ZSBwYXJhbWV0ZXIsXG4gICAgICogZWl0aGVyIDEgaWYgdHJ1ZSBvciAwIGlmIGZhbHNlLlxuICAgICAqIEBwYXJhbSAgICB2YWx1ZSAgICBBIEJvb2xlYW4gdmFsdWUgZGV0ZXJtaW5pbmcgd2hpY2ggYnl0ZSBpcyB3cml0dGVuLiBJZiB0aGUgcGFyYW1ldGVyIGlzIHRydWUsXG4gICAgICogICAgICAgICAgIHRoZSBtZXRob2Qgd3JpdGVzIGEgMTsgaWYgZmFsc2UsIHRoZSBtZXRob2Qgd3JpdGVzIGEgMC5cbiAgICAgKiBAcGFyYW0gICAgb2Zmc2V0ICAgb3B0aW9uYWwgc3RhcnQgcG9zaXRpb24gdG8gd3JpdGVcbiAgICAgKi9cbiAgICBwdWJsaWMgd3JpdGVCb29sZWFuKHZhbHVlOiBib29sZWFuLCBvZmZzZXQ6IG51bWJlciA9IG51bGwpOiB2b2lkIHtcbiAgICAgICAgb2Zmc2V0ID0gb2Zmc2V0ID8gb2Zmc2V0IDogdGhpcy5wb3NpdGlvbisrO1xuICAgICAgICB0aGlzLnZhbGlkYXRlQnVmZmVyKEJ5dGVBcnJheS5TSVpFX09GX0JPT0xFQU4sIG9mZnNldCk7XG5cbiAgICAgICAgdGhpcy5kYXRhLnNldFVpbnQ4KG9mZnNldCwgdmFsdWUgPyAxIDogMCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogV3JpdGVzIGEgYnl0ZSB0byB0aGUgYnl0ZSBzdHJlYW0uXG4gICAgICogVGhlIGxvdyA4IGJpdHMgb2YgdGhlXG4gICAgICogcGFyYW1ldGVyIGFyZSB1c2VkLiBUaGUgaGlnaCAyNCBiaXRzIGFyZSBpZ25vcmVkLlxuICAgICAqIEBwYXJhbSAgICB2YWx1ZSAgICBBIDMyLWJpdCBpbnRlZ2VyLiBUaGUgbG93IDggYml0cyBhcmUgd3JpdHRlbiB0byB0aGUgYnl0ZSBzdHJlYW0uXG4gICAgICogQHBhcmFtICAgIG9mZnNldCAgIG9wdGlvbmFsIHN0YXJ0IHBvc2l0aW9uIHRvIHdyaXRlXG4gICAgICovXG4gICAgcHVibGljIHdyaXRlQnl0ZSh2YWx1ZTogbnVtYmVyLCBvZmZzZXQ6IG51bWJlciA9IG51bGwpOiB2b2lkIHtcbiAgICAgICAgb2Zmc2V0ID0gb2Zmc2V0ID8gb2Zmc2V0IDogdGhpcy5wb3NpdGlvbisrO1xuICAgICAgICB0aGlzLnZhbGlkYXRlQnVmZmVyKEJ5dGVBcnJheS5TSVpFX09GX0lOVDgsIG9mZnNldCk7XG5cbiAgICAgICAgdGhpcy5kYXRhLnNldEludDgob2Zmc2V0LCB2YWx1ZSk7XG4gICAgfVxuXG4gICAgcHVibGljIHdyaXRlVW5zaWduZWRCeXRlKHZhbHVlOiBudW1iZXIsIG9mZnNldDogbnVtYmVyID0gbnVsbCk6IHZvaWQge1xuICAgICAgICBvZmZzZXQgPSBvZmZzZXQgPyBvZmZzZXQgOiB0aGlzLnBvc2l0aW9uKys7XG4gICAgICAgIHRoaXMudmFsaWRhdGVCdWZmZXIoQnl0ZUFycmF5LlNJWkVfT0ZfVUlOVDgsIG9mZnNldCk7XG5cbiAgICAgICAgdGhpcy5kYXRhLnNldFVpbnQ4KG9mZnNldCwgdmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFdyaXRlcyBhIHNlcXVlbmNlIG9mIGxlbmd0aCBieXRlcyBmcm9tIHRoZVxuICAgICAqIHNwZWNpZmllZCBieXRlIGFycmF5LCBieXRlcyxcbiAgICAgKiBzdGFydGluZyBvZmZzZXQoemVyby1iYXNlZCBpbmRleCkgYnl0ZXNcbiAgICAgKiBpbnRvIHRoZSBieXRlIHN0cmVhbS5cbiAgICAgKlxuICAgICAqICAgSWYgdGhlIGxlbmd0aCBwYXJhbWV0ZXIgaXMgb21pdHRlZCwgdGhlIGRlZmF1bHRcbiAgICAgKiBsZW5ndGggb2YgMCBpcyB1c2VkOyB0aGUgbWV0aG9kIHdyaXRlcyB0aGUgZW50aXJlIGJ1ZmZlciBzdGFydGluZyBhdFxuICAgICAqIG9mZnNldC5cbiAgICAgKiBJZiB0aGUgb2Zmc2V0IHBhcmFtZXRlciBpcyBhbHNvIG9taXR0ZWQsIHRoZSBlbnRpcmUgYnVmZmVyIGlzXG4gICAgICogd3JpdHRlbi4gSWYgb2Zmc2V0IG9yIGxlbmd0aFxuICAgICAqIGlzIG91dCBvZiByYW5nZSwgdGhleSBhcmUgY2xhbXBlZCB0byB0aGUgYmVnaW5uaW5nIGFuZCBlbmRcbiAgICAgKiBvZiB0aGUgYnl0ZXMgYXJyYXkuXG4gICAgICogQHBhcmFtICAgIF9ieXRlcyAgICBUaGUgQnl0ZUFycmF5IG9iamVjdC5cbiAgICAgKiBAcGFyYW0gICAgb2Zmc2V0ICAgIEEgemVyby1iYXNlZCBpbmRleCBpbmRpY2F0aW5nIHRoZSBfcG9zaXRpb24gaW50byB0aGUgYXJyYXkgdG8gYmVnaW4gd3JpdGluZy5cbiAgICAgKiBAcGFyYW0gICAgbGVuZ3RoICAgIEFuIHVuc2lnbmVkIGludGVnZXIgaW5kaWNhdGluZyBob3cgZmFyIGludG8gdGhlIGJ1ZmZlciB0byB3cml0ZS5cbiAgICAgKi9cbiAgICBwdWJsaWMgd3JpdGVCeXRlcyhfYnl0ZXM6IEJ5dGVBcnJheSwgb2Zmc2V0OiBudW1iZXIgPSAwLCBsZW5ndGg6IG51bWJlciA9IDApOiB2b2lkIHtcbiAgICAgICAgdGhpcy5jb3B5KF9ieXRlcyk7XG4gICAgICAgIC8vIHRoaXMudmFsaWRhdGVCdWZmZXIobGVuZ3RoKTtcblxuICAgICAgICAvLyB2YXIgdG1wX2RhdGEgPSBuZXcgRGF0YVZpZXcoX2J5dGVzLmJ1ZmZlcik7XG4gICAgICAgIC8vIGZvciAodmFyIGkgPSAwOyBpIDwgX2J5dGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIC8vICAgICB0aGlzLmRhdGEuc2V0VWludDgodGhpcy5wb3NpdGlvbisrLCB0bXBfZGF0YS5nZXRVaW50OChpKSk7XG4gICAgICAgIC8vIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBXcml0ZXMgYW4gSUVFRSA3NTQgZG91YmxlLXByZWNpc2lvbiAoNjQtYml0KSBmbG9hdGluZy1wb2ludCBudW1iZXIgdG8gdGhlIGJ5dGUgc3RyZWFtLlxuICAgICAqIEBwYXJhbSAgICB2YWx1ZSAgICBBIGRvdWJsZS1wcmVjaXNpb24gKDY0LWJpdCkgZmxvYXRpbmctcG9pbnQgbnVtYmVyLlxuICAgICAqIEBwYXJhbSAgICBvZmZzZXQgICBvcHRpb25hbCBzdGFydCBwb3NpdGlvbiB0byB3cml0ZVxuICAgICAqL1xuICAgIHB1YmxpYyB3cml0ZURvdWJsZSh2YWx1ZTogbnVtYmVyLCBvZmZzZXQ6IG51bWJlciA9IG51bGwpOiB2b2lkIHtcbiAgICAgICAgbGV0IHBvc2l0aW9uID0gb2Zmc2V0ICE9IG51bGwgPyBvZmZzZXQgOiB0aGlzLnBvc2l0aW9uO1xuICAgICAgICB0aGlzLnZhbGlkYXRlQnVmZmVyKEJ5dGVBcnJheS5TSVpFX09GX0ZMT0FUNjQsIHBvc2l0aW9uKTtcblxuICAgICAgICB0aGlzLmRhdGEuc2V0RmxvYXQ2NChwb3NpdGlvbiwgdmFsdWUsIHRoaXMuZW5kaWFuID09IEJ5dGVBcnJheS5MSVRUTEVfRU5ESUFOKTtcbiAgICAgICAgaWYgKCFvZmZzZXQpIHtcbiAgICAgICAgICAgIHRoaXMucG9zaXRpb24gKz0gQnl0ZUFycmF5LlNJWkVfT0ZfRkxPQVQ2NDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFdyaXRlcyBhbiBJRUVFIDc1NCBzaW5nbGUtcHJlY2lzaW9uICgzMi1iaXQpIGZsb2F0aW5nLXBvaW50IG51bWJlciB0byB0aGUgYnl0ZSBzdHJlYW0uXG4gICAgICogQHBhcmFtICAgIHZhbHVlICAgIEEgc2luZ2xlLXByZWNpc2lvbiAoMzItYml0KSBmbG9hdGluZy1wb2ludCBudW1iZXIuXG4gICAgICogQHBhcmFtICAgIG9mZnNldCAgIG9wdGlvbmFsIHN0YXJ0IHBvc2l0aW9uIHRvIHdyaXRlXG4gICAgICovXG4gICAgcHVibGljIHdyaXRlRmxvYXQodmFsdWU6IG51bWJlciwgb2Zmc2V0OiBudW1iZXIgPSBudWxsKTogdm9pZCB7XG4gICAgICAgIGxldCBwb3NpdGlvbiA9IG9mZnNldCAhPSBudWxsID8gb2Zmc2V0IDogdGhpcy5wb3NpdGlvbjtcbiAgICAgICAgdGhpcy52YWxpZGF0ZUJ1ZmZlcihCeXRlQXJyYXkuU0laRV9PRl9GTE9BVDMyLCBwb3NpdGlvbik7XG5cbiAgICAgICAgdGhpcy5kYXRhLnNldEZsb2F0MzIocG9zaXRpb24sIHZhbHVlLCB0aGlzLmVuZGlhbiA9PSBCeXRlQXJyYXkuTElUVExFX0VORElBTik7XG4gICAgICAgIGlmICghb2Zmc2V0KSB7XG4gICAgICAgICAgICB0aGlzLnBvc2l0aW9uICs9IEJ5dGVBcnJheS5TSVpFX09GX0ZMT0FUMzI7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBXcml0ZXMgYSAzMi1iaXQgc2lnbmVkIGludGVnZXIgdG8gdGhlIGJ5dGUgc3RyZWFtLlxuICAgICAqIEBwYXJhbSAgICB2YWx1ZSAgICBBbiBpbnRlZ2VyIHRvIHdyaXRlIHRvIHRoZSBieXRlIHN0cmVhbS5cbiAgICAgKiBAcGFyYW0gICAgb2Zmc2V0ICAgb3B0aW9uYWwgc3RhcnQgcG9zaXRpb24gdG8gd3JpdGVcbiAgICAgKi9cbiAgICBwdWJsaWMgd3JpdGVJbnQodmFsdWU6IG51bWJlciwgb2Zmc2V0OiBudW1iZXIgPSBudWxsKTogdm9pZCB7XG4gICAgICAgIGxldCBwb3NpdGlvbiA9IG9mZnNldCAhPSBudWxsID8gb2Zmc2V0IDogdGhpcy5wb3NpdGlvbjtcbiAgICAgICAgdGhpcy52YWxpZGF0ZUJ1ZmZlcihCeXRlQXJyYXkuU0laRV9PRl9JTlQzMiwgcG9zaXRpb24pO1xuXG4gICAgICAgIHRoaXMuZGF0YS5zZXRJbnQzMihwb3NpdGlvbiwgdmFsdWUsIHRoaXMuZW5kaWFuID09IEJ5dGVBcnJheS5MSVRUTEVfRU5ESUFOKTtcbiAgICAgICAgaWYgKCFvZmZzZXQpIHtcbiAgICAgICAgICAgIHRoaXMucG9zaXRpb24gKz0gQnl0ZUFycmF5LlNJWkVfT0ZfSU5UMzI7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBXcml0ZXMgYSBtdWx0aWJ5dGUgc3RyaW5nIHRvIHRoZSBieXRlIHN0cmVhbSB1c2luZyB0aGUgc3BlY2lmaWVkIGNoYXJhY3RlciBzZXQuXG4gICAgICogQHBhcmFtICAgIHZhbHVlICAgIFRoZSBzdHJpbmcgdmFsdWUgdG8gYmUgd3JpdHRlbi5cbiAgICAgKiBAcGFyYW0gICAgY2hhclNldCAgICBUaGUgc3RyaW5nIGRlbm90aW5nIHRoZSBjaGFyYWN0ZXIgc2V0IHRvIHVzZS4gUG9zc2libGUgY2hhcmFjdGVyIHNldCBzdHJpbmdzXG4gICAgICogICBpbmNsdWRlIFwic2hpZnQtamlzXCIsIFwiY24tZ2JcIiwgXCJpc28tODg1OS0xXCIsIGFuZCBvdGhlcnMuXG4gICAgICogICBGb3IgYSBjb21wbGV0ZSBsaXN0LCBzZWUgU3VwcG9ydGVkIENoYXJhY3RlciBTZXRzLlxuICAgICAqL1xuICAgIHB1YmxpYyB3cml0ZU11bHRpQnl0ZSh2YWx1ZTogc3RyaW5nLCBjaGFyU2V0OiBzdHJpbmcpOiB2b2lkIHtcblxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFdyaXRlcyBhIDE2LWJpdCBpbnRlZ2VyIHRvIHRoZSBieXRlIHN0cmVhbS4gVGhlIGxvdyAxNiBiaXRzIG9mIHRoZSBwYXJhbWV0ZXIgYXJlIHVzZWQuXG4gICAgICogVGhlIGhpZ2ggMTYgYml0cyBhcmUgaWdub3JlZC5cbiAgICAgKiBAcGFyYW0gICAgdmFsdWUgICAgMzItYml0IGludGVnZXIsIHdob3NlIGxvdyAxNiBiaXRzIGFyZSB3cml0dGVuIHRvIHRoZSBieXRlIHN0cmVhbS5cbiAgICAgKiBAcGFyYW0gICAgb2Zmc2V0ICAgb3B0aW9uYWwgc3RhcnQgcG9zaXRpb24gdG8gd3JpdGVcbiAgICAgKi9cbiAgICBwdWJsaWMgd3JpdGVTaG9ydCh2YWx1ZTogbnVtYmVyLCBvZmZzZXQ6IG51bWJlciA9IG51bGwpOiB2b2lkIHtcbiAgICAgICAgbGV0IHBvc2l0aW9uID0gb2Zmc2V0ICE9IG51bGwgPyBvZmZzZXQgOiB0aGlzLnBvc2l0aW9uO1xuICAgICAgICB0aGlzLnZhbGlkYXRlQnVmZmVyKEJ5dGVBcnJheS5TSVpFX09GX0lOVDE2LCBwb3NpdGlvbik7XG5cbiAgICAgICAgdGhpcy5kYXRhLnNldEludDE2KHBvc2l0aW9uLCB2YWx1ZSwgdGhpcy5lbmRpYW4gPT0gQnl0ZUFycmF5LkxJVFRMRV9FTkRJQU4pO1xuICAgICAgICBpZiAoIW9mZnNldCkge1xuICAgICAgICAgICAgdGhpcy5wb3NpdGlvbiArPSBCeXRlQXJyYXkuU0laRV9PRl9JTlQxNjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyB3cml0ZVVuc2lnbmVkU2hvcnQodmFsdWU6IG51bWJlciwgb2Zmc2V0OiBudW1iZXIgPSBudWxsKTogdm9pZCB7XG4gICAgICAgIGxldCBwb3NpdGlvbiA9IG9mZnNldCAhPSBudWxsID8gb2Zmc2V0IDogdGhpcy5wb3NpdGlvbjtcbiAgICAgICAgdGhpcy52YWxpZGF0ZUJ1ZmZlcihCeXRlQXJyYXkuU0laRV9PRl9VSU5UMTYsIHBvc2l0aW9uKTtcblxuICAgICAgICB0aGlzLmRhdGEuc2V0VWludDE2KHBvc2l0aW9uLCB2YWx1ZSwgdGhpcy5lbmRpYW4gPT0gQnl0ZUFycmF5LkxJVFRMRV9FTkRJQU4pO1xuICAgICAgICBpZiAoIW9mZnNldCkge1xuICAgICAgICAgICAgdGhpcy5wb3NpdGlvbiArPSBCeXRlQXJyYXkuU0laRV9PRl9VSU5UMTY7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBXcml0ZXMgYSAzMi1iaXQgdW5zaWduZWQgaW50ZWdlciB0byB0aGUgYnl0ZSBzdHJlYW0uXG4gICAgICogQHBhcmFtICAgIHZhbHVlICAgIEFuIHVuc2lnbmVkIGludGVnZXIgdG8gd3JpdGUgdG8gdGhlIGJ5dGUgc3RyZWFtLlxuICAgICAqIEBwYXJhbSAgICBvZmZzZXQgICBvcHRpb25hbCBzdGFydCBwb3NpdGlvbiB0byB3cml0ZVxuICAgICAqL1xuICAgIHB1YmxpYyB3cml0ZVVuc2lnbmVkSW50KHZhbHVlOiBudW1iZXIsIG9mZnNldDogbnVtYmVyID0gbnVsbCk6IHZvaWQge1xuICAgICAgICBsZXQgcG9zaXRpb24gPSBvZmZzZXQgIT0gbnVsbCA/IG9mZnNldCA6IHRoaXMucG9zaXRpb247XG4gICAgICAgIHRoaXMudmFsaWRhdGVCdWZmZXIoQnl0ZUFycmF5LlNJWkVfT0ZfVUlOVDMyLCBwb3NpdGlvbik7XG5cbiAgICAgICAgdGhpcy5kYXRhLnNldFVpbnQzMihwb3NpdGlvbiwgdmFsdWUsIHRoaXMuZW5kaWFuID09IEJ5dGVBcnJheS5MSVRUTEVfRU5ESUFOKTtcbiAgICAgICAgaWYgKCFvZmZzZXQpIHtcbiAgICAgICAgICAgIHRoaXMucG9zaXRpb24gKz0gQnl0ZUFycmF5LlNJWkVfT0ZfVUlOVDMyO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogV3JpdGVzIGEgVVRGLTggc3RyaW5nIHRvIHRoZSBieXRlIHN0cmVhbS4gVGhlIGxlbmd0aCBvZiB0aGUgVVRGLTggc3RyaW5nIGluIGJ5dGVzXG4gICAgICogaXMgd3JpdHRlbiBmaXJzdCwgYXMgYSAxNi1iaXQgaW50ZWdlciwgZm9sbG93ZWQgYnkgdGhlIGJ5dGVzIHJlcHJlc2VudGluZyB0aGVcbiAgICAgKiBjaGFyYWN0ZXJzIG9mIHRoZSBzdHJpbmcuXG4gICAgICogQHBhcmFtICAgIHZhbHVlICAgIFRoZSBzdHJpbmcgdmFsdWUgdG8gYmUgd3JpdHRlbi5cbiAgICAgKiBAcGFyYW0gICAgb2Zmc2V0ICAgb3B0aW9uYWwgc3RhcnQgcG9zaXRpb24gdG8gd3JpdGVcbiAgICAgKi9cbiAgICBwdWJsaWMgd3JpdGVVVEYodmFsdWU6IHN0cmluZywgb2Zmc2V0OiBudW1iZXIgPSBudWxsKTogdm9pZCB7XG4gICAgICAgIGxldCB1dGY4Ynl0ZXM6IFVpbnQ4QXJyYXkgPSB0aGlzLmVuY29kZVVURjgodmFsdWUpO1xuICAgICAgICBsZXQgbGVuZ3RoOiBudW1iZXIgPSB1dGY4Ynl0ZXMubGVuZ3RoO1xuICAgICAgICBsZXQgcG9zaXRpb24gPSBvZmZzZXQgIT0gbnVsbCA/IG9mZnNldCA6IHRoaXMucG9zaXRpb247XG4gICAgICAgIHRoaXMudmFsaWRhdGVCdWZmZXIoQnl0ZUFycmF5LlNJWkVfT0ZfVUlOVDE2ICsgbGVuZ3RoLCBwb3NpdGlvbik7XG5cbiAgICAgICAgdGhpcy5kYXRhLnNldFVpbnQxNihwb3NpdGlvbiwgbGVuZ3RoLCB0aGlzLmVuZGlhbiA9PT0gQnl0ZUFycmF5LkxJVFRMRV9FTkRJQU4pO1xuICAgICAgICBpZiAoIW9mZnNldCkge1xuICAgICAgICAgICAgdGhpcy5wb3NpdGlvbiArPSBCeXRlQXJyYXkuU0laRV9PRl9VSU5UMTY7XG4gICAgICAgICAgICB0aGlzLndyaXRlVWludDhBcnJheSh1dGY4Ynl0ZXMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb2Zmc2V0ICs9IEJ5dGVBcnJheS5TSVpFX09GX1VJTlQxNjtcbiAgICAgICAgICAgIHRoaXMud3JpdGVVaW50OEFycmF5KHV0ZjhieXRlcywgb2Zmc2V0KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFdyaXRlcyBhIFVURi04IHN0cmluZyB0byB0aGUgYnl0ZSBzdHJlYW0uIFNpbWlsYXIgdG8gdGhlIHdyaXRlVVRGKCkgbWV0aG9kLFxuICAgICAqIGJ1dCB3cml0ZVVURkJ5dGVzKCkgZG9lcyBub3QgcHJlZml4IHRoZSBzdHJpbmcgd2l0aCBhIDE2LWJpdCBsZW5ndGggd29yZC5cbiAgICAgKiBAcGFyYW0gICAgdmFsdWUgICAgVGhlIHN0cmluZyB2YWx1ZSB0byBiZSB3cml0dGVuLlxuICAgICAqIEBwYXJhbSAgICBvZmZzZXQgICBvcHRpb25hbCBzdGFydCBwb3NpdGlvbiB0byB3cml0ZVxuICAgICAqL1xuICAgIHB1YmxpYyB3cml0ZVVURkJ5dGVzKHZhbHVlOiBzdHJpbmcsIG9mZnNldDogbnVtYmVyID0gbnVsbCk6IHZvaWQge1xuICAgICAgICB0aGlzLndyaXRlVWludDhBcnJheSh0aGlzLmVuY29kZVVURjgodmFsdWUpLCBvZmZzZXQpO1xuICAgIH1cblxuICAgIHB1YmxpYyB0b1N0cmluZygpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gXCJbQnl0ZUFycmF5XSBsZW5ndGg6XCIgKyB0aGlzLmxlbmd0aCArIFwiLCBieXRlc0F2YWlsYWJsZTpcIiArIHRoaXMuYnl0ZXNBdmFpbGFibGU7XG4gICAgfVxuXG4gICAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4gICAgLyogRVhUUkEgSkFWQVNDUklQVCBBUElzICAgICovXG4gICAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbiAgICAvKipcbiAgICAgKiBXcml0ZXMgYSBVaW50OEFycmF5IHRvIHRoZSBieXRlIHN0cmVhbS5cbiAgICAgKiBAcGFyYW0gICAgX2J5dGVzICAgIFRoZSBVaW50OEFycmF5IHRvIGJlIHdyaXR0ZW4uXG4gICAgICogQHBhcmFtICAgIG9mZnNldCAgIG9wdGlvbmFsIHN0YXJ0IHBvc2l0aW9uIHRvIHdyaXRlXG4gICAgICovXG4gICAgcHVibGljIHdyaXRlVWludDhBcnJheShfYnl0ZXM6IFVpbnQ4QXJyYXksIG9mZnNldDogbnVtYmVyID0gbnVsbCk6IEJ5dGVBcnJheSB7XG4gICAgICAgIGxldCBwb3NpdGlvbiA9IG9mZnNldCAhPSBudWxsID8gb2Zmc2V0IDogdGhpcy5wb3NpdGlvbjtcbiAgICAgICAgdGhpcy52YWxpZGF0ZUJ1ZmZlcihfYnl0ZXMubGVuZ3RoLCBwb3NpdGlvbik7XG5cbiAgICAgICAgdGhpcy5fYXJyYXkuc2V0KF9ieXRlcywgcG9zaXRpb24pO1xuXG4gICAgICAgIGlmICghb2Zmc2V0KSB7XG4gICAgICAgICAgICB0aGlzLnBvc2l0aW9uICs9IF9ieXRlcy5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogV3JpdGVzIGEgVWludDE2QXJyYXkgdG8gdGhlIGJ5dGUgc3RyZWFtLlxuICAgICAqIEBwYXJhbSAgICBfYnl0ZXMgICAgVGhlIFVpbnQxNkFycmF5IHRvIGJlIHdyaXR0ZW4uXG4gICAgICogQHBhcmFtICAgIG9mZnNldCAgIG9wdGlvbmFsIHN0YXJ0IHBvc2l0aW9uIHRvIHdyaXRlXG4gICAgICovXG4gICAgcHVibGljIHdyaXRlVWludDE2QXJyYXkoX2J5dGVzOiBVaW50MTZBcnJheSwgb2Zmc2V0OiBudW1iZXIgPSBudWxsKTogdm9pZCB7XG4gICAgICAgIGxldCBwb3NpdGlvbiA9IG9mZnNldCAhPSBudWxsID8gb2Zmc2V0IDogdGhpcy5wb3NpdGlvbjtcbiAgICAgICAgdGhpcy52YWxpZGF0ZUJ1ZmZlcihfYnl0ZXMubGVuZ3RoICogQnl0ZUFycmF5LlNJWkVfT0ZfVUlOVDE2LCBwb3NpdGlvbik7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBfYnl0ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YS5zZXRVaW50MTYocG9zaXRpb24sIF9ieXRlc1tpXSwgdGhpcy5lbmRpYW4gPT09IEJ5dGVBcnJheS5MSVRUTEVfRU5ESUFOKTtcbiAgICAgICAgICAgIHBvc2l0aW9uICs9IEJ5dGVBcnJheS5TSVpFX09GX1VJTlQxNjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIW9mZnNldCkge1xuICAgICAgICAgICAgdGhpcy5wb3NpdGlvbiA9IHBvc2l0aW9uO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogV3JpdGVzIGEgVWludDMyQXJyYXkgdG8gdGhlIGJ5dGUgc3RyZWFtLlxuICAgICAqIEBwYXJhbSAgICBfYnl0ZXMgICAgVGhlIFVpbnQzMkFycmF5IHRvIGJlIHdyaXR0ZW4uXG4gICAgICogQHBhcmFtICAgIG9mZnNldCAgIG9wdGlvbmFsIHN0YXJ0IHBvc2l0aW9uIHRvIHdyaXRlXG4gICAgICovXG4gICAgcHVibGljIHdyaXRlVWludDMyQXJyYXkoX2J5dGVzOiBVaW50MzJBcnJheSwgb2Zmc2V0OiBudW1iZXIgPSBudWxsKTogdm9pZCB7XG4gICAgICAgIGxldCBwb3NpdGlvbiA9IG9mZnNldCAhPSBudWxsID8gb2Zmc2V0IDogdGhpcy5wb3NpdGlvbjtcbiAgICAgICAgdGhpcy52YWxpZGF0ZUJ1ZmZlcihfYnl0ZXMubGVuZ3RoICogQnl0ZUFycmF5LlNJWkVfT0ZfVUlOVDMyLCBwb3NpdGlvbik7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBfYnl0ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YS5zZXRVaW50MzIocG9zaXRpb24sIF9ieXRlc1tpXSwgdGhpcy5lbmRpYW4gPT09IEJ5dGVBcnJheS5MSVRUTEVfRU5ESUFOKTtcbiAgICAgICAgICAgIHBvc2l0aW9uICs9IEJ5dGVBcnJheS5TSVpFX09GX1VJTlQzMjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIW9mZnNldCkge1xuICAgICAgICAgICAgdGhpcy5wb3NpdGlvbiA9IHBvc2l0aW9uO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogV3JpdGVzIGEgSW50OEFycmF5IHRvIHRoZSBieXRlIHN0cmVhbS5cbiAgICAgKiBAcGFyYW0gICAgX2J5dGVzICAgIFRoZSBJbnQ4QXJyYXkgdG8gYmUgd3JpdHRlbi5cbiAgICAgKiBAcGFyYW0gICAgb2Zmc2V0ICAgb3B0aW9uYWwgc3RhcnQgcG9zaXRpb24gdG8gd3JpdGVcbiAgICAgKi9cbiAgICBwdWJsaWMgd3JpdGVJbnQ4QXJyYXkoX2J5dGVzOiBJbnQ4QXJyYXksIG9mZnNldDogbnVtYmVyID0gbnVsbCk6IHZvaWQge1xuICAgICAgICBsZXQgcG9zaXRpb24gPSBvZmZzZXQgIT0gbnVsbCA/IG9mZnNldCA6IHRoaXMucG9zaXRpb247XG4gICAgICAgIHRoaXMudmFsaWRhdGVCdWZmZXIoX2J5dGVzLmxlbmd0aCwgcG9zaXRpb24pO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgX2J5dGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLmRhdGEuc2V0SW50OChwb3NpdGlvbisrLCBfYnl0ZXNbaV0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICghb2Zmc2V0KSB7XG4gICAgICAgICAgICB0aGlzLnBvc2l0aW9uID0gcG9zaXRpb247XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBXcml0ZXMgYSBJbnQxNkFycmF5IHRvIHRoZSBieXRlIHN0cmVhbS5cbiAgICAgKiBAcGFyYW0gICAgX2J5dGVzICAgIFRoZSBJbnQxNkFycmF5IHRvIGJlIHdyaXR0ZW4uXG4gICAgICogQHBhcmFtICAgIG9mZnNldCAgIG9wdGlvbmFsIHN0YXJ0IHBvc2l0aW9uIHRvIHdyaXRlXG4gICAgICovXG4gICAgcHVibGljIHdyaXRlSW50MTZBcnJheShfYnl0ZXM6IEludDE2QXJyYXksIG9mZnNldDogbnVtYmVyID0gbnVsbCk6IHZvaWQge1xuICAgICAgICBsZXQgcG9zaXRpb24gPSBvZmZzZXQgIT0gbnVsbCA/IG9mZnNldCA6IHRoaXMucG9zaXRpb247XG4gICAgICAgIHRoaXMudmFsaWRhdGVCdWZmZXIoX2J5dGVzLmxlbmd0aCAqIEJ5dGVBcnJheS5TSVpFX09GX0lOVDE2LCBwb3NpdGlvbik7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBfYnl0ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YS5zZXRJbnQxNihwb3NpdGlvbiwgX2J5dGVzW2ldLCB0aGlzLmVuZGlhbiA9PT0gQnl0ZUFycmF5LkxJVFRMRV9FTkRJQU4pO1xuICAgICAgICAgICAgcG9zaXRpb24gKz0gQnl0ZUFycmF5LlNJWkVfT0ZfSU5UMTY7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFvZmZzZXQpIHtcbiAgICAgICAgICAgIHRoaXMucG9zaXRpb24gPSBwb3NpdGlvbjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFdyaXRlcyBhIEludDMyQXJyYXkgdG8gdGhlIGJ5dGUgc3RyZWFtLlxuICAgICAqIEBwYXJhbSAgICBfYnl0ZXMgICAgVGhlIEludDMyQXJyYXkgdG8gYmUgd3JpdHRlbi5cbiAgICAgKiBAcGFyYW0gICAgb2Zmc2V0ICAgb3B0aW9uYWwgc3RhcnQgcG9zaXRpb24gdG8gd3JpdGVcbiAgICAgKi9cbiAgICBwdWJsaWMgd3JpdGVJbnQzMkFycmF5KF9ieXRlczogSW50MzJBcnJheSwgb2Zmc2V0OiBudW1iZXIgPSBudWxsKTogdm9pZCB7XG4gICAgICAgIGxldCBwb3NpdGlvbiA9IG9mZnNldCAhPSBudWxsID8gb2Zmc2V0IDogdGhpcy5wb3NpdGlvbjtcbiAgICAgICAgdGhpcy52YWxpZGF0ZUJ1ZmZlcihfYnl0ZXMubGVuZ3RoICogQnl0ZUFycmF5LlNJWkVfT0ZfSU5UMzIsIHBvc2l0aW9uKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IF9ieXRlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5kYXRhLnNldEludDMyKHBvc2l0aW9uLCBfYnl0ZXNbaV0sIHRoaXMuZW5kaWFuID09PSBCeXRlQXJyYXkuTElUVExFX0VORElBTik7XG4gICAgICAgICAgICBwb3NpdGlvbiArPSBCeXRlQXJyYXkuU0laRV9PRl9JTlQzMjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIW9mZnNldCkge1xuICAgICAgICAgICAgdGhpcy5wb3NpdGlvbiA9IHBvc2l0aW9uO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogV3JpdGVzIGEgRmxvYXQzMkFycmF5IHRvIHRoZSBieXRlIHN0cmVhbS5cbiAgICAgKiBAcGFyYW0gICAgX2J5dGVzICAgIFRoZSBGbG9hdDMyQXJyYXkgdG8gYmUgd3JpdHRlbi5cbiAgICAgKiBAcGFyYW0gICAgb2Zmc2V0ICAgb3B0aW9uYWwgc3RhcnQgcG9zaXRpb24gdG8gd3JpdGVcbiAgICAgKi9cbiAgICBwdWJsaWMgd3JpdGVGbG9hdDMyQXJyYXkoX2J5dGVzOiBGbG9hdDMyQXJyYXksIG9mZnNldDogbnVtYmVyID0gbnVsbCk6IHZvaWQge1xuICAgICAgICBsZXQgcG9zaXRpb24gPSBvZmZzZXQgIT0gbnVsbCA/IG9mZnNldCA6IHRoaXMucG9zaXRpb247XG4gICAgICAgIHRoaXMudmFsaWRhdGVCdWZmZXIoX2J5dGVzLmxlbmd0aCAqIEJ5dGVBcnJheS5TSVpFX09GX0ZMT0FUMzIsIHBvc2l0aW9uKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IF9ieXRlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5kYXRhLnNldEZsb2F0MzIocG9zaXRpb24sIF9ieXRlc1tpXSwgdGhpcy5lbmRpYW4gPT09IEJ5dGVBcnJheS5MSVRUTEVfRU5ESUFOKTtcbiAgICAgICAgICAgIHBvc2l0aW9uICs9IEJ5dGVBcnJheS5TSVpFX09GX0ZMT0FUMzI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFvZmZzZXQpIHtcbiAgICAgICAgICAgIHRoaXMucG9zaXRpb24gPSBwb3NpdGlvbjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFdyaXRlcyBhIEZsb2F0NjRBcnJheSB0byB0aGUgYnl0ZSBzdHJlYW0uXG4gICAgICogQHBhcmFtICAgIF9ieXRlcyAgICBUaGUgRmxvYXQ2NEFycmF5IHRvIGJlIHdyaXR0ZW4uXG4gICAgICogQHBhcmFtICAgIG9mZnNldCAgIG9wdGlvbmFsIHN0YXJ0IHBvc2l0aW9uIHRvIHdyaXRlXG4gICAgICovXG4gICAgcHVibGljIHdyaXRlRmxvYXQ2NEFycmF5KF9ieXRlczogRmxvYXQ2NEFycmF5LCBvZmZzZXQ6IG51bWJlciA9IG51bGwpOiB2b2lkIHtcbiAgICAgICAgbGV0IHBvc2l0aW9uID0gb2Zmc2V0ICE9IG51bGwgPyBvZmZzZXQgOiB0aGlzLnBvc2l0aW9uO1xuICAgICAgICB0aGlzLnZhbGlkYXRlQnVmZmVyKF9ieXRlcy5sZW5ndGgsIHBvc2l0aW9uKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IF9ieXRlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5kYXRhLnNldEZsb2F0NjQocG9zaXRpb24sIF9ieXRlc1tpXSwgdGhpcy5lbmRpYW4gPT09IEJ5dGVBcnJheS5MSVRUTEVfRU5ESUFOKTtcbiAgICAgICAgICAgIHBvc2l0aW9uICs9IEJ5dGVBcnJheS5TSVpFX09GX0ZMT0FUNjQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFvZmZzZXQpIHtcbiAgICAgICAgICAgIHRoaXMucG9zaXRpb24gPSBwb3NpdGlvbjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlYWQgYSBVaW50OEFycmF5IGZyb20gdGhlIGJ5dGUgc3RyZWFtLlxuICAgICAqIEBwYXJhbSAgICBsZW5ndGggQW4gdW5zaWduZWQgaW50MTYgaW5kaWNhdGluZyB0aGUgbGVuZ3RoIG9mIHRoZSBVaW50OEFycmF5LlxuICAgICAqL1xuICAgIHB1YmxpYyByZWFkVWludDhBcnJheShsZW5ndGg6IG51bWJlciwgY3JlYXRlTmV3QnVmZmVyOiBib29sZWFuID0gdHJ1ZSk6IFVpbnQ4QXJyYXkge1xuICAgICAgICBpZiAoIXRoaXMudmFsaWRhdGUobGVuZ3RoKSkgcmV0dXJuIG51bGw7XG4gICAgICAgIGlmICghY3JlYXRlTmV3QnVmZmVyKSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0OiBVaW50OEFycmF5ID0gbmV3IFVpbnQ4QXJyYXkodGhpcy5idWZmZXIsIHRoaXMuYnVmZmVyT2Zmc2V0ICsgdGhpcy5wb3NpdGlvbiwgbGVuZ3RoKTtcbiAgICAgICAgICAgIHRoaXMucG9zaXRpb24gKz0gbGVuZ3RoO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0ID0gbmV3IFVpbnQ4QXJyYXkobmV3IEFycmF5QnVmZmVyKGxlbmd0aCkpO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHJlc3VsdFtpXSA9IHRoaXMuZGF0YS5nZXRVaW50OCh0aGlzLnBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICB0aGlzLnBvc2l0aW9uICs9IEJ5dGVBcnJheS5TSVpFX09GX1VJTlQ4O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVhZCBhIFVpbnQxNkFycmF5IGZyb20gdGhlIGJ5dGUgc3RyZWFtLlxuICAgICAqIEBwYXJhbSAgICBsZW5ndGggQW4gdW5zaWduZWQgaW50MTYgaW5kaWNhdGluZyB0aGUgbGVuZ3RoIG9mIHRoZSBVaW50MTZBcnJheS5cbiAgICAgKi9cbiAgICBwdWJsaWMgcmVhZFVpbnQxNkFycmF5KGxlbmd0aDogbnVtYmVyLCBjcmVhdGVOZXdCdWZmZXI6IGJvb2xlYW4gPSB0cnVlKTogVWludDE2QXJyYXkge1xuICAgICAgICB2YXIgc2l6ZTogbnVtYmVyID0gbGVuZ3RoICogQnl0ZUFycmF5LlNJWkVfT0ZfVUlOVDE2O1xuICAgICAgICBpZiAoIXRoaXMudmFsaWRhdGUoc2l6ZSkpIHJldHVybiBudWxsO1xuICAgICAgICBpZiAoIWNyZWF0ZU5ld0J1ZmZlcikge1xuICAgICAgICAgICAgdmFyIHJlc3VsdDogVWludDE2QXJyYXkgPSBuZXcgVWludDE2QXJyYXkodGhpcy5idWZmZXIsIHRoaXMuYnVmZmVyT2Zmc2V0ICsgdGhpcy5wb3NpdGlvbiwgbGVuZ3RoKTtcbiAgICAgICAgICAgIHRoaXMucG9zaXRpb24gKz0gc2l6ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IG5ldyBVaW50MTZBcnJheShuZXcgQXJyYXlCdWZmZXIoc2l6ZSkpO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHJlc3VsdFtpXSA9IHRoaXMuZGF0YS5nZXRVaW50MTYodGhpcy5wb3NpdGlvbiwgdGhpcy5lbmRpYW4gPT09IEJ5dGVBcnJheS5MSVRUTEVfRU5ESUFOKTtcbiAgICAgICAgICAgICAgICB0aGlzLnBvc2l0aW9uICs9IEJ5dGVBcnJheS5TSVpFX09GX1VJTlQxNjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlYWQgYSBVaW50MzJBcnJheSBmcm9tIHRoZSBieXRlIHN0cmVhbS5cbiAgICAgKiBAcGFyYW0gICAgbGVuZ3RoIEFuIHVuc2lnbmVkIGludDE2IGluZGljYXRpbmcgdGhlIGxlbmd0aCBvZiB0aGUgVWludDMyQXJyYXkuXG4gICAgICovXG4gICAgcHVibGljIHJlYWRVaW50MzJBcnJheShsZW5ndGg6IG51bWJlciwgY3JlYXRlTmV3QnVmZmVyOiBib29sZWFuID0gdHJ1ZSk6IFVpbnQzMkFycmF5IHtcbiAgICAgICAgdmFyIHNpemU6IG51bWJlciA9IGxlbmd0aCAqIEJ5dGVBcnJheS5TSVpFX09GX1VJTlQzMjtcbiAgICAgICAgaWYgKCF0aGlzLnZhbGlkYXRlKHNpemUpKSByZXR1cm4gbnVsbDtcbiAgICAgICAgaWYgKCFjcmVhdGVOZXdCdWZmZXIpIHtcbiAgICAgICAgICAgIHZhciByZXN1bHQ6IFVpbnQzMkFycmF5ID0gbmV3IFVpbnQzMkFycmF5KHRoaXMuYnVmZmVyLCB0aGlzLmJ1ZmZlck9mZnNldCArIHRoaXMucG9zaXRpb24sIGxlbmd0aCk7XG4gICAgICAgICAgICB0aGlzLnBvc2l0aW9uICs9IHNpemU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXN1bHQgPSBuZXcgVWludDMyQXJyYXkobmV3IEFycmF5QnVmZmVyKHNpemUpKTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICByZXN1bHRbaV0gPSB0aGlzLmRhdGEuZ2V0VWludDMyKHRoaXMucG9zaXRpb24sIHRoaXMuZW5kaWFuID09PSBCeXRlQXJyYXkuTElUVExFX0VORElBTik7XG4gICAgICAgICAgICAgICAgdGhpcy5wb3NpdGlvbiArPSBCeXRlQXJyYXkuU0laRV9PRl9VSU5UMzI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZWFkIGEgSW50OEFycmF5IGZyb20gdGhlIGJ5dGUgc3RyZWFtLlxuICAgICAqIEBwYXJhbSAgICBsZW5ndGggQW4gdW5zaWduZWQgaW50MTYgaW5kaWNhdGluZyB0aGUgbGVuZ3RoIG9mIHRoZSBJbnQ4QXJyYXkuXG4gICAgICovXG4gICAgcHVibGljIHJlYWRJbnQ4QXJyYXkobGVuZ3RoOiBudW1iZXIsIGNyZWF0ZU5ld0J1ZmZlcjogYm9vbGVhbiA9IHRydWUpOiBJbnQ4QXJyYXkge1xuICAgICAgICBpZiAoIXRoaXMudmFsaWRhdGUobGVuZ3RoKSkgcmV0dXJuIG51bGw7XG4gICAgICAgIGlmICghY3JlYXRlTmV3QnVmZmVyKSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0OiBJbnQ4QXJyYXkgPSBuZXcgSW50OEFycmF5KHRoaXMuYnVmZmVyLCB0aGlzLmJ1ZmZlck9mZnNldCArIHRoaXMucG9zaXRpb24sIGxlbmd0aCk7XG4gICAgICAgICAgICB0aGlzLnBvc2l0aW9uICs9IGxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IG5ldyBJbnQ4QXJyYXkobmV3IEFycmF5QnVmZmVyKGxlbmd0aCkpO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHJlc3VsdFtpXSA9IHRoaXMuZGF0YS5nZXRJbnQ4KHRoaXMucG9zaXRpb24pO1xuICAgICAgICAgICAgICAgIHRoaXMucG9zaXRpb24gKz0gQnl0ZUFycmF5LlNJWkVfT0ZfSU5UODtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlYWQgYSBJbnQxNkFycmF5IGZyb20gdGhlIGJ5dGUgc3RyZWFtLlxuICAgICAqIEBwYXJhbSAgICBsZW5ndGggQW4gdW5zaWduZWQgaW50MTYgaW5kaWNhdGluZyB0aGUgbGVuZ3RoIG9mIHRoZSBJbnQxNkFycmF5LlxuICAgICAqL1xuICAgIHB1YmxpYyByZWFkSW50MTZBcnJheShsZW5ndGg6IG51bWJlciwgY3JlYXRlTmV3QnVmZmVyOiBib29sZWFuID0gdHJ1ZSk6IEludDE2QXJyYXkge1xuICAgICAgICB2YXIgc2l6ZTogbnVtYmVyID0gbGVuZ3RoICogQnl0ZUFycmF5LlNJWkVfT0ZfSU5UMTY7XG4gICAgICAgIGlmICghdGhpcy52YWxpZGF0ZShzaXplKSkgcmV0dXJuIG51bGw7XG4gICAgICAgIGlmICghY3JlYXRlTmV3QnVmZmVyKSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0OiBJbnQxNkFycmF5ID0gbmV3IEludDE2QXJyYXkodGhpcy5idWZmZXIsIHRoaXMuYnVmZmVyT2Zmc2V0ICsgdGhpcy5wb3NpdGlvbiwgbGVuZ3RoKTtcbiAgICAgICAgICAgIHRoaXMucG9zaXRpb24gKz0gc2l6ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IG5ldyBJbnQxNkFycmF5KG5ldyBBcnJheUJ1ZmZlcihzaXplKSk7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0W2ldID0gdGhpcy5kYXRhLmdldEludDE2KHRoaXMucG9zaXRpb24sIHRoaXMuZW5kaWFuID09PSBCeXRlQXJyYXkuTElUVExFX0VORElBTik7XG4gICAgICAgICAgICAgICAgdGhpcy5wb3NpdGlvbiArPSBCeXRlQXJyYXkuU0laRV9PRl9JTlQxNjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlYWQgYSBJbnQzMkFycmF5IGZyb20gdGhlIGJ5dGUgc3RyZWFtLlxuICAgICAqIEBwYXJhbSAgICBsZW5ndGggQW4gdW5zaWduZWQgaW50MTYgaW5kaWNhdGluZyB0aGUgbGVuZ3RoIG9mIHRoZSBJbnQzMkFycmF5LlxuICAgICAqL1xuICAgIHB1YmxpYyByZWFkSW50MzJBcnJheShsZW5ndGg6IG51bWJlciwgY3JlYXRlTmV3QnVmZmVyOiBib29sZWFuID0gdHJ1ZSk6IEludDMyQXJyYXkge1xuICAgICAgICB2YXIgc2l6ZTogbnVtYmVyID0gbGVuZ3RoICogQnl0ZUFycmF5LlNJWkVfT0ZfSU5UMzI7XG4gICAgICAgIGlmICghdGhpcy52YWxpZGF0ZShzaXplKSkgcmV0dXJuIG51bGw7XG4gICAgICAgIGlmICghY3JlYXRlTmV3QnVmZmVyKSB7XG5cbiAgICAgICAgICAgIGlmICgodGhpcy5idWZmZXJPZmZzZXQgKyB0aGlzLnBvc2l0aW9uKSAlIDQgPT0gMCkge1xuICAgICAgICAgICAgICAgIHZhciByZXN1bHQ6IEludDMyQXJyYXkgPSBuZXcgSW50MzJBcnJheSh0aGlzLmJ1ZmZlciwgdGhpcy5idWZmZXJPZmZzZXQgKyB0aGlzLnBvc2l0aW9uLCBsZW5ndGgpO1xuICAgICAgICAgICAgICAgIHRoaXMucG9zaXRpb24gKz0gc2l6ZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIHRtcDogVWludDhBcnJheSA9IG5ldyBVaW50OEFycmF5KG5ldyBBcnJheUJ1ZmZlcihzaXplKSk7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaXplOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdG1wW2ldID0gdGhpcy5kYXRhLmdldFVpbnQ4KHRoaXMucG9zaXRpb24pO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBvc2l0aW9uICs9IEJ5dGVBcnJheS5TSVpFX09GX1VJTlQ4O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXN1bHQgPSBuZXcgSW50MzJBcnJheSh0bXAuYnVmZmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IG5ldyBJbnQzMkFycmF5KG5ldyBBcnJheUJ1ZmZlcihzaXplKSk7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0W2ldID0gdGhpcy5kYXRhLmdldEludDMyKHRoaXMucG9zaXRpb24sIHRoaXMuZW5kaWFuID09PSBCeXRlQXJyYXkuTElUVExFX0VORElBTik7XG4gICAgICAgICAgICAgICAgdGhpcy5wb3NpdGlvbiArPSBCeXRlQXJyYXkuU0laRV9PRl9JTlQzMjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlYWQgYSBGbG9hdDMyQXJyYXkgZnJvbSB0aGUgYnl0ZSBzdHJlYW0uXG4gICAgICogQHBhcmFtICAgIGxlbmd0aCBBbiB1bnNpZ25lZCBpbnQxNiBpbmRpY2F0aW5nIHRoZSBsZW5ndGggb2YgdGhlIEZsb2F0MzJBcnJheS5cbiAgICAgKi9cbiAgICBwdWJsaWMgcmVhZEZsb2F0MzJBcnJheShsZW5ndGg6IG51bWJlciwgY3JlYXRlTmV3QnVmZmVyOiBib29sZWFuID0gdHJ1ZSk6IEZsb2F0MzJBcnJheSB7XG4gICAgICAgIHZhciBzaXplOiBudW1iZXIgPSBsZW5ndGggKiBCeXRlQXJyYXkuU0laRV9PRl9GTE9BVDMyO1xuICAgICAgICBpZiAoIXRoaXMudmFsaWRhdGUoc2l6ZSkpIHJldHVybiBudWxsO1xuICAgICAgICBpZiAoIWNyZWF0ZU5ld0J1ZmZlcikge1xuICAgICAgICAgICAgaWYgKCh0aGlzLmJ1ZmZlck9mZnNldCArIHRoaXMucG9zaXRpb24pICUgNCA9PSAwKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdDogRmxvYXQzMkFycmF5ID0gbmV3IEZsb2F0MzJBcnJheSh0aGlzLmJ1ZmZlciwgdGhpcy5idWZmZXJPZmZzZXQgKyB0aGlzLnBvc2l0aW9uLCBsZW5ndGgpO1xuICAgICAgICAgICAgICAgIHRoaXMucG9zaXRpb24gKz0gc2l6ZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIHRtcDogVWludDhBcnJheSA9IG5ldyBVaW50OEFycmF5KG5ldyBBcnJheUJ1ZmZlcihzaXplKSk7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaXplOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdG1wW2ldID0gdGhpcy5kYXRhLmdldFVpbnQ4KHRoaXMucG9zaXRpb24pO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBvc2l0aW9uICs9IEJ5dGVBcnJheS5TSVpFX09GX1VJTlQ4O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXN1bHQgPSBuZXcgRmxvYXQzMkFycmF5KHRtcC5idWZmZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0ID0gbmV3IEZsb2F0MzJBcnJheShuZXcgQXJyYXlCdWZmZXIoc2l6ZSkpO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0W2ldID0gdGhpcy5kYXRhLmdldEZsb2F0MzIodGhpcy5wb3NpdGlvbiwgdGhpcy5lbmRpYW4gPT09IEJ5dGVBcnJheS5MSVRUTEVfRU5ESUFOKTtcbiAgICAgICAgICAgICAgICB0aGlzLnBvc2l0aW9uICs9IEJ5dGVBcnJheS5TSVpFX09GX0ZMT0FUMzI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZWFkIGEgRmxvYXQ2NEFycmF5IGZyb20gdGhlIGJ5dGUgc3RyZWFtLlxuICAgICAqIEBwYXJhbSAgICBsZW5ndGggQW4gdW5zaWduZWQgaW50MTYgaW5kaWNhdGluZyB0aGUgbGVuZ3RoIG9mIHRoZSBGbG9hdDY0QXJyYXkuXG4gICAgICovXG4gICAgcHVibGljIHJlYWRGbG9hdDY0QXJyYXkobGVuZ3RoOiBudW1iZXIsIGNyZWF0ZU5ld0J1ZmZlcjogYm9vbGVhbiA9IHRydWUpOiBGbG9hdDY0QXJyYXkge1xuICAgICAgICB2YXIgc2l6ZTogbnVtYmVyID0gbGVuZ3RoICogQnl0ZUFycmF5LlNJWkVfT0ZfRkxPQVQ2NDtcbiAgICAgICAgaWYgKCF0aGlzLnZhbGlkYXRlKHNpemUpKSByZXR1cm4gbnVsbDtcbiAgICAgICAgaWYgKCFjcmVhdGVOZXdCdWZmZXIpIHtcbiAgICAgICAgICAgIHZhciByZXN1bHQ6IEZsb2F0NjRBcnJheSA9IG5ldyBGbG9hdDY0QXJyYXkodGhpcy5idWZmZXIsIHRoaXMucG9zaXRpb24sIGxlbmd0aCk7XG4gICAgICAgICAgICB0aGlzLnBvc2l0aW9uICs9IHNpemU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXN1bHQgPSBuZXcgRmxvYXQ2NEFycmF5KG5ldyBBcnJheUJ1ZmZlcihzaXplKSk7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0W2ldID0gdGhpcy5kYXRhLmdldEZsb2F0NjQodGhpcy5wb3NpdGlvbiwgdGhpcy5lbmRpYW4gPT09IEJ5dGVBcnJheS5MSVRUTEVfRU5ESUFOKTtcbiAgICAgICAgICAgICAgICB0aGlzLnBvc2l0aW9uICs9IEJ5dGVBcnJheS5TSVpFX09GX0ZMT0FUNjQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICBwdWJsaWMgdmFsaWRhdGUobGVuOiBudW1iZXIpOiBib29sZWFuIHtcbiAgICAgICAgLy9sZW4gKz0gdGhpcy5kYXRhLmJ5dGVPZmZzZXQ7XG4gICAgICAgIGlmICh0aGlzLmRhdGEuYnl0ZUxlbmd0aCA+IDAgJiYgdGhpcy5fcG9zaXRpb24gKyBsZW4gPD0gdGhpcy5kYXRhLmJ5dGVMZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgJ0Vycm9yICMyMDMwOiBFbmQgb2YgZmlsZSB3YXMgZW5jb3VudGVyZWQuJztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKioqKioqKioqKioqKioqKioqKioqL1xuICAgIC8qICBQUklWQVRFIE1FVEhPRFMgICAqL1xuICAgIC8qKioqKioqKioqKioqKioqKioqKioqL1xuICAgIHByaXZhdGUgdmFsaWRhdGVCdWZmZXIoc2l6ZTogbnVtYmVyLCBvZmZzZXQ6IG51bWJlciA9IDApOiB2b2lkIHtcbiAgICAgICAgbGV0IGxlbmd0aCA9IG9mZnNldCArIHNpemU7XG4gICAgICAgIHRoaXMucmVzaXplKGxlbmd0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVVRGLTggRW5jb2RpbmcvRGVjb2RpbmdcbiAgICAgKi9cbiAgICBwcml2YXRlIGVuY29kZVVURjgoc3RyOiBzdHJpbmcpOiBVaW50OEFycmF5IHtcbiAgICAgICAgdmFyIHBvczogbnVtYmVyID0gMDtcbiAgICAgICAgdmFyIGNvZGVQb2ludHMgPSB0aGlzLnN0cmluZ1RvQ29kZVBvaW50cyhzdHIpO1xuICAgICAgICB2YXIgb3V0cHV0Qnl0ZXMgPSBbXTtcblxuICAgICAgICB3aGlsZSAoY29kZVBvaW50cy5sZW5ndGggPiBwb3MpIHtcbiAgICAgICAgICAgIHZhciBjb2RlX3BvaW50OiBudW1iZXIgPSBjb2RlUG9pbnRzW3BvcysrXTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuaW5SYW5nZShjb2RlX3BvaW50LCAweEQ4MDAsIDB4REZGRikpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVuY29kZXJFcnJvcihjb2RlX3BvaW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuaW5SYW5nZShjb2RlX3BvaW50LCAweDAwMDAsIDB4MDA3ZikpIHtcbiAgICAgICAgICAgICAgICBvdXRwdXRCeXRlcy5wdXNoKGNvZGVfcG9pbnQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgY291bnQsIG9mZnNldDtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pblJhbmdlKGNvZGVfcG9pbnQsIDB4MDA4MCwgMHgwN0ZGKSkge1xuICAgICAgICAgICAgICAgICAgICBjb3VudCA9IDE7XG4gICAgICAgICAgICAgICAgICAgIG9mZnNldCA9IDB4QzA7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmluUmFuZ2UoY29kZV9wb2ludCwgMHgwODAwLCAweEZGRkYpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvdW50ID0gMjtcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ID0gMHhFMDtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuaW5SYW5nZShjb2RlX3BvaW50LCAweDEwMDAwLCAweDEwRkZGRikpIHtcbiAgICAgICAgICAgICAgICAgICAgY291bnQgPSAzO1xuICAgICAgICAgICAgICAgICAgICBvZmZzZXQgPSAweEYwO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIG91dHB1dEJ5dGVzLnB1c2godGhpcy5kaXYoY29kZV9wb2ludCwgTWF0aC5wb3coNjQsIGNvdW50KSkgKyBvZmZzZXQpO1xuXG4gICAgICAgICAgICAgICAgd2hpbGUgKGNvdW50ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHRoaXMuZGl2KGNvZGVfcG9pbnQsIE1hdGgucG93KDY0LCBjb3VudCAtIDEpKTtcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0Qnl0ZXMucHVzaCgweDgwICsgKHRlbXAgJSA2NCkpO1xuICAgICAgICAgICAgICAgICAgICBjb3VudCAtPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkob3V0cHV0Qnl0ZXMpO1xuICAgIH1cblxuICAgIHByaXZhdGUgZGVjb2RlVVRGOChkYXRhOiBVaW50OEFycmF5KTogc3RyaW5nIHtcbiAgICAgICAgdmFyIGZhdGFsOiBib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHZhciBwb3M6IG51bWJlciA9IDA7XG4gICAgICAgIHZhciByZXN1bHQ6IHN0cmluZyA9IFwiXCI7XG4gICAgICAgIHZhciBjb2RlX3BvaW50OiBudW1iZXI7XG4gICAgICAgIHZhciB1dGY4X2NvZGVfcG9pbnQgPSAwO1xuICAgICAgICB2YXIgdXRmOF9ieXRlc19uZWVkZWQgPSAwO1xuICAgICAgICB2YXIgdXRmOF9ieXRlc19zZWVuID0gMDtcbiAgICAgICAgdmFyIHV0ZjhfbG93ZXJfYm91bmRhcnkgPSAwO1xuXG4gICAgICAgIHdoaWxlIChkYXRhLmxlbmd0aCA+IHBvcykge1xuXG4gICAgICAgICAgICB2YXIgX2J5dGUgPSBkYXRhW3BvcysrXTtcblxuICAgICAgICAgICAgaWYgKF9ieXRlID09PSB0aGlzLkVPRl9ieXRlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHV0ZjhfYnl0ZXNfbmVlZGVkICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvZGVfcG9pbnQgPSB0aGlzLmRlY29kZXJFcnJvcihmYXRhbCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29kZV9wb2ludCA9IHRoaXMuRU9GX2NvZGVfcG9pbnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgIGlmICh1dGY4X2J5dGVzX25lZWRlZCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5pblJhbmdlKF9ieXRlLCAweDAwLCAweDdGKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZV9wb2ludCA9IF9ieXRlO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaW5SYW5nZShfYnl0ZSwgMHhDMiwgMHhERikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1dGY4X2J5dGVzX25lZWRlZCA9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXRmOF9sb3dlcl9ib3VuZGFyeSA9IDB4ODA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXRmOF9jb2RlX3BvaW50ID0gX2J5dGUgLSAweEMwO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmluUmFuZ2UoX2J5dGUsIDB4RTAsIDB4RUYpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXRmOF9ieXRlc19uZWVkZWQgPSAyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHV0ZjhfbG93ZXJfYm91bmRhcnkgPSAweDgwMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1dGY4X2NvZGVfcG9pbnQgPSBfYnl0ZSAtIDB4RTA7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuaW5SYW5nZShfYnl0ZSwgMHhGMCwgMHhGNCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1dGY4X2J5dGVzX25lZWRlZCA9IDM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXRmOF9sb3dlcl9ib3VuZGFyeSA9IDB4MTAwMDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXRmOF9jb2RlX3BvaW50ID0gX2J5dGUgLSAweEYwO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRlY29kZXJFcnJvcihmYXRhbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB1dGY4X2NvZGVfcG9pbnQgPSB1dGY4X2NvZGVfcG9pbnQgKiBNYXRoLnBvdyg2NCwgdXRmOF9ieXRlc19uZWVkZWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZV9wb2ludCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCF0aGlzLmluUmFuZ2UoX2J5dGUsIDB4ODAsIDB4QkYpKSB7XG4gICAgICAgICAgICAgICAgICAgIHV0ZjhfY29kZV9wb2ludCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHV0ZjhfYnl0ZXNfbmVlZGVkID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdXRmOF9ieXRlc19zZWVuID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdXRmOF9sb3dlcl9ib3VuZGFyeSA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHBvcy0tO1xuICAgICAgICAgICAgICAgICAgICBjb2RlX3BvaW50ID0gdGhpcy5kZWNvZGVyRXJyb3IoZmF0YWwsIF9ieXRlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgIHV0ZjhfYnl0ZXNfc2VlbiArPSAxO1xuICAgICAgICAgICAgICAgICAgICB1dGY4X2NvZGVfcG9pbnQgPSB1dGY4X2NvZGVfcG9pbnQgKyAoX2J5dGUgLSAweDgwKSAqIE1hdGgucG93KDY0LCB1dGY4X2J5dGVzX25lZWRlZCAtIHV0ZjhfYnl0ZXNfc2Vlbik7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHV0ZjhfYnl0ZXNfc2VlbiAhPT0gdXRmOF9ieXRlc19uZWVkZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGVfcG9pbnQgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3AgPSB1dGY4X2NvZGVfcG9pbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbG93ZXJfYm91bmRhcnkgPSB1dGY4X2xvd2VyX2JvdW5kYXJ5O1xuICAgICAgICAgICAgICAgICAgICAgICAgdXRmOF9jb2RlX3BvaW50ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHV0ZjhfYnl0ZXNfbmVlZGVkID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHV0ZjhfYnl0ZXNfc2VlbiA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICB1dGY4X2xvd2VyX2JvdW5kYXJ5ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmluUmFuZ2UoY3AsIGxvd2VyX2JvdW5kYXJ5LCAweDEwRkZGRikgJiYgIXRoaXMuaW5SYW5nZShjcCwgMHhEODAwLCAweERGRkYpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZV9wb2ludCA9IGNwO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlX3BvaW50ID0gdGhpcy5kZWNvZGVyRXJyb3IoZmF0YWwsIF9ieXRlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy9EZWNvZGUgc3RyaW5nXG4gICAgICAgICAgICBpZiAoY29kZV9wb2ludCAhPT0gbnVsbCAmJiBjb2RlX3BvaW50ICE9PSB0aGlzLkVPRl9jb2RlX3BvaW50KSB7XG4gICAgICAgICAgICAgICAgaWYgKGNvZGVfcG9pbnQgPD0gMHhGRkZGKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb2RlX3BvaW50ID4gMCkgcmVzdWx0ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoY29kZV9wb2ludCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29kZV9wb2ludCAtPSAweDEwMDAwO1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZSgweEQ4MDAgKyAoKGNvZGVfcG9pbnQgPj4gMTApICYgMHgzZmYpKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoMHhEQzAwICsgKGNvZGVfcG9pbnQgJiAweDNmZikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIHByaXZhdGUgZW5jb2RlckVycm9yKGNvZGVfcG9pbnQpIHtcbiAgICAgICAgdGhyb3cgJ0VuY29kaW5nRXJyb3IhIFRoZSBjb2RlIHBvaW50ICcgKyBjb2RlX3BvaW50ICsgJyBjb3VsZCBub3QgYmUgZW5jb2RlZC4nO1xuICAgIH1cblxuICAgIHByaXZhdGUgZGVjb2RlckVycm9yKGZhdGFsLCBvcHRfY29kZV9wb2ludD8pOiBudW1iZXIge1xuICAgICAgICBpZiAoZmF0YWwpIHtcbiAgICAgICAgICAgIHRocm93ICdEZWNvZGluZ0Vycm9yJztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3B0X2NvZGVfcG9pbnQgfHwgMHhGRkZEO1xuICAgIH1cblxuICAgIHByaXZhdGUgRU9GX2J5dGU6IG51bWJlciA9IC0xO1xuICAgIHByaXZhdGUgRU9GX2NvZGVfcG9pbnQ6IG51bWJlciA9IC0xO1xuXG4gICAgcHJpdmF0ZSBpblJhbmdlKGEsIG1pbiwgbWF4KSB7XG4gICAgICAgIHJldHVybiBtaW4gPD0gYSAmJiBhIDw9IG1heDtcbiAgICB9XG5cbiAgICBwcml2YXRlIGRpdihuLCBkKSB7XG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKG4gLyBkKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHN0cmluZ1RvQ29kZVBvaW50cyhzdHJpbmc6IHN0cmluZykge1xuICAgICAgICAvKiogQHR5cGUge0FycmF5LjxudW1iZXI+fSAqL1xuICAgICAgICB2YXIgY3BzID0gW107XG4gICAgICAgIC8vIEJhc2VkIG9uIGh0dHA6Ly93d3cudzMub3JnL1RSL1dlYklETC8jaWRsLURPTVN0cmluZ1xuICAgICAgICB2YXIgaSA9IDAsIG4gPSBzdHJpbmcubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoaSA8IHN0cmluZy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHZhciBjID0gc3RyaW5nLmNoYXJDb2RlQXQoaSk7XG4gICAgICAgICAgICBpZiAoIXRoaXMuaW5SYW5nZShjLCAweEQ4MDAsIDB4REZGRikpIHtcbiAgICAgICAgICAgICAgICBjcHMucHVzaChjKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5pblJhbmdlKGMsIDB4REMwMCwgMHhERkZGKSkge1xuICAgICAgICAgICAgICAgIGNwcy5wdXNoKDB4RkZGRCk7XG4gICAgICAgICAgICB9IGVsc2UgeyAvLyAoaW5SYW5nZShjLCAweEQ4MDAsIDB4REJGRikpXG4gICAgICAgICAgICAgICAgaWYgKGkgPT09IG4gLSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGNwcy5wdXNoKDB4RkZGRCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGQgPSBzdHJpbmcuY2hhckNvZGVBdChpICsgMSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmluUmFuZ2UoZCwgMHhEQzAwLCAweERGRkYpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYSA9IGMgJiAweDNGRjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBiID0gZCAmIDB4M0ZGO1xuICAgICAgICAgICAgICAgICAgICAgICAgaSArPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3BzLnB1c2goMHgxMDAwMCArIChhIDw8IDEwKSArIGIpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3BzLnB1c2goMHhGRkZEKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGkgKz0gMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY3BzO1xuICAgIH1cbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvdXRpbHMvYnl0ZWFycmF5LnRzIiwiaW1wb3J0IHtpc0Jyb3dzZXIsIGlzTm9kZX0gZnJvbSBcIi4vZW52XCI7XG5pbXBvcnQge1Rlcm1pbmFsfSBmcm9tIFwiLi90ZXJtaW5hbFwiO1xuXG4vKipcbiAqIENyZWF0ZWQgYnkgbi52aW5heWFrYW4gb24gMDYuMDYuMTcuXG4gKi9cbmxldCBmcyA9IG51bGw7XG5sZXQgdmlydHVhbEZpbGVTeXN0ZW0gPSB7XG4gICAgZmlsZU1hcDogbmV3IE1hcCgpLFxuICAgIHJlYWRGaWxlU3luYzogKHBhdGgsIG9wdGlvbnM/KSA9PiB7XG4gICAgICAgIHJldHVybiBmcy5maWxlTWFwLmdldChwYXRoKTtcbiAgICB9LFxuICAgIHdyaXRlRmlsZVN5bmM6IChwYXRoLCBkYXRhLCBvcHRpb25zPykgPT4ge1xuICAgICAgICByZXR1cm4gZnMuZmlsZU1hcC5zZXQocGF0aCwgZGF0YSk7XG4gICAgfVxufTtcbmlmIChpc0Jyb3dzZXIpIHtcbiAgICAvLyBUZXJtaW5hbC53cml0ZShcIi0tLS0+IEJyb3dzZXIgZW52aXJvbm1lbnRcIik7XG4gICAgZnMgPSB2aXJ0dWFsRmlsZVN5c3RlbTtcbiAgICB3aW5kb3dbXCJCdWZmZXJcIl0gPSBjbGFzcyBOb2RlQnVmZmVyIHtcbiAgICAgICAgY29uc3RydWN0b3IocHVibGljIGFycmF5KSB7XG4gICAgICAgIH1cbiAgICB9XG59IGVsc2UgaWYgKGlzTm9kZSkge1xuICAgIC8vIFRlcm1pbmFsLndyaXRlKFwiLS0tLT4gTm9kZUpTIGVudmlyb25tZW50XCIpO1xuICAgIGZzID0gcmVxdWlyZShcImZzXCIpO1xufSBlbHNlIHtcbiAgICBUZXJtaW5hbC5lcnJvcihcIi0tLS0+IFVua25vd24gaG9zdCBlbnZpcm9ubWVudCEhIS4gV2hlcmUgYXJlIHdlP1wiKTtcbn1cblxuZXhwb3J0IGNsYXNzIEZpbGVTeXN0ZW0ge1xuXG4gICAgc3RhdGljIHJlYWRUZXh0RmlsZShwYXRoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gZnMucmVhZEZpbGVTeW5jKHBhdGgsICd1dGY4JykucmVwbGFjZSgvXFxyXFxuL2csICdcXG4nKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgbGV0IHZpcnR1YWxGaWxlID0gdmlydHVhbEZpbGVTeXN0ZW0ucmVhZEZpbGVTeW5jKHBhdGgsICd1dGY4JykucmVwbGFjZSgvXFxyXFxuL2csICdcXG4nKTtcbiAgICAgICAgICAgIHJldHVybiB2aXJ0dWFsRmlsZSA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IHZpcnR1YWxGaWxlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIHdyaXRlVGV4dEZpbGUocGF0aCwgY29udGVudHMsIHZpcnR1YWwgPSBmYWxzZSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKHZpcnR1YWwpIHtcbiAgICAgICAgICAgICAgICB2aXJ0dWFsRmlsZVN5c3RlbS53cml0ZUZpbGVTeW5jKHBhdGgsIGNvbnRlbnRzKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZnMud3JpdGVGaWxlU3luYyhwYXRoLCBjb250ZW50cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICBzdGF0aWMgcmVhZEJpbmFyeUZpbGUocGF0aCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIGZzLnJlYWRGaWxlU3luYyhwYXRoKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgbGV0IHZpcnR1YWxGaWxlID0gdmlydHVhbEZpbGVTeXN0ZW0ucmVhZEZpbGVTeW5jKHBhdGgpO1xuICAgICAgICAgICAgcmV0dXJuIHZpcnR1YWxGaWxlID09PSB1bmRlZmluZWQgPyBudWxsIDogdmlydHVhbEZpbGU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgd3JpdGVCaW5hcnlGaWxlKHBhdGgsIGNvbnRlbnRzLCB2aXJ0dWFsID0gZmFsc2UpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmICh2aXJ0dWFsKSB7XG4gICAgICAgICAgICAgICAgdmlydHVhbEZpbGVTeXN0ZW0ud3JpdGVGaWxlU3luYyhwYXRoLCBuZXcgQnVmZmVyKGNvbnRlbnRzLmFycmF5LnN1YmFycmF5KDAsIGNvbnRlbnRzLmxlbmd0aCkpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZnMud3JpdGVGaWxlU3luYyhwYXRoLCBuZXcgQnVmZmVyKGNvbnRlbnRzLmFycmF5LnN1YmFycmF5KDAsIGNvbnRlbnRzLmxlbmd0aCkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3V0aWxzL2ZpbGVzeXN0ZW0udHMiLCIvKipcbiAqIENyZWF0ZWQgYnkgbi52aW5heWFrYW4gb24gMDIuMDYuMTcuXG4gKi9cbmV4cG9ydCBlbnVtIFdhc21TZWN0aW9uIHtcbiAgICBOYW1lID0gMCwgLy9OYW1lcyBzZWN0aW9uXG4gICAgVHlwZSA9IDEsIC8vRnVuY3Rpb24gc2lnbmF0dXJlIGRlY2xhcmF0aW9uc1xuICAgIEltcG9ydCA9IDIsIC8vSW1wb3J0IGRlY2xhcmF0aW9uc1xuICAgIEZ1bmN0aW9uID0gMywgLy9GdW5jdGlvbiBkZWNsYXJhdGlvbnNcbiAgICBUYWJsZSA9IDQsIC8vSW5kaXJlY3QgZnVuY3Rpb24gdGFibGUgYW5kIG90aGVyIHRhYmxlc1xuICAgIE1lbW9yeSA9IDUsIC8vTWVtb3J5IGF0dHJpYnV0ZXNcbiAgICBHbG9iYWwgPSA2LCAvL0dsb2JhbCBkZWNsYXJhdGlvbnNcbiAgICBFeHBvcnQgPSA3LCAvL0V4cG9ydHNcbiAgICBTdGFydCA9IDgsIC8vU3RhcnQgZnVuY3Rpb24gZGVjbGFyYXRpb25cbiAgICBFbGVtZW50ID0gOSwgLy9FbGVtZW50cyBzZWN0aW9uXG4gICAgQ29kZSA9IDEwLCAvL0Z1bmN0aW9uIGJvZGllcyAoY29kZSlcbiAgICBEYXRhID0gMTEsIC8vZGF0YSBzZWdtZW50c1xufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2JhY2tlbmRzL3dlYmFzc2VtYmx5L2NvcmUvd2FzbS1zZWN0aW9uLnRzIiwiaW1wb3J0IHtXYXNtVHlwZX0gZnJvbSBcIi4uL2NvcmUvd2FzbS10eXBlXCI7XG4vKipcbiAqIENyZWF0ZWQgYnkgbi52aW5heWFrYW4gb24gMDMuMDYuMTcuXG4gKi9cbmV4cG9ydCBjbGFzcyBXYXNtUnVudGltZUxvY2FsIHtcbiAgICB2YWx1ZTogbnVtYmVyO1xuXG4gICAgY29uc3RydWN0b3IocHVibGljIHR5cGU6IFdhc21UeXBlKSB7XG5cbiAgICB9XG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2JhY2tlbmRzL3dlYmFzc2VtYmx5L3N0YWNrLW1hY2hpbmUvd2FzbS1ydW50aW1lLWxvY2FsLnRzIiwiaW1wb3J0IHtTeW1ib2wsIFN5bWJvbEtpbmQsIFN5bWJvbFN0YXRlfSBmcm9tIFwiLi9zeW1ib2xcIjtcbmltcG9ydCB7TG9nfSBmcm9tIFwiLi4vLi4vdXRpbHMvbG9nXCI7XG5pbXBvcnQge1N0cmluZ0J1aWxkZXJfbmV3fSBmcm9tIFwiLi4vLi4vdXRpbHMvc3RyaW5nYnVpbGRlclwiO1xuaW1wb3J0IHtUeXBlfSBmcm9tIFwiLi90eXBlXCI7XG5leHBvcnQgZW51bSBGaW5kTmVzdGVkIHtcbiAgTk9STUFMLFxuICBBTExPV19JTlNUQU5DRV9FUlJPUlMsXG59XG5cbmV4cG9ydCBlbnVtIFNjb3BlSGludCB7XG4gIE5PUk1BTCxcbiAgTk9UX0JJTkFSWSxcbiAgTk9UX0dFVFRFUixcbiAgTk9UX1NFVFRFUixcbiAgTk9UX1VOQVJZLFxuICBQUkVGRVJfR0VUVEVSLFxuICBQUkVGRVJfU0VUVEVSLFxufVxuXG5leHBvcnQgY2xhc3MgU2NvcGUge1xuICBwYXJlbnQ6IFNjb3BlO1xuICBzeW1ib2w6IFN5bWJvbDtcbiAgZmlyc3RTeW1ib2w6IFN5bWJvbDtcbiAgbGFzdFN5bWJvbDogU3ltYm9sO1xuXG4gIGZpbmRMb2NhbChuYW1lOiBzdHJpbmcsIGhpbnQ6IFNjb3BlSGludCk6IFN5bWJvbCB7XG4gICAgdmFyIHN5bWJvbCA9IHRoaXMuZmlyc3RTeW1ib2w7XG4gICAgdmFyIGZhbGxiYWNrOiBTeW1ib2wgPSBudWxsO1xuICAgIHdoaWxlIChzeW1ib2wgIT0gbnVsbCkge1xuICAgICAgaWYgKHN5bWJvbC5uYW1lID09IG5hbWUpIHtcbiAgICAgICAgaWYgKGhpbnQgPT0gU2NvcGVIaW50LlBSRUZFUl9HRVRURVIgJiYgc3ltYm9sLmlzU2V0dGVyKCkgfHxcbiAgICAgICAgICAgIGhpbnQgPT0gU2NvcGVIaW50LlBSRUZFUl9TRVRURVIgJiYgc3ltYm9sLmlzR2V0dGVyKCkpIHtcbiAgICAgICAgICBmYWxsYmFjayA9IHN5bWJvbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGVsc2UgaWYgKFxuICAgICAgICAgICAgKGhpbnQgIT0gU2NvcGVIaW50Lk5PVF9HRVRURVIgfHwgIXN5bWJvbC5pc0dldHRlcigpKSAmJlxuICAgICAgICAgICAgKGhpbnQgIT0gU2NvcGVIaW50Lk5PVF9TRVRURVIgfHwgIXN5bWJvbC5pc1NldHRlcigpKSAmJlxuICAgICAgICAgICAgKGhpbnQgIT0gU2NvcGVIaW50Lk5PVF9CSU5BUlkgfHwgIXN5bWJvbC5pc0JpbmFyeU9wZXJhdG9yKCkpICYmXG4gICAgICAgICAgICAoaGludCAhPSBTY29wZUhpbnQuTk9UX1VOQVJZIHx8ICFzeW1ib2wuaXNVbmFyeU9wZXJhdG9yKCkpKSB7XG4gICAgICAgICAgcmV0dXJuIHN5bWJvbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgc3ltYm9sID0gc3ltYm9sLm5leHQ7XG4gICAgfVxuICAgIHJldHVybiBmYWxsYmFjaztcbiAgfVxuXG4gIGZpbmROZXN0ZWQobmFtZTogc3RyaW5nLCBoaW50OiBTY29wZUhpbnQsIG1vZGU6IEZpbmROZXN0ZWQpOiBTeW1ib2wge1xuICAgIHZhciBzY29wZTpTY29wZSA9IHRoaXM7XG4gICAgd2hpbGUgKHNjb3BlICE9IG51bGwpIHtcbiAgICAgIGlmIChzY29wZS5zeW1ib2wgPT0gbnVsbCB8fCBzY29wZS5zeW1ib2wua2luZCAhPSBTeW1ib2xLaW5kLlRZUEVfQ0xBU1MgfHxcbiAgICAgICAgICBtb2RlID09IEZpbmROZXN0ZWQuQUxMT1dfSU5TVEFOQ0VfRVJST1JTIHx8IHNjb3BlLnN5bWJvbC5ub2RlLmhhc1BhcmFtZXRlcnMoKSkge1xuICAgICAgICB2YXIgbG9jYWwgPSBzY29wZS5maW5kTG9jYWwobmFtZSwgaGludCk7XG4gICAgICAgIGlmIChsb2NhbCAhPSBudWxsKSB7XG4gICAgICAgICAgcmV0dXJuIGxvY2FsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBzY29wZSA9IHNjb3BlLnBhcmVudDtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBkZWZpbmUobG9nOiBMb2csIHN5bWJvbDogU3ltYm9sLCBoaW50OiBTY29wZUhpbnQpOiBib29sZWFuIHtcbiAgICB2YXIgZXhpc3RpbmcgPSB0aGlzLmZpbmRMb2NhbChzeW1ib2wubmFtZSwgaGludCk7XG4gICAgaWYgKGV4aXN0aW5nICE9IG51bGwpIHtcbiAgICAgIGlmIChzeW1ib2wubmFtZSA9PSBcInRoaXNcIikge1xuICAgICAgICBsb2cud2FybmluZyhzeW1ib2wucmFuZ2UsIFN0cmluZ0J1aWxkZXJfbmV3KClcbiAgICAgICAgICAgIC5hcHBlbmQoXCJEdXBsaWNhdGUgJ3RoaXMnIHN5bWJvbFwiKVxuICAgICAgICAgICAgLmZpbmlzaCgpKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsb2cuZXJyb3Ioc3ltYm9sLnJhbmdlLCBTdHJpbmdCdWlsZGVyX25ldygpXG4gICAgICAgICAgICAuYXBwZW5kKFwiRHVwbGljYXRlIHN5bWJvbCAnXCIpXG4gICAgICAgICAgICAuYXBwZW5kKHN5bWJvbC5uYW1lKVxuICAgICAgICAgICAgLmFwcGVuZChcIidcIilcbiAgICAgICAgICAgIC5maW5pc2goKSk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy5maXJzdFN5bWJvbCA9PSBudWxsKSB0aGlzLmZpcnN0U3ltYm9sID0gc3ltYm9sO1xuICAgIGVsc2UgdGhpcy5sYXN0U3ltYm9sLm5leHQgPSBzeW1ib2w7XG4gICAgdGhpcy5sYXN0U3ltYm9sID0gc3ltYm9sO1xuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBkZWZpbmVOYXRpdmVUeXBlKGxvZzogTG9nLCBuYW1lOiBzdHJpbmcpOiBUeXBlIHtcbiAgICB2YXIgc3ltYm9sID0gbmV3IFN5bWJvbCgpO1xuICAgIHN5bWJvbC5raW5kID0gU3ltYm9sS2luZC5UWVBFX05BVElWRTtcbiAgICBzeW1ib2wubmFtZSA9IG5hbWU7XG4gICAgc3ltYm9sLnJlc29sdmVkVHlwZSA9IG5ldyBUeXBlKCk7XG4gICAgc3ltYm9sLnJlc29sdmVkVHlwZS5zeW1ib2wgPSBzeW1ib2w7XG4gICAgc3ltYm9sLnN0YXRlID0gU3ltYm9sU3RhdGUuSU5JVElBTElaRUQ7XG4gICAgdGhpcy5kZWZpbmUobG9nLCBzeW1ib2wsIFNjb3BlSGludC5OT1JNQUwpO1xuICAgIHJldHVybiBzeW1ib2wucmVzb2x2ZWRUeXBlO1xuICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tcGlsZXIvY29yZS9zY29wZS50cyIsImltcG9ydCB7XG4gICAgU3ltYm9sLCBTeW1ib2xLaW5kLCBTWU1CT0xfRkxBR19OQVRJVkVfSU5URUdFUiwgU1lNQk9MX0ZMQUdfSVNfVU5TSUdORUQsXG4gICAgU1lNQk9MX0ZMQUdfTkFUSVZFX0ZMT0FULCBTWU1CT0xfRkxBR19JU19SRUZFUkVOQ0UsIFNZTUJPTF9GTEFHX05BVElWRV9MT05HLCBTWU1CT0xfRkxBR19OQVRJVkVfRE9VQkxFLFxuICAgIFNZTUJPTF9GTEFHX0lTX0FSUkFZXG59IGZyb20gXCIuL3N5bWJvbFwiO1xuaW1wb3J0IHtDaGVja0NvbnRleHR9IGZyb20gXCIuLi9hbmFseXplci90eXBlLWNoZWNrZXJcIjtcbmltcG9ydCB7U3RyaW5nQnVpbGRlcl9uZXd9IGZyb20gXCIuLi8uLi91dGlscy9zdHJpbmdidWlsZGVyXCI7XG5pbXBvcnQge1Njb3BlSGludH0gZnJvbSBcIi4vc2NvcGVcIjtcbmltcG9ydCB7TUFYX1VJTlQzMl9WQUxVRX0gZnJvbSBcIi4uL2NvbnN0XCI7XG5cbmV4cG9ydCBlbnVtIENvbnZlcnNpb25LaW5kIHtcbiAgICBJTVBMSUNJVCxcbiAgICBFWFBMSUNJVCxcbn1cblxuZXhwb3J0IGNsYXNzIFR5cGUge1xuICAgIHN5bWJvbDogU3ltYm9sO1xuICAgIHBvaW50ZXJUbzogVHlwZTtcbiAgICBwcml2YXRlIGNhY2hlZFRvU3RyaW5nOiBzdHJpbmc7XG4gICAgcHJpdmF0ZSBjYWNoZWRQb2ludGVyVHlwZTogVHlwZTtcblxuICAgIGlzQ2xhc3MoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLnN5bWJvbCAhPSBudWxsICYmIHRoaXMuc3ltYm9sLmtpbmQgPT0gU3ltYm9sS2luZC5UWVBFX0NMQVNTO1xuICAgIH1cblxuICAgIGlzR2VuZXJpYygpIHtcbiAgICAgICAgbGV0IHN5bWJvbCA9IHRoaXMuc3ltYm9sIHx8IHRoaXMucG9pbnRlclRvLnN5bWJvbDtcbiAgICAgICAgcmV0dXJuIHN5bWJvbCAhPSBudWxsICYmIHN5bWJvbC5raW5kID09IFN5bWJvbEtpbmQuVFlQRV9HRU5FUklDO1xuICAgIH1cblxuICAgIGlzVGVtcGxhdGUoKSB7XG4gICAgICAgIGxldCBzeW1ib2wgPSB0aGlzLnN5bWJvbCB8fCB0aGlzLnBvaW50ZXJUby5zeW1ib2w7XG4gICAgICAgIHJldHVybiBzeW1ib2wgIT0gbnVsbCAmJiBzeW1ib2wua2luZCA9PSBTeW1ib2xLaW5kLlRZUEVfVEVNUExBVEU7XG4gICAgfVxuXG4gICAgaXNFbnVtKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5zeW1ib2wgIT0gbnVsbCAmJiB0aGlzLnN5bWJvbC5raW5kID09IFN5bWJvbEtpbmQuVFlQRV9FTlVNO1xuICAgIH1cblxuICAgIGlzSW50ZWdlcigpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3ltYm9sICE9IG51bGwgJiYgKHRoaXMuc3ltYm9sLmZsYWdzICYgU1lNQk9MX0ZMQUdfTkFUSVZFX0lOVEVHRVIpICE9IDAgfHwgdGhpcy5pc0VudW0oKTtcbiAgICB9XG5cbiAgICBpc0xvbmcoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLnN5bWJvbCAhPSBudWxsICYmICh0aGlzLnN5bWJvbC5mbGFncyAmIFNZTUJPTF9GTEFHX05BVElWRV9MT05HKSAhPSAwO1xuICAgIH1cblxuICAgIGlzVW5zaWduZWQoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLnN5bWJvbCAhPSBudWxsICYmICh0aGlzLnN5bWJvbC5mbGFncyAmIFNZTUJPTF9GTEFHX0lTX1VOU0lHTkVEKSAhPSAwO1xuICAgIH1cblxuICAgIGlzRmxvYXQoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLnN5bWJvbCAhPSBudWxsICYmICh0aGlzLnN5bWJvbC5mbGFncyAmIFNZTUJPTF9GTEFHX05BVElWRV9GTE9BVCkgIT0gMDtcbiAgICB9XG5cbiAgICBpc0RvdWJsZSgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3ltYm9sICE9IG51bGwgJiYgKHRoaXMuc3ltYm9sLmZsYWdzICYgU1lNQk9MX0ZMQUdfTkFUSVZFX0RPVUJMRSkgIT0gMDtcbiAgICB9XG5cbiAgICBpc0FycmF5KCk6IGJvb2xlYW4ge1xuICAgICAgICAvLyByZXR1cm4gdGhpcy5zeW1ib2wgIT0gbnVsbCAmJiAodGhpcy5zeW1ib2wuZmxhZ3MgJiBTWU1CT0xfRkxBR19JU19BUlJBWSkgIT0gMDtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3ltYm9sICE9IG51bGwgJiYgdGhpcy5zeW1ib2wubmFtZS5pbmRleE9mKFwiQXJyYXk8XCIpID49IDA7XG4gICAgfVxuXG4gICAgaXNUeXBlZEFycmF5KCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5zeW1ib2wgIT0gbnVsbCAmJlxuICAgICAgICAgICAgKHRoaXMuc3ltYm9sLm5hbWUgPT0gXCJGbG9hdDMyQXJyYXlcIiB8fCB0aGlzLnN5bWJvbC5uYW1lID09IFwiRmxvYXQ2NEFycmF5XCIgfHxcbiAgICAgICAgICAgIHRoaXMuc3ltYm9sLm5hbWUgPT0gXCJJbnQ4QXJyYXlcIiB8fCB0aGlzLnN5bWJvbC5uYW1lID09IFwiSW50MTZBcnJheVwifHwgdGhpcy5zeW1ib2wubmFtZSA9PSBcIkludDMyQXJyYXlcIiB8fFxuICAgICAgICAgICAgdGhpcy5zeW1ib2wubmFtZSA9PSBcIlVpbnQ4QXJyYXlcIiB8fCB0aGlzLnN5bWJvbC5uYW1lID09IFwiVWludDE2QXJyYXlcInx8IHRoaXMuc3ltYm9sLm5hbWUgPT0gXCJVaW50MzJBcnJheVwiKTtcbiAgICB9XG5cbiAgICBpc1JlZmVyZW5jZSgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucG9pbnRlclRvICE9IG51bGwgfHwgdGhpcy5zeW1ib2wgIT0gbnVsbCAmJiAodGhpcy5zeW1ib2wuZmxhZ3MgJiBTWU1CT0xfRkxBR19JU19SRUZFUkVOQ0UpICE9IDA7XG4gICAgfVxuXG4gICAgdW5kZXJseWluZ1R5cGUoY29udGV4dDogQ2hlY2tDb250ZXh0KTogVHlwZSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlzRW51bSgpID8gY29udGV4dC5pbnQzMlR5cGUgOiB0aGlzLnBvaW50ZXJUbyAhPSBudWxsID8gY29udGV4dC51aW50MzJUeXBlIDogdGhpcztcbiAgICB9XG5cbiAgICBpbnRlZ2VyQml0Q291bnQoY29udGV4dDogQ2hlY2tDb250ZXh0KTogaW50MzIge1xuICAgICAgICByZXR1cm4gdGhpcy5zeW1ib2wgIT0gbnVsbCA/IHRoaXMuc3ltYm9sLmJ5dGVTaXplICogOCA6IDA7XG4gICAgfVxuXG4gICAgaW50ZWdlckJpdE1hc2soY29udGV4dDogQ2hlY2tDb250ZXh0KTogdWludDMyIHtcbiAgICAgICAgcmV0dXJuIH4wID4+ICgzMiAtIHRoaXMuaW50ZWdlckJpdENvdW50KGNvbnRleHQpKTtcbiAgICB9XG5cbiAgICBhbGxvY2F0aW9uU2l6ZU9mKGNvbnRleHQ6IENoZWNrQ29udGV4dCk6IGludDMyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3ltYm9sID09IG51bGwgPyBjb250ZXh0LnBvaW50ZXJCeXRlU2l6ZSA6IHRoaXMuc3ltYm9sLmJ5dGVTaXplO1xuICAgIH1cblxuICAgIGFsbG9jYXRpb25BbGlnbm1lbnRPZihjb250ZXh0OiBDaGVja0NvbnRleHQpOiBpbnQzMiB7XG4gICAgICAgIHJldHVybiB0aGlzLmFsbG9jYXRpb25TaXplT2YoY29udGV4dCk7IC8vIFRoaXMgaXMgdHJ1ZSByaWdodCBub3dcbiAgICB9XG5cbiAgICB2YXJpYWJsZVNpemVPZihjb250ZXh0OiBDaGVja0NvbnRleHQpOiBpbnQzMiB7XG4gICAgICAgIHJldHVybiB0aGlzLmlzUmVmZXJlbmNlKCkgPyBjb250ZXh0LnBvaW50ZXJCeXRlU2l6ZSA6IHRoaXMuc3ltYm9sLmJ5dGVTaXplO1xuICAgIH1cblxuICAgIHZhcmlhYmxlQWxpZ25tZW50T2YoY29udGV4dDogQ2hlY2tDb250ZXh0KTogaW50MzIge1xuICAgICAgICByZXR1cm4gdGhpcy52YXJpYWJsZVNpemVPZihjb250ZXh0KTsgLy8gVGhpcyBpcyB0cnVlIHJpZ2h0IG5vd1xuICAgIH1cblxuICAgIHBvaW50ZXJUeXBlKCk6IFR5cGUge1xuICAgICAgICB2YXIgdHlwZSA9IHRoaXMuY2FjaGVkUG9pbnRlclR5cGU7XG4gICAgICAgIGlmICh0eXBlID09IG51bGwpIHtcbiAgICAgICAgICAgIHR5cGUgPSBuZXcgVHlwZSgpO1xuICAgICAgICAgICAgdHlwZS5wb2ludGVyVG8gPSB0aGlzO1xuICAgICAgICAgICAgdGhpcy5jYWNoZWRQb2ludGVyVHlwZSA9IHR5cGU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHR5cGU7XG4gICAgfVxuXG4gICAgdG9TdHJpbmcoKTogc3RyaW5nIHtcbiAgICAgICAgaWYgKHRoaXMuY2FjaGVkVG9TdHJpbmcgPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5jYWNoZWRUb1N0cmluZyA9XG4gICAgICAgICAgICAgICAgdGhpcy5wb2ludGVyVG8gIT0gbnVsbCA/IFN0cmluZ0J1aWxkZXJfbmV3KCkuYXBwZW5kQ2hhcignKicpLmFwcGVuZCh0aGlzLnBvaW50ZXJUby50b1N0cmluZygpKS5maW5pc2goKSA6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3ltYm9sLm5hbWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuY2FjaGVkVG9TdHJpbmc7XG4gICAgfVxuXG4gICAgZmluZE1lbWJlcihuYW1lOiBzdHJpbmcsIGhpbnQ6IFNjb3BlSGludCk6IFN5bWJvbCB7XG4gICAgICAgIHZhciBzeW1ib2wgPSB0aGlzLnN5bWJvbDtcbiAgICAgICAgcmV0dXJuIHN5bWJvbCAhPSBudWxsICYmIHN5bWJvbC5zY29wZSAhPSBudWxsID8gc3ltYm9sLnNjb3BlLmZpbmRMb2NhbChuYW1lLCBoaW50KSA6IG51bGw7XG4gICAgfVxuXG4gICAgaGFzSW5zdGFuY2VNZW1iZXJzKCk6IGJvb2xlYW4ge1xuICAgICAgICB2YXIgc3ltYm9sID0gdGhpcy5zeW1ib2w7XG4gICAgICAgIHJldHVybiBzeW1ib2wgIT0gbnVsbCAmJiAoc3ltYm9sLmtpbmQgPT0gU3ltYm9sS2luZC5UWVBFX1RFTVBMQVRFIHx8IHN5bWJvbC5raW5kID09IFN5bWJvbEtpbmQuVFlQRV9DTEFTUyB8fCBzeW1ib2wua2luZCA9PSBTeW1ib2xLaW5kLlRZUEVfTkFUSVZFKTtcbiAgICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tcGlsZXIvY29yZS90eXBlLnRzIiwiaW1wb3J0IHtUb2tlbiwgVG9rZW5LaW5kLCB0b2tlblRvU3RyaW5nLCBzcGxpdFRva2VuLCBpc0tleXdvcmR9IGZyb20gXCIuLi9zY2FubmVyL3NjYW5uZXJcIjtcbmltcG9ydCB7U291cmNlUmFuZ2UsIExvZywgc3BhblJhbmdlcywgY3JlYXRlUmFuZ2V9IGZyb20gXCIuLi8uLi91dGlscy9sb2dcIjtcbmltcG9ydCB7U3RyaW5nQnVpbGRlcl9uZXd9IGZyb20gXCIuLi8uLi91dGlscy9zdHJpbmdidWlsZGVyXCI7XG5pbXBvcnQge1xuICAgIE5vZGUsIE5vZGVLaW5kLCBpc1VuYXJ5LCBjcmVhdGVVbmFyeSwgY3JlYXRlQmluYXJ5LCBjcmVhdGVOYW1lLCBjcmVhdGVOdWxsLCBjcmVhdGVUaGlzLFxuICAgIGNyZWF0ZVBhcnNlRXJyb3IsIGNyZWF0ZUludCwgY3JlYXRlU3RyaW5nLCBjcmVhdGVib29sZWFuLCBjcmVhdGVOZXcsIGNyZWF0ZUFsaWduT2YsIGNyZWF0ZVNpemVPZiwgY3JlYXRlRG90LFxuICAgIGNyZWF0ZUNhc3QsIGNyZWF0ZUluZGV4LCBjcmVhdGVDYWxsLCBjcmVhdGVIb29rLCBjcmVhdGVJZiwgY3JlYXRlV2hpbGUsIGNyZWF0ZUJsb2NrLCBjcmVhdGVSZXR1cm4sIGNyZWF0ZUVtcHR5LFxuICAgIE5vZGVGbGFnLCBjcmVhdGVFbnVtLCBhbGxGbGFncywgY3JlYXRlVmFyaWFibGUsIGNyZWF0ZVBhcmFtZXRlcnMsIGNyZWF0ZVBhcmFtZXRlciwgY3JlYXRlQ2xhc3MsIGNyZWF0ZUV4dGVuZHMsXG4gICAgY3JlYXRlSW1wbGVtZW50cywgYXBwZW5kRmxhZywgTk9ERV9GTEFHX0dFVCwgTk9ERV9GTEFHX1NFVCwgY3JlYXRlRnVuY3Rpb24sIE5PREVfRkxBR19PUEVSQVRPUiwgY3JlYXRlQ29uc3RhbnRzLFxuICAgIGNyZWF0ZVZhcmlhYmxlcywgTk9ERV9GTEFHX0RFQ0xBUkUsIE5PREVfRkxBR19FWFBPUlQsIE5PREVfRkxBR19QUklWQVRFLCBOT0RFX0ZMQUdfUFJPVEVDVEVELFxuICAgIE5PREVfRkxBR19QVUJMSUMsIE5PREVfRkxBR19TVEFUSUMsIE5PREVfRkxBR19VTlNBRkUsIGNyZWF0ZUV4cHJlc3Npb24sIE5PREVfRkxBR19QT1NJVElWRSwgY3JlYXRlVW5kZWZpbmVkLFxuICAgIE5PREVfRkxBR19WSVJUVUFMLCBjcmVhdGVNb2R1bGUsIGNyZWF0ZUZsb2F0LCBOT0RFX0ZMQUdfU1RBUlQsXG4gICAgY3JlYXRlRGVsZXRlLCBjcmVhdGVJbXBvcnRzLCBjcmVhdGVJbXBvcnQsIE5PREVfRkxBR19BTllGVU5DLFxuICAgIGNyZWF0ZUFueSwgTk9ERV9GTEFHX0pBVkFTQ1JJUFQsIGNyZWF0ZUltcG9ydEZyb20sIGNyZWF0ZURvdWJsZSwgTk9ERV9GTEFHX0lNUE9SVFxufSBmcm9tIFwiLi4vY29yZS9ub2RlXCI7XG5pbXBvcnQge2Fzc2VydH0gZnJvbSBcIi4uLy4uL3V0aWxzL2Fzc2VydFwiO1xuaW1wb3J0IHtUZXJtaW5hbH0gZnJvbSBcIi4uLy4uL3V0aWxzL3Rlcm1pbmFsXCI7XG5cbmV4cG9ydCBlbnVtIFByZWNlZGVuY2Uge1xuICAgIExPV0VTVCxcbiAgICBBU1NJR04sXG4gICAgTE9HSUNBTF9PUixcbiAgICBMT0dJQ0FMX0FORCxcbiAgICBCSVRXSVNFX09SLFxuICAgIEJJVFdJU0VfWE9SLFxuICAgIEJJVFdJU0VfQU5ELFxuICAgIEVRVUFMLFxuICAgIENPTVBBUkUsXG4gICAgU0hJRlQsXG4gICAgQURELFxuICAgIE1VTFRJUExZLFxuICAgIEVYUE9ORU5ULFxuICAgIFVOQVJZX1BSRUZJWCxcbiAgICBVTkFSWV9QT1NURklYLFxuICAgIE1FTUJFUixcbn1cblxuZnVuY3Rpb24gaXNSaWdodEFzc29jaWF0aXZlKHByZWNlZGVuY2U6IFByZWNlZGVuY2UpOiBib29sZWFuIHtcbiAgICByZXR1cm4gcHJlY2VkZW5jZSA9PSBQcmVjZWRlbmNlLkFTU0lHTiB8fCBwcmVjZWRlbmNlID09IFByZWNlZGVuY2UuRVhQT05FTlQ7XG59XG5cbmVudW0gUGFyc2VLaW5kIHtcbiAgICBFWFBSRVNTSU9OLFxuICAgIFRZUEUsXG59XG5cbmVudW0gU3RhdGVtZW50TW9kZSB7XG4gICAgTk9STUFMLFxuICAgIEZJTEUsXG59XG5cbmNsYXNzIFBhcnNlckNvbnRleHQge1xuICAgIHByZXZpb3VzOiBUb2tlbjtcbiAgICBjdXJyZW50OiBUb2tlbjtcbiAgICBsb2c6IExvZztcblxuICAgIC8vIFRoaXMgaXMgdXNlZCB0byBzdXBwcmVzcyBzdWJzZXF1ZW50IGVycm9ycyBmb3IgdGhlIHNhbWUgdG9rZW5cbiAgICBsYXN0RXJyb3I6IFRva2VuO1xuXG4gICAgcGVlayhraW5kOiBUb2tlbktpbmQpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3VycmVudC5raW5kID09IGtpbmQ7XG4gICAgfVxuXG4gICAgZWF0KGtpbmQ6IFRva2VuS2luZCk6IGJvb2xlYW4ge1xuICAgICAgICBpZiAodGhpcy5wZWVrKGtpbmQpKSB7XG4gICAgICAgICAgICB0aGlzLmFkdmFuY2UoKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGFkdmFuY2UoKTogdm9pZCB7XG4gICAgICAgIGlmICghdGhpcy5wZWVrKFRva2VuS2luZC5FTkRfT0ZfRklMRSkpIHtcbiAgICAgICAgICAgIHRoaXMucHJldmlvdXMgPSB0aGlzLmN1cnJlbnQ7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnQgPSB0aGlzLmN1cnJlbnQubmV4dDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHVuZXhwZWN0ZWRUb2tlbigpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMubGFzdEVycm9yICE9IHRoaXMuY3VycmVudCkge1xuICAgICAgICAgICAgdGhpcy5sYXN0RXJyb3IgPSB0aGlzLmN1cnJlbnQ7XG4gICAgICAgICAgICB0aGlzLmxvZy5lcnJvcih0aGlzLmN1cnJlbnQucmFuZ2UsIFN0cmluZ0J1aWxkZXJfbmV3KClcbiAgICAgICAgICAgICAgICAuYXBwZW5kKFwiVW5leHBlY3RlZCBcIilcbiAgICAgICAgICAgICAgICAuYXBwZW5kKHRva2VuVG9TdHJpbmcodGhpcy5jdXJyZW50LmtpbmQpKVxuICAgICAgICAgICAgICAgIC5maW5pc2goKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBleHBlY3Qoa2luZDogVG9rZW5LaW5kKTogYm9vbGVhbiB7XG4gICAgICAgIGlmICghdGhpcy5wZWVrKGtpbmQpKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5sYXN0RXJyb3IgIT0gdGhpcy5jdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0RXJyb3IgPSB0aGlzLmN1cnJlbnQ7XG5cbiAgICAgICAgICAgICAgICBsZXQgcHJldmlvdXNMaW5lID0gdGhpcy5wcmV2aW91cy5yYW5nZS5lbmNsb3NpbmdMaW5lKCk7XG4gICAgICAgICAgICAgICAgbGV0IGN1cnJlbnRMaW5lID0gdGhpcy5jdXJyZW50LnJhbmdlLmVuY2xvc2luZ0xpbmUoKTtcblxuICAgICAgICAgICAgICAgIC8vIFNob3cgbWlzc2luZyB0b2tlbiBlcnJvcnMgb24gdGhlIHByZXZpb3VzIGxpbmUgZm9yIGNsYXJpdHlcbiAgICAgICAgICAgICAgICBpZiAoa2luZCAhPSBUb2tlbktpbmQuSURFTlRJRklFUiAmJiAhcHJldmlvdXNMaW5lLmVxdWFscyhjdXJyZW50TGluZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2cuZXJyb3IocHJldmlvdXNMaW5lLnJhbmdlQXRFbmQoKSwgU3RyaW5nQnVpbGRlcl9uZXcoKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZChcIkV4cGVjdGVkIFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCh0b2tlblRvU3RyaW5nKGtpbmQpKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmZpbmlzaCgpKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2cuZXJyb3IodGhpcy5jdXJyZW50LnJhbmdlLCBTdHJpbmdCdWlsZGVyX25ldygpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKFwiRXhwZWN0ZWQgXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKHRva2VuVG9TdHJpbmcoa2luZCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKFwiIGJ1dCBmb3VuZCBcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQodG9rZW5Ub1N0cmluZyh0aGlzLmN1cnJlbnQua2luZCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAuZmluaXNoKCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5hZHZhbmNlKCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHBhcnNlVW5hcnlQcmVmaXgoa2luZDogTm9kZUtpbmQsIG1vZGU6IFBhcnNlS2luZCk6IE5vZGUge1xuICAgICAgICBhc3NlcnQoaXNVbmFyeShraW5kKSk7XG5cbiAgICAgICAgbGV0IHRva2VuID0gdGhpcy5jdXJyZW50O1xuICAgICAgICB0aGlzLmFkdmFuY2UoKTtcblxuICAgICAgICBsZXQgdmFsdWUgPSB0aGlzLnBhcnNlRXhwcmVzc2lvbihQcmVjZWRlbmNlLlVOQVJZX1BSRUZJWCwgbW9kZSk7XG4gICAgICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjcmVhdGVVbmFyeShraW5kLCB2YWx1ZSkud2l0aFJhbmdlKHNwYW5SYW5nZXModG9rZW4ucmFuZ2UsIHZhbHVlLnJhbmdlKSkud2l0aEludGVybmFsUmFuZ2UodG9rZW4ucmFuZ2UpO1xuICAgIH1cblxuICAgIHBhcnNlQmluYXJ5KGtpbmQ6IE5vZGVLaW5kLCBsZWZ0OiBOb2RlLCBsb2NhbFByZWNlZGVuY2U6IFByZWNlZGVuY2UsIG9wZXJhdG9yUHJlY2VkZW5jZTogUHJlY2VkZW5jZSk6IE5vZGUge1xuICAgICAgICBpZiAobG9jYWxQcmVjZWRlbmNlID49IG9wZXJhdG9yUHJlY2VkZW5jZSkge1xuICAgICAgICAgICAgcmV0dXJuIGxlZnQ7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgdG9rZW4gPSB0aGlzLmN1cnJlbnQ7XG4gICAgICAgIHRoaXMuYWR2YW5jZSgpO1xuXG4gICAgICAgIC8vIFJlZHVjZSB0aGUgcHJlY2VkZW5jZSBmb3IgcmlnaHQtYXNzb2NpYXRpdmUgb3BlcmF0b3JzXG4gICAgICAgIGxldCBwcmVjZWRlbmNlID0gaXNSaWdodEFzc29jaWF0aXZlKG9wZXJhdG9yUHJlY2VkZW5jZSkgPyAob3BlcmF0b3JQcmVjZWRlbmNlIC0gMSkgYXMgUHJlY2VkZW5jZSA6IG9wZXJhdG9yUHJlY2VkZW5jZTtcbiAgICAgICAgbGV0IHJpZ2h0ID0gdGhpcy5wYXJzZUV4cHJlc3Npb24ocHJlY2VkZW5jZSwgUGFyc2VLaW5kLkVYUFJFU1NJT04pO1xuXG4gICAgICAgIGlmIChyaWdodCA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjcmVhdGVCaW5hcnkoa2luZCwgbGVmdCwgcmlnaHQpLndpdGhSYW5nZShzcGFuUmFuZ2VzKGxlZnQucmFuZ2UsIHJpZ2h0LnJhbmdlKSkud2l0aEludGVybmFsUmFuZ2UodG9rZW4ucmFuZ2UpO1xuICAgIH1cblxuICAgIHBhcnNlVW5hcnlQb3N0Zml4KGtpbmQ6IE5vZGVLaW5kLCB2YWx1ZTogTm9kZSwgbG9jYWxQcmVjZWRlbmNlOiBQcmVjZWRlbmNlKTogTm9kZSB7XG4gICAgICAgIGlmIChsb2NhbFByZWNlZGVuY2UgPj0gUHJlY2VkZW5jZS5VTkFSWV9QT1NURklYKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgdG9rZW4gPSB0aGlzLmN1cnJlbnQ7XG4gICAgICAgIHRoaXMuYWR2YW5jZSgpO1xuICAgICAgICByZXR1cm4gY3JlYXRlVW5hcnkoa2luZCwgdmFsdWUpLndpdGhSYW5nZShzcGFuUmFuZ2VzKHZhbHVlLnJhbmdlLCB0b2tlbi5yYW5nZSkpLndpdGhJbnRlcm5hbFJhbmdlKHRva2VuLnJhbmdlKTtcbiAgICB9XG5cbiAgICBwYXJzZVF1b3RlZFN0cmluZyhyYW5nZTogU291cmNlUmFuZ2UpOiBzdHJpbmcge1xuICAgICAgICBhc3NlcnQocmFuZ2UuZW5kIC0gcmFuZ2Uuc3RhcnQgPj0gMik7XG4gICAgICAgIGxldCB0ZXh0ID0gcmFuZ2Uuc291cmNlLmNvbnRlbnRzO1xuICAgICAgICBsZXQgZW5kID0gcmFuZ2Uuc3RhcnQgKyAxO1xuICAgICAgICBsZXQgbGltaXQgPSByYW5nZS5lbmQgLSAxO1xuICAgICAgICBsZXQgc3RhcnQgPSBlbmQ7XG4gICAgICAgIGxldCBidWlsZGVyID0gU3RyaW5nQnVpbGRlcl9uZXcoKTtcblxuICAgICAgICB3aGlsZSAoZW5kIDwgbGltaXQpIHtcbiAgICAgICAgICAgIGxldCBjID0gdGV4dFtlbmRdO1xuXG4gICAgICAgICAgICBpZiAoYyA9PSAnXFxcXCcpIHtcbiAgICAgICAgICAgICAgICBidWlsZGVyLmFwcGVuZFNsaWNlKHRleHQsIHN0YXJ0LCBlbmQpO1xuICAgICAgICAgICAgICAgIGVuZCA9IGVuZCArIDE7XG4gICAgICAgICAgICAgICAgc3RhcnQgPSBlbmQgKyAxO1xuICAgICAgICAgICAgICAgIGMgPSB0ZXh0W2VuZF07XG5cbiAgICAgICAgICAgICAgICBpZiAoYyA9PSAnMCcpIGJ1aWxkZXIuYXBwZW5kQ2hhcignXFwwJyk7XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoYyA9PSAndCcpIGJ1aWxkZXIuYXBwZW5kQ2hhcignXFx0Jyk7XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoYyA9PSAnbicpIGJ1aWxkZXIuYXBwZW5kQ2hhcignXFxuJyk7XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoYyA9PSAncicpIGJ1aWxkZXIuYXBwZW5kQ2hhcignXFxyJyk7XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoYyA9PSAnXCInIHx8IGMgPT0gJ1xcJycgfHwgYyA9PSAnYCcgfHwgYyA9PSAnXFxuJyB8fCBjID09ICdcXFxcJykgc3RhcnQgPSBlbmQ7XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBlc2NhcGUgPSBjcmVhdGVSYW5nZShyYW5nZS5zb3VyY2UsIHJhbmdlLnN0YXJ0ICsgZW5kIC0gMSwgcmFuZ2Uuc3RhcnQgKyBlbmQgKyAxKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2cuZXJyb3IoZXNjYXBlLCBTdHJpbmdCdWlsZGVyX25ldygpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKFwiSW52YWxpZCBlc2NhcGUgY29kZSAnXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKGVzY2FwZS50b1N0cmluZygpKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZENoYXIoJ1xcJycpXG4gICAgICAgICAgICAgICAgICAgICAgICAuZmluaXNoKCkpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGVuZCA9IGVuZCArIDE7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYnVpbGRlci5hcHBlbmRTbGljZSh0ZXh0LCBzdGFydCwgZW5kKS5maW5pc2goKTtcbiAgICB9XG5cbiAgICBwYXJzZVByZWZpeChtb2RlOiBQYXJzZUtpbmQpOiBOb2RlIHtcbiAgICAgICAgbGV0IHRva2VuID0gdGhpcy5jdXJyZW50O1xuXG4gICAgICAgIGlmICh0aGlzLnBlZWsoVG9rZW5LaW5kLklERU5USUZJRVIpKSB7XG4gICAgICAgICAgICB0aGlzLmFkdmFuY2UoKTtcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVOYW1lKHRva2VuLnJhbmdlLnRvU3RyaW5nKCkpLndpdGhSYW5nZSh0b2tlbi5yYW5nZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZiAodGhpcy5wZWVrKFRva2VuS2luZC5BUlJBWSkpIHtcbiAgICAgICAgLy8gICAgIHRoaXMuYWR2YW5jZSgpO1xuICAgICAgICAvLyAgICAgcmV0dXJuIGNyZWF0ZUFycmF5KHRva2VuLnJhbmdlLnRvU3RyaW5nKCkpLndpdGhSYW5nZSh0b2tlbi5yYW5nZSk7XG4gICAgICAgIC8vIH1cblxuICAgICAgICBpZiAodGhpcy5wZWVrKFRva2VuS2luZC5FWFBPTkVOVCkpIHtcbiAgICAgICAgICAgIHNwbGl0VG9rZW4odGhpcy5jdXJyZW50LCBUb2tlbktpbmQuTVVMVElQTFksIFRva2VuS2luZC5NVUxUSVBMWSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5wZWVrKFRva2VuS2luZC5NVUxUSVBMWSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnBhcnNlVW5hcnlQcmVmaXgobW9kZSA9PSBQYXJzZUtpbmQuVFlQRSA/IE5vZGVLaW5kLlBPSU5URVJfVFlQRSA6IE5vZGVLaW5kLkRFUkVGRVJFTkNFLCBtb2RlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChtb2RlID09IFBhcnNlS2luZC5FWFBSRVNTSU9OKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5lYXQoVG9rZW5LaW5kLk5VTEwpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZU51bGwoKS53aXRoUmFuZ2UodG9rZW4ucmFuZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuZWF0KFRva2VuS2luZC5VTkRFRklORUQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZVVuZGVmaW5lZCgpLndpdGhSYW5nZSh0b2tlbi5yYW5nZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmVhdChUb2tlbktpbmQuVEhJUykpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlVGhpcygpLndpdGhSYW5nZSh0b2tlbi5yYW5nZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLnBlZWsoVG9rZW5LaW5kLkNIQVJBQ1RFUikpIHtcbiAgICAgICAgICAgICAgICBsZXQgdGV4dCA9IHRoaXMucGFyc2VRdW90ZWRTdHJpbmcodG9rZW4ucmFuZ2UpO1xuICAgICAgICAgICAgICAgIGlmICh0ZXh0ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuYWR2YW5jZSgpO1xuICAgICAgICAgICAgICAgIGlmICh0ZXh0Lmxlbmd0aCAhPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nLmVycm9yKHRva2VuLnJhbmdlLCBcIkludmFsaWQgY2hhcmFjdGVyIGxpdGVyYWwgKHN0cmluZ3MgdXNlIGRvdWJsZSBxdW90ZXMpXCIpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlUGFyc2VFcnJvcigpLndpdGhSYW5nZSh0b2tlbi5yYW5nZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVJbnQodGV4dC5jaGFyQ29kZUF0KDApKS53aXRoUmFuZ2UodG9rZW4ucmFuZ2UpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhpcy5wZWVrKFRva2VuS2luZC5TVFJJTkcpKSB7XG4gICAgICAgICAgICAgICAgbGV0IHRleHQgPSB0aGlzLnBhcnNlUXVvdGVkU3RyaW5nKHRva2VuLnJhbmdlKTtcbiAgICAgICAgICAgICAgICBpZiAodGV4dCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmFkdmFuY2UoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlU3RyaW5nKHRleHQpLndpdGhSYW5nZSh0b2tlbi5yYW5nZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLnBlZWsoVG9rZW5LaW5kLklOVDMyKSkge1xuICAgICAgICAgICAgICAgIGxldCB2YWx1ZSA9IGNyZWF0ZUludCgwKTtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMucGFyc2VJbnQodG9rZW4ucmFuZ2UsIHZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGNyZWF0ZVBhcnNlRXJyb3IoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5hZHZhbmNlKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlLndpdGhSYW5nZSh0b2tlbi5yYW5nZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLnBlZWsoVG9rZW5LaW5kLkZMT0FUMzIpKSB7XG4gICAgICAgICAgICAgICAgbGV0IHZhbHVlID0gY3JlYXRlRmxvYXQoMCk7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLnBhcnNlRmxvYXQodG9rZW4ucmFuZ2UsIHZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGNyZWF0ZVBhcnNlRXJyb3IoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5hZHZhbmNlKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlLndpdGhSYW5nZSh0b2tlbi5yYW5nZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLnBlZWsoVG9rZW5LaW5kLkZMT0FUNjQpKSB7XG4gICAgICAgICAgICAgICAgbGV0IHZhbHVlID0gY3JlYXRlRG91YmxlKDApO1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5wYXJzZURvdWJsZSh0b2tlbi5yYW5nZSwgdmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gY3JlYXRlUGFyc2VFcnJvcigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmFkdmFuY2UoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUud2l0aFJhbmdlKHRva2VuLnJhbmdlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoaXMuZWF0KFRva2VuS2luZC5UUlVFKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVib29sZWFuKHRydWUpLndpdGhSYW5nZSh0b2tlbi5yYW5nZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmVhdChUb2tlbktpbmQuRkFMU0UpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZWJvb2xlYW4oZmFsc2UpLndpdGhSYW5nZSh0b2tlbi5yYW5nZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmVhdChUb2tlbktpbmQuTkVXKSkge1xuICAgICAgICAgICAgICAgIGxldCB0eXBlID0gdGhpcy5wYXJzZVR5cGUoKTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnBlZWsoVG9rZW5LaW5kLkxFU1NfVEhBTikpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHBhcmFtZXRlcnMgPSB0aGlzLnBhcnNlUGFyYW1ldGVycygpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocGFyYW1ldGVycyA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0eXBlLmFwcGVuZENoaWxkKHBhcmFtZXRlcnMpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnBhcnNlQXJndW1lbnRMaXN0KHRva2VuLnJhbmdlLCBjcmVhdGVOZXcodHlwZSkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhpcy5lYXQoVG9rZW5LaW5kLkFMSUdOT0YpKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmV4cGVjdChUb2tlbktpbmQuTEVGVF9QQVJFTlRIRVNJUykpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxldCB0eXBlID0gdGhpcy5wYXJzZVR5cGUoKTtcbiAgICAgICAgICAgICAgICBsZXQgY2xvc2UgPSB0aGlzLmN1cnJlbnQ7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGUgPT0gbnVsbCB8fCAhdGhpcy5leHBlY3QoVG9rZW5LaW5kLlJJR0hUX1BBUkVOVEhFU0lTKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUFsaWduT2YodHlwZSkud2l0aFJhbmdlKHNwYW5SYW5nZXModG9rZW4ucmFuZ2UsIGNsb3NlLnJhbmdlKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmVhdChUb2tlbktpbmQuU0laRU9GKSkge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5leHBlY3QoVG9rZW5LaW5kLkxFRlRfUEFSRU5USEVTSVMpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsZXQgdHlwZSA9IHRoaXMucGFyc2VUeXBlKCk7XG4gICAgICAgICAgICAgICAgbGV0IGNsb3NlID0gdGhpcy5jdXJyZW50O1xuICAgICAgICAgICAgICAgIGlmICh0eXBlID09IG51bGwgfHwgIXRoaXMuZXhwZWN0KFRva2VuS2luZC5SSUdIVF9QQVJFTlRIRVNJUykpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVTaXplT2YodHlwZSkud2l0aFJhbmdlKHNwYW5SYW5nZXModG9rZW4ucmFuZ2UsIGNsb3NlLnJhbmdlKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmVhdChUb2tlbktpbmQuTEVGVF9QQVJFTlRIRVNJUykpIHtcbiAgICAgICAgICAgICAgICBsZXQgdmFsdWUgPSB0aGlzLnBhcnNlRXhwcmVzc2lvbihQcmVjZWRlbmNlLkxPV0VTVCwgUGFyc2VLaW5kLkVYUFJFU1NJT04pO1xuICAgICAgICAgICAgICAgIGxldCBjbG9zZSA9IHRoaXMuY3VycmVudDtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT0gbnVsbCB8fCAhdGhpcy5leHBlY3QoVG9rZW5LaW5kLlJJR0hUX1BBUkVOVEhFU0lTKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlLndpdGhSYW5nZShzcGFuUmFuZ2VzKHRva2VuLnJhbmdlLCBjbG9zZS5yYW5nZSkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBVbmFyeSBwcmVmaXhcbiAgICAgICAgICAgIGlmICh0aGlzLnBlZWsoVG9rZW5LaW5kLkJJVFdJU0VfQU5EKSkgcmV0dXJuIHRoaXMucGFyc2VVbmFyeVByZWZpeChOb2RlS2luZC5BRERSRVNTX09GLCBQYXJzZUtpbmQuRVhQUkVTU0lPTik7XG4gICAgICAgICAgICBpZiAodGhpcy5wZWVrKFRva2VuS2luZC5DT01QTEVNRU5UKSkgcmV0dXJuIHRoaXMucGFyc2VVbmFyeVByZWZpeChOb2RlS2luZC5DT01QTEVNRU5ULCBQYXJzZUtpbmQuRVhQUkVTU0lPTik7XG4gICAgICAgICAgICBpZiAodGhpcy5wZWVrKFRva2VuS2luZC5NSU5VUykpIHJldHVybiB0aGlzLnBhcnNlVW5hcnlQcmVmaXgoTm9kZUtpbmQuTkVHQVRJVkUsIFBhcnNlS2luZC5FWFBSRVNTSU9OKTtcbiAgICAgICAgICAgIGlmICh0aGlzLnBlZWsoVG9rZW5LaW5kLk1JTlVTX01JTlVTKSkgcmV0dXJuIHRoaXMucGFyc2VVbmFyeVByZWZpeChOb2RlS2luZC5QUkVGSVhfREVDUkVNRU5ULCBQYXJzZUtpbmQuRVhQUkVTU0lPTik7XG4gICAgICAgICAgICBpZiAodGhpcy5wZWVrKFRva2VuS2luZC5OT1QpKSByZXR1cm4gdGhpcy5wYXJzZVVuYXJ5UHJlZml4KE5vZGVLaW5kLk5PVCwgUGFyc2VLaW5kLkVYUFJFU1NJT04pO1xuICAgICAgICAgICAgaWYgKHRoaXMucGVlayhUb2tlbktpbmQuUExVUykpIHJldHVybiB0aGlzLnBhcnNlVW5hcnlQcmVmaXgoTm9kZUtpbmQuUE9TSVRJVkUsIFBhcnNlS2luZC5FWFBSRVNTSU9OKTtcbiAgICAgICAgICAgIGlmICh0aGlzLnBlZWsoVG9rZW5LaW5kLlBMVVNfUExVUykpIHJldHVybiB0aGlzLnBhcnNlVW5hcnlQcmVmaXgoTm9kZUtpbmQuUFJFRklYX0lOQ1JFTUVOVCwgUGFyc2VLaW5kLkVYUFJFU1NJT04pO1xuICAgICAgICB9XG5cblxuICAgICAgICBpZiAodGhpcy5wZWVrKFRva2VuS2luZC5MRUZUX0JSQUNFKSkge1xuICAgICAgICAgICAgVGVybWluYWwud3JpdGUoXCJDaGVjayBpZiBpdHMgSlNcIik7XG5cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudW5leHBlY3RlZFRva2VuKCk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHBhcnNlSW5maXgocHJlY2VkZW5jZTogUHJlY2VkZW5jZSwgbm9kZTogTm9kZSwgbW9kZTogUGFyc2VLaW5kKTogTm9kZSB7XG4gICAgICAgIGxldCB0b2tlbiA9IHRoaXMuY3VycmVudC5yYW5nZTtcblxuICAgICAgICAvLyBEb3RcbiAgICAgICAgaWYgKHRoaXMucGVlayhUb2tlbktpbmQuRE9UKSAmJiBwcmVjZWRlbmNlIDwgUHJlY2VkZW5jZS5NRU1CRVIpIHtcbiAgICAgICAgICAgIHRoaXMuYWR2YW5jZSgpO1xuXG4gICAgICAgICAgICBsZXQgbmFtZSA9IHRoaXMuY3VycmVudDtcbiAgICAgICAgICAgIGxldCByYW5nZSA9IG5hbWUucmFuZ2U7XG5cbiAgICAgICAgICAgIC8vIEFsbG93IGNvbnRleHR1YWwga2V5d29yZHNcbiAgICAgICAgICAgIGlmIChpc0tleXdvcmQobmFtZS5raW5kKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYWR2YW5jZSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBSZWNvdmVyIGZyb20gYSBtaXNzaW5nIGlkZW50aWZpZXJcbiAgICAgICAgICAgIGVsc2UgaWYgKCF0aGlzLmV4cGVjdChUb2tlbktpbmQuSURFTlRJRklFUikpIHtcbiAgICAgICAgICAgICAgICByYW5nZSA9IGNyZWF0ZVJhbmdlKHJhbmdlLnNvdXJjZSwgdG9rZW4uZW5kLCB0b2tlbi5lbmQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlRG90KG5vZGUsIHJhbmdlLnRvU3RyaW5nKCkpLndpdGhSYW5nZShzcGFuUmFuZ2VzKG5vZGUucmFuZ2UsIHJhbmdlKSkud2l0aEludGVybmFsUmFuZ2UocmFuZ2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG1vZGUgPT0gUGFyc2VLaW5kLkVYUFJFU1NJT04pIHtcbiAgICAgICAgICAgIC8vIEJpbmFyeVxuICAgICAgICAgICAgaWYgKHRoaXMucGVlayhUb2tlbktpbmQuQVNTSUdOKSkgcmV0dXJuIHRoaXMucGFyc2VCaW5hcnkoTm9kZUtpbmQuQVNTSUdOLCBub2RlLCBwcmVjZWRlbmNlLCBQcmVjZWRlbmNlLkFTU0lHTik7XG4gICAgICAgICAgICBpZiAodGhpcy5wZWVrKFRva2VuS2luZC5CSVRXSVNFX0FORCkpIHJldHVybiB0aGlzLnBhcnNlQmluYXJ5KE5vZGVLaW5kLkJJVFdJU0VfQU5ELCBub2RlLCBwcmVjZWRlbmNlLCBQcmVjZWRlbmNlLkJJVFdJU0VfQU5EKTtcbiAgICAgICAgICAgIGlmICh0aGlzLnBlZWsoVG9rZW5LaW5kLkJJVFdJU0VfT1IpKSByZXR1cm4gdGhpcy5wYXJzZUJpbmFyeShOb2RlS2luZC5CSVRXSVNFX09SLCBub2RlLCBwcmVjZWRlbmNlLCBQcmVjZWRlbmNlLkJJVFdJU0VfT1IpO1xuICAgICAgICAgICAgaWYgKHRoaXMucGVlayhUb2tlbktpbmQuQklUV0lTRV9YT1IpKSByZXR1cm4gdGhpcy5wYXJzZUJpbmFyeShOb2RlS2luZC5CSVRXSVNFX1hPUiwgbm9kZSwgcHJlY2VkZW5jZSwgUHJlY2VkZW5jZS5CSVRXSVNFX1hPUik7XG4gICAgICAgICAgICBpZiAodGhpcy5wZWVrKFRva2VuS2luZC5ESVZJREUpKSByZXR1cm4gdGhpcy5wYXJzZUJpbmFyeShOb2RlS2luZC5ESVZJREUsIG5vZGUsIHByZWNlZGVuY2UsIFByZWNlZGVuY2UuTVVMVElQTFkpO1xuICAgICAgICAgICAgaWYgKHRoaXMucGVlayhUb2tlbktpbmQuRVFVQUwpKSByZXR1cm4gdGhpcy5wYXJzZUJpbmFyeShOb2RlS2luZC5FUVVBTCwgbm9kZSwgcHJlY2VkZW5jZSwgUHJlY2VkZW5jZS5FUVVBTCk7XG4gICAgICAgICAgICBpZiAodGhpcy5wZWVrKFRva2VuS2luZC5FWFBPTkVOVCkpIHJldHVybiB0aGlzLnBhcnNlQmluYXJ5KE5vZGVLaW5kLkVYUE9ORU5ULCBub2RlLCBwcmVjZWRlbmNlLCBQcmVjZWRlbmNlLkVYUE9ORU5UKTtcbiAgICAgICAgICAgIGlmICh0aGlzLnBlZWsoVG9rZW5LaW5kLkdSRUFURVJfVEhBTikpIHJldHVybiB0aGlzLnBhcnNlQmluYXJ5KE5vZGVLaW5kLkdSRUFURVJfVEhBTiwgbm9kZSwgcHJlY2VkZW5jZSwgUHJlY2VkZW5jZS5DT01QQVJFKTtcbiAgICAgICAgICAgIGlmICh0aGlzLnBlZWsoVG9rZW5LaW5kLkdSRUFURVJfVEhBTl9FUVVBTCkpIHJldHVybiB0aGlzLnBhcnNlQmluYXJ5KE5vZGVLaW5kLkdSRUFURVJfVEhBTl9FUVVBTCwgbm9kZSwgcHJlY2VkZW5jZSwgUHJlY2VkZW5jZS5DT01QQVJFKTtcbiAgICAgICAgICAgIGlmICh0aGlzLnBlZWsoVG9rZW5LaW5kLkxFU1NfVEhBTikpIHJldHVybiB0aGlzLnBhcnNlQmluYXJ5KE5vZGVLaW5kLkxFU1NfVEhBTiwgbm9kZSwgcHJlY2VkZW5jZSwgUHJlY2VkZW5jZS5DT01QQVJFKTtcbiAgICAgICAgICAgIGlmICh0aGlzLnBlZWsoVG9rZW5LaW5kLkxFU1NfVEhBTl9FUVVBTCkpIHJldHVybiB0aGlzLnBhcnNlQmluYXJ5KE5vZGVLaW5kLkxFU1NfVEhBTl9FUVVBTCwgbm9kZSwgcHJlY2VkZW5jZSwgUHJlY2VkZW5jZS5DT01QQVJFKTtcbiAgICAgICAgICAgIGlmICh0aGlzLnBlZWsoVG9rZW5LaW5kLkxPR0lDQUxfQU5EKSkgcmV0dXJuIHRoaXMucGFyc2VCaW5hcnkoTm9kZUtpbmQuTE9HSUNBTF9BTkQsIG5vZGUsIHByZWNlZGVuY2UsIFByZWNlZGVuY2UuTE9HSUNBTF9BTkQpO1xuICAgICAgICAgICAgaWYgKHRoaXMucGVlayhUb2tlbktpbmQuTE9HSUNBTF9PUikpIHJldHVybiB0aGlzLnBhcnNlQmluYXJ5KE5vZGVLaW5kLkxPR0lDQUxfT1IsIG5vZGUsIHByZWNlZGVuY2UsIFByZWNlZGVuY2UuTE9HSUNBTF9PUik7XG4gICAgICAgICAgICBpZiAodGhpcy5wZWVrKFRva2VuS2luZC5NSU5VUykpIHJldHVybiB0aGlzLnBhcnNlQmluYXJ5KE5vZGVLaW5kLlNVQlRSQUNULCBub2RlLCBwcmVjZWRlbmNlLCBQcmVjZWRlbmNlLkFERCk7XG4gICAgICAgICAgICBpZiAodGhpcy5wZWVrKFRva2VuS2luZC5NVUxUSVBMWSkpIHJldHVybiB0aGlzLnBhcnNlQmluYXJ5KE5vZGVLaW5kLk1VTFRJUExZLCBub2RlLCBwcmVjZWRlbmNlLCBQcmVjZWRlbmNlLk1VTFRJUExZKTtcbiAgICAgICAgICAgIGlmICh0aGlzLnBlZWsoVG9rZW5LaW5kLk5PVF9FUVVBTCkpIHJldHVybiB0aGlzLnBhcnNlQmluYXJ5KE5vZGVLaW5kLk5PVF9FUVVBTCwgbm9kZSwgcHJlY2VkZW5jZSwgUHJlY2VkZW5jZS5FUVVBTCk7XG4gICAgICAgICAgICBpZiAodGhpcy5wZWVrKFRva2VuS2luZC5QTFVTKSkgcmV0dXJuIHRoaXMucGFyc2VCaW5hcnkoTm9kZUtpbmQuQURELCBub2RlLCBwcmVjZWRlbmNlLCBQcmVjZWRlbmNlLkFERCk7XG4gICAgICAgICAgICBpZiAodGhpcy5wZWVrKFRva2VuS2luZC5SRU1BSU5ERVIpKSByZXR1cm4gdGhpcy5wYXJzZUJpbmFyeShOb2RlS2luZC5SRU1BSU5ERVIsIG5vZGUsIHByZWNlZGVuY2UsIFByZWNlZGVuY2UuTVVMVElQTFkpO1xuICAgICAgICAgICAgaWYgKHRoaXMucGVlayhUb2tlbktpbmQuU0hJRlRfTEVGVCkpIHJldHVybiB0aGlzLnBhcnNlQmluYXJ5KE5vZGVLaW5kLlNISUZUX0xFRlQsIG5vZGUsIHByZWNlZGVuY2UsIFByZWNlZGVuY2UuU0hJRlQpO1xuICAgICAgICAgICAgaWYgKHRoaXMucGVlayhUb2tlbktpbmQuU0hJRlRfUklHSFQpKSByZXR1cm4gdGhpcy5wYXJzZUJpbmFyeShOb2RlS2luZC5TSElGVF9SSUdIVCwgbm9kZSwgcHJlY2VkZW5jZSwgUHJlY2VkZW5jZS5TSElGVCk7XG5cbiAgICAgICAgICAgIC8vIFVuYXJ5IHBvc3RmaXhcbiAgICAgICAgICAgIGlmICh0aGlzLnBlZWsoVG9rZW5LaW5kLlBMVVNfUExVUykpIHJldHVybiB0aGlzLnBhcnNlVW5hcnlQb3N0Zml4KE5vZGVLaW5kLlBPU1RGSVhfSU5DUkVNRU5ULCBub2RlLCBwcmVjZWRlbmNlKTtcbiAgICAgICAgICAgIGlmICh0aGlzLnBlZWsoVG9rZW5LaW5kLk1JTlVTX01JTlVTKSkgcmV0dXJuIHRoaXMucGFyc2VVbmFyeVBvc3RmaXgoTm9kZUtpbmQuUE9TVEZJWF9ERUNSRU1FTlQsIG5vZGUsIHByZWNlZGVuY2UpO1xuXG4gICAgICAgICAgICAvLyBDYXN0XG4gICAgICAgICAgICBpZiAodGhpcy5wZWVrKFRva2VuS2luZC5BUykgJiYgcHJlY2VkZW5jZSA8IFByZWNlZGVuY2UuVU5BUllfUFJFRklYKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZHZhbmNlKCk7XG5cbiAgICAgICAgICAgICAgICBsZXQgdHlwZSA9IHRoaXMucGFyc2VUeXBlKCk7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGUgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlQ2FzdChub2RlLCB0eXBlKS53aXRoUmFuZ2Uoc3BhblJhbmdlcyhub2RlLnJhbmdlLCB0eXBlLnJhbmdlKSkud2l0aEludGVybmFsUmFuZ2UodG9rZW4pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBDYWxsIG9yIGluZGV4XG4gICAgICAgICAgICBsZXQgaXNJbmRleCA9IHRoaXMucGVlayhUb2tlbktpbmQuTEVGVF9CUkFDS0VUKTtcbiAgICAgICAgICAgIGlmICgoaXNJbmRleCB8fCB0aGlzLnBlZWsoVG9rZW5LaW5kLkxFRlRfUEFSRU5USEVTSVMpKSAmJiBwcmVjZWRlbmNlIDwgUHJlY2VkZW5jZS5VTkFSWV9QT1NURklYKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucGFyc2VBcmd1bWVudExpc3Qobm9kZS5yYW5nZSwgaXNJbmRleCA/IGNyZWF0ZUluZGV4KG5vZGUpIDogY3JlYXRlQ2FsbChub2RlKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEhvb2tcbiAgICAgICAgICAgIGlmICh0aGlzLnBlZWsoVG9rZW5LaW5kLlFVRVNUSU9OX01BUkspICYmIHByZWNlZGVuY2UgPCBQcmVjZWRlbmNlLkFTU0lHTikge1xuICAgICAgICAgICAgICAgIHRoaXMuYWR2YW5jZSgpO1xuXG4gICAgICAgICAgICAgICAgbGV0IG1pZGRsZSA9IHRoaXMucGFyc2VFeHByZXNzaW9uKFByZWNlZGVuY2UuTE9XRVNULCBQYXJzZUtpbmQuRVhQUkVTU0lPTik7XG4gICAgICAgICAgICAgICAgaWYgKG1pZGRsZSA9PSBudWxsIHx8ICF0aGlzLmV4cGVjdChUb2tlbktpbmQuQ09MT04pKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGxldCByaWdodCA9IHRoaXMucGFyc2VFeHByZXNzaW9uKFByZWNlZGVuY2UuTE9XRVNULCBQYXJzZUtpbmQuRVhQUkVTU0lPTik7XG4gICAgICAgICAgICAgICAgaWYgKHJpZ2h0ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUhvb2sobm9kZSwgbWlkZGxlLCByaWdodCkud2l0aFJhbmdlKHNwYW5SYW5nZXMobm9kZS5yYW5nZSwgcmlnaHQucmFuZ2UpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBub2RlO1xuICAgIH1cblxuICAgIHBhcnNlRGVsZXRlKCk6IE5vZGUge1xuICAgICAgICBsZXQgdG9rZW4gPSB0aGlzLmN1cnJlbnQ7XG4gICAgICAgIGFzc2VydCh0b2tlbi5raW5kID09IFRva2VuS2luZC5ERUxFVEUpO1xuICAgICAgICB0aGlzLmFkdmFuY2UoKTtcblxuICAgICAgICBsZXQgdmFsdWU6IE5vZGUgPSBudWxsO1xuICAgICAgICBpZiAoIXRoaXMucGVlayhUb2tlbktpbmQuU0VNSUNPTE9OKSkge1xuICAgICAgICAgICAgdmFsdWUgPSB0aGlzLnBhcnNlRXhwcmVzc2lvbihQcmVjZWRlbmNlLkxPV0VTVCwgUGFyc2VLaW5kLkVYUFJFU1NJT04pO1xuICAgICAgICAgICAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBzZW1pY29sb24gPSB0aGlzLmN1cnJlbnQ7XG4gICAgICAgIHRoaXMuZXhwZWN0KFRva2VuS2luZC5TRU1JQ09MT04pO1xuICAgICAgICByZXR1cm4gY3JlYXRlRGVsZXRlKHZhbHVlKS53aXRoUmFuZ2Uoc3BhblJhbmdlcyh0b2tlbi5yYW5nZSwgc2VtaWNvbG9uLnJhbmdlKSk7XG4gICAgfVxuXG4gICAgcGFyc2VBcmd1bWVudExpc3Qoc3RhcnQ6IFNvdXJjZVJhbmdlLCBub2RlOiBOb2RlKTogTm9kZSB7XG4gICAgICAgIGxldCBvcGVuID0gdGhpcy5jdXJyZW50LnJhbmdlO1xuICAgICAgICBsZXQgaXNJbmRleCA9IG5vZGUua2luZCA9PSBOb2RlS2luZC5JTkRFWDtcbiAgICAgICAgbGV0IGxlZnQgPSBpc0luZGV4ID8gVG9rZW5LaW5kLkxFRlRfQlJBQ0tFVCA6IFRva2VuS2luZC5MRUZUX1BBUkVOVEhFU0lTO1xuICAgICAgICBsZXQgcmlnaHQgPSBpc0luZGV4ID8gVG9rZW5LaW5kLlJJR0hUX0JSQUNLRVQgOiBUb2tlbktpbmQuUklHSFRfUEFSRU5USEVTSVM7XG5cbiAgICAgICAgaWYgKCF0aGlzLmV4cGVjdChsZWZ0KSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMucGVlayhyaWdodCkpIHtcbiAgICAgICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgICAgICAgbGV0IHZhbHVlID0gdGhpcy5wYXJzZUV4cHJlc3Npb24oUHJlY2VkZW5jZS5MT1dFU1QsIFBhcnNlS2luZC5FWFBSRVNTSU9OKTtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbm9kZS5hcHBlbmRDaGlsZCh2YWx1ZSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuZWF0KFRva2VuS2luZC5DT01NQSkpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGNsb3NlID0gdGhpcy5jdXJyZW50LnJhbmdlO1xuICAgICAgICBpZiAoIXRoaXMuZXhwZWN0KHJpZ2h0KSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbm9kZS53aXRoUmFuZ2Uoc3BhblJhbmdlcyhzdGFydCwgY2xvc2UpKS53aXRoSW50ZXJuYWxSYW5nZShzcGFuUmFuZ2VzKG9wZW4sIGNsb3NlKSk7XG4gICAgfVxuXG4gICAgcGFyc2VFeHByZXNzaW9uKHByZWNlZGVuY2U6IFByZWNlZGVuY2UsIG1vZGU6IFBhcnNlS2luZCk6IE5vZGUge1xuICAgICAgICAvLyBQcmVmaXhcbiAgICAgICAgbGV0IG5vZGUgPSB0aGlzLnBhcnNlUHJlZml4KG1vZGUpO1xuICAgICAgICBpZiAobm9kZSA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBhc3NlcnQobm9kZS5yYW5nZSAhPSBudWxsKTtcblxuICAgICAgICAvLyBJbmZpeFxuICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgICAgbGV0IHJlc3VsdCA9IHRoaXMucGFyc2VJbmZpeChwcmVjZWRlbmNlLCBub2RlLCBtb2RlKTtcbiAgICAgICAgICAgIGlmIChyZXN1bHQgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJlc3VsdCA9PSBub2RlKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBub2RlID0gcmVzdWx0O1xuICAgICAgICAgICAgYXNzZXJ0KG5vZGUucmFuZ2UgIT0gbnVsbCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbm9kZTtcbiAgICB9XG5cbiAgICBwYXJzZVR5cGUoKTogTm9kZSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBhcnNlRXhwcmVzc2lvbihQcmVjZWRlbmNlLlVOQVJZX1BPU1RGSVgsIFBhcnNlS2luZC5UWVBFKTtcbiAgICB9XG5cbiAgICBwYXJzZUlmKCk6IE5vZGUge1xuICAgICAgICBsZXQgdG9rZW4gPSB0aGlzLmN1cnJlbnQ7XG4gICAgICAgIGFzc2VydCh0b2tlbi5raW5kID09IFRva2VuS2luZC5JRik7XG4gICAgICAgIHRoaXMuYWR2YW5jZSgpO1xuXG4gICAgICAgIGlmICghdGhpcy5leHBlY3QoVG9rZW5LaW5kLkxFRlRfUEFSRU5USEVTSVMpKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCB2YWx1ZTogTm9kZTtcblxuICAgICAgICAvLyBSZWNvdmVyIGZyb20gYSBtaXNzaW5nIHZhbHVlXG4gICAgICAgIGlmICh0aGlzLnBlZWsoVG9rZW5LaW5kLlJJR0hUX1BBUkVOVEhFU0lTKSkge1xuICAgICAgICAgICAgdGhpcy51bmV4cGVjdGVkVG9rZW4oKTtcbiAgICAgICAgICAgIHRoaXMuYWR2YW5jZSgpO1xuICAgICAgICAgICAgdmFsdWUgPSBjcmVhdGVQYXJzZUVycm9yKCk7XG4gICAgICAgIH1cblxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhbHVlID0gdGhpcy5wYXJzZUV4cHJlc3Npb24oUHJlY2VkZW5jZS5MT1dFU1QsIFBhcnNlS2luZC5FWFBSRVNTSU9OKTtcbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PSBudWxsIHx8ICF0aGlzLmV4cGVjdChUb2tlbktpbmQuUklHSFRfUEFSRU5USEVTSVMpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgdHJ1ZUJyYW5jaCA9IHRoaXMucGFyc2VCb2R5KCk7XG4gICAgICAgIGlmICh0cnVlQnJhbmNoID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGZhbHNlQnJhbmNoOiBOb2RlID0gbnVsbDtcbiAgICAgICAgaWYgKHRoaXMuZWF0KFRva2VuS2luZC5FTFNFKSkge1xuICAgICAgICAgICAgZmFsc2VCcmFuY2ggPSB0aGlzLnBhcnNlQm9keSgpO1xuICAgICAgICAgICAgaWYgKGZhbHNlQnJhbmNoID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjcmVhdGVJZih2YWx1ZSwgdHJ1ZUJyYW5jaCwgZmFsc2VCcmFuY2gpLndpdGhSYW5nZShzcGFuUmFuZ2VzKFxuICAgICAgICAgICAgdG9rZW4ucmFuZ2UsIChmYWxzZUJyYW5jaCAhPSBudWxsID8gZmFsc2VCcmFuY2ggOiB0cnVlQnJhbmNoKS5yYW5nZSkpO1xuICAgIH1cblxuICAgIHBhcnNlV2hpbGUoKTogTm9kZSB7XG4gICAgICAgIGxldCB0b2tlbiA9IHRoaXMuY3VycmVudDtcbiAgICAgICAgYXNzZXJ0KHRva2VuLmtpbmQgPT0gVG9rZW5LaW5kLldISUxFKTtcbiAgICAgICAgdGhpcy5hZHZhbmNlKCk7XG5cbiAgICAgICAgaWYgKCF0aGlzLmV4cGVjdChUb2tlbktpbmQuTEVGVF9QQVJFTlRIRVNJUykpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHZhbHVlOiBOb2RlO1xuXG4gICAgICAgIC8vIFJlY292ZXIgZnJvbSBhIG1pc3NpbmcgdmFsdWVcbiAgICAgICAgaWYgKHRoaXMucGVlayhUb2tlbktpbmQuUklHSFRfUEFSRU5USEVTSVMpKSB7XG4gICAgICAgICAgICB0aGlzLnVuZXhwZWN0ZWRUb2tlbigpO1xuICAgICAgICAgICAgdGhpcy5hZHZhbmNlKCk7XG4gICAgICAgICAgICB2YWx1ZSA9IGNyZWF0ZVBhcnNlRXJyb3IoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFsdWUgPSB0aGlzLnBhcnNlRXhwcmVzc2lvbihQcmVjZWRlbmNlLkxPV0VTVCwgUGFyc2VLaW5kLkVYUFJFU1NJT04pO1xuICAgICAgICAgICAgaWYgKHZhbHVlID09IG51bGwgfHwgIXRoaXMuZXhwZWN0KFRva2VuS2luZC5SSUdIVF9QQVJFTlRIRVNJUykpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBib2R5ID0gdGhpcy5wYXJzZUJvZHkoKTtcbiAgICAgICAgaWYgKGJvZHkgPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY3JlYXRlV2hpbGUodmFsdWUsIGJvZHkpLndpdGhSYW5nZShzcGFuUmFuZ2VzKHRva2VuLnJhbmdlLCBib2R5LnJhbmdlKSk7XG4gICAgfVxuXG4gICAgcGFyc2VCb2R5KCk6IE5vZGUge1xuICAgICAgICBsZXQgbm9kZSA9IHRoaXMucGFyc2VTdGF0ZW1lbnQoU3RhdGVtZW50TW9kZS5OT1JNQUwpO1xuICAgICAgICBpZiAobm9kZSA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChub2RlLmtpbmQgPT0gTm9kZUtpbmQuQkxPQ0spIHtcbiAgICAgICAgICAgIHJldHVybiBub2RlO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGJsb2NrID0gY3JlYXRlQmxvY2soKTtcbiAgICAgICAgYmxvY2suYXBwZW5kQ2hpbGQobm9kZSk7XG4gICAgICAgIHJldHVybiBibG9jay53aXRoUmFuZ2Uobm9kZS5yYW5nZSk7XG4gICAgfVxuXG4gICAgcGFyc2VCbG9jaygpOiBOb2RlIHtcbiAgICAgICAgbGV0IG9wZW4gPSB0aGlzLmN1cnJlbnQ7XG4gICAgICAgIGlmICghdGhpcy5leHBlY3QoVG9rZW5LaW5kLkxFRlRfQlJBQ0UpKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBibG9jayA9IGNyZWF0ZUJsb2NrKCk7XG4gICAgICAgIGlmICghdGhpcy5wYXJzZVN0YXRlbWVudHMoYmxvY2spKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBjbG9zZSA9IHRoaXMuY3VycmVudDtcbiAgICAgICAgaWYgKCF0aGlzLmV4cGVjdChUb2tlbktpbmQuUklHSFRfQlJBQ0UpKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBibG9jay53aXRoUmFuZ2Uoc3BhblJhbmdlcyhvcGVuLnJhbmdlLCBjbG9zZS5yYW5nZSkpO1xuICAgIH1cblxuICAgIC8vIHBhcnNlT2JqZWN0KCk6Tm9kZSB7XG4gICAgLy9cbiAgICAvLyB9XG5cbiAgICBwYXJzZVJldHVybigpOiBOb2RlIHtcbiAgICAgICAgbGV0IHRva2VuID0gdGhpcy5jdXJyZW50O1xuICAgICAgICBhc3NlcnQodG9rZW4ua2luZCA9PSBUb2tlbktpbmQuUkVUVVJOKTtcbiAgICAgICAgdGhpcy5hZHZhbmNlKCk7XG5cbiAgICAgICAgbGV0IHZhbHVlOiBOb2RlID0gbnVsbDtcbiAgICAgICAgaWYgKCF0aGlzLnBlZWsoVG9rZW5LaW5kLlNFTUlDT0xPTikpIHtcbiAgICAgICAgICAgIHZhbHVlID0gdGhpcy5wYXJzZUV4cHJlc3Npb24oUHJlY2VkZW5jZS5MT1dFU1QsIFBhcnNlS2luZC5FWFBSRVNTSU9OKTtcbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgc2VtaWNvbG9uID0gdGhpcy5jdXJyZW50O1xuICAgICAgICB0aGlzLmV4cGVjdChUb2tlbktpbmQuU0VNSUNPTE9OKTtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZVJldHVybih2YWx1ZSkud2l0aFJhbmdlKHNwYW5SYW5nZXModG9rZW4ucmFuZ2UsIHNlbWljb2xvbi5yYW5nZSkpO1xuICAgIH1cblxuICAgIHBhcnNlRW1wdHkoKTogTm9kZSB7XG4gICAgICAgIGxldCB0b2tlbiA9IHRoaXMuY3VycmVudDtcbiAgICAgICAgdGhpcy5hZHZhbmNlKCk7XG4gICAgICAgIHJldHVybiBjcmVhdGVFbXB0eSgpLndpdGhSYW5nZSh0b2tlbi5yYW5nZSk7XG4gICAgfVxuXG4gICAgcGFyc2VFbnVtKGZpcnN0RmxhZzogTm9kZUZsYWcpOiBOb2RlIHtcbiAgICAgICAgbGV0IHRva2VuID0gdGhpcy5jdXJyZW50O1xuICAgICAgICBhc3NlcnQodG9rZW4ua2luZCA9PSBUb2tlbktpbmQuRU5VTSk7XG4gICAgICAgIHRoaXMuYWR2YW5jZSgpO1xuXG4gICAgICAgIGxldCBuYW1lID0gdGhpcy5jdXJyZW50O1xuICAgICAgICBpZiAoIXRoaXMuZXhwZWN0KFRva2VuS2luZC5JREVOVElGSUVSKSB8fCAhdGhpcy5leHBlY3QoVG9rZW5LaW5kLkxFRlRfQlJBQ0UpKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCB0ZXh0ID0gbmFtZS5yYW5nZS50b1N0cmluZygpO1xuICAgICAgICBsZXQgbm9kZSA9IGNyZWF0ZUVudW0odGV4dCk7XG4gICAgICAgIG5vZGUuZmlyc3RGbGFnID0gZmlyc3RGbGFnO1xuICAgICAgICBub2RlLmZsYWdzID0gYWxsRmxhZ3MoZmlyc3RGbGFnKTtcblxuICAgICAgICB3aGlsZSAoIXRoaXMucGVlayhUb2tlbktpbmQuRU5EX09GX0ZJTEUpICYmICF0aGlzLnBlZWsoVG9rZW5LaW5kLlJJR0hUX0JSQUNFKSkge1xuICAgICAgICAgICAgbGV0IG1lbWJlciA9IHRoaXMuY3VycmVudC5yYW5nZTtcbiAgICAgICAgICAgIGxldCB2YWx1ZTogTm9kZSA9IG51bGw7XG5cbiAgICAgICAgICAgIGlmICghdGhpcy5leHBlY3QoVG9rZW5LaW5kLklERU5USUZJRVIpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmVhdChUb2tlbktpbmQuQVNTSUdOKSkge1xuICAgICAgICAgICAgICAgIHZhbHVlID0gdGhpcy5wYXJzZUV4cHJlc3Npb24oUHJlY2VkZW5jZS5MT1dFU1QsIFBhcnNlS2luZC5FWFBSRVNTSU9OKTtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCB2YXJpYWJsZSA9IGNyZWF0ZVZhcmlhYmxlKG1lbWJlci50b1N0cmluZygpLCBjcmVhdGVOYW1lKHRleHQpLCB2YWx1ZSk7XG4gICAgICAgICAgICBub2RlLmFwcGVuZENoaWxkKHZhcmlhYmxlLndpdGhSYW5nZSh2YWx1ZSAhPSBudWxsID8gc3BhblJhbmdlcyhtZW1iZXIsIHZhbHVlLnJhbmdlKSA6IG1lbWJlcikud2l0aEludGVybmFsUmFuZ2UobWVtYmVyKSk7XG5cbiAgICAgICAgICAgIC8vIFJlY292ZXIgZnJvbSBhIHRlcm1pbmF0aW5nIHNlbWljb2xvblxuICAgICAgICAgICAgaWYgKHRoaXMucGVlayhUb2tlbktpbmQuU0VNSUNPTE9OKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZXhwZWN0KFRva2VuS2luZC5DT01NQSk7XG4gICAgICAgICAgICAgICAgdGhpcy5hZHZhbmNlKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFJlY292ZXIgZnJvbSBhIG1pc3NpbmcgY29tbWFcbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMucGVlayhUb2tlbktpbmQuSURFTlRJRklFUikpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmV4cGVjdChUb2tlbktpbmQuQ09NTUEpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBlbHNlIGlmICghdGhpcy5lYXQoVG9rZW5LaW5kLkNPTU1BKSkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGNsb3NlID0gdGhpcy5jdXJyZW50O1xuICAgICAgICBpZiAoIXRoaXMuZXhwZWN0KFRva2VuS2luZC5SSUdIVF9CUkFDRSkpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5vZGUud2l0aFJhbmdlKHNwYW5SYW5nZXModG9rZW4ucmFuZ2UsIGNsb3NlLnJhbmdlKSkud2l0aEludGVybmFsUmFuZ2UobmFtZS5yYW5nZSk7XG4gICAgfVxuXG4gICAgcGFyc2VQYXJhbWV0ZXJzKCk6IE5vZGUge1xuICAgICAgICBsZXQgbm9kZSA9IGNyZWF0ZVBhcmFtZXRlcnMoKTtcbiAgICAgICAgbGV0IG9wZW4gPSB0aGlzLmN1cnJlbnQ7XG4gICAgICAgIGxldCBjbG9zZTogVG9rZW47XG5cbiAgICAgICAgYXNzZXJ0KG9wZW4ua2luZCA9PSBUb2tlbktpbmQuTEVTU19USEFOKTtcbiAgICAgICAgdGhpcy5hZHZhbmNlKCk7XG5cbiAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgIGxldCBuYW1lID0gdGhpcy5jdXJyZW50O1xuICAgICAgICAgICAgaWYgKCF0aGlzLmV4cGVjdChUb2tlbktpbmQuSURFTlRJRklFUikpIHtcbiAgICAgICAgICAgICAgICBjbG9zZSA9IHRoaXMuY3VycmVudDtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5lYXQoVG9rZW5LaW5kLkdSRUFURVJfVEhBTikpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbm9kZS5hcHBlbmRDaGlsZChjcmVhdGVQYXJhbWV0ZXIobmFtZS5yYW5nZS50b1N0cmluZygpKS53aXRoUmFuZ2UobmFtZS5yYW5nZSkpO1xuXG4gICAgICAgICAgICBpZiAoIXRoaXMuZWF0KFRva2VuS2luZC5DT01NQSkpIHtcbiAgICAgICAgICAgICAgICBjbG9zZSA9IHRoaXMuY3VycmVudDtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuZXhwZWN0KFRva2VuS2luZC5HUkVBVEVSX1RIQU4pKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBub2RlLndpdGhSYW5nZShzcGFuUmFuZ2VzKG9wZW4ucmFuZ2UsIGNsb3NlLnJhbmdlKSk7XG4gICAgfVxuXG4gICAgcGFyc2VJbXBvcnRzKCk6IE5vZGUge1xuICAgICAgICBsZXQgdG9rZW4gPSB0aGlzLmN1cnJlbnQ7XG4gICAgICAgIGFzc2VydCh0b2tlbi5raW5kID09IFRva2VuS2luZC5JTVBPUlQpO1xuICAgICAgICB0aGlzLmFkdmFuY2UoKTtcblxuICAgICAgICBsZXQgbm9kZSA9IGNyZWF0ZUltcG9ydHMoKTtcbiAgICAgICAgbm9kZS5mbGFncyA9IG5vZGUuZmxhZ3MgfCBUb2tlbktpbmQuSU1QT1JUO1xuXG4gICAgICAgIGlmICh0aGlzLnBlZWsoVG9rZW5LaW5kLk1VTFRJUExZKSkgeyAvL2NoZWNrIGZvciB3aWxkY2FyZCAnKicgaW1wb3J0XG5cbiAgICAgICAgICAgIHRoaXMubG9nLmVycm9yKHRoaXMuY3VycmVudC5yYW5nZSwgXCJ3aWxkY2FyZCAnKicgaW1wb3J0IG5vdCBzdXBwb3J0ZWRcIik7XG5cbiAgICAgICAgICAgIGFzc2VydCh0aGlzLmVhdChUb2tlbktpbmQuTVVMVElQTFkpKTtcbiAgICAgICAgICAgIGFzc2VydCh0aGlzLmVhdChUb2tlbktpbmQuQVMpKTtcblxuICAgICAgICAgICAgbGV0IGltcG9ydE5hbWUgPSB0aGlzLmN1cnJlbnQ7XG4gICAgICAgICAgICBsZXQgcmFuZ2UgPSBpbXBvcnROYW1lLnJhbmdlO1xuICAgICAgICAgICAgbGV0IF9pbXBvcnQgPSBjcmVhdGVJbXBvcnQoaW1wb3J0TmFtZS5yYW5nZS50b1N0cmluZygpKTtcbiAgICAgICAgICAgIG5vZGUuYXBwZW5kQ2hpbGQoX2ltcG9ydC53aXRoUmFuZ2UocmFuZ2UpLndpdGhJbnRlcm5hbFJhbmdlKGltcG9ydE5hbWUucmFuZ2UpKTtcbiAgICAgICAgICAgIHRoaXMuYWR2YW5jZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuXG4gICAgICAgICAgICBpZiAoIXRoaXMuZXhwZWN0KFRva2VuS2luZC5MRUZUX0JSQUNFKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgd2hpbGUgKCF0aGlzLnBlZWsoVG9rZW5LaW5kLkVORF9PRl9GSUxFKSAmJiAhdGhpcy5wZWVrKFRva2VuS2luZC5SSUdIVF9CUkFDRSkpIHtcblxuICAgICAgICAgICAgICAgIGxldCBpbXBvcnROYW1lID0gdGhpcy5jdXJyZW50O1xuICAgICAgICAgICAgICAgIGxldCByYW5nZSA9IGltcG9ydE5hbWUucmFuZ2U7XG4gICAgICAgICAgICAgICAgbGV0IF9pbXBvcnQgPSBjcmVhdGVJbXBvcnQoaW1wb3J0TmFtZS5yYW5nZS50b1N0cmluZygpKTtcbiAgICAgICAgICAgICAgICBub2RlLmFwcGVuZENoaWxkKF9pbXBvcnQud2l0aFJhbmdlKHJhbmdlKS53aXRoSW50ZXJuYWxSYW5nZShpbXBvcnROYW1lLnJhbmdlKSk7XG4gICAgICAgICAgICAgICAgdGhpcy5hZHZhbmNlKCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuZWF0KFRva2VuS2luZC5DT01NQSkpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyB0aGlzLmFkdmFuY2UoKTtcbiAgICAgICAgICAgIC8vIGFzc2VydCh0aGlzLmV4cGVjdChUb2tlbktpbmQuUklHSFRfQlJBQ0UpKTtcbiAgICAgICAgICAgIHRoaXMuZXhwZWN0KFRva2VuS2luZC5SSUdIVF9CUkFDRSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmV4cGVjdChUb2tlbktpbmQuRlJPTSk7XG4gICAgICAgIGxldCBpbXBvcnRGcm9tID0gdGhpcy5jdXJyZW50O1xuICAgICAgICBsZXQgX2Zyb20gPSBjcmVhdGVJbXBvcnRGcm9tKGltcG9ydEZyb20ucmFuZ2UudG9TdHJpbmcoKSk7XG4gICAgICAgIG5vZGUuYXBwZW5kQ2hpbGQoX2Zyb20ud2l0aFJhbmdlKGltcG9ydEZyb20ucmFuZ2UpLndpdGhJbnRlcm5hbFJhbmdlKGltcG9ydEZyb20ucmFuZ2UpKTtcbiAgICAgICAgdGhpcy5hZHZhbmNlKCk7XG4gICAgICAgIGxldCBzZW1pY29sb24gPSB0aGlzLmN1cnJlbnQ7XG4gICAgICAgIHRoaXMuZXhwZWN0KFRva2VuS2luZC5TRU1JQ09MT04pO1xuICAgICAgICByZXR1cm4gbm9kZS53aXRoUmFuZ2Uoc3BhblJhbmdlcyh0b2tlbi5yYW5nZSwgc2VtaWNvbG9uLnJhbmdlKSk7XG4gICAgfVxuXG4gICAgcGFyc2VNb2R1bGUoZmlyc3RGbGFnOiBOb2RlRmxhZyk6IE5vZGUge1xuICAgICAgICBsZXQgdG9rZW4gPSB0aGlzLmN1cnJlbnQ7XG4gICAgICAgIGFzc2VydCh0b2tlbi5raW5kID09IFRva2VuS2luZC5NT0RVTEUpO1xuICAgICAgICB0aGlzLmFkdmFuY2UoKTtcblxuICAgICAgICBsZXQgbmFtZSA9IHRoaXMuY3VycmVudDtcbiAgICAgICAgaWYgKCF0aGlzLmV4cGVjdChUb2tlbktpbmQuSURFTlRJRklFUikpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IG5vZGUgPSBjcmVhdGVNb2R1bGUobmFtZS5yYW5nZS50b1N0cmluZygpKTtcbiAgICAgICAgbm9kZS5maXJzdEZsYWcgPSBmaXJzdEZsYWc7XG4gICAgICAgIG5vZGUuZmxhZ3MgPSBhbGxGbGFncyhmaXJzdEZsYWcpO1xuXG4gICAgICAgIC8vIFR5cGUgcGFyYW1ldGVyc1xuICAgICAgICBpZiAodGhpcy5wZWVrKFRva2VuS2luZC5MRVNTX1RIQU4pKSB7XG4gICAgICAgICAgICBsZXQgcGFyYW1ldGVycyA9IHRoaXMucGFyc2VQYXJhbWV0ZXJzKCk7XG4gICAgICAgICAgICBpZiAocGFyYW1ldGVycyA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBub2RlLmFwcGVuZENoaWxkKHBhcmFtZXRlcnMpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLmV4cGVjdChUb2tlbktpbmQuTEVGVF9CUkFDRSkpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgd2hpbGUgKCF0aGlzLnBlZWsoVG9rZW5LaW5kLkVORF9PRl9GSUxFKSAmJiAhdGhpcy5wZWVrKFRva2VuS2luZC5SSUdIVF9CUkFDRSkpIHtcbiAgICAgICAgICAgIGxldCBjaGlsZEZsYWdzID0gdGhpcy5wYXJzZUZsYWdzKCk7XG4gICAgICAgICAgICBsZXQgY2hpbGROYW1lID0gdGhpcy5jdXJyZW50O1xuICAgICAgICAgICAgbGV0IG9sZEtpbmQgPSBjaGlsZE5hbWUua2luZDtcblxuICAgICAgICAgICAgLy8gU3VwcG9ydCBjb250ZXh0dWFsIGtleXdvcmRzXG4gICAgICAgICAgICBpZiAoaXNLZXl3b3JkKGNoaWxkTmFtZS5raW5kKSkge1xuICAgICAgICAgICAgICAgIGNoaWxkTmFtZS5raW5kID0gVG9rZW5LaW5kLklERU5USUZJRVI7XG4gICAgICAgICAgICAgICAgdGhpcy5hZHZhbmNlKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFRoZSBpZGVudGlmaWVyIG11c3QgY29tZSBmaXJzdCB3aXRob3V0IGFueSBrZXl3b3JkXG4gICAgICAgICAgICBpZiAoIXRoaXMuZXhwZWN0KFRva2VuS2luZC5JREVOVElGSUVSKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgdGV4dCA9IGNoaWxkTmFtZS5yYW5nZS50b1N0cmluZygpO1xuXG4gICAgICAgICAgICAvLyBTdXBwb3J0IG9wZXJhdG9yIGRlZmluaXRpb25zXG4gICAgICAgICAgICBpZiAodGV4dCA9PSBcIm9wZXJhdG9yXCIgJiYgIXRoaXMucGVlayhUb2tlbktpbmQuTEVGVF9QQVJFTlRIRVNJUykgJiYgIXRoaXMucGVlayhUb2tlbktpbmQuSURFTlRJRklFUikpIHtcbiAgICAgICAgICAgICAgICBjaGlsZE5hbWUua2luZCA9IFRva2VuS2luZC5PUEVSQVRPUjtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnQgPSBjaGlsZE5hbWU7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucGFyc2VGdW5jdGlvbihjaGlsZEZsYWdzLCBub2RlKSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gSXMgdGhlcmUgYW5vdGhlciBpZGVudGlmaWVyIGFmdGVyIHRoZSBmaXJzdCBvbmU/XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLnBlZWsoVG9rZW5LaW5kLklERU5USUZJRVIpKSB7XG4gICAgICAgICAgICAgICAgbGV0IGlzR2V0ID0gdGV4dCA9PSBcImdldFwiO1xuICAgICAgICAgICAgICAgIGxldCBpc1NldCA9IHRleHQgPT0gXCJzZXRcIjtcblxuICAgICAgICAgICAgICAgIC8vIFRoZSBcImdldFwiIGFuZCBcInNldFwiIGZsYWdzIGFyZSBjb250ZXh0dWFsXG4gICAgICAgICAgICAgICAgaWYgKGlzR2V0IHx8IGlzU2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIGNoaWxkRmxhZ3MgPSBhcHBlbmRGbGFnKGNoaWxkRmxhZ3MsIGlzR2V0ID8gTk9ERV9GTEFHX0dFVCA6IE5PREVfRkxBR19TRVQsIGNoaWxkTmFtZS5yYW5nZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gR2V0IHRoZSByZWFsIGlkZW50aWZpZXJcbiAgICAgICAgICAgICAgICAgICAgY2hpbGROYW1lID0gdGhpcy5jdXJyZW50O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkdmFuY2UoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBSZWNvdmVyIGZyb20gYW4gZXh0cmEgXCJmdW5jdGlvblwiIHRva2VuXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAob2xkS2luZCA9PSBUb2tlbktpbmQuRlVOQ1RJT04pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2cuZXJyb3IoY2hpbGROYW1lLnJhbmdlLCBcIkluc3RhbmNlIGZ1bmN0aW9ucyBkb24ndCBuZWVkIHRoZSAnZnVuY3Rpb24nIGtleXdvcmRcIik7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gR2V0IHRoZSByZWFsIGlkZW50aWZpZXJcbiAgICAgICAgICAgICAgICAgICAgY2hpbGROYW1lID0gdGhpcy5jdXJyZW50O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkdmFuY2UoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBSZWNvdmVyIGZyb20gYW4gZXh0cmEgdmFyaWFibGUgdG9rZW5zXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAob2xkS2luZCA9PSBUb2tlbktpbmQuQ09OU1QgfHwgb2xkS2luZCA9PSBUb2tlbktpbmQuTEVUIHx8IG9sZEtpbmQgPT0gVG9rZW5LaW5kLlZBUikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZy5lcnJvcihjaGlsZE5hbWUucmFuZ2UsIFN0cmluZ0J1aWxkZXJfbmV3KClcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoXCJJbnN0YW5jZSB2YXJpYWJsZXMgZG9uJ3QgbmVlZCB0aGUgJ1wiKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZChjaGlsZE5hbWUucmFuZ2UudG9TdHJpbmcoKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoXCInIGtleXdvcmRcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIC5maW5pc2goKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gR2V0IHRoZSByZWFsIGlkZW50aWZpZXJcbiAgICAgICAgICAgICAgICAgICAgY2hpbGROYW1lID0gdGhpcy5jdXJyZW50O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkdmFuY2UoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEZ1bmN0aW9uXG4gICAgICAgICAgICBpZiAodGhpcy5wZWVrKFRva2VuS2luZC5MRUZUX1BBUkVOVEhFU0lTKSB8fCB0aGlzLnBlZWsoVG9rZW5LaW5kLkxFU1NfVEhBTikpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnQgPSBjaGlsZE5hbWU7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucGFyc2VGdW5jdGlvbihjaGlsZEZsYWdzLCBub2RlKSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gVmFyaWFibGVcbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudCA9IGNoaWxkTmFtZTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wYXJzZVZhcmlhYmxlcyhjaGlsZEZsYWdzLCBub2RlKSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBjbG9zZSA9IHRoaXMuY3VycmVudDtcbiAgICAgICAgaWYgKCF0aGlzLmV4cGVjdChUb2tlbktpbmQuUklHSFRfQlJBQ0UpKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBub2RlLndpdGhSYW5nZShzcGFuUmFuZ2VzKHRva2VuLnJhbmdlLCBjbG9zZS5yYW5nZSkpLndpdGhJbnRlcm5hbFJhbmdlKG5hbWUucmFuZ2UpO1xuICAgIH1cblxuICAgIHBhcnNlQ2xhc3MoZmlyc3RGbGFnOiBOb2RlRmxhZyk6IE5vZGUge1xuICAgICAgICBsZXQgdG9rZW4gPSB0aGlzLmN1cnJlbnQ7XG4gICAgICAgIGFzc2VydCh0b2tlbi5raW5kID09IFRva2VuS2luZC5DTEFTUyk7XG4gICAgICAgIHRoaXMuYWR2YW5jZSgpO1xuXG4gICAgICAgIGxldCBuYW1lID0gdGhpcy5jdXJyZW50O1xuICAgICAgICBpZiAoIXRoaXMuZXhwZWN0KFRva2VuS2luZC5JREVOVElGSUVSKSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgbm9kZSA9IGNyZWF0ZUNsYXNzKG5hbWUucmFuZ2UudG9TdHJpbmcoKSk7XG4gICAgICAgIG5vZGUuZmlyc3RGbGFnID0gZmlyc3RGbGFnO1xuICAgICAgICBub2RlLmZsYWdzID0gYWxsRmxhZ3MoZmlyc3RGbGFnKTtcblxuICAgICAgICAvLyBUeXBlIHBhcmFtZXRlcnNcbiAgICAgICAgaWYgKHRoaXMucGVlayhUb2tlbktpbmQuTEVTU19USEFOKSkge1xuICAgICAgICAgICAgbGV0IHBhcmFtZXRlcnMgPSB0aGlzLnBhcnNlUGFyYW1ldGVycygpO1xuICAgICAgICAgICAgaWYgKHBhcmFtZXRlcnMgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbm9kZS5hcHBlbmRDaGlsZChwYXJhbWV0ZXJzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFwiZXh0ZW5kc1wiIGNsYXVzZVxuICAgICAgICBsZXQgZXh0ZW5kc1Rva2VuID0gdGhpcy5jdXJyZW50O1xuICAgICAgICBpZiAodGhpcy5lYXQoVG9rZW5LaW5kLkVYVEVORFMpKSB7XG4gICAgICAgICAgICBsZXQgdHlwZTogTm9kZTtcblxuICAgICAgICAgICAgLy8gUmVjb3ZlciBmcm9tIGEgbWlzc2luZyB0eXBlXG4gICAgICAgICAgICBpZiAodGhpcy5wZWVrKFRva2VuS2luZC5MRUZUX0JSQUNFKSB8fCB0aGlzLnBlZWsoVG9rZW5LaW5kLklNUExFTUVOVFMpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51bmV4cGVjdGVkVG9rZW4oKTtcbiAgICAgICAgICAgICAgICB0eXBlID0gY3JlYXRlUGFyc2VFcnJvcigpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0eXBlID0gdGhpcy5wYXJzZVR5cGUoKTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbm9kZS5hcHBlbmRDaGlsZChjcmVhdGVFeHRlbmRzKHR5cGUpLndpdGhSYW5nZSh0eXBlLnJhbmdlICE9IG51bGwgPyBzcGFuUmFuZ2VzKGV4dGVuZHNUb2tlbi5yYW5nZSwgdHlwZS5yYW5nZSkgOiBleHRlbmRzVG9rZW4ucmFuZ2UpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFwiaW1wbGVtZW50c1wiIGNsYXVzZVxuICAgICAgICBsZXQgaW1wbGVtZW50c1Rva2VuID0gdGhpcy5jdXJyZW50O1xuICAgICAgICBpZiAodGhpcy5lYXQoVG9rZW5LaW5kLklNUExFTUVOVFMpKSB7XG4gICAgICAgICAgICBsZXQgbGlzdCA9IGNyZWF0ZUltcGxlbWVudHMoKTtcbiAgICAgICAgICAgIGxldCB0eXBlOiBOb2RlID0gbnVsbDtcbiAgICAgICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgICAgICAgLy8gUmVjb3ZlciBmcm9tIGEgbWlzc2luZyB0eXBlXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucGVlayhUb2tlbktpbmQuTEVGVF9CUkFDRSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51bmV4cGVjdGVkVG9rZW4oKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdHlwZSA9IHRoaXMucGFyc2VUeXBlKCk7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGUgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGlzdC5hcHBlbmRDaGlsZCh0eXBlKTtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuZWF0KFRva2VuS2luZC5DT01NQSkpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbm9kZS5hcHBlbmRDaGlsZChsaXN0LndpdGhSYW5nZSh0eXBlICE9IG51bGwgPyBzcGFuUmFuZ2VzKGltcGxlbWVudHNUb2tlbi5yYW5nZSwgdHlwZS5yYW5nZSkgOiBpbXBsZW1lbnRzVG9rZW4ucmFuZ2UpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5leHBlY3QoVG9rZW5LaW5kLkxFRlRfQlJBQ0UpKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHdoaWxlICghdGhpcy5wZWVrKFRva2VuS2luZC5FTkRfT0ZfRklMRSkgJiYgIXRoaXMucGVlayhUb2tlbktpbmQuUklHSFRfQlJBQ0UpKSB7XG4gICAgICAgICAgICBsZXQgY2hpbGRGbGFncyA9IHRoaXMucGFyc2VGbGFncygpO1xuICAgICAgICAgICAgbGV0IGNoaWxkTmFtZSA9IHRoaXMuY3VycmVudDtcbiAgICAgICAgICAgIGxldCBvbGRLaW5kID0gY2hpbGROYW1lLmtpbmQ7XG5cbiAgICAgICAgICAgIC8vIFN1cHBvcnQgY29udGV4dHVhbCBrZXl3b3Jkc1xuICAgICAgICAgICAgaWYgKGlzS2V5d29yZChjaGlsZE5hbWUua2luZCkpIHtcbiAgICAgICAgICAgICAgICBjaGlsZE5hbWUua2luZCA9IFRva2VuS2luZC5JREVOVElGSUVSO1xuICAgICAgICAgICAgICAgIHRoaXMuYWR2YW5jZSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBUaGUgaWRlbnRpZmllciBtdXN0IGNvbWUgZmlyc3Qgd2l0aG91dCBhbnkga2V5d29yZFxuICAgICAgICAgICAgaWYgKCF0aGlzLmV4cGVjdChUb2tlbktpbmQuSURFTlRJRklFUikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IHRleHQgPSBjaGlsZE5hbWUucmFuZ2UudG9TdHJpbmcoKTtcblxuICAgICAgICAgICAgLy8gU3VwcG9ydCBvcGVyYXRvciBkZWZpbml0aW9uc1xuICAgICAgICAgICAgaWYgKHRleHQgPT0gXCJvcGVyYXRvclwiICYmICF0aGlzLnBlZWsoVG9rZW5LaW5kLkxFRlRfUEFSRU5USEVTSVMpICYmICF0aGlzLnBlZWsoVG9rZW5LaW5kLklERU5USUZJRVIpKSB7XG4gICAgICAgICAgICAgICAgY2hpbGROYW1lLmtpbmQgPSBUb2tlbktpbmQuT1BFUkFUT1I7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50ID0gY2hpbGROYW1lO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnBhcnNlRnVuY3Rpb24oY2hpbGRGbGFncywgbm9kZSkgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIElzIHRoZXJlIGFub3RoZXIgaWRlbnRpZmllciBhZnRlciB0aGUgZmlyc3Qgb25lP1xuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5wZWVrKFRva2VuS2luZC5JREVOVElGSUVSKSkge1xuICAgICAgICAgICAgICAgIGxldCBpc0dldCA9IHRleHQgPT0gXCJnZXRcIjtcbiAgICAgICAgICAgICAgICBsZXQgaXNTZXQgPSB0ZXh0ID09IFwic2V0XCI7XG5cbiAgICAgICAgICAgICAgICAvLyBUaGUgXCJnZXRcIiBhbmQgXCJzZXRcIiBmbGFncyBhcmUgY29udGV4dHVhbFxuICAgICAgICAgICAgICAgIGlmIChpc0dldCB8fCBpc1NldCkge1xuICAgICAgICAgICAgICAgICAgICBjaGlsZEZsYWdzID0gYXBwZW5kRmxhZyhjaGlsZEZsYWdzLCBpc0dldCA/IE5PREVfRkxBR19HRVQgOiBOT0RFX0ZMQUdfU0VULCBjaGlsZE5hbWUucmFuZ2UpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIEdldCB0aGUgcmVhbCBpZGVudGlmaWVyXG4gICAgICAgICAgICAgICAgICAgIGNoaWxkTmFtZSA9IHRoaXMuY3VycmVudDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hZHZhbmNlKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gUmVjb3ZlciBmcm9tIGFuIGV4dHJhIFwiZnVuY3Rpb25cIiB0b2tlblxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG9sZEtpbmQgPT0gVG9rZW5LaW5kLkZVTkNUSU9OKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nLmVycm9yKGNoaWxkTmFtZS5yYW5nZSwgXCJJbnN0YW5jZSBmdW5jdGlvbnMgZG9uJ3QgbmVlZCB0aGUgJ2Z1bmN0aW9uJyBrZXl3b3JkXCIpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIEdldCB0aGUgcmVhbCBpZGVudGlmaWVyXG4gICAgICAgICAgICAgICAgICAgIGNoaWxkTmFtZSA9IHRoaXMuY3VycmVudDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hZHZhbmNlKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gUmVjb3ZlciBmcm9tIGFuIGV4dHJhIHZhcmlhYmxlIHRva2Vuc1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG9sZEtpbmQgPT0gVG9rZW5LaW5kLkNPTlNUIHx8IG9sZEtpbmQgPT0gVG9rZW5LaW5kLkxFVCB8fCBvbGRLaW5kID09IFRva2VuS2luZC5WQVIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2cuZXJyb3IoY2hpbGROYW1lLnJhbmdlLCBTdHJpbmdCdWlsZGVyX25ldygpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKFwiSW5zdGFuY2UgdmFyaWFibGVzIGRvbid0IG5lZWQgdGhlICdcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoY2hpbGROYW1lLnJhbmdlLnRvU3RyaW5nKCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKFwiJyBrZXl3b3JkXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAuZmluaXNoKCkpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIEdldCB0aGUgcmVhbCBpZGVudGlmaWVyXG4gICAgICAgICAgICAgICAgICAgIGNoaWxkTmFtZSA9IHRoaXMuY3VycmVudDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hZHZhbmNlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBGdW5jdGlvblxuICAgICAgICAgICAgaWYgKHRoaXMucGVlayhUb2tlbktpbmQuTEVGVF9QQVJFTlRIRVNJUykgfHwgdGhpcy5wZWVrKFRva2VuS2luZC5MRVNTX1RIQU4pKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50ID0gY2hpbGROYW1lO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnBhcnNlRnVuY3Rpb24oY2hpbGRGbGFncywgbm9kZSkgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFZhcmlhYmxlXG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnQgPSBjaGlsZE5hbWU7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucGFyc2VWYXJpYWJsZXMoY2hpbGRGbGFncywgbm9kZSkgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgY2xvc2UgPSB0aGlzLmN1cnJlbnQ7XG4gICAgICAgIGlmICghdGhpcy5leHBlY3QoVG9rZW5LaW5kLlJJR0hUX0JSQUNFKSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbm9kZS53aXRoUmFuZ2Uoc3BhblJhbmdlcyh0b2tlbi5yYW5nZSwgY2xvc2UucmFuZ2UpKS53aXRoSW50ZXJuYWxSYW5nZShuYW1lLnJhbmdlKTtcbiAgICB9XG5cbiAgICBwYXJzZUZ1bmN0aW9uKGZpcnN0RmxhZzogTm9kZUZsYWcsIHBhcmVudDogTm9kZSk6IE5vZGUge1xuICAgICAgICBsZXQgaXNPcGVyYXRvciA9IGZhbHNlO1xuICAgICAgICBsZXQgdG9rZW4gPSB0aGlzLmN1cnJlbnQ7XG4gICAgICAgIGxldCBuYW1lUmFuZ2U6IFNvdXJjZVJhbmdlO1xuICAgICAgICBsZXQgbmFtZTogc3RyaW5nO1xuXG4gICAgICAgIC8vIFN1cHBvcnQgY3VzdG9tIG9wZXJhdG9yc1xuICAgICAgICBpZiAocGFyZW50ICE9IG51bGwgJiYgdGhpcy5lYXQoVG9rZW5LaW5kLk9QRVJBVE9SKSkge1xuICAgICAgICAgICAgbGV0IGVuZCA9IHRoaXMuY3VycmVudDtcblxuICAgICAgICAgICAgaWYgKHRoaXMuZWF0KFRva2VuS2luZC5MRUZUX0JSQUNLRVQpKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmV4cGVjdChUb2tlbktpbmQuUklHSFRfQlJBQ0tFVCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucGVlayhUb2tlbktpbmQuQVNTSUdOKSkge1xuICAgICAgICAgICAgICAgICAgICBuYW1lUmFuZ2UgPSBzcGFuUmFuZ2VzKHRva2VuLnJhbmdlLCB0aGlzLmN1cnJlbnQucmFuZ2UpO1xuICAgICAgICAgICAgICAgICAgICBuYW1lID0gXCJbXT1cIjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hZHZhbmNlKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWVSYW5nZSA9IHNwYW5SYW5nZXModG9rZW4ucmFuZ2UsIGVuZC5yYW5nZSk7XG4gICAgICAgICAgICAgICAgICAgIG5hbWUgPSBcIltdXCI7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaXNPcGVyYXRvciA9IHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgIHRoaXMuZWF0KFRva2VuS2luZC5CSVRXSVNFX0FORCkgfHxcbiAgICAgICAgICAgICAgICB0aGlzLmVhdChUb2tlbktpbmQuQklUV0lTRV9PUikgfHxcbiAgICAgICAgICAgICAgICB0aGlzLmVhdChUb2tlbktpbmQuQklUV0lTRV9YT1IpIHx8XG4gICAgICAgICAgICAgICAgdGhpcy5lYXQoVG9rZW5LaW5kLkNPTVBMRU1FTlQpIHx8XG4gICAgICAgICAgICAgICAgdGhpcy5lYXQoVG9rZW5LaW5kLkRJVklERSkgfHxcbiAgICAgICAgICAgICAgICB0aGlzLmVhdChUb2tlbktpbmQuRVFVQUwpIHx8XG4gICAgICAgICAgICAgICAgdGhpcy5lYXQoVG9rZW5LaW5kLkVYUE9ORU5UKSB8fFxuICAgICAgICAgICAgICAgIHRoaXMuZWF0KFRva2VuS2luZC5MRVNTX1RIQU4pIHx8XG4gICAgICAgICAgICAgICAgdGhpcy5lYXQoVG9rZW5LaW5kLkdSRUFURVJfVEhBTikgfHxcbiAgICAgICAgICAgICAgICB0aGlzLmVhdChUb2tlbktpbmQuTUlOVVMpIHx8XG4gICAgICAgICAgICAgICAgdGhpcy5lYXQoVG9rZW5LaW5kLk1JTlVTX01JTlVTKSB8fFxuICAgICAgICAgICAgICAgIHRoaXMuZWF0KFRva2VuS2luZC5NVUxUSVBMWSkgfHxcbiAgICAgICAgICAgICAgICB0aGlzLmVhdChUb2tlbktpbmQuUExVUykgfHxcbiAgICAgICAgICAgICAgICB0aGlzLmVhdChUb2tlbktpbmQuUExVU19QTFVTKSB8fFxuICAgICAgICAgICAgICAgIHRoaXMuZWF0KFRva2VuS2luZC5SRU1BSU5ERVIpIHx8XG4gICAgICAgICAgICAgICAgdGhpcy5lYXQoVG9rZW5LaW5kLlNISUZUX0xFRlQpIHx8XG4gICAgICAgICAgICAgICAgdGhpcy5lYXQoVG9rZW5LaW5kLlNISUZUX1JJR0hUKSkge1xuICAgICAgICAgICAgICAgIG5hbWVSYW5nZSA9IGVuZC5yYW5nZTtcbiAgICAgICAgICAgICAgICBuYW1lID0gbmFtZVJhbmdlLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgaXNPcGVyYXRvciA9IHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgIHRoaXMuZWF0KFRva2VuS2luZC5BU1NJR04pIHx8XG4gICAgICAgICAgICAgICAgdGhpcy5lYXQoVG9rZW5LaW5kLkdSRUFURVJfVEhBTl9FUVVBTCkgfHxcbiAgICAgICAgICAgICAgICB0aGlzLmVhdChUb2tlbktpbmQuTEVTU19USEFOX0VRVUFMKSB8fFxuICAgICAgICAgICAgICAgIHRoaXMuZWF0KFRva2VuS2luZC5MT0dJQ0FMX0FORCkgfHxcbiAgICAgICAgICAgICAgICB0aGlzLmVhdChUb2tlbktpbmQuTE9HSUNBTF9PUikgfHxcbiAgICAgICAgICAgICAgICB0aGlzLmVhdChUb2tlbktpbmQuTk9UKSB8fFxuICAgICAgICAgICAgICAgIHRoaXMuZWF0KFRva2VuS2luZC5OT1RfRVFVQUwpKSB7XG4gICAgICAgICAgICAgICAgbmFtZVJhbmdlID0gZW5kLnJhbmdlO1xuICAgICAgICAgICAgICAgIG5hbWUgPSBuYW1lUmFuZ2UudG9TdHJpbmcoKTtcblxuICAgICAgICAgICAgICAgIC8vIFJlY292ZXIgZnJvbSBhbiBpbnZhbGlkIG9wZXJhdG9yIG5hbWVcbiAgICAgICAgICAgICAgICB0aGlzLmxvZy5lcnJvcihuYW1lUmFuZ2UsIFN0cmluZ0J1aWxkZXJfbmV3KClcbiAgICAgICAgICAgICAgICAgICAgLmFwcGVuZChcIlRoZSBvcGVyYXRvciAnXCIpXG4gICAgICAgICAgICAgICAgICAgIC5hcHBlbmQobmFtZSlcbiAgICAgICAgICAgICAgICAgICAgLmFwcGVuZChcIicgY2Fubm90IGJlIGltcGxlbWVudGVkXCIpXG4gICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmQua2luZCA9PSBUb2tlbktpbmQuTk9UX0VRVUFMID8gXCIgKGl0IGlzIGF1dG9tYXRpY2FsbHkgZGVyaXZlZCBmcm9tICc9PScpXCIgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZC5raW5kID09IFRva2VuS2luZC5MRVNTX1RIQU5fRVFVQUwgPyBcIiAoaXQgaXMgYXV0b21hdGljYWxseSBkZXJpdmVkIGZyb20gJz4nKVwiIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kLmtpbmQgPT0gVG9rZW5LaW5kLkdSRUFURVJfVEhBTl9FUVVBTCA/IFwiIChpdCBpcyBhdXRvbWF0aWNhbGx5IGRlcml2ZWQgZnJvbSAnPCcpXCIgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcIilcbiAgICAgICAgICAgICAgICAgICAgLmZpbmlzaCgpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy51bmV4cGVjdGVkVG9rZW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gRnVuY3Rpb25zIGluc2lkZSBjbGFzcyBkZWNsYXJhdGlvbnMgZG9uJ3QgdXNlIFwiZnVuY3Rpb25cIlxuICAgICAgICAgICAgaWYgKHBhcmVudCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgYXNzZXJ0KHRva2VuLmtpbmQgPT0gVG9rZW5LaW5kLkZVTkNUSU9OKTtcbiAgICAgICAgICAgICAgICB0aGlzLmFkdmFuY2UoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gUmVtZW1iZXIgd2hlcmUgdGhlIG5hbWUgaXMgZm9yIHRoZSBzeW1ib2wgbGF0ZXJcbiAgICAgICAgICAgIG5hbWVSYW5nZSA9IHRoaXMuY3VycmVudC5yYW5nZTtcbiAgICAgICAgICAgIGlmICghdGhpcy5leHBlY3QoVG9rZW5LaW5kLklERU5USUZJRVIpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuYW1lID0gbmFtZVJhbmdlLnRvU3RyaW5nKCk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgbm9kZSA9IGNyZWF0ZUZ1bmN0aW9uKG5hbWUpO1xuICAgICAgICBub2RlLmZpcnN0RmxhZyA9IGZpcnN0RmxhZztcbiAgICAgICAgbm9kZS5mbGFncyA9IGFsbEZsYWdzKGZpcnN0RmxhZyk7XG4gICAgICAgIGlmIChpc09wZXJhdG9yKSB7XG4gICAgICAgICAgICBub2RlLmZsYWdzID0gbm9kZS5mbGFncyB8IE5PREVfRkxBR19PUEVSQVRPUjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFR5cGUgcGFyYW1ldGVyc1xuICAgICAgICBpZiAodGhpcy5wZWVrKFRva2VuS2luZC5MRVNTX1RIQU4pKSB7XG4gICAgICAgICAgICBsZXQgcGFyYW1ldGVycyA9IHRoaXMucGFyc2VQYXJhbWV0ZXJzKCk7XG4gICAgICAgICAgICBpZiAocGFyYW1ldGVycyA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBub2RlLmFwcGVuZENoaWxkKHBhcmFtZXRlcnMpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLmV4cGVjdChUb2tlbktpbmQuTEVGVF9QQVJFTlRIRVNJUykpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLnBlZWsoVG9rZW5LaW5kLlJJR0hUX1BBUkVOVEhFU0lTKSkge1xuICAgICAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgICAgICBsZXQgZmlyc3RBcmd1bWVudEZsYWcgPSB0aGlzLnBhcnNlRmxhZ3MoKTtcblxuICAgICAgICAgICAgICAgIGxldCBhcmd1bWVudCA9IHRoaXMuY3VycmVudDtcbiAgICAgICAgICAgICAgICA7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmV4cGVjdChUb2tlbktpbmQuSURFTlRJRklFUikpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbGV0IHR5cGU6IE5vZGU7XG4gICAgICAgICAgICAgICAgbGV0IHZhbHVlOiBOb2RlID0gbnVsbDtcbiAgICAgICAgICAgICAgICBsZXQgcmFuZ2UgPSBhcmd1bWVudC5yYW5nZTtcblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmV4cGVjdChUb2tlbktpbmQuQ09MT04pKSB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGUgPSB0aGlzLnBhcnNlVHlwZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnBlZWsoVG9rZW5LaW5kLkxFU1NfVEhBTikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwYXJhbWV0ZXJzID0gdGhpcy5wYXJzZVBhcmFtZXRlcnMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXJhbWV0ZXJzID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGUuYXBwZW5kQ2hpbGQocGFyYW1ldGVycyk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByYW5nZSA9IHNwYW5SYW5nZXMocmFuZ2UsIHR5cGUucmFuZ2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gUmVjb3ZlciBmcm9tIGEgbWlzc2luZyB0eXBlXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMucGVlayhUb2tlbktpbmQuQ09NTUEpIHx8IHRoaXMucGVlayhUb2tlbktpbmQuUklHSFRfUEFSRU5USEVTSVMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlID0gY3JlYXRlUGFyc2VFcnJvcigpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIFJlY292ZXIgZnJvbSBhIG1pc3NpbmcgY29sb25cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0aGlzLnBlZWsoVG9rZW5LaW5kLkNPTU1BKSB8fCB0aGlzLnBlZWsoVG9rZW5LaW5kLlJJR0hUX1BBUkVOVEhFU0lTKSkge1xuICAgICAgICAgICAgICAgICAgICB0eXBlID0gY3JlYXRlUGFyc2VFcnJvcigpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGxldCBmaXJzdFR5cGUgPSB0eXBlO1xuXG4gICAgICAgICAgICAgICAgLy9UeXBlIGFsaWFzXG4gICAgICAgICAgICAgICAgd2hpbGUgKHRoaXMuZWF0KFRva2VuS2luZC5CSVRXSVNFX09SKSkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgYWxpYXNUeXBlID0gdGhpcy5wYXJzZVR5cGUoKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wZWVrKFRva2VuS2luZC5MRVNTX1RIQU4pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcGFyYW1ldGVycyA9IHRoaXMucGFyc2VQYXJhbWV0ZXJzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFyYW1ldGVycyA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBhbGlhc1R5cGUuYXBwZW5kQ2hpbGQocGFyYW1ldGVycyk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoYWxpYXNUeXBlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlID0gc3BhblJhbmdlcyhyYW5nZSwgYWxpYXNUeXBlLnJhbmdlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIFJlY292ZXIgZnJvbSBhIG1pc3NpbmcgdHlwZVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0aGlzLnBlZWsoVG9rZW5LaW5kLkNPTU1BKSB8fCB0aGlzLnBlZWsoVG9rZW5LaW5kLlJJR0hUX1BBUkVOVEhFU0lTKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWxpYXNUeXBlID0gY3JlYXRlUGFyc2VFcnJvcigpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHR5cGUuYXBwZW5kQ2hpbGQoYWxpYXNUeXBlKTtcbiAgICAgICAgICAgICAgICAgICAgdHlwZSA9IGFsaWFzVHlwZTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmVhdChUb2tlbktpbmQuQVNTSUdOKSkge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHRoaXMucGFyc2VFeHByZXNzaW9uKFByZWNlZGVuY2UuTE9XRVNULCBQYXJzZUtpbmQuRVhQUkVTU0lPTik7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbGV0IHZhcmlhYmxlID0gY3JlYXRlVmFyaWFibGUoYXJndW1lbnQucmFuZ2UudG9TdHJpbmcoKSwgZmlyc3RUeXBlLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgdmFyaWFibGUuZmlyc3RGbGFnID0gZmlyc3RBcmd1bWVudEZsYWc7XG4gICAgICAgICAgICAgICAgdmFyaWFibGUuZmxhZ3MgPSBhbGxGbGFncyhmaXJzdEFyZ3VtZW50RmxhZyk7XG4gICAgICAgICAgICAgICAgbm9kZS5hcHBlbmRDaGlsZCh2YXJpYWJsZS53aXRoUmFuZ2UocmFuZ2UpLndpdGhJbnRlcm5hbFJhbmdlKGFyZ3VtZW50LnJhbmdlKSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuZWF0KFRva2VuS2luZC5DT01NQSkpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLmV4cGVjdChUb2tlbktpbmQuUklHSFRfUEFSRU5USEVTSVMpKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCByZXR1cm5UeXBlOiBOb2RlO1xuICAgICAgICBpZiAobm9kZS5pc0FueWZ1bmMoKSkge1xuICAgICAgICAgICAgcmV0dXJuVHlwZSA9IGNyZWF0ZUFueSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuXG4gICAgICAgICAgICBpZiAobm9kZS5zdHJpbmdWYWx1ZSA9PSBcImNvbnN0cnVjdG9yXCIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm5UeXBlID0gbmV3IE5vZGUoKTtcbiAgICAgICAgICAgICAgICByZXR1cm5UeXBlLmtpbmQgPSBOb2RlS2luZC5OQU1FO1xuICAgICAgICAgICAgICAgIHJldHVyblR5cGUuc3RyaW5nVmFsdWUgPSBwYXJlbnQuc3RyaW5nVmFsdWU7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZXhwZWN0KFRva2VuS2luZC5DT0xPTikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm5UeXBlID0gdGhpcy5wYXJzZVR5cGUoKTtcblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnBlZWsoVG9rZW5LaW5kLkxFU1NfVEhBTikpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHBhcmFtZXRlcnMgPSB0aGlzLnBhcnNlUGFyYW1ldGVycygpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocGFyYW1ldGVycyA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm5UeXBlLmFwcGVuZENoaWxkKHBhcmFtZXRlcnMpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChyZXR1cm5UeXBlID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gUmVjb3ZlciBmcm9tIGEgbWlzc2luZyByZXR1cm4gdHlwZVxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wZWVrKFRva2VuS2luZC5TRU1JQ09MT04pIHx8IHRoaXMucGVlayhUb2tlbktpbmQuTEVGVF9CUkFDRSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyblR5cGUgPSBjcmVhdGVQYXJzZUVycm9yKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbGV0IGZpcnN0VHlwZSA9IHJldHVyblR5cGU7XG5cbiAgICAgICAgICAgICAgICAvL1R5cGUgYWxpYXNcbiAgICAgICAgICAgICAgICB3aGlsZSAodGhpcy5lYXQoVG9rZW5LaW5kLkJJVFdJU0VfT1IpKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBhbGlhc1R5cGUgPSB0aGlzLnBhcnNlVHlwZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnBlZWsoVG9rZW5LaW5kLkxFU1NfVEhBTikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwYXJhbWV0ZXJzID0gdGhpcy5wYXJzZVBhcmFtZXRlcnMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXJhbWV0ZXJzID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGFsaWFzVHlwZS5hcHBlbmRDaGlsZChwYXJhbWV0ZXJzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChhbGlhc1R5cGUgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVjb3ZlciBmcm9tIGEgbWlzc2luZyByZXR1cm4gdHlwZVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucGVlayhUb2tlbktpbmQuU0VNSUNPTE9OKSB8fCB0aGlzLnBlZWsoVG9rZW5LaW5kLkxFRlRfQlJBQ0UpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxpYXNUeXBlID0gY3JlYXRlUGFyc2VFcnJvcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGZpcnN0VHlwZS5hcHBlbmRDaGlsZChhbGlhc1R5cGUpO1xuICAgICAgICAgICAgICAgICAgICBmaXJzdFR5cGUgPSBhbGlhc1R5cGU7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gUmVjb3ZlciBmcm9tIGEgbWlzc2luZyBjb2xvblxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5wZWVrKFRva2VuS2luZC5TRU1JQ09MT04pIHx8IHRoaXMucGVlayhUb2tlbktpbmQuTEVGVF9CUkFDRSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm5UeXBlID0gY3JlYXRlUGFyc2VFcnJvcigpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIG5vZGUuYXBwZW5kQ2hpbGQocmV0dXJuVHlwZSk7XG5cbiAgICAgICAgbGV0IGJsb2NrOiBOb2RlID0gbnVsbDtcblxuICAgICAgICAvLyBJcyB0aGlzIGFuIGltcG9ydD9cbiAgICAgICAgbGV0IHNlbWljb2xvbiA9IHRoaXMuY3VycmVudDtcbiAgICAgICAgaWYgKHRoaXMuZWF0KFRva2VuS2luZC5TRU1JQ09MT04pKSB7XG4gICAgICAgICAgICBibG9jayA9IGNyZWF0ZUVtcHR5KCkud2l0aFJhbmdlKHNlbWljb2xvbi5yYW5nZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBOb3JtYWwgZnVuY3Rpb25zXG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYmxvY2sgPSB0aGlzLnBhcnNlQmxvY2soKTtcbiAgICAgICAgICAgIGlmIChibG9jayA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBZGQgdGhpcyB0byB0aGUgZW5jbG9zaW5nIGNsYXNzXG4gICAgICAgIGlmIChwYXJlbnQgIT0gbnVsbCkge1xuICAgICAgICAgICAgcGFyZW50LmFwcGVuZENoaWxkKG5vZGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgbm9kZS5hcHBlbmRDaGlsZChibG9jayk7XG4gICAgICAgIHJldHVybiBub2RlLndpdGhSYW5nZShzcGFuUmFuZ2VzKHRva2VuLnJhbmdlLCBibG9jay5yYW5nZSkpLndpdGhJbnRlcm5hbFJhbmdlKG5hbWVSYW5nZSk7XG4gICAgfVxuXG4gICAgcGFyc2VWYXJpYWJsZXMoZmlyc3RGbGFnOiBOb2RlRmxhZywgcGFyZW50OiBOb2RlKTogTm9kZSB7XG4gICAgICAgIGxldCB0b2tlbiA9IHRoaXMuY3VycmVudDtcblxuICAgICAgICAvLyBWYXJpYWJsZXMgaW5zaWRlIGNsYXNzIGRlY2xhcmF0aW9ucyBkb24ndCB1c2UgXCJ2YXJcIlxuICAgICAgICBpZiAocGFyZW50ID09IG51bGwpIHtcbiAgICAgICAgICAgIGFzc2VydCh0b2tlbi5raW5kID09IFRva2VuS2luZC5DT05TVCB8fCB0b2tlbi5raW5kID09IFRva2VuS2luZC5MRVQgfHwgdG9rZW4ua2luZCA9PSBUb2tlbktpbmQuVkFSKTtcbiAgICAgICAgICAgIHRoaXMuYWR2YW5jZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IG5vZGUgPSB0b2tlbi5raW5kID09IFRva2VuS2luZC5DT05TVCA/IGNyZWF0ZUNvbnN0YW50cygpIDogY3JlYXRlVmFyaWFibGVzKCk7XG4gICAgICAgIG5vZGUuZmlyc3RGbGFnID0gZmlyc3RGbGFnO1xuXG4gICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgICBsZXQgbmFtZSA9IHRoaXMuY3VycmVudDtcbiAgICAgICAgICAgIGlmICghdGhpcy5leHBlY3QoVG9rZW5LaW5kLklERU5USUZJRVIpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCB0eXBlOiBOb2RlID0gbnVsbDtcbiAgICAgICAgICAgIGlmICh0aGlzLmVhdChUb2tlbktpbmQuQ09MT04pKSB7XG4gICAgICAgICAgICAgICAgdHlwZSA9IHRoaXMucGFyc2VUeXBlKCk7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wZWVrKFRva2VuS2luZC5MRVNTX1RIQU4pKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBwYXJhbWV0ZXJzID0gdGhpcy5wYXJzZVBhcmFtZXRlcnMoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhcmFtZXRlcnMgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdHlwZS5hcHBlbmRDaGlsZChwYXJhbWV0ZXJzKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAodHlwZSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IHZhbHVlOiBOb2RlID0gbnVsbDtcbiAgICAgICAgICAgIGlmICh0aGlzLmVhdChUb2tlbktpbmQuQVNTSUdOKSkge1xuICAgICAgICAgICAgICAgIHZhbHVlID0gdGhpcy5wYXJzZUV4cHJlc3Npb24oUHJlY2VkZW5jZS5MT1dFU1QsIFBhcnNlS2luZC5FWFBSRVNTSU9OKTtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBJbXBsZW1lbnQgY29uc3RydWN0b3JzXG4gICAgICAgICAgICAgICAgaWYgKHBhcmVudCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vdGhpcy5sb2cuZXJyb3IodmFsdWUucmFuZ2UsIFwiSW5saW5lIGluaXRpYWxpemF0aW9uIG9mIGluc3RhbmNlIHZhcmlhYmxlcyBpcyBub3Qgc3VwcG9ydGVkIHlldFwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCByYW5nZSA9XG4gICAgICAgICAgICAgICAgdmFsdWUgIT0gbnVsbCA/IHNwYW5SYW5nZXMobmFtZS5yYW5nZSwgdmFsdWUucmFuZ2UpIDpcbiAgICAgICAgICAgICAgICAgICAgdHlwZSAhPSBudWxsID8gc3BhblJhbmdlcyhuYW1lLnJhbmdlLCB0eXBlLnJhbmdlKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lLnJhbmdlO1xuXG4gICAgICAgICAgICBsZXQgdmFyaWFibGUgPSBjcmVhdGVWYXJpYWJsZShuYW1lLnJhbmdlLnRvU3RyaW5nKCksIHR5cGUsIHZhbHVlKTtcbiAgICAgICAgICAgIHZhcmlhYmxlLmZpcnN0RmxhZyA9IGZpcnN0RmxhZztcbiAgICAgICAgICAgIHZhcmlhYmxlLmZsYWdzID0gYWxsRmxhZ3MoZmlyc3RGbGFnKTtcbiAgICAgICAgICAgIChwYXJlbnQgIT0gbnVsbCA/IHBhcmVudCA6IG5vZGUpLmFwcGVuZENoaWxkKHZhcmlhYmxlLndpdGhSYW5nZShyYW5nZSkud2l0aEludGVybmFsUmFuZ2UobmFtZS5yYW5nZSkpO1xuXG4gICAgICAgICAgICBpZiAoIXRoaXMuZWF0KFRva2VuS2luZC5DT01NQSkpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBzZW1pY29sb24gPSB0aGlzLmN1cnJlbnQ7XG4gICAgICAgIHRoaXMuZXhwZWN0KFRva2VuS2luZC5TRU1JQ09MT04pO1xuICAgICAgICByZXR1cm4gbm9kZS53aXRoUmFuZ2Uoc3BhblJhbmdlcyh0b2tlbi5yYW5nZSwgc2VtaWNvbG9uLnJhbmdlKSk7XG4gICAgfVxuXG4gICAgcGFyc2VMb29wSnVtcChraW5kOiBOb2RlS2luZCk6IE5vZGUge1xuICAgICAgICBsZXQgdG9rZW4gPSB0aGlzLmN1cnJlbnQ7XG4gICAgICAgIHRoaXMuYWR2YW5jZSgpO1xuICAgICAgICB0aGlzLmV4cGVjdChUb2tlbktpbmQuU0VNSUNPTE9OKTtcbiAgICAgICAgbGV0IG5vZGUgPSBuZXcgTm9kZSgpO1xuICAgICAgICBub2RlLmtpbmQgPSBraW5kO1xuICAgICAgICByZXR1cm4gbm9kZS53aXRoUmFuZ2UodG9rZW4ucmFuZ2UpO1xuICAgIH1cblxuICAgIHBhcnNlRmxhZ3MoKTogTm9kZUZsYWcge1xuICAgICAgICBsZXQgZmlyc3RGbGFnOiBOb2RlRmxhZyA9IG51bGw7XG4gICAgICAgIGxldCBsYXN0RmxhZzogTm9kZUZsYWcgPSBudWxsO1xuXG4gICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgICBsZXQgdG9rZW4gPSB0aGlzLmN1cnJlbnQ7XG4gICAgICAgICAgICBsZXQgZmxhZzogaW50MzI7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmVhdChUb2tlbktpbmQuREVDTEFSRSkpIGZsYWcgPSBOT0RFX0ZMQUdfREVDTEFSRTtcbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuZWF0KFRva2VuS2luZC5FWFBPUlQpKSBmbGFnID0gTk9ERV9GTEFHX0VYUE9SVDtcbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuZWF0KFRva2VuS2luZC5QUklWQVRFKSkgZmxhZyA9IE5PREVfRkxBR19QUklWQVRFO1xuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5lYXQoVG9rZW5LaW5kLlBST1RFQ1RFRCkpIGZsYWcgPSBOT0RFX0ZMQUdfUFJPVEVDVEVEO1xuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5lYXQoVG9rZW5LaW5kLlBVQkxJQykpIGZsYWcgPSBOT0RFX0ZMQUdfUFVCTElDO1xuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5lYXQoVG9rZW5LaW5kLlNUQVRJQykpIGZsYWcgPSBOT0RFX0ZMQUdfU1RBVElDO1xuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5lYXQoVG9rZW5LaW5kLkFOWUZVTkMpKSBmbGFnID0gTk9ERV9GTEFHX0FOWUZVTkM7XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLmVhdChUb2tlbktpbmQuVU5TQUZFKSkgZmxhZyA9IE5PREVfRkxBR19VTlNBRkU7XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLmVhdChUb2tlbktpbmQuSkFWQVNDUklQVCkpIGZsYWcgPSBOT0RFX0ZMQUdfSkFWQVNDUklQVDtcbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuZWF0KFRva2VuS2luZC5TVEFSVCkpIGZsYWcgPSBOT0RFX0ZMQUdfU1RBUlQ7XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLmVhdChUb2tlbktpbmQuVklSVFVBTCkpIGZsYWcgPSBOT0RFX0ZMQUdfVklSVFVBTDtcbiAgICAgICAgICAgIGVsc2UgcmV0dXJuIGZpcnN0RmxhZztcblxuICAgICAgICAgICAgbGV0IGxpbmsgPSBuZXcgTm9kZUZsYWcoKTtcbiAgICAgICAgICAgIGxpbmsuZmxhZyA9IGZsYWc7XG4gICAgICAgICAgICBsaW5rLnJhbmdlID0gdG9rZW4ucmFuZ2U7XG5cbiAgICAgICAgICAgIGlmIChmaXJzdEZsYWcgPT0gbnVsbCkgZmlyc3RGbGFnID0gbGluaztcbiAgICAgICAgICAgIGVsc2UgbGFzdEZsYWcubmV4dCA9IGxpbms7XG4gICAgICAgICAgICBsYXN0RmxhZyA9IGxpbms7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwYXJzZVVuc2FmZSgpOiBOb2RlIHtcbiAgICAgICAgbGV0IHRva2VuID0gdGhpcy5jdXJyZW50O1xuICAgICAgICB0aGlzLmFkdmFuY2UoKTtcblxuICAgICAgICBsZXQgbm9kZSA9IHRoaXMucGFyc2VCbG9jaygpO1xuICAgICAgICBpZiAobm9kZSA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIG5vZGUuZmxhZ3MgPSBub2RlLmZsYWdzIHwgTk9ERV9GTEFHX1VOU0FGRTtcbiAgICAgICAgcmV0dXJuIG5vZGUud2l0aFJhbmdlKHNwYW5SYW5nZXModG9rZW4ucmFuZ2UsIG5vZGUucmFuZ2UpKTtcbiAgICB9XG5cbiAgICBwYXJzZUphdmFTY3JpcHQoKTogTm9kZSB7XG4gICAgICAgIGxldCB0b2tlbiA9IHRoaXMuY3VycmVudDtcbiAgICAgICAgdGhpcy5hZHZhbmNlKCk7XG5cbiAgICAgICAgbGV0IG5vZGUgPSB0aGlzLnBhcnNlQmxvY2soKTtcbiAgICAgICAgaWYgKG5vZGUgPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBub2RlLmZsYWdzID0gbm9kZS5mbGFncyB8IE5PREVfRkxBR19KQVZBU0NSSVBUO1xuICAgICAgICByZXR1cm4gbm9kZS53aXRoUmFuZ2Uoc3BhblJhbmdlcyh0b2tlbi5yYW5nZSwgbm9kZS5yYW5nZSkpO1xuICAgIH1cblxuICAgIHBhcnNlU3RhcnQoKTogTm9kZSB7XG4gICAgICAgIGxldCB0b2tlbiA9IHRoaXMuY3VycmVudDtcbiAgICAgICAgdGhpcy5hZHZhbmNlKCk7XG5cbiAgICAgICAgbGV0IG5vZGUgPSB0aGlzLnBhcnNlQmxvY2soKTtcbiAgICAgICAgaWYgKG5vZGUgPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBub2RlLmZsYWdzID0gbm9kZS5mbGFncyB8IE5PREVfRkxBR19TVEFSVDtcbiAgICAgICAgcmV0dXJuIG5vZGUud2l0aFJhbmdlKHNwYW5SYW5nZXModG9rZW4ucmFuZ2UsIG5vZGUucmFuZ2UpKTtcbiAgICB9XG5cbiAgICBwYXJzZVZpcnR1YWwoZmlyc3RGbGFnKTogTm9kZSB7XG4gICAgICAgIGxldCB0b2tlbiA9IHRoaXMuY3VycmVudDtcbiAgICAgICAgdGhpcy5hZHZhbmNlKCk7XG5cbiAgICAgICAgbGV0IG5vZGUgPSB0aGlzLnBhcnNlRnVuY3Rpb24oZmlyc3RGbGFnLCBudWxsKTtcbiAgICAgICAgaWYgKG5vZGUgPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBub2RlLmZsYWdzID0gbm9kZS5mbGFncyB8IE5PREVfRkxBR19WSVJUVUFMO1xuICAgICAgICByZXR1cm4gbm9kZS53aXRoUmFuZ2Uoc3BhblJhbmdlcyh0b2tlbi5yYW5nZSwgbm9kZS5yYW5nZSkpO1xuICAgIH1cblxuICAgIHBhcnNlU3RhdGVtZW50KG1vZGU6IFN0YXRlbWVudE1vZGUpOiBOb2RlIHtcbiAgICAgICAgbGV0IGZpcnN0RmxhZyA9IG1vZGUgPT0gU3RhdGVtZW50TW9kZS5GSUxFID8gdGhpcy5wYXJzZUZsYWdzKCkgOiBudWxsO1xuXG4gICAgICAgIC8vIGlmICh0aGlzLnBlZWsoVG9rZW5LaW5kLlVOU0FGRSkgJiYgZmlyc3RGbGFnID09IG51bGwpIHJldHVybiB0aGlzLnBhcnNlVW5zYWZlKCk7IC8vZGlzYWJsZWQgZm9yIG5vd1xuICAgICAgICBpZiAodGhpcy5wZWVrKFRva2VuS2luZC5JTVBPUlQpICYmIGZpcnN0RmxhZyA9PSBudWxsKSByZXR1cm4gdGhpcy5wYXJzZUltcG9ydHMoKTsgLy8gVGhpcyBzaG91bGQgaGFuZGxlIGJlZm9yZSBwYXJzaW5nXG4gICAgICAgIGlmICh0aGlzLnBlZWsoVG9rZW5LaW5kLkpBVkFTQ1JJUFQpICYmIGZpcnN0RmxhZyA9PSBudWxsKSByZXR1cm4gdGhpcy5wYXJzZUphdmFTY3JpcHQoKTtcbiAgICAgICAgaWYgKHRoaXMucGVlayhUb2tlbktpbmQuU1RBUlQpICYmIGZpcnN0RmxhZyA9PSBudWxsKSByZXR1cm4gdGhpcy5wYXJzZVN0YXJ0KCk7XG4gICAgICAgIGlmICh0aGlzLnBlZWsoVG9rZW5LaW5kLkNPTlNUKSB8fCB0aGlzLnBlZWsoVG9rZW5LaW5kLkxFVCkgfHwgdGhpcy5wZWVrKFRva2VuS2luZC5WQVIpKSByZXR1cm4gdGhpcy5wYXJzZVZhcmlhYmxlcyhmaXJzdEZsYWcsIG51bGwpO1xuICAgICAgICBpZiAodGhpcy5wZWVrKFRva2VuS2luZC5GVU5DVElPTikpIHJldHVybiB0aGlzLnBhcnNlRnVuY3Rpb24oZmlyc3RGbGFnLCBudWxsKTtcbiAgICAgICAgaWYgKHRoaXMucGVlayhUb2tlbktpbmQuVklSVFVBTCkpIHJldHVybiB0aGlzLnBhcnNlVmlydHVhbChmaXJzdEZsYWcpO1xuICAgICAgICBpZiAodGhpcy5wZWVrKFRva2VuS2luZC5NT0RVTEUpKSByZXR1cm4gdGhpcy5wYXJzZU1vZHVsZShmaXJzdEZsYWcpO1xuICAgICAgICBpZiAodGhpcy5wZWVrKFRva2VuS2luZC5DTEFTUykpIHJldHVybiB0aGlzLnBhcnNlQ2xhc3MoZmlyc3RGbGFnKTtcbiAgICAgICAgaWYgKHRoaXMucGVlayhUb2tlbktpbmQuRU5VTSkpIHJldHVybiB0aGlzLnBhcnNlRW51bShmaXJzdEZsYWcpO1xuXG4gICAgICAgIC8vIERlZmluaXRpb24gbW9kaWZpZXJzIG5lZWQgdG8gYmUgYXR0YWNoZWQgdG8gYSBkZWZpbml0aW9uXG4gICAgICAgIGlmIChmaXJzdEZsYWcgIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy51bmV4cGVjdGVkVG9rZW4oKTtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMucGVlayhUb2tlbktpbmQuTEVGVF9CUkFDRSkpIHJldHVybiB0aGlzLnBhcnNlQmxvY2soKTtcbiAgICAgICAgaWYgKHRoaXMucGVlayhUb2tlbktpbmQuQlJFQUspKSByZXR1cm4gdGhpcy5wYXJzZUxvb3BKdW1wKE5vZGVLaW5kLkJSRUFLKTtcbiAgICAgICAgaWYgKHRoaXMucGVlayhUb2tlbktpbmQuQ09OVElOVUUpKSByZXR1cm4gdGhpcy5wYXJzZUxvb3BKdW1wKE5vZGVLaW5kLkNPTlRJTlVFKTtcbiAgICAgICAgaWYgKHRoaXMucGVlayhUb2tlbktpbmQuSUYpKSByZXR1cm4gdGhpcy5wYXJzZUlmKCk7XG4gICAgICAgIGlmICh0aGlzLnBlZWsoVG9rZW5LaW5kLldISUxFKSkgcmV0dXJuIHRoaXMucGFyc2VXaGlsZSgpO1xuICAgICAgICBpZiAodGhpcy5wZWVrKFRva2VuS2luZC5ERUxFVEUpKSByZXR1cm4gdGhpcy5wYXJzZURlbGV0ZSgpO1xuICAgICAgICBpZiAodGhpcy5wZWVrKFRva2VuS2luZC5SRVRVUk4pKSByZXR1cm4gdGhpcy5wYXJzZVJldHVybigpO1xuICAgICAgICBpZiAodGhpcy5wZWVrKFRva2VuS2luZC5TRU1JQ09MT04pKSByZXR1cm4gdGhpcy5wYXJzZUVtcHR5KCk7XG5cbiAgICAgICAgLy8gUGFyc2UgYW4gZXhwcmVzc2lvbiBzdGF0ZW1lbnRcbiAgICAgICAgbGV0IHZhbHVlID0gdGhpcy5wYXJzZUV4cHJlc3Npb24oUHJlY2VkZW5jZS5MT1dFU1QsIFBhcnNlS2luZC5FWFBSRVNTSU9OKTtcblxuICAgICAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgc2VtaWNvbG9uID0gdGhpcy5jdXJyZW50O1xuICAgICAgICB0aGlzLmV4cGVjdChUb2tlbktpbmQuU0VNSUNPTE9OKTtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUV4cHJlc3Npb24odmFsdWUpLndpdGhSYW5nZShzcGFuUmFuZ2VzKHZhbHVlLnJhbmdlLCBzZW1pY29sb24ucmFuZ2UpKTtcbiAgICB9XG5cbiAgICBwYXJzZVN0YXRlbWVudHMocGFyZW50OiBOb2RlKTogYm9vbGVhbiB7XG4gICAgICAgIHdoaWxlICghdGhpcy5wZWVrKFRva2VuS2luZC5FTkRfT0ZfRklMRSkgJiYgIXRoaXMucGVlayhUb2tlbktpbmQuUklHSFRfQlJBQ0UpKSB7XG4gICAgICAgICAgICBsZXQgY2hpbGQgPSB0aGlzLnBhcnNlU3RhdGVtZW50KHBhcmVudC5raW5kID09IE5vZGVLaW5kLkZJTEUgPyBTdGF0ZW1lbnRNb2RlLkZJTEUgOiBTdGF0ZW1lbnRNb2RlLk5PUk1BTCk7XG4gICAgICAgICAgICBpZiAoY2hpbGQgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKGNoaWxkLmtpbmQgPT09IE5vZGVLaW5kLlJFVFVSTil7XG4gICAgICAgICAgICAgICAgcGFyZW50LnJldHVybk5vZGUgPSBjaGlsZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBhcmVudC5hcHBlbmRDaGlsZChjaGlsZCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcGFyc2VJbnQocmFuZ2U6IFNvdXJjZVJhbmdlLCBub2RlOiBOb2RlKTogYm9vbGVhbiB7XG4gICAgICAgIGxldCBzb3VyY2UgPSByYW5nZS5zb3VyY2U7XG4gICAgICAgIGxldCBjb250ZW50cyA9IHNvdXJjZS5jb250ZW50cztcbiAgICAgICAgbm9kZS5pbnRWYWx1ZSA9IHBhcnNlSW50KGNvbnRlbnRzLnN1YnN0cmluZyhyYW5nZS5zdGFydCwgcmFuZ2UuZW5kKSk7XG4gICAgICAgIG5vZGUuZmxhZ3MgPSBOT0RFX0ZMQUdfUE9TSVRJVkU7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHBhcnNlRmxvYXQocmFuZ2U6IFNvdXJjZVJhbmdlLCBub2RlOiBOb2RlKTogYm9vbGVhbiB7XG4gICAgICAgIGxldCBzb3VyY2UgPSByYW5nZS5zb3VyY2U7XG4gICAgICAgIGxldCBjb250ZW50cyA9IHNvdXJjZS5jb250ZW50cztcbiAgICAgICAgbm9kZS5mbG9hdFZhbHVlID0gcGFyc2VGbG9hdChjb250ZW50cy5zdWJzdHJpbmcocmFuZ2Uuc3RhcnQsIHJhbmdlLmVuZCkpO1xuICAgICAgICBub2RlLmZsYWdzID0gTk9ERV9GTEFHX1BPU0lUSVZFO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBwYXJzZURvdWJsZShyYW5nZTogU291cmNlUmFuZ2UsIG5vZGU6IE5vZGUpOiBib29sZWFuIHtcbiAgICAgICAgbGV0IHNvdXJjZSA9IHJhbmdlLnNvdXJjZTtcbiAgICAgICAgbGV0IGNvbnRlbnRzID0gc291cmNlLmNvbnRlbnRzO1xuICAgICAgICBub2RlLmRvdWJsZVZhbHVlID0gcGFyc2VGbG9hdChjb250ZW50cy5zdWJzdHJpbmcocmFuZ2Uuc3RhcnQsIHJhbmdlLmVuZCkpO1xuICAgICAgICBub2RlLmZsYWdzID0gTk9ERV9GTEFHX1BPU0lUSVZFO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZShmaXJzdFRva2VuOiBUb2tlbiwgbG9nOiBMb2cpOiBOb2RlIHtcbiAgICBsZXQgY29udGV4dCA9IG5ldyBQYXJzZXJDb250ZXh0KCk7XG4gICAgY29udGV4dC5jdXJyZW50ID0gZmlyc3RUb2tlbjtcbiAgICBjb250ZXh0LmxvZyA9IGxvZztcblxuICAgIGxldCBmaWxlID0gbmV3IE5vZGUoKTtcbiAgICBmaWxlLmtpbmQgPSBOb2RlS2luZC5GSUxFO1xuICAgIGlmICghY29udGV4dC5wYXJzZVN0YXRlbWVudHMoZmlsZSkpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBmaWxlO1xufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbXBpbGVyL3BhcnNlci9wYXJzZXIudHMiLCIvKipcbiAqIENyZWF0ZWQgYnkgbi52aW5heWFrYW4gb24gMDYuMDYuMTcuXG4gKi9cbmV4cG9ydCBjb25zdCBDb2xvciA9IHtcbiAgICBERUZBVUxUX1RFWFQ6IDEyLFxuICAgIERFRkFVTFRfQkc6IDgsXG4gICAgQkxBQ0s6IDAsXG4gICAgV0hJVEU6IDI1NSxcbiAgICBCT0xEOiAxLFxuICAgIFJFRDogMSxcbiAgICBHUkVFTjogMixcbiAgICBZRUxMT1c6IDMsXG4gICAgQkxVRTogNCxcbiAgICBNQUdFTlRBOiA1LFxuICAgIE9SQU5HRTogMjA4LFxufTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy91dGlscy9jb2xvci50cyIsIi8qKlxuICogQ3JlYXRlZCBieSBuLnZpbmF5YWthbiBvbiAwNi4wNi4xNy5cbiAqL1xuZXhwb3J0IGNvbnN0IGlzQnJvd3NlciA9IG5ldyBGdW5jdGlvbihcInRyeSB7cmV0dXJuIHRoaXM9PT13aW5kb3c7fWNhdGNoKGUpeyByZXR1cm4gZmFsc2U7fVwiKSgpO1xuZXhwb3J0IGNvbnN0IGlzTm9kZSA9IG5ldyBGdW5jdGlvbihcInRyeSB7cmV0dXJuIHRoaXM9PT1nbG9iYWw7fWNhdGNoKGUpe3JldHVybiBmYWxzZTt9XCIpKCk7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3V0aWxzL2Vudi50cyIsIm1vZHVsZS5leHBvcnRzID0gXCJkZWNsYXJlIGNsYXNzIE1hdGgge1xcbiAgICBzdGF0aWMgYWJzKHg6IGZsb2F0MzIpOiBmbG9hdDMyO1xcbiAgICBzdGF0aWMgYWNvcyh4OiBmbG9hdDY0KTogZmxvYXQ2NDtcXG4gICAgc3RhdGljIGFzaW4oeDogZmxvYXQ2NCk6IGZsb2F0NjQ7XFxuICAgIHN0YXRpYyBhdGFuKHg6IGZsb2F0NjQpOiBmbG9hdDY0O1xcbiAgICBzdGF0aWMgYXRhbjIoeTogZmxvYXQ2NCwgeDogZmxvYXQ2NCk6IGZsb2F0NjQ7XFxuICAgIHN0YXRpYyBjZWlsKHg6IGZsb2F0MzIpOiBmbG9hdDMyO1xcbiAgICBzdGF0aWMgY29zKHg6IGZsb2F0NjQpOiBmbG9hdDY0O1xcbiAgICBzdGF0aWMgZXhwKHg6IGZsb2F0NjQpOiBmbG9hdDY0O1xcbiAgICBzdGF0aWMgZmxvb3IoeDogZmxvYXQzMik6IGZsb2F0MzI7XFxuICAgIHN0YXRpYyBsb2coeDogZmxvYXQ2NCk6IGZsb2F0NjQ7XFxuICAgIC8vIHN0YXRpYyBtYXgoLi4udmFsdWVzOiBmbG9hdDY0W10pOiBmbG9hdDY0O1xcbiAgICBzdGF0aWMgbWF4KGE6IGZsb2F0NjQsIGI6ZmxvYXQ2NCk6IGZsb2F0NjQ7XFxuICAgIC8vIHN0YXRpYyBtaW4oLi4udmFsdWVzOiBmbG9hdDY0W10pOiBmbG9hdDY0O1xcbiAgICBzdGF0aWMgbWluKGE6IGZsb2F0NjQsIGI6ZmxvYXQ2NCk6IGZsb2F0NjQ7XFxuICAgIHN0YXRpYyBwb3coeDogZmxvYXQ2NCwgeTogZmxvYXQ2NCk6IGZsb2F0NjQ7XFxuICAgIHN0YXRpYyByYW5kb20oKTogZmxvYXQ2NDsgLy8gJ3JhbmRvbScgaXMgbm90IGEgc3RhbmRhcmQgTWF0aCBidWlsdGluXFxuICAgIC8vIHN0YXRpYyByb3VuZCh4OiBmbG9hdDY0KTogZmxvYXQ2NDsgLy8ncm91bmQnIGlzIG5vdCBhIHN0YW5kYXJkIE1hdGggYnVpbHRpblxcbiAgICBzdGF0aWMgc2luKHg6IGZsb2F0NjQpOiBmbG9hdDY0O1xcbiAgICBzdGF0aWMgc3FydCh4OiBmbG9hdDMyKTogZmxvYXQzMjtcXG4gICAgc3RhdGljIHRhbih4OiBmbG9hdDY0KTogZmxvYXQ2NDtcXG4gICAgc3RhdGljIGltdWwoYTogaW50MzIsIGI6aW50MzIpOiBpbnQzMjtcXG59XFxuXFxuZnVuY3Rpb24gYWJzZjMyKHg6ZmxvYXQzMik6ZmxvYXQzMntcXG4gICAgcmV0dXJuIE1hdGguYWJzKHgpIGFzIGZsb2F0MzI7XFxufVxcblxcbmZ1bmN0aW9uIHNxcnRmMzIoeDpmbG9hdDMyKTpmbG9hdDMye1xcbiAgICByZXR1cm4gTWF0aC5zcXJ0KHgpO1xcbn1cXG5cXG5mdW5jdGlvbiBwb3dmMzIoeDpmbG9hdDMyLCB5OmZsb2F0MzIpOmZsb2F0MzJ7XFxuICAgIHJldHVybiBNYXRoLnBvdyh4IGFzIGZsb2F0NjQsIHkgYXMgZmxvYXQ2NCkgYXMgZmxvYXQzMjtcXG59XFxuXFxuZnVuY3Rpb24gbWluZjMyKHg6ZmxvYXQzMiwgeTpmbG9hdDMyKTpmbG9hdDMye1xcbiAgICByZXR1cm4gTWF0aC5taW4oeCBhcyBmbG9hdDY0LCB5IGFzIGZsb2F0NjQpIGFzIGZsb2F0MzI7XFxufVxcbmZ1bmN0aW9uIG1heGYzMih4OmZsb2F0MzIsIHk6ZmxvYXQzMik6ZmxvYXQzMntcXG4gICAgcmV0dXJuIE1hdGgubWF4KHggYXMgZmxvYXQ2NCwgeSBhcyBmbG9hdDY0KSBhcyBmbG9hdDMyO1xcbn1cXG5cXG5kZWNsYXJlIGZ1bmN0aW9uIG1vZGYzMihhOmZsb2F0MzIsIGI6ZmxvYXQzMik6ZmxvYXQzMjtcXG5kZWNsYXJlIGZ1bmN0aW9uIG1vZGY2NChhOmZsb2F0NjQsIGI6ZmxvYXQ2NCk6ZmxvYXQ2NDtcXG5cIlxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2V4dHJhcy9qYXZhc2NyaXB0LnRic1xuLy8gbW9kdWxlIGlkID0gMjJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSBcImNsYXNzIEFycmF5PFQ+IHtcXG5cXG4gICAgYnl0ZXNMZW5ndGg6IGludDMyO1xcbiAgICBlbGVtZW50U2l6ZTogaW50MzI7XFxuXFxuICAgIGNvbnN0cnVjdG9yKGJ5dGVzTGVuZ3RoOiBpbnQzMiwgZWxlbWVudFNpemU6IGludDMyKSB7XFxuICAgICAgICB0aGlzLmJ5dGVzTGVuZ3RoID0gYnl0ZXNMZW5ndGg7XFxuICAgICAgICB0aGlzLmVsZW1lbnRTaXplID0gZWxlbWVudFNpemU7XFxuICAgIH1cXG5cXG4gICAgb3BlcmF0b3IgW10gKGluZGV4OiBpbnQzMik6IFQge1xcbiAgICAgICAgbGV0IHN0cmlwZSA9IGluZGV4ICogdGhpcy5lbGVtZW50U2l6ZTtcXG4gICAgICAgIGlmIChzdHJpcGUgPj0gMCAmJiBzdHJpcGUgPCB0aGlzLmJ5dGVzTGVuZ3RoKSB7XFxuICAgICAgICAgICAgcmV0dXJuICooKHRoaXMgYXMgKnVpbnQ4ICsgOCArIHN0cmlwZSkgYXMgKlQpO1xcbiAgICAgICAgfVxcbiAgICAgICAgcmV0dXJuIG51bGwgYXMgVDtcXG4gICAgfVxcblxcbiAgICBvcGVyYXRvciBbXT0gKGluZGV4OiBpbnQzMiwgdmFsdWU6IFQpOiB2b2lkIHtcXG4gICAgICAgIGxldCBzdHJpcGUgPSBpbmRleCAqIHRoaXMuZWxlbWVudFNpemU7XFxuICAgICAgICBpZiAoc3RyaXBlID49IDAgJiYgc3RyaXBlIDwgdGhpcy5ieXRlc0xlbmd0aCkge1xcbiAgICAgICAgICAgICooKHRoaXMgYXMgKnVpbnQ4ICsgOCArIHN0cmlwZSkgYXMgKlQpID0gdmFsdWU7XFxuICAgICAgICB9XFxuICAgIH1cXG5cXG4gICAgZ2V0IGxlbmd0aCgpOiBpbnQzMiB7XFxuICAgICAgICByZXR1cm4gdGhpcy5ieXRlc0xlbmd0aCAvIHRoaXMuZWxlbWVudFNpemU7XFxuICAgIH1cXG59XFxuXFxuLy9kZWNsYXJlIHR5cGUgSW50MzJBcnJheSAgID0gQXJyYXk8IGludDMyID5cXG4vL2RlY2xhcmUgdHlwZSBVaW50MzJBcnJheSAgPSBBcnJheTwgdWludDMyID5cXG4vL2RlY2xhcmUgdHlwZSBJbnQ2NEFycmF5ICAgPSBBcnJheTwgaW50NjQgPlxcbi8vZGVjbGFyZSB0eXBlIFVpbnQ2NEFycmF5ICA9IEFycmF5PCB1aW50NjQgPlxcbi8vZGVjbGFyZSB0eXBlIEZsb2F0MzJBcnJheSA9IEFycmF5PCBmbG9hdDMyID5cXG4vL2RlY2xhcmUgdHlwZSBGbG9hdDY0QXJyYXkgPSBBcnJheTwgZmxvYXQ2NCA+XFxuXCJcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9saWJyYXJ5L2NvbW1vbi9hcnJheS50YnNcbi8vIG1vZHVsZSBpZCA9IDIzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0gXCJ2YXIgb3JpZ2luYWxIZWFwUG9pbnRlcjogKnVpbnQ4ID0gbnVsbDtcXG52YXIgY3VycmVudEhlYXBQb2ludGVyOiAqdWludDggPSBudWxsO1xcblxcbnZhciBmcmVlTWVtb3J5OiBpbnQzMiA9IDA7XFxudmFyIG51bUZyZWVDaHVua3M6IGludDMyID0gMDtcXG52YXIgZmlyc3RGcmVlOiBpbnQzMiA9IDA7XFxudmFyIGxhc3RGcmVlOiBpbnQzMiA9IDA7XFxuXFxuY29uc3QgUFJFVl9JTlVTRTppbnQzMiA9IDE7XFxuY29uc3QgSVNfTU1BUFBFRDppbnQzMiA9IDI7XFxuY29uc3QgTk9OX01BSU5fQVJFTkE6aW50MzIgPSA0O1xcbmNvbnN0IFNJWkVfQklUUzppbnQzMiA9IFBSRVZfSU5VU0V8SVNfTU1BUFBFRHxOT05fTUFJTl9BUkVOQTtcXG5cXG4vL0FuIGFsbG9jYXRlZCBjaHVuayBsb29rcyBsaWtlIHRoaXM6XFxuLypcXG4gICAgY2h1bmstPiArLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstK1xcbiAgICAgICAgICAgIHwgICAgICAgICAgICAgU2l6ZSBvZiBwcmV2aW91cyBjaHVuaywgaWYgYWxsb2NhdGVkICAgICAgICAgICAgfCB8XFxuICAgICAgICAgICAgKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLStcXG4gICAgICAgICAgICB8ICAgICAgICAgICAgIFNpemUgb2YgY2h1bmssIGluIGJ5dGVzICAgICAgICAgICAgICAgICAgICAgICAgIHxQfFxcbiAgICAgIG1lbS0+ICstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rXFxuICAgICAgICAgICAgfCAgICAgICAgICAgICBVc2VyIGRhdGEgc3RhcnRzIGhlcmUuLi4gICAgICAgICAgICAgICAgICAgICAgICAgIC5cXG4gICAgICAgICAgICAuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLlxcbiAgICAgICAgICAgIC4gICAgICAgICAgICAgKG1hbGxvY191c2FibGVfc2l6ZSgpIGJ5dGVzKSAgICAgICAgICAgICAgICAgICAgICAuXFxuICAgICAgICAgICAgLiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcXG5uZXh0Y2h1bmstPiArLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstK1xcbiAgICAgICAgICAgIHwgICAgICAgICAgICAgU2l6ZSBvZiBjaHVuayAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XFxuICAgICAgICAgICAgKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLStcXG4qL1xcbi8vRnJlZSBjaHVua3MgYXJlIHN0b3JlZCBpbiBjaXJjdWxhciBkb3VibHktbGlua2VkIGxpc3RzLCBhbmQgbG9vayBsaWtlIHRoaXM6XFxuLypcXG4gICAgY2h1bmstPiArLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstK1xcbiAgICAgICAgICAgIHwgICAgICAgICAgICAgU2l6ZSBvZiBwcmV2aW91cyBjaHVuayAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XFxuICAgICAgICAgICAgKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLStcXG4gICAgYGhlYWQ6JyB8ICAgICAgICAgICAgIFNpemUgb2YgY2h1bmssIGluIGJ5dGVzICAgICAgICAgICAgICAgICAgICAgICAgIHxQfFxcbiAgICAgIG1lbS0+ICstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rXFxuICAgICAgICAgICAgfCAgICAgICAgICAgICBGb3J3YXJkIHBvaW50ZXIgdG8gbmV4dCBjaHVuayBpbiBsaXN0ICAgICAgICAgICAgIHxcXG4gICAgICAgICAgICArLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstK1xcbiAgICAgICAgICAgIHwgICAgICAgICAgICAgQmFjayBwb2ludGVyIHRvIHByZXZpb3VzIGNodW5rIGluIGxpc3QgICAgICAgICAgICB8XFxuICAgICAgICAgICAgKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLStcXG4gICAgICAgICAgICB8ICAgICAgICAgICAgIFVudXNlZCBzcGFjZSAobWF5IGJlIDAgYnl0ZXMgbG9uZykgICAgICAgICAgICAgICAgLlxcbiAgICAgICAgICAgIC4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuXFxuICAgICAgICAgICAgLiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcXG5uZXh0Y2h1bmstPiArLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstK1xcbiAgICBgZm9vdDonIHwgICAgICAgICAgICAgU2l6ZSBvZiBjaHVuaywgaW4gYnl0ZXMgICAgICAgICAgICAgICAgICAgICAgICAgICB8XFxuICAgICAgICAgICAgKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLStcXG4qL1xcblxcbi8vIGZ1bmN0aW9uIGluaXRfbWFsbG9jKCk6dm9pZHtcXG4vLyAgICAgbnVtRnJlZUNodW5rcyA9IDA7XFxuLy8gICAgIGZpcnN0RnJlZSA9IDA7XFxuLy8gICAgIGxhc3RGcmVlID0gMDtcXG4vLyAgICAgb3JpZ2luYWxIZWFwUG9pbnRlciA9IDQwIGFzICp1aW50ODsvL3RoaXMgd2lsbCBvdmVycmlkZSBieSBjb21waWxlclxcbi8vICAgICBjdXJyZW50SGVhcFBvaW50ZXIgID0gNDAgYXMgKnVpbnQ4Oy8vdGhpcyB3aWxsIG92ZXJyaWRlIGJ5IGNvbXBpbGVyXFxuLy8gfVxcblxcbmV4cG9ydCBmdW5jdGlvbiBtYWxsb2Moc2l6ZTogaW50MzIpOiAqdWludDgge1xcblxcbiAgICAvL0FsbCBsb2MgdmFyaWFibGUgc2hvdWxkIGRlY2xhcmUgaGVyZSBiZWZvcmUgYXNzaWduaW5nIG5hbWVkIHZhbHVlXFxuICAgIHZhciBhbGlnbm1lbnQ6aW50MzIgPSA4O1xcblxcbiAgICBzaXplID0gKHNpemUgKyAoYWxpZ25tZW50IC0gMSkpICYgfihhbGlnbm1lbnQgLSAxKSBhcyBpbnQzMjtcXG4gICAgdmFyIGNodW5rU2l6ZSA9IHNpemUgKyA4O1xcblxcbiAgICB2YXIgZnJlZUNodW5rID0gZ2V0RnJlZUNodW5rKGNodW5rU2l6ZSk7XFxuICAgICBpZihmcmVlQ2h1bmsgYXMgaW50MzIgPiAwKXtcXG4gICAgICAgIHJldHVybiBmcmVlQ2h1bms7XFxuICAgIH1cXG5cXG4gICAgdmFyIG9mZnNldDppbnQzMiA9IGN1cnJlbnRIZWFwUG9pbnRlciBhcyBpbnQzMjtcXG4gICAgb2Zmc2V0ID0gb2Zmc2V0ICsgNztcXG4gICAgb2Zmc2V0ID0gb2Zmc2V0ICYgfjc7XFxuICAgIC8vIG9mZnNldCA9ICgoY3VycmVudEhlYXBQb2ludGVyIGFzIGludDMyICsgNykgJiB+KDcpIGFzIGludDMyKSBhcyAqdWludDg7XFxuXFxuICAgIHZhciB0b3AgPSBvZmZzZXQgKyBjaHVua1NpemU7XFxuXFxuICAgIHZhciBwdHIgPSAob2Zmc2V0ICsgNCkgYXMgKnVpbnQ4OyAvL3NraXAgcHJldiBzaXplXFxuICAgIHNldEhlYWRTaXplKHB0ciwgY2h1bmtTaXplKTtcXG4gICAgc2V0SW51c2UoKHB0ciArIDQpIGFzICp1aW50OCk7XFxuICAgIHNldEZvb3QocHRyLCBjaHVua1NpemUpO1xcblxcbiAgICBjdXJyZW50SGVhcFBvaW50ZXIgPSAodG9wICsgNCkgYXMgKnVpbnQ4O1xcblxcbiAgICBvZmZzZXQgPSBvZmZzZXQgKyA4O1xcblxcbiAgICAvLyBNYWtlIHN1cmUgdGhlIG1lbW9yeSBzdGFydHMgb2ZmIGF0IHplcm9cXG4gICAgcHRyID0gb2Zmc2V0IGFzICp1aW50ODtcXG4gICAgd2hpbGUgKChwdHIgYXMgaW50MzIpIDwgKHRvcCBhcyBpbnQzMikpIHtcXG4gICAgICAqKHB0ciBhcyAqaW50MzIpID0gMDtcXG4gICAgICBwdHIgPSBwdHIgKyA0O1xcbiAgICB9XFxuXFxuICAgIHJldHVybiBvZmZzZXQgYXMgKnVpbnQ4O1xcbn1cXG5leHBvcnQgZnVuY3Rpb24gZnJlZShwdHI6KnVpbnQ4KTp2b2lke1xcblxcbiAgICB2YXIgY2h1bmtwdHI6KnVpbnQ4ID0gbnVsbDtcXG4gICAgdmFyIHRtcDE6aW50MzIgPSAwO1xcblxcbiAgICBjbGVhckludXNlKHB0cik7XFxuICAgIGlmKGZpcnN0RnJlZSA9PSAwKXtcXG4gICAgICAgIGZpcnN0RnJlZSA9IHB0ciBhcyBpbnQzMjtcXG4gICAgfVxcblxcbiAgICB0bXAxID0gZnJlZU1lbW9yeSBhcyBpbnQzMjtcXG4gICAgdG1wMSA9IHRtcDEgKyBnZXRDaHVua1NpemUocHRyKSBhcyBpbnQzMjtcXG4gICAgZnJlZU1lbW9yeSA9IHRtcDEgYXMgaW50MzI7XFxuXFxuICAgIGNodW5rcHRyID0gcHRyICsgNDtcXG4gICAgaWYobGFzdEZyZWUgPiAwKXtcXG4gICAgICAgICooY2h1bmtwdHIgYXMgKmludDMyKSA9IGxhc3RGcmVlOy8vYmFja3dhcmQgcG9pbnRlciB0byBwcmV2IGNodW5rXFxuICAgICAgICAqKGxhc3RGcmVlIGFzICppbnQzMikgPSBwdHIgYXMgaW50MzI7Ly9mb3J3YXJkIHBvaW50ZXIgdG8gbmV4dCBjaHVuayBvZiBwcmV2IGNodW5rXFxuICAgIH1lbHNle1xcbiAgICAgICAgKihjaHVua3B0ciBhcyAqaW50MzIpID0gMDsvL25vIGJhY2t3YXJkIHBvaW50ZXIsIHRoaXMgaXMgdGhlIGZpcnN0IGZyZWUgY2h1bmtcXG4gICAgfVxcblxcbiAgICAqKHB0ciBhcyAqaW50MzIpID0gMDsvL25vIGZvcndhcmQgcG9pbnRlclxcblxcbiAgICBsYXN0RnJlZSA9IHB0ciBhcyBpbnQzMjtcXG4gICAgbnVtRnJlZUNodW5rcyA9IG51bUZyZWVDaHVua3MgKyAxO1xcbn1cXG4vKmV4cG9ydCovZnVuY3Rpb24gZ2V0RnJlZUNodW5rKHNpemU6IGludDMyKToqdWludDh7XFxuXFxuICAgIHZhciBmcmVlQ2h1bms6KnVpbnQ4ID0gbnVsbDtcXG4gICAgdmFyIHRtcDE6aW50MzIgPSAwO1xcbiAgICB2YXIgdG1wMjppbnQzMiA9IDA7XFxuICAgIHZhciB0bXAzOmludDMyID0gMDtcXG4gICAgdmFyIHRtcDQ6aW50MzIgPSAwO1xcblxcbiAgICB0bXAxID0gZmlyc3RGcmVlO1xcbiAgICB0bXAyID0gbGFzdEZyZWU7XFxuICAgIHRtcDMgPSBmcmVlTWVtb3J5O1xcblxcbiAgICBpZihudW1GcmVlQ2h1bmtzID4gMCl7XFxuICAgICAgICBmcmVlQ2h1bmsgPSBmaW5kQ2h1bmsoc2l6ZSk7XFxuICAgICAgICBpZihmcmVlQ2h1bmsgYXMgaW50MzIgPiAwKXtcXG4gICAgICAgICAgICBpZihmcmVlQ2h1bmsgYXMgaW50MzIgPT0gdG1wMSl7XFxuICAgICAgICAgICAgICAgIGZpcnN0RnJlZSA9IG5leHRGcmVlKGZyZWVDaHVuaykgYXMgaW50MzI7XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgICAgIGlmKGZyZWVDaHVuayBhcyBpbnQzMiA9PSB0bXAyKXtcXG4gICAgICAgICAgICAgICAgbGFzdEZyZWUgPSAwO1xcbiAgICAgICAgICAgIH1cXG4gICAgICAgICAgICBudW1GcmVlQ2h1bmtzID0gbnVtRnJlZUNodW5rcyAtIDE7XFxuICAgICAgICAgICAgc2V0SW51c2UoZnJlZUNodW5rKTtcXG4gICAgICAgICAgICB0bXA0ID0gZ2V0Q2h1bmtTaXplKGZyZWVDaHVuayk7XFxuICAgICAgICAgICAgdG1wMyA9IHRtcDMgLSB0bXA0O1xcbiAgICAgICAgICAgIGZyZWVNZW1vcnkgPSB0bXAzO1xcbiAgICAgICAgfVxcbiAgICB9XFxuICAgIHJldHVybiBmcmVlQ2h1bms7XFxufVxcbi8qZXhwb3J0Ki9mdW5jdGlvbiBmaW5kQ2h1bmsoc2l6ZTogaW50MzIpOip1aW50OHtcXG4gICAgdmFyIGNodW5rOip1aW50OCA9IG51bGw7XFxuICAgIHZhciB0bXAxOmludDMyID0gMDtcXG5cXG4gICAgY2h1bmsgPSBmaXJzdEZyZWUgYXMgKnVpbnQ4O1xcbiAgICB3aGlsZShjaHVuayAhPSBudWxsKXtcXG4gICAgICAgIHRtcDE9IGdldENodW5rU2l6ZShjaHVuayk7XFxuICAgICAgICBpZih0bXAxID09IHNpemUpe1xcbiAgICAgICAgICAgIHJldHVybiBjaHVuaztcXG4gICAgICAgIH1cXG4gICAgICAgIGNodW5rID0gKihjaHVuayBhcyAqaW50MzIpIGFzICp1aW50ODtcXG4gICAgfVxcbiAgICByZXR1cm4gbnVsbDtcXG59XFxuLypleHBvcnQqLyBmdW5jdGlvbiBnZXRIZWFwUHRyKCk6IGludDMyIHtcXG4gICAgcmV0dXJuIGN1cnJlbnRIZWFwUG9pbnRlciBhcyBpbnQzMjtcXG59XFxuLypleHBvcnQqLyBmdW5jdGlvbiBnZXRGcmVlTWVtb3J5KCk6IGludDMyIHtcXG4gICAgcmV0dXJuIGZyZWVNZW1vcnk7XFxufVxcbi8qZXhwb3J0Ki8gZnVuY3Rpb24gZ2V0T3JpZ2luYWxIZWFwUHRyKCk6IGludDMyIHtcXG4gICAgcmV0dXJuIG9yaWdpbmFsSGVhcFBvaW50ZXIgYXMgaW50MzI7XFxufVxcbmZ1bmN0aW9uIGdldE51bUZyZWVDaHVua3MoKTppbnQzMntcXG4gICAgcmV0dXJuIG51bUZyZWVDaHVua3MgYXMgaW50MzI7XFxufVxcbi8qZXhwb3J0Ki9mdW5jdGlvbiBnZXRGaXJzdEZyZWUoKTppbnQzMntcXG4gICAgcmV0dXJuIGZpcnN0RnJlZTtcXG59XFxuLypleHBvcnQqL2Z1bmN0aW9uIGdldExhc3RGcmVlKCk6aW50MzJ7XFxuICAgIHJldHVybiBsYXN0RnJlZTtcXG59XFxuLypleHBvcnQqL2Z1bmN0aW9uIHByZXZGcmVlKHB0cjoqdWludDgpOmludDMye1xcbiAgICByZXR1cm4gICoocHRyIGFzICppbnQzMiArIDQpIGFzIGludDMyO1xcbn1cXG4vKmV4cG9ydCovZnVuY3Rpb24gbmV4dEZyZWUocHRyOip1aW50OCk6aW50MzJ7XFxuICAgIHJldHVybiAqKHB0ciBhcyAqaW50MzIpIGFzIGludDMyO1xcbn1cXG4vKiBTZXQgc2l6ZSBhdCBoZWFkLCB3aXRob3V0IGRpc3R1cmJpbmcgaXRzIHVzZSBiaXQgKi9cXG5mdW5jdGlvbiBzZXRIZWFkU2l6ZShwdHI6KnVpbnQ4LCBzOmludDMyKTp2b2lkICB7XFxuICAgICoocHRyIGFzICppbnQzMikgPSAoKihwdHIgYXMgKmludDMyKSAmIFNJWkVfQklUUykgfCBzO1xcbn1cXG5cXG4vKiBTZXQgc2l6ZS91c2UgZmllbGQgKi9cXG5mdW5jdGlvbiBzZXRIZWFkKHB0cjoqdWludDgsIHM6aW50MzIpOnZvaWQge1xcbiAgICoocHRyIGFzICppbnQzMikgPSBzO1xcbn1cXG5cXG4vKiBTZXQgc2l6ZSBhdCBmb290ZXIgKG9ubHkgd2hlbiBjaHVuayBpcyBub3QgaW4gdXNlKSAqL1xcbmZ1bmN0aW9uIHNldEZvb3QocHRyOip1aW50OCwgczppbnQzMik6dm9pZCB7XFxuICAgIHZhciBjaHVua3B0cjppbnQzMiA9IDA7XFxuICAgIHZhciBzaXplOmludDMyID0gMDtcXG4gICAgc2l6ZSA9ICoocHRyIGFzICppbnQzMik7XFxuICAgIGNodW5rcHRyID0gKHB0ciBhcyBpbnQzMikgKyBzaXplO1xcbiAgICAqKGNodW5rcHRyIGFzICppbnQzMikgPSBzO1xcbn1cXG5cXG4vKmV4cG9ydCovZnVuY3Rpb24gZ2V0UHJldkludXNlKHB0cjoqdWludDgpOmludDMyIHtcXG4gICAgdmFyIGNodW5rcHRyOmludDMyID0gMDtcXG4gICAgY2h1bmtwdHIgPSAocHRyIGFzIGludDMyKSAtIDg7XFxuICAgIHJldHVybiAqKGNodW5rcHRyIGFzICppbnQzMikgJiAoUFJFVl9JTlVTRSk7XFxufVxcbi8qZXhwb3J0Ki9mdW5jdGlvbiBzZXRJbnVzZShwdHI6KnVpbnQ4KTp2b2lke1xcbiAgICB2YXIgY2h1bmtwdHI6aW50MzIgPSAwO1xcbiAgICBjaHVua3B0ciA9IChwdHIgYXMgaW50MzIpIC0gNDtcXG4gICAgKihjaHVua3B0ciBhcyAqaW50MzIpID0gICooY2h1bmtwdHIgYXMgKmludDMyKSB8IFBSRVZfSU5VU0U7XFxufVxcbi8qZXhwb3J0Ki9mdW5jdGlvbiBnZXRJbnVzZShwdHI6KnVpbnQ4KTppbnQzMntcXG4gICAgdmFyIGNodW5rcHRyOmludDMyID0gMDtcXG4gICAgY2h1bmtwdHIgPSAocHRyIGFzIGludDMyKSAtIDQ7XFxuICAgIHJldHVybiAqKGNodW5rcHRyIGFzICppbnQzMikgJiAoUFJFVl9JTlVTRSk7XFxufVxcbi8qZXhwb3J0Ki9mdW5jdGlvbiBjbGVhckludXNlKHB0cjoqdWludDgpOnZvaWR7XFxuICAgIHZhciBjaHVua3B0cjppbnQzMiA9IDA7XFxuICAgIGNodW5rcHRyID0gKHB0ciBhcyBpbnQzMikgLSA0O1xcbiAgICAqKGNodW5rcHRyIGFzICppbnQzMikgPSAqKGNodW5rcHRyIGFzICppbnQzMikgJiB+KFBSRVZfSU5VU0UpO1xcbn1cXG4vKmV4cG9ydCovZnVuY3Rpb24gZ2V0Q2h1bmtTaXplKHB0cjoqdWludDgpOmludDMye1xcbiAgICB2YXIgY2h1bmtwdHI6aW50MzIgPSAwO1xcbiAgICBjaHVua3B0ciA9IChwdHIgYXMgaW50MzIpIC0gNDtcXG4gICAgcmV0dXJuICooY2h1bmtwdHIgYXMgKmludDMyKSAmIH4oUFJFVl9JTlVTRSkgYXMgaW50MzI7XFxufVxcbi8qIG1hbGxvYyAqL1xcbi8vIHZhciBTSVpFX1NaOmludDMyID0gNDtcXG4vLyB2YXIgTUFMTE9DX0FMSUdOTUVOVDppbnQzMiA9IDg7Ly8yICogU0laRV9TWjtcXG4vLyB2YXIgTUFMTE9DX0FMSUdOX01BU0s6aW50MzIgPSBNQUxMT0NfQUxJR05NRU5UIC0gMTtcXG4vL1xcbi8vIHZhciBQUkVWX0lOVVNFOmludDMyID0gMHgxO1xcbi8vIHZhciBJU19NTUFQUEVEOmludDMyID0gMHgyO1xcbi8vIHZhciBOT05fTUFJTl9BUkVOQTppbnQzMiA9IDB4NDtcXG4vLyB2YXIgU0laRV9CSVRTOmludDMyID0gUFJFVl9JTlVTRXxJU19NTUFQUEVEfE5PTl9NQUlOX0FSRU5BO1xcbi8vXFxuLy8gY2xhc3MgY2h1bmt7XFxuLy8gICAgIHByZXZTaXplOmludDMyO1xcbi8vICAgICBzaXplOmludDMyO1xcbi8vICAgICBmb3J3YXJkOmludDMyO1xcbi8vICAgICBiYWNrd2FyZDppbnQzMjtcXG4vLyAgICAgZm9yd2FyZExhcmdlOmludDMyO1xcbi8vICAgICBiYWNrd2FyZExhcmdlOmludDMyO1xcbi8vIH1cXG4vLyBmdW5jdGlvbiBwcmV2X2ludXNlKHA6KmNodW5rKTppbnQzMiB7XFxuLy8gICAgIHJldHVybiAocCBhcyBjaHVuaykuc2l6ZSAmIFBSRVZfSU5VU0U7XFxuLy8gfVxcbi8vIGZ1bmN0aW9uIGNodW5rc2l6ZShwOipjaHVuayk6aW50MzIge1xcbi8vICAgICByZXR1cm4gKHAgYXMgY2h1bmspLnNpemUgJiB+KFNJWkVfQklUUyk7XFxuLy8gfVxcbi8vIC8qIFB0ciB0byBuZXh0IHBoeXNpY2FsIG1hbGxvY19jaHVuay4gKi9cXG4vLyBmdW5jdGlvbiBuZXh0X2NodW5rKHA6KmNodW5rKToqY2h1bmsge1xcbi8vICAgICAoKCpwIGFzIGludDMyKSArIChwIGFzIGNodW5rKS5zaXplICYgfihTSVpFX0JJVFMpKSBhcyAqY2h1bms7XFxuLy8gfVxcbi8vXFxuLy8gLyogUHRyIHRvIHByZXZpb3VzIHBoeXNpY2FsIG1hbGxvY19jaHVuayAqL1xcbi8vIGZ1bmN0aW9uIHByZXZfY2h1bmsocDoqY2h1bmspOipjaHVuayB7XFxuLy8gICAgICgoKnAgYXMgaW50MzIpIC0gKHAgYXMgY2h1bmspLnByZXZTaXplKSBhcyAqY2h1bms7XFxuLy8gfVxcbi8vXFxuLy8gLyogVHJlYXQgc3BhY2UgYXQgcHRyICsgb2Zmc2V0IGFzIGEgY2h1bmsgKi9cXG4vLyBmdW5jdGlvbiBjaHVua19hdF9vZmZzZXQocDoqY2h1bmssIHM6aW50MzIpOipjaHVua3tcXG4vLyAgICAgcmV0dXJuICgoKnAgYXMgaW50MzIpICsgcykgYXMgKmNodW5rO1xcbi8vIH1cXG4vL1xcbi8vIC8qIGV4dHJhY3QgcCdzIGludXNlIGJpdCAqL1xcbi8vIGZ1bmN0aW9uIGludXNlKHA6KmNodW5rKTppbnQzMntcXG4vLyAgcmV0dXJuICgoKnAgYXMgaW50MzIpICsgKCgocCBhcyBjaHVuaykuc2l6ZSAmIH5TSVpFX0JJVFMpIGFzIGNodW5rKS5zaXplKSAmIFBSRVZfSU5VU0U7XFxuLy8gfVxcbi8vXFxuLy8gLyogc2V0L2NsZWFyIGNodW5rIGFzIGJlaW5nIGludXNlIHdpdGhvdXQgb3RoZXJ3aXNlIGRpc3R1cmJpbmcgKi9cXG4vLyBmdW5jdGlvbiBzZXRfaW51c2UocDoqY2h1bmspOmludDMye1xcbi8vICByZXR1cm4gKCgqcCBhcyBpbnQzMikgKyAoKChwIGFzIGNodW5rKS5zaXplICYgflNJWkVfQklUUykgYXMgY2h1bmspLnNpemUpID0gKCgqcCBhcyBpbnQzMikgKyAoKChwIGFzIGNodW5rKS5zaXplICYgflNJWkVfQklUUykgYXMgY2h1bmspLnNpemUpIHwgUFJFVl9JTlVTRTtcXG4vLyB9XFxuLy9cXG4vLyBmdW5jdGlvbiBjbGVhcl9pbnVzZShwOipjaHVuayk6aW50MzJ7XFxuLy8gIHJldHVybiAoKCpwIGFzIGludDMyKSArICgoKHAgYXMgY2h1bmspLnNpemUgJiB+U0laRV9CSVRTKSBhcyBjaHVuaykuc2l6ZSkgPSAoKCpwIGFzIGludDMyKSArICgoKHAgYXMgY2h1bmspLnNpemUgJiB+U0laRV9CSVRTKSBhcyBjaHVuaykuc2l6ZSkgJiB+KFBSRVZfSU5VU0UpO1xcbi8vIH1cXG5cXG5mdW5jdGlvbiBtZW1jcHkodGFyZ2V0OiAqdWludDgsIHNvdXJjZTogKnVpbnQ4LCBsZW5ndGg6IGludDMyKTogdm9pZCB7XFxuICAgIC8vIE5vLW9wIGlmIGVpdGhlciBvZiB0aGUgaW5wdXRzIGFyZSBudWxsXFxuICAgIGlmIChzb3VyY2UgPT0gbnVsbCB8fCB0YXJnZXQgPT0gbnVsbCkge1xcbiAgICAgIHJldHVybjtcXG4gICAgfVxcblxcbiAgICAvLyBPcHRpbWl6ZWQgYWxpZ25lZCBjb3B5XFxuICAgIGlmIChsZW5ndGggPj0gMTYgJiYgKHNvdXJjZSBhcyBpbnQzMikgJSA0ID09ICh0YXJnZXQgYXMgaW50MzIpICUgNCkge1xcbiAgICAgIC8vIFBpY2sgb2ZmIHRoZSBiZWdpbm5pbmdcXG4gICAgICB3aGlsZSAoKHRhcmdldCBhcyBpbnQzMikgJSA0ICE9IDApIHtcXG4gICAgICAgICp0YXJnZXQgPSAqc291cmNlO1xcbiAgICAgICAgdGFyZ2V0ID0gdGFyZ2V0ICsgMTtcXG4gICAgICAgIHNvdXJjZSA9IHNvdXJjZSArIDE7XFxuICAgICAgICBsZW5ndGggPSBsZW5ndGggLSAxO1xcbiAgICAgIH1cXG5cXG4gICAgICAvLyBQaWNrIG9mZiB0aGUgZW5kXFxuICAgICAgd2hpbGUgKGxlbmd0aCAlIDQgIT0gMCkge1xcbiAgICAgICAgbGVuZ3RoID0gbGVuZ3RoIC0gMTtcXG4gICAgICAgICoodGFyZ2V0ICsgbGVuZ3RoKSA9ICooc291cmNlICsgbGVuZ3RoKTtcXG4gICAgICB9XFxuXFxuICAgICAgLy8gWmlwIG92ZXIgdGhlIG1pZGRsZVxcbiAgICAgIHZhciBlbmQgPSB0YXJnZXQgKyBsZW5ndGg7XFxuICAgICAgd2hpbGUgKHRhcmdldCA8IGVuZCkge1xcbiAgICAgICAgKih0YXJnZXQgYXMgKmludDMyKSA9ICooc291cmNlIGFzICppbnQzMik7XFxuICAgICAgICB0YXJnZXQgPSB0YXJnZXQgKyA0O1xcbiAgICAgICAgc291cmNlID0gc291cmNlICsgNDtcXG4gICAgICB9XFxuICAgIH1cXG5cXG4gICAgLy8gU2xvdyB1bmFsaWduZWQgY29weVxcbiAgICBlbHNlIHtcXG4gICAgICB2YXIgZW5kID0gdGFyZ2V0ICsgbGVuZ3RoO1xcbiAgICAgIHdoaWxlICh0YXJnZXQgPCBlbmQpIHtcXG4gICAgICAgICp0YXJnZXQgPSAqc291cmNlO1xcbiAgICAgICAgdGFyZ2V0ID0gdGFyZ2V0ICsgMTtcXG4gICAgICAgIHNvdXJjZSA9IHNvdXJjZSArIDE7XFxuICAgICAgfVxcbiAgICB9XFxufVxcblxcbmZ1bmN0aW9uIG1lbWNtcChhOiAqdWludDgsIGI6ICp1aW50OCwgbGVuZ3RoOiBpbnQzMik6IGludDMyIHtcXG4gICAgLy8gTm8tb3AgaWYgZWl0aGVyIG9mIHRoZSBpbnB1dHMgYXJlIG51bGxcXG4gICAgaWYgKGEgPT0gbnVsbCB8fCBiID09IG51bGwpIHtcXG4gICAgICByZXR1cm4gMDtcXG4gICAgfVxcblxcbiAgICAvLyBSZXR1cm4gdGhlIGZpcnN0IG5vbi16ZXJvIGRpZmZlcmVuY2VcXG4gICAgd2hpbGUgKGxlbmd0aCA+IDApIHtcXG4gICAgICB2YXIgZGVsdGEgPSAqYSBhcyBpbnQzMiAtICpiIGFzIGludDMyO1xcbiAgICAgIGlmIChkZWx0YSAhPSAwKSB7XFxuICAgICAgICByZXR1cm4gZGVsdGE7XFxuICAgICAgfVxcbiAgICAgIGEgPSBhICsgMTtcXG4gICAgICBiID0gYiArIDE7XFxuICAgICAgbGVuZ3RoID0gbGVuZ3RoIC0gMTtcXG4gICAgfVxcblxcbiAgICAvLyBCb3RoIGlucHV0cyBhcmUgaWRlbnRpY2FsXFxuICAgIHJldHVybiAwO1xcbn1cIlxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2xpYnJhcnkvY29tbW9uL21hbGxvYy50YnNcbi8vIG1vZHVsZSBpZCA9IDI0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0gXCJjb25zdCBQSTpmbG9hdDY0ID0gMy4xNDE1OTI2NTM1ODk3OTM7XFxuXFxuY29uc3QgTUFYX1VOU0lHTkVEX0lOVEVHRVJfMzI6dWludDMyID0gNDI5NDk2NzI5NTtcXG5cXG5jb25zdCBNSU5fSU5URUdFUl8zMjppbnQzMiA9IC0yMTQ3NDgzNjQ4O1xcbmNvbnN0IE1BWF9JTlRFR0VSXzMyOmludDMyID0gMjE0NzQ4MzY0NztcXG5cXG5jb25zdCBNQVhfVU5TSUdORURfSU5URUdFUl82NDppbnQzMiA9IDE4NDQ2NzQ0MDczNzA5NTUxNjE1O1xcblxcbi8vIOKIkigyXjYzKSB0byAyXjYzIOKIkiAxXFxuLy8gY29uc3QgTUlOX0lOVEVHRVJfNjQ6aW50MzIgPSAtcG93aTY0KDIsIDYzKTtcXG4vLyBjb25zdCBNQVhfSU5URUdFUl82NDppbnQzMiA9IHBvd2k2NCgyLCA2MykgLSAxO1xcblxcbi8vIGZsb2F0IHJlbWFpbmRlclxcblxcbiAvLyBleHBvcnQgZnVuY3Rpb24gbW9kZjY0KHg6ZmxvYXQ2NCwgeTpmbG9hdDY0KTpmbG9hdDY0e1xcbiAvL1xcbiAvLyAgICAgICAgIGxldCBpcjppbnQzMixpeTppbnQzMjtcXG4gLy8gICAgICAgICBsZXQgcjpmbG9hdDY0LHc6ZmxvYXQ2NDtcXG4gLy9cXG4gLy8gICAgICAgICBpZiAoeSA9PSAwIHx8IGlzTmFOKHkpIHx8ICFpc0Zpbml0ZSh4KSkge1xcbiAvLyAgICAgICAgICAgICByZXR1cm4gKHggKiB5KSAvICh4ICogeSk7XFxuIC8vICAgICAgICAgfVxcbiAvL1xcbiAvLyAgICAgICAgIHIgPSBhYnMoeCk7XFxuIC8vICAgICAgICAgeSA9IGFicyh5KTtcXG4gLy8gICAgICAgICAodm9pZClmcmV4cCh5LCZpeSk7XFxuIC8vICAgICAgICAgd2hpbGUgKHIgPj0geSkge1xcbiAvLyAgICAgICAgICAgICAodm9pZClmcmV4cChyLCZpcik7XFxuIC8vICAgICAgICAgICAgIHcgPSBsZGV4cCh5LGlyLWl5KTtcXG4gLy8gICAgICAgICAgICAgciAtPSB3IDw9IHIgPyB3IDogdyooZG91YmxlKTAuNTtcXG4gLy8gICAgICAgICB9XFxuIC8vICAgICAgICAgcmV0dXJuIHggPj0gKGRvdWJsZSkwID8gciA6IC1yO1xcbiAvLyAgICAgfVxcbiAvLyB9XCJcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9saWJyYXJ5L2NvbW1vbi9tYXRoLnRic1xuLy8gbW9kdWxlIGlkID0gMjVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSBcIi8vIE5hdGl2ZSB0eXBlc1xcbmNvbnN0IE5hTjogICAgICBmbG9hdDY0ID0gMC4wIC8gMC4wO1xcbmNvbnN0IEluZmluaXR5OiBmbG9hdDY0ID0gMS4wIC8gMC4wO1xcblxcbmZ1bmN0aW9uIGlzTmFOKHZhbHVlOiBmbG9hdDMyKTogYm9vbGVhbiB7XFxuICAgIHJldHVybiB2YWx1ZSAhPSB2YWx1ZTtcXG59XFxuXFxuZnVuY3Rpb24gaXNGaW5pdGUodmFsdWU6IGZsb2F0MzIpOiBib29sZWFuIHtcXG4gICAgcmV0dXJuICFpc05hTih2YWx1ZSkgJiYgdmFsdWUgIT0gSW5maW5pdHkgJiYgdmFsdWUgIT0gLUluZmluaXR5O1xcbn1cXG5cXG5kZWNsYXJlIGNsYXNzIGJvb2xlYW4ge1xcbiAgICB0b1N0cmluZygpOiBzdHJpbmc7XFxufVxcblxcbmRlY2xhcmUgY2xhc3MgaW50OCB7XFxuICAgIHRvU3RyaW5nKCk6IHN0cmluZztcXG59XFxuXFxuZGVjbGFyZSBjbGFzcyB1aW50OCB7XFxuICAgIHRvU3RyaW5nKCk6IHN0cmluZztcXG59XFxuXFxuZGVjbGFyZSBjbGFzcyBpbnQxNiB7XFxuICAgIHRvU3RyaW5nKCk6IHN0cmluZztcXG59XFxuXFxuZGVjbGFyZSBjbGFzcyB1aW50MTYge1xcbiAgICB0b1N0cmluZygpOiBzdHJpbmc7XFxufVxcblxcbmRlY2xhcmUgY2xhc3MgaW50MzIge1xcbiAgICB0b1N0cmluZygpOiBzdHJpbmc7XFxufVxcblxcbmRlY2xhcmUgY2xhc3MgdWludDMyIHtcXG4gICAgdG9TdHJpbmcoKTogc3RyaW5nO1xcbn1cXG5cXG5kZWNsYXJlIGNsYXNzIGludDY0IHtcXG4gICAgdG9TdHJpbmcoKTogc3RyaW5nO1xcbn1cXG5cXG5kZWNsYXJlIGNsYXNzIHVpbnQ2NCB7XFxuICAgIHRvU3RyaW5nKCk6IHN0cmluZztcXG59XFxuXFxuZGVjbGFyZSBjbGFzcyBmbG9hdDMyIHtcXG4gICAgdG9TdHJpbmcoKTogc3RyaW5nO1xcbn1cXG5cXG5kZWNsYXJlIGNsYXNzIGZsb2F0NjQge1xcbiAgICB0b1N0cmluZygpOiBzdHJpbmc7XFxufVxcblxcbmRlY2xhcmUgY2xhc3Mgc3RyaW5nIHtcXG4gICAgY2hhckF0KGluZGV4OiBpbnQzMik6IHN0cmluZztcXG5cXG4gICAgY2hhckNvZGVBdChpbmRleDogaW50MzIpOiB1aW50MTY7XFxuXFxuICAgIGdldCBsZW5ndGgoKTogaW50MzI7XFxuXFxuICAgIGluZGV4T2YodGV4dDogc3RyaW5nKTogaW50MzI7XFxuXFxuICAgIGxhc3RJbmRleE9mKHRleHQ6IHN0cmluZyk6IGludDMyO1xcblxcbiAgICBvcGVyYXRvciA9PSAob3RoZXI6IHN0cmluZyk6Ym9vbGVhbjtcXG4gICAgb3BlcmF0b3IgW10gKGluZGV4OiBpbnQzMik6IHVpbnQxNiB7IHJldHVybiB0aGlzLmNoYXJDb2RlQXQoaW5kZXgpOyB9XFxuICAgIHNsaWNlKHN0YXJ0OiBpbnQzMiwgZW5kOiBpbnQzMik6IHN0cmluZztcXG5cXG4gICAgLy8gc3RhcnRzV2l0aCh0ZXh0OiBzdHJpbmcpOiBib29sZWFuIHsgcmV0dXJuIHRoaXMuc2xpY2UoMCwgdGV4dC5sZW5ndGgpID09IHRleHQ7IH1cXG4gICAgLy8gZW5kc1dpdGgodGV4dDogc3RyaW5nKTogYm9vbGVhbiB7IHJldHVybiB0aGlzLnNsaWNlKC10ZXh0Lmxlbmd0aCwgdGhpcy5sZW5ndGgpID09IHRleHQ7IH1cXG59XFxuXCJcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9saWJyYXJ5L2NvbW1vbi90eXBlcy50YnNcbi8vIG1vZHVsZSBpZCA9IDI2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0gXCIvL3BhcnQgb2YgYXNtIG1vZHVsZSwgd2UgaGF2ZSBnbG9iYWwsIGZvcmVpZ24sIGJ1ZmZlciBzb21ld2hlcmUgYWJvdmUgdGhpcyBjb2RlXFxuXFxudmFyIEhFQVA4ID0gbmV3IGdsb2JhbC5JbnQ4QXJyYXkoYnVmZmVyKTtcXG52YXIgSEVBUDE2ID0gbmV3IGdsb2JhbC5JbnQxNkFycmF5KGJ1ZmZlcik7XFxudmFyIEhFQVAzMiA9IG5ldyBnbG9iYWwuSW50MzJBcnJheShidWZmZXIpO1xcbnZhciBIRUFQVTggPSBuZXcgZ2xvYmFsLlVpbnQ4QXJyYXkoYnVmZmVyKTtcXG52YXIgSEVBUFUxNiA9IG5ldyBnbG9iYWwuVWludDE2QXJyYXkoYnVmZmVyKTtcXG52YXIgSEVBUFUzMiA9IG5ldyBnbG9iYWwuVWludDMyQXJyYXkoYnVmZmVyKTtcXG52YXIgSEVBUEYzMiA9IG5ldyBnbG9iYWwuRmxvYXQzMkFycmF5KGJ1ZmZlcik7XFxudmFyIEhFQVBGNjQgPSBuZXcgZ2xvYmFsLkZsb2F0NjRBcnJheShidWZmZXIpO1xcblxcbnZhciBOVUxMID0gMDtcXG52YXIgU1RBQ0tUT1A9ZW52LlNUQUNLVE9QfDA7XFxudmFyIFNUQUNLX01BWD1lbnYuU1RBQ0tfTUFYfDA7XFxuXFxuLy8gdmFyIFBSRVZfSU5VU0UgPSAweDE7XFxuLy8gdmFyIFBSRVZfSU5VU0UgPSAweDE7XFxuLy8gdmFyIElTX01NQVBQRUQgPSAweDI7XFxuLy8gdmFyIE5PTl9NQUlOX0FSRU5BID0gMHg0O1xcbi8vIHZhciBTSVpFX0JJVFMgPSAweDc7Ly8oUFJFVl9JTlVTRXxJU19NTUFQUEVEfE5PTl9NQUlOX0FSRU5BKSB8IDA7XFxuLy8gdmFyIGZpcnN0RnJlZUNodW5rID0gMDtcXG4vLyB2YXIgbGFzdEZyZWVDaHVuayA9IDA7XFxuLy8gdmFyIG51bUZyZWVDaHVua3MgPSAwO1xcbi8vIHZhciBmcmVlTWVtb3J5ID0gMDtcXG4vL3ZhciBpbnRlcm5hbF9hbGxvYyA9IDA7XFxuXFxuLy8gdmFyIF9ub3cgPSAodHlwZW9mIGdsb2JhbC5wZXJmb3JtYW5jZSAhPSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgZ2xvYmFsLnBlcmZvcm1hbmNlLm5vdyA9PSAnZnVuY3Rpb24nID9cXG4vLyAgICAgZ2xvYmFsLnBlcmZvcm1hbmNlLm5vdy5iaW5kKGdsb2JhbC5wZXJmb3JtYW5jZSkgOlxcbi8vICAgICBnbG9iYWwuRGF0ZS5ub3cuYmluZChnbG9iYWwuRGF0ZSkpO1xcbi8vIHZhciBfbm93ID0gZ2xvYmFsLnBlcmZvcm1hbmNlO1xcbi8vIE1hcCBvZiBjbGFzcyB0eXBlIElEcyB0byB0eXBlIG9iamVjdHMuXFxuLy8gdmFyIF9pZFRvVHlwZSA9IDg7XFxuXFxuLy8gZnVuY3Rpb24gaW5pdCgpIHtcXG4vLyAgICAgSEVBUDMyWzIgPj4gMl0gPSBidWZmZXIuYnl0ZUxlbmd0aCB8IDA7XFxuXFxuICAgIC8vIGlmIChnbG9iYWwuaXNTaGFyZWQpIHtcXG4gICAgLy8gICAgIGludGVybmFsX2FsbG9jID0gYWxsb2Nfc2FiO1xcbiAgICAvLyAgICAgZ2xvYmFsLkF0b21pY3Muc3RvcmUoSEVBUDMyLCAxIHwgMCwgMTYgfCAwKTtcXG4gICAgLy8gfVxcbiAgICAvLyBlbHNlIHtcXG4gICAgLy8gICAgIGludGVybmFsX2FsbG9jID0gYWxsb2NfYWI7XFxuICAgIC8vICAgICBIRUFQMzJbMT4+Ml0gPSAxNiB8IDA7XFxuICAgIC8vIH1cXG4vLyB9XFxuXFxuXFxuLy8gZnVuY3Rpb24gbWFsbG9jKG5ieXRlcywgYWxpZ25tZW50KSB7XFxuLy8gICAgIG5ieXRlcyB8PSAwO1xcbi8vICAgICBhbGlnbm1lbnQgfD0gMDtcXG4vLyAgICAgdmFyIHB0ciA9IGFsbG9jX3NhYihuYnl0ZXMsIGFsaWdubWVudCk7XFxuLy8gICAgIGlmIChwdHIgPT0gMClcXG4vLyAgICAgICAgIHRocm93IG5ldyBFcnJvcihcXFwiT3V0IG9mIG1lbW9yeVxcXCIpO1xcbi8vICAgICByZXR1cm4gcHRyfDA7XFxuLy8gfVxcbi8vIGZ1bmN0aW9uIGZyZWUocHRyKSB7XFxuLy8gICAgIHB0ciB8PSAwO1xcbi8vICAgICBjbGVhckludXNlKHB0cik7XFxuLy8gICAgIGlmIChmaXJzdEZyZWVDaHVuayA9PSAwKSB7XFxuLy8gICAgICAgICBmaXJzdEZyZWVDaHVuayA9IHB0cjtcXG4vLyAgICAgfVxcbi8vXFxuLy8gICAgIGZyZWVNZW1vcnkgPSBmcmVlTWVtb3J5ICsgZ2V0Q2h1bmtTaXplKHB0cik7XFxuLy9cXG4vLyAgICAgdmFyIGNodW5rcHRyID0gcHRyICsgNDtcXG4vLyAgICAgaWYgKGxhc3RGcmVlQ2h1bmsgPiAwKSB7XFxuLy8gICAgICAgICBIRUFQVTMyW2NodW5rcHRyPj4yXSA9IGxhc3RGcmVlQ2h1bms7Ly9iYWNrd2FyZCBwb2ludGVyIHRvIHByZXYgY2h1bmtcXG4vLyAgICAgICAgIEhFQVBVMzJbbGFzdEZyZWVDaHVuaz4+Ml0gPSBwdHI7Ly9mb3J3YXJkIHBvaW50ZXIgdG8gbmV4dCBjaHVuayBvZiBwcmV2IGNodW5rXFxuLy8gICAgIH0gZWxzZSB7XFxuLy8gICAgICAgICBIRUFQVTMyW2NodW5rcHRyPj4yXSA9IDA7Ly9ubyBiYWNrd2FyZCBwb2ludGVyLCB0aGlzIGlzIHRoZSBmaXJzdCBmcmVlIGNodW5rXFxuLy8gICAgIH1cXG4vL1xcbi8vICAgICBIRUFQVTMyW3B0cj4+Ml0gPSAwOy8vbm8gZm9yd2FyZCBwb2ludGVyXFxuLy9cXG4vLyAgICAgbGFzdEZyZWVDaHVuayA9IHB0cjtcXG4vLyAgICAgbnVtRnJlZUNodW5rcyA9IG51bUZyZWVDaHVua3MgKyAxO1xcbi8vIH1cXG4vLyBmdW5jdGlvbiBpZGVudGlmeShwdHIpIHtcXG4vLyAgICAgaWYgKHB0ciA9PSAwKVxcbi8vICAgICAgICAgcmV0dXJuIDA7XFxuLy8gICAgIHJldHVybiBfaWRUb1R5cGVbSEVBUDMyW3B0ciA+PiAyXV07XFxuLy8gfVxcbi8vIGZ1bmN0aW9uIF9iYWRUeXBlKHNlbGYpIHtcXG4vLyAgICAgdmFyIHQgPSBpZGVudGlmeShzZWxmKTtcXG4vLyAgICAgcmV0dXJuIG5ldyBnbG9iYWwuRXJyb3IoXFxcIk9ic2VydmVkIHR5cGU6IFxcXCIgKyAodCA/IHQuTkFNRSA6IFxcXCIqaW52YWxpZCpcXFwiKSArIFxcXCIsIGFkZHJlc3M9XFxcIiArIHNlbGYpO1xcbi8vIH1cXG4vLyBTeW5jaHJvbmljIGxheW91dCBpcyA4IGJ5dGVzICgyIHggaW50MzIpIG9mIG1ldGFkYXRhIGZvbGxvd2VkIGJ5XFxuLy8gdGhlIHR5cGUtc3BlY2lmaWMgcGF5bG9hZC4gIFRoZSB0d28gaW50MzIgd29yZHMgYXJlIHRoZSBudW1iZXJcXG4vLyBvZiB3YWl0ZXJzIGFuZCB0aGUgd2FpdCB3b3JkIChnZW5lcmF0aW9uIGNvdW50KS5cXG4vL1xcbi8vIEluIHRoZSBmb2xsb3dpbmc6XFxuLy9cXG4vLyBzZWxmIGlzIHRoZSBiYXNlIGFkZHJlc3MgZm9yIHRoZSBTeW5jaHJvbmljLlxcbi8vIG1lbSBpcyB0aGUgYXJyYXkgdG8gdXNlIGZvciB0aGUgdmFsdWVcXG4vLyBpZHggaXMgdGhlIGluZGV4IGluIG1lbSBvZiB0aGUgdmFsdWU6IChwdHIrOCk+PmxvZzIobWVtLkJZVEVTX1BFUl9FTEVNRU5UKVxcbi8vXFxuLy8gX3N5bmNocm9uaWNMb2FkIGlzIGp1c3QgQXRvbWljcy5sb2FkLCBleHBhbmQgaXQgaW4tbGluZS5cXG4vKmZ1bmN0aW9uIF9zeW5jaHJvbmljU3RvcmUoc2VsZiwgbWVtLCBpZHgsIHZhbHVlKSB7XFxuICAgIGdsb2JhbC5BdG9taWNzLnN0b3JlKG1lbSwgaWR4LCB2YWx1ZSk7XFxuICAgIF9ub3RpZnkoc2VsZik7XFxuICAgIHJldHVybiB2YWx1ZTtcXG59XFxuZnVuY3Rpb24gX3N5bmNocm9uaWNDb21wYXJlRXhjaGFuZ2Uoc2VsZiwgbWVtLCBpZHgsIG9sZHZhbCwgbmV3dmFsKSB7XFxuICAgIHZhciB2ID0gZ2xvYmFsLkF0b21pY3MuY29tcGFyZUV4Y2hhbmdlKG1lbSwgaWR4LCBvbGR2YWwsIG5ld3ZhbCk7XFxuICAgIGlmICh2ID09IG9sZHZhbClcXG4gICAgICAgIF9ub3RpZnkoc2VsZik7XFxuICAgIHJldHVybiB2O1xcbn1cXG5mdW5jdGlvbiBfc3luY2hyb25pY0FkZChzZWxmLCBtZW0sIGlkeCwgdmFsdWUpIHtcXG4gICAgdmFyIHYgPSBnbG9iYWwuQXRvbWljcy5hZGQobWVtLCBpZHgsIHZhbHVlKTtcXG4gICAgX25vdGlmeShzZWxmKTtcXG4gICAgcmV0dXJuIHY7XFxufVxcbmZ1bmN0aW9uIF9zeW5jaHJvbmljU3ViKHNlbGYsIG1lbSwgaWR4LCB2YWx1ZSkge1xcbiAgICB2YXIgdiA9IGdsb2JhbC5BdG9taWNzLnN1YihtZW0sIGlkeCwgdmFsdWUpO1xcbiAgICBfbm90aWZ5KHNlbGYpO1xcbiAgICByZXR1cm4gdjtcXG59XFxuZnVuY3Rpb24gX3N5bmNocm9uaWNBbmQoc2VsZiwgbWVtLCBpZHgsIHZhbHVlKSB7XFxuICAgIHZhciB2ID0gZ2xvYmFsLkF0b21pY3MuYW5kKG1lbSwgaWR4LCB2YWx1ZSk7XFxuICAgIF9ub3RpZnkoc2VsZik7XFxuICAgIHJldHVybiB2O1xcbn1cXG5mdW5jdGlvbiBfc3luY2hyb25pY09yKHNlbGYsIG1lbSwgaWR4LCB2YWx1ZSkge1xcbiAgICB2YXIgdiA9IGdsb2JhbC5BdG9taWNzLm9yKG1lbSwgaWR4LCB2YWx1ZSk7XFxuICAgIF9ub3RpZnkoc2VsZik7XFxuICAgIHJldHVybiB2O1xcbn1cXG5mdW5jdGlvbiBfc3luY2hyb25pY1hvcihzZWxmLCBtZW0sIGlkeCwgdmFsdWUpIHtcXG4gICAgdmFyIHYgPSBnbG9iYWwuQXRvbWljcy54b3IobWVtLCBpZHgsIHZhbHVlKTtcXG4gICAgX25vdGlmeShzZWxmKTtcXG4gICAgcmV0dXJuIHY7XFxufVxcbmZ1bmN0aW9uIF9zeW5jaHJvbmljTG9hZFdoZW5Ob3RFcXVhbChzZWxmLCBtZW0sIGlkeCwgdmFsdWUpIHtcXG4gICAgZm9yICg7IDspIHtcXG4gICAgICAgIHZhciB0YWcgPSBnbG9iYWwuQXRvbWljcy5sb2FkKEhFQVAzMiwgKHNlbGYgKyA0KSA+PiAyKTtcXG4gICAgICAgIHZhciB2ID0gZ2xvYmFsLkF0b21pY3MubG9hZChtZW0sIGlkeCk7XFxuICAgICAgICBpZiAodiAhPT0gdmFsdWUpXFxuICAgICAgICAgICAgYnJlYWs7XFxuICAgICAgICBfd2FpdEZvclVwZGF0ZShzZWxmLCB0YWcsIE51bWJlci5QT1NJVElWRV9JTkZJTklUWSk7XFxuICAgIH1cXG4gICAgcmV0dXJuIHY7XFxufVxcblxcbmZ1bmN0aW9uIF9zeW5jaHJvbmljTG9hZFdoZW5FcXVhbChzZWxmLCBtZW0sIGlkeCwgdmFsdWUpIHtcXG4gICAgZm9yICg7IDspIHtcXG4gICAgICAgIHZhciB0YWcgPSBnbG9iYWwuQXRvbWljcy5sb2FkKEhFQVAzMiwgKHNlbGYgKyA0KSA+PiAyKTtcXG4gICAgICAgIHZhciB2ID0gZ2xvYmFsLkF0b21pY3MubG9hZChtZW0sIGlkeCk7XFxuICAgICAgICBpZiAodiA9PT0gdmFsdWUpXFxuICAgICAgICAgICAgYnJlYWs7XFxuICAgICAgICBfd2FpdEZvclVwZGF0ZShzZWxmLCB0YWcsIE51bWJlci5QT1NJVElWRV9JTkZJTklUWSk7XFxuICAgIH1cXG4gICAgcmV0dXJuIHY7XFxufVxcbmZ1bmN0aW9uIF9zeW5jaHJvbmljRXhwZWN0VXBkYXRlKHNlbGYsIG1lbSwgaWR4LCB2YWx1ZSwgdGltZW91dCkge1xcbiAgICB2YXIgbm93ID0gZ2xvYmFsLnBlcmZvcm1hbmNlKCk7XFxuICAgIHZhciBsaW1pdCA9IG5vdyArIHRpbWVvdXQ7XFxuICAgIGZvciAoOyA7KSB7XFxuICAgICAgICB2YXIgdGFnID0gZ2xvYmFsLkF0b21pY3MubG9hZChIRUFQMzIsIChzZWxmICsgNCkgPj4gMik7XFxuICAgICAgICB2YXIgdiA9IGdsb2JhbC5BdG9taWNzLmxvYWQobWVtLCBpZHgpO1xcbiAgICAgICAgaWYgKHYgIT09IHZhbHVlIHx8IG5vdyA+PSBsaW1pdClcXG4gICAgICAgICAgICBicmVhaztcXG4gICAgICAgIF93YWl0Rm9yVXBkYXRlKHNlbGYsIHRhZywgbGltaXQgLSBub3cpO1xcbiAgICAgICAgbm93ID0gZ2xvYmFsLnBlcmZvcm1hbmNlKCk7XFxuICAgIH1cXG59XFxuZnVuY3Rpb24gX3dhaXRGb3JVcGRhdGUoc2VsZiwgdGFnLCB0aW1lb3V0KSB7XFxuICAgIC8vIFNwaW4gZm9yIGEgaW50MTYgdGltZSBiZWZvcmUgZ29pbmcgaW50byB0aGUgZnV0ZXhXYWl0LlxcbiAgICAvL1xcbiAgICAvLyBIYXJkIHRvIGtub3cgd2hhdCBhIGdvb2QgY291bnQgc2hvdWxkIGJlIC0gaXQgaXMgbWFjaGluZVxcbiAgICAvLyBkZXBlbmRlbnQsIGZvciBzdXJlLCBhbmQgXFxcInR5cGljYWxcXFwiIGFwcGxpY2F0aW9ucyBzaG91bGRcXG4gICAgLy8gaW5mbHVlbmNlIHRoZSBjaG9pY2UuICBJZiB0aGUgY291bnQgaXMgaGlnaCB3aXRob3V0XFxuICAgIC8vIGhpbmRlcmluZyBhbiBldmVudHVhbCBkcm9wIGludG8gZnV0ZXhXYWl0IHRoZW4gaXQgd2lsbCBqdXN0XFxuICAgIC8vIGRlY3JlYXNlIHBlcmZvcm1hbmNlLiAgSWYgdGhlIGNvdW50IGlzIGxvdyBpdCBpcyBwb2ludGxlc3MuXFxuICAgIC8vIChUaGlzIGlzIHdoeSBTeW5jaHJvbmljIHJlYWxseSB3YW50cyBhIG5hdGl2ZSBpbXBsZW1lbnRhdGlvbi4pXFxuICAgIC8vXFxuICAgIC8vIGRhdGEgcG9pbnRzIGZyb20gYSAyLjZHSHogaTcgTWFjQm9vayBQcm86XFxuICAgIC8vXFxuICAgIC8vIC0gdGhlIHNpbXBsZSBzZW5kLWludGVnZXIgYmVuY2htYXJrICh0ZXN0LXNlbmRpbnQuaHRtbCksXFxuICAgIC8vICAgd2hpY2ggaXMgdGhlIHZlcnkgc2ltcGxlc3QgY2FzZSB3ZSBjYW4gcmVhbGx5IGltYWdpbmUsXFxuICAgIC8vICAgZ2V0cyBub2lzeSB0aW1pbmdzIHdpdGggYW4gaXRlcmF0aW9uIGNvdW50IGJlbG93IDQwMDBcXG4gICAgLy9cXG4gICAgLy8gLSB0aGUgc2ltcGxlIHNlbmQtb2JqZWN0IGJlbmNobWFyayAodGVzdC1zZW5kbXNnLmh0bWwpXFxuICAgIC8vICAgZ2V0cyBhIGJvb3N0IHdoZW4gdGhlIGNvdW50IGlzIGF0IGxlYXN0IDEwMDAwXFxuICAgIC8vXFxuICAgIC8vIDEwMDAwIGlzIHBlcmhhcHMgNXVzIChDUEk9MSwgbmFpdmUpIGFuZCBzZWVtcyBsaWtlIGFcXG4gICAgLy8gcmVhc29uYWJsZSBjdXRvZmYsIGZvciBub3cgLSBidXQgbm90ZSwgaXQgaXMgcmVhc29uYWJsZSBGT1JcXG4gICAgLy8gVEhJUyBTWVNURU0gT05MWSwgd2hpY2ggaXMgYSBiaWcgZmxhdy5cXG4gICAgLy9cXG4gICAgLy8gVGhlIGJldHRlciBmaXggbWlnaHQgd2VsbCBiZSB0byBhZGQgc29tZSBraW5kIG9mIHNwaW4vbmFub3NsZWVwXFxuICAgIC8vIGZ1bmN0aW9uYWxpdHkgdG8gZnV0ZXhXYWl0LCBzZWUgaHR0cHM6Ly9idWd6aWwubGEvMTEzNDk3My5cXG4gICAgLy8gVGhhdCBmdW5jdGlvbmFsaXR5IGNhbiBiZSBwbGF0Zm9ybS1kZXBlbmRlbnQgYW5kIGV2ZW5cXG4gICAgLy8gYWRhcHRpdmUsIHdpdGggSklUIHN1cHBvcnQuXFxuICAgIHZhciBpID0gMTAwMDA7XFxuICAgIGRvIHtcXG4gICAgICAgIC8vIE1heSB3YW50IHRoaXMgdG8gYmUgYSByZWxheGVkIGxvYWQsIHRob3VnaCBvbiB4ODYgaXQgd29uJ3QgbWF0dGVyLlxcbiAgICAgICAgaWYgKGdsb2JhbC5BdG9taWNzLmxvYWQoSEVBUDMyLCAoc2VsZiArIDQpID4+IDIpICE9IHRhZylcXG4gICAgICAgICAgICByZXR1cm47XFxuICAgIH0gd2hpbGUgKC0taSA+IDApO1xcbiAgICBnbG9iYWwuQXRvbWljcy5hZGQoSEVBUDMyLCBzZWxmID4+IDIsIDEpO1xcbiAgICBnbG9iYWwuQXRvbWljcy53YWl0KEhFQVAzMiwgKHNlbGYgKyA0KSA+PiAyLCB0YWcsIHRpbWVvdXQpO1xcbiAgICBnbG9iYWwuQXRvbWljcy5zdWIoSEVBUDMyLCBzZWxmID4+IDIsIDEpO1xcbn1cXG5mdW5jdGlvbiBfbm90aWZ5KHNlbGYpIHtcXG4gICAgZ2xvYmFsLkF0b21pY3MuYWRkKEhFQVAzMiwgKHNlbGYgKyA0KSA+PiAyLCAxKTtcXG4gICAgLy8gV291bGQgaXQgYmUgYXBwcm9wcmlhdGUgJiBiZXR0ZXIgdG8gd2FrZSBuIHdhaXRlcnMsIHdoZXJlIG5cXG4gICAgLy8gaXMgdGhlIG51bWJlciBsb2FkZWQgaW4gdGhlIGxvYWQoKT8gIEkgYWxtb3N0IHRoaW5rIHNvLFxcbiAgICAvLyBzaW5jZSBvdXIgZnV0ZXhlcyBhcmUgZmFpci5cXG4gICAgaWYgKGdsb2JhbC5BdG9taWNzLmxvYWQoSEVBUDMyLCBzZWxmID4+IDIpID4gMClcXG4gICAgICAgIGdsb2JhbC5BdG9taWNzLndha2UoSEVBUDMyLCAoc2VsZiArIDQpID4+IDIsIE51bWJlci5QT1NJVElWRV9JTkZJTklUWSk7XFxufSovXFxuXFxuLy8gZnVuY3Rpb24gZ2V0RnJlZUNodW5rKG5ieXRlcykge1xcbi8vICAgICBuYnl0ZXMgPSBuYnl0ZXMgfCAwO1xcbi8vICAgICBpZiAobnVtRnJlZUNodW5rcyA+ICgwIHwgMCkpIHtcXG4vLyAgICAgICAgIHZhciBmcmVlQ2h1bmsgPSBmaW5kQ2h1bmsobmJ5dGVzKTtcXG4vLyAgICAgICAgIGlmIChmcmVlQ2h1bmsgPiAoMCB8IDApKSB7XFxuLy8gICAgICAgICAgICAgaWYgKGZyZWVDaHVuayA9PSBmaXJzdEZyZWVDaHVuaykge1xcbi8vICAgICAgICAgICAgICAgICBmaXJzdEZyZWVDaHVuayA9IG5leHRGcmVlKGZyZWVDaHVuayk7XFxuLy8gICAgICAgICAgICAgfVxcbi8vICAgICAgICAgICAgIGlmIChmcmVlQ2h1bmsgPT0gbGFzdEZyZWVDaHVuaykge1xcbi8vICAgICAgICAgICAgICAgICBsYXN0RnJlZUNodW5rID0gKDAgfCAwKTtcXG4vLyAgICAgICAgICAgICB9XFxuLy8gICAgICAgICAgICAgbnVtRnJlZUNodW5rcyA9IG51bUZyZWVDaHVua3MgLSAoMSB8IDApO1xcbi8vICAgICAgICAgICAgIHNldEludXNlKGZyZWVDaHVuayk7XFxuLy8gICAgICAgICAgICAgZnJlZU1lbW9yeSA9IGZyZWVNZW1vcnkgLSBnZXRDaHVua1NpemUoZnJlZUNodW5rKTtcXG4vLyAgICAgICAgICAgICByZXR1cm4gZnJlZUNodW5rO1xcbi8vICAgICAgICAgfVxcbi8vICAgICB9XFxuLy8gICAgIHJldHVybiAwIHwgMDtcXG4vLyB9XFxuLy8gZnVuY3Rpb24gZmluZENodW5rKG5ieXRlcykge1xcbi8vICAgICBuYnl0ZXMgPSBuYnl0ZXMgfCAwO1xcbi8vICAgICB2YXIgY2h1bmsgPSBmaXJzdEZyZWVDaHVuaztcXG4vLyAgICAgd2hpbGUgKGNodW5rICE9IDApIHtcXG4vLyAgICAgICAgIGlmIChnZXRDaHVua1NpemUoY2h1bmspID09IG5ieXRlcykge1xcbi8vICAgICAgICAgICAgIHJldHVybiBjaHVuaztcXG4vLyAgICAgICAgIH1cXG4vLyAgICAgICAgIGNodW5rID0gSEVBUFUzMltjaHVuaz4+Ml07XFxuLy8gICAgIH1cXG4vLyAgICAgcmV0dXJuIDA7XFxuLy8gfVxcbi8vIGZ1bmN0aW9uIHByZXZGcmVlKHB0cikge1xcbi8vICAgICByZXR1cm4gSEVBUFUzMlsocHRyICsgNCk+PjJdO1xcbi8vIH1cXG4vLyBmdW5jdGlvbiBuZXh0RnJlZShwdHIpIHtcXG4vLyAgICAgcmV0dXJuIEhFQVBVMzJbcHRyPj4yXTtcXG4vLyB9XFxuLy8gLyogU2V0IHNpemUgYXQgaGVhZCwgd2l0aG91dCBkaXN0dXJiaW5nIGl0cyB1c2UgYml0ICovXFxuLy8gZnVuY3Rpb24gc2V0SGVhZFNpemUocHRyLCBzKSB7XFxuLy8gICAgIEhFQVBVMzJbcHRyPj4yXSA9IChIRUFQVTMyW3B0cj4+Ml0gJiBTSVpFX0JJVFMpIHwgcztcXG4vLyB9XFxuLy9cXG4vLyAvKiBTZXQgc2l6ZS91c2UgZmllbGQgKi9cXG4vLyBmdW5jdGlvbiBzZXRIZWFkKHB0ciwgcykge1xcbi8vICAgICBIRUFQVTMyW3B0cj4+Ml0gPSBzO1xcbi8vIH1cXG4vL1xcbi8vIC8qIFNldCBzaXplIGF0IGZvb3RlciAob25seSB3aGVuIGNodW5rIGlzIG5vdCBpbiB1c2UpICovXFxuLy8gZnVuY3Rpb24gc2V0Rm9vdChwdHIsIHMpIHtcXG4vLyAgICAgSEVBUFUzMlsocHRyICsgcyk+PjJdID0gcztcXG4vLyB9XFxuLy9cXG4vLyBmdW5jdGlvbiBnZXRQcmV2SW51c2UocHRyKSB7XFxuLy8gICAgIHJldHVybiBIRUFQVTMyWyhwdHIgLSA4KT4+Ml0gJiAoUFJFVl9JTlVTRSk7XFxuLy8gfVxcbi8vIGZ1bmN0aW9uIHNldEludXNlKHB0cikge1xcbi8vICAgICBIRUFQVTMyWyhwdHIgLSA0KT4+Ml0gfD0gUFJFVl9JTlVTRTtcXG4vLyB9XFxuLy8gZnVuY3Rpb24gZ2V0SW51c2UocHRyKSB7XFxuLy8gICAgIHJldHVybiBIRUFQVTMyWyhwdHIgLSA0KT4+Ml0gJiBQUkVWX0lOVVNFO1xcbi8vIH1cXG4vLyBmdW5jdGlvbiBjbGVhckludXNlKHB0cikge1xcbi8vICAgICBIRUFQVTMyWyhwdHIgLSA0KT4+Ml0gJj0gflBSRVZfSU5VU0U7XFxuLy8gfVxcbi8vIGZ1bmN0aW9uIGdldENodW5rU2l6ZShwdHIpIHtcXG4vLyAgICAgcmV0dXJuIEhFQVBVMzJbKHB0ciAtIDQpPj4yXSAmIH4oUFJFVl9JTlVTRSk7XFxuLy8gfVxcbi8vXFxuLy8gZnVuY3Rpb24gYWxsb2Nfc2FiKG5ieXRlcywgYWxpZ25tZW50KSB7XFxuLy8gICAgIG5ieXRlcyA9IG5ieXRlcyB8IDA7XFxuLy8gICAgIGFsaWdubWVudCA9IGFsaWdubWVudCB8IDA7XFxuLy8gICAgIGlmIChudW1GcmVlQ2h1bmtzID4gMCkge1xcbi8vICAgICAgICAgdmFyIGNodW5rID0gZ2V0RnJlZUNodW5rKG5ieXRlcyk7XFxuLy8gICAgICAgICBpZiAoY2h1bmsgPiAoMCB8IDApKSB7XFxuLy8gICAgICAgICAgICAgcmV0dXJuIGNodW5rO1xcbi8vICAgICAgICAgfVxcbi8vICAgICB9XFxuLy9cXG4vLyAgICAgZG8ge1xcbi8vICAgICAgICAgdmFyIHB0ciA9IGdsb2JhbC5BdG9taWNzLmxvYWQoSEVBUDMyLCAxKTtcXG4vLyAgICAgICAgIHZhciBxID0gKHB0ciArIChhbGlnbm1lbnQgLSAxKSkgJiB+KGFsaWdubWVudCAtIDEpO1xcbi8vICAgICAgICAgdmFyIHRvcCA9IHEgKyBuYnl0ZXM7XFxuLy8gICAgICAgICBpZiAodG9wID49IEhFQVAzMlsyPj4yXSlcXG4vLyAgICAgICAgICAgICByZXR1cm4gMDtcXG4vLyAgICAgfSB3aGlsZSAoZ2xvYmFsLkF0b21pY3MuY29tcGFyZUV4Y2hhbmdlKEhFQVAzMiwgMSwgcHRyLCB0b3ApICE9IHB0cik7XFxuLy9cXG4vLyAgICAgcmV0dXJuIHE7XFxuLy8gfVxcbi8vIGZ1bmN0aW9uIGFsbG9jX2FiKG5ieXRlcywgYWxpZ25tZW50KSB7XFxuLy8gICAgIG5ieXRlcyA9IG5ieXRlcyB8IDA7XFxuLy8gICAgIGFsaWdubWVudCA9IGFsaWdubWVudCB8IDA7XFxuLy9cXG4vLyAgICAgdmFyIHB0ciA9IEhFQVAzMlsxPj4yXSB8IDA7XFxuLy8gICAgIHB0ciA9ICgocHRyICsgKGFsaWdubWVudCAtIDEpKSAmIH4oYWxpZ25tZW50IC0gMSkpIHwgMDtcXG4vLyAgICAgdmFyIHRvcCA9IChwdHIgKyBuYnl0ZXMpIHwgMDtcXG4vLyAgICAgaWYgKHRvcCA+PSBIRUFQMzJbMj4+Ml0pXFxuLy8gICAgICAgICByZXR1cm4gMCB8IDA7XFxuLy8gICAgIEhFQVAzMlsxPj4yXSA9IHRvcCB8IDA7XFxuLy8gICAgIHJldHVybiBwdHIgfCAwO1xcbi8vIH1cIlxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9yYXctbG9hZGVyIS4vc3JjL2xpYnJhcnkvdHVyYm8vcnVudGltZS5qc1xuLy8gbW9kdWxlIGlkID0gMjdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSBcImRlY2xhcmUgY2xhc3MgYm9vbGVhbiB7XFxuICAgIHRvU3RyaW5nKCk6IHN0cmluZztcXG59XFxuXFxuZGVjbGFyZSBjbGFzcyBpbnQ4IHtcXG4gICAgdG9TdHJpbmcoKTogc3RyaW5nO1xcbn1cXG5cXG5kZWNsYXJlIGNsYXNzIHVpbnQ4IHtcXG4gICAgdG9TdHJpbmcoKTogc3RyaW5nO1xcbn1cXG5cXG5kZWNsYXJlIGNsYXNzIGludDE2IHtcXG4gICAgdG9TdHJpbmcoKTogc3RyaW5nO1xcbn1cXG5cXG5kZWNsYXJlIGNsYXNzIHVpbnQxNiB7XFxuICAgIHRvU3RyaW5nKCk6IHN0cmluZztcXG59XFxuXFxuZGVjbGFyZSBjbGFzcyBpbnQzMiB7XFxuICAgIHRvU3RyaW5nKCk6IHN0cmluZztcXG59XFxuXFxuZGVjbGFyZSBjbGFzcyB1aW50MzIge1xcbiAgICB0b1N0cmluZygpOiBzdHJpbmc7XFxufVxcblxcbmRlY2xhcmUgY2xhc3MgaW50NjQge1xcbiAgICB0b1N0cmluZygpOiBzdHJpbmc7XFxufVxcblxcbmRlY2xhcmUgY2xhc3MgdWludDY0IHtcXG4gICAgdG9TdHJpbmcoKTogc3RyaW5nO1xcbn1cXG5cXG5kZWNsYXJlIGNsYXNzIGZsb2F0MzIge1xcbiAgICB0b1N0cmluZygpOiBzdHJpbmc7XFxufVxcblxcbmRlY2xhcmUgY2xhc3MgZmxvYXQ2NCB7XFxuICAgIHRvU3RyaW5nKCk6IHN0cmluZztcXG59XFxuXFxuZGVjbGFyZSBjbGFzcyBzdHJpbmcge1xcbiAgICBjaGFyQXQoaW5kZXg6IGludDMyKTogc3RyaW5nO1xcbiAgICBjaGFyQ29kZUF0KGluZGV4OiBpbnQzMik6IHVpbnQxNjtcXG4gICAgZ2V0IGxlbmd0aCgpOiBpbnQzMjtcXG4gICAgaW5kZXhPZih0ZXh0OiBzdHJpbmcpOiBpbnQzMjtcXG4gICAgbGFzdEluZGV4T2YodGV4dDogc3RyaW5nKTogaW50MzI7XFxuICAgIG9wZXJhdG9yID09IChvdGhlcjogc3RyaW5nKTogYm9vbGVhbjtcXG4gICAgb3BlcmF0b3IgW10gKGluZGV4OiBpbnQzMik6IHVpbnQxNiB7IHJldHVybiB0aGlzLmNoYXJDb2RlQXQoaW5kZXgpOyB9XFxuICAgIHNsaWNlKHN0YXJ0OiBpbnQzMiwgZW5kOiBpbnQzMik6IHN0cmluZztcXG5cXG4gICAgc3RhcnRzV2l0aCh0ZXh0OiBzdHJpbmcpOiBib29sZWFuIHsgcmV0dXJuIHRoaXMuc2xpY2UoMCwgdGV4dC5sZW5ndGgpID09IHRleHQ7IH1cXG4gICAgZW5kc1dpdGgodGV4dDogc3RyaW5nKTogYm9vbGVhbiB7IHJldHVybiB0aGlzLnNsaWNlKC10ZXh0Lmxlbmd0aCwgdGhpcy5sZW5ndGgpID09IHRleHQ7IH1cXG59XCJcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9saWJyYXJ5L3R1cmJvL3R5cGVzLnRic1xuLy8gbW9kdWxlIGlkID0gMjhcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSBcImZ1bmN0aW9uIFR1cmJvV3JhcHBlcihleHBvcnRzLCBidWZmZXIpIHtcXG5cXG4gICAgdmFyIEhFQVA4ID0gbmV3IEludDhBcnJheShidWZmZXIpO1xcbiAgICB2YXIgSEVBUDE2ID0gbmV3IEludDE2QXJyYXkoYnVmZmVyKTtcXG4gICAgdmFyIEhFQVAzMiA9IG5ldyBJbnQzMkFycmF5KGJ1ZmZlcik7XFxuICAgIHZhciBIRUFQVTggPSBuZXcgVWludDhBcnJheShidWZmZXIpO1xcbiAgICB2YXIgSEVBUFUxNiA9IG5ldyBVaW50MTZBcnJheShidWZmZXIpO1xcbiAgICB2YXIgSEVBUFUzMiA9IG5ldyBVaW50MzJBcnJheShidWZmZXIpO1xcbiAgICB2YXIgSEVBUEYzMiA9IG5ldyBGbG9hdDMyQXJyYXkoYnVmZmVyKTtcXG4gICAgdmFyIEhFQVBGNjQgPSBuZXcgRmxvYXQ2NEFycmF5KGJ1ZmZlcik7XFxuXFxuICAgIHJldHVybiB7XFxuICAgICAgICBleHBvcnRzOiBleHBvcnRzLFxcbiAgICAgICAgUkFXX01FTU9SWTogYnVmZmVyLFxcblxcbiAgICAgICAgZ2V0TWVtb3J5VXNhZ2U6IGZ1bmN0aW9uICgpIHtcXG4gICAgICAgICAgICBjb25zdCB0b3AgPSBBdG9taWNzLmxvYWQoSEVBUDMyLCAyKTtcXG4gICAgICAgICAgICAvLyB0b3AgLT0gZnJlZU1lbW9yeTtcXG4gICAgICAgICAgICByZXR1cm4gTWF0aC5mcm91bmQodG9wIC8gKDEwMjQgKiAxMDI0KSk7XFxuICAgICAgICB9XFxuICAgIH1cXG59XFxuZnVuY3Rpb24gaW5pdFR1cmJvKE1CKSB7XFxuICAgIHZhciBidWZmZXIgPSBuZXcgU2hhcmVkQXJyYXlCdWZmZXIoTUIgKiAxMDI0ICogMTAyNCk7XFxuXFxuICAgIGlmIChidWZmZXIuYnl0ZUxlbmd0aCA8IDE2KSB7XFxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXFxcIlRoZSBtZW1vcnkgaXMgdG9vIHNtYWxsIGV2ZW4gZm9yIG1ldGFkYXRhXFxcIik7XFxuICAgIH1cXG5cXG4gICAgcmV0dXJuIFR1cmJvV3JhcHBlcihUdXJib01vZHVsZShcXG4gICAgICAgIHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnID8gZ2xvYmFsIDogd2luZG93LFxcbiAgICAgICAgdHlwZW9mIGVudiAhPT0gJ3VuZGVmaW5lZCcgPyBlbnYgOiB7XFxuICAgICAgICAgICAgU1RBQ0tUT1A6IDgsXFxuICAgICAgICAgICAgU1RBQ0tfTUFYOiA4XFxuICAgICAgICB9LFxcbiAgICAgICAgYnVmZmVyXFxuICAgICksIGJ1ZmZlcik7XFxufVwiXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3Jhdy1sb2FkZXIhLi9zcmMvbGlicmFyeS90dXJiby93cmFwcGVyLmpzXG4vLyBtb2R1bGUgaWQgPSAyOVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IFwiLy8gV2ViQXNzZW1ibHkgYnVpbHRpbiBmdW5jdGlvbnNcXG5kZWNsYXJlIGZ1bmN0aW9uIHJvdGwodmFsdWU6IGludDY0LCBzaGlmdDogaW50NjQpOiBpbnQ2NDtcXG5kZWNsYXJlIGZ1bmN0aW9uIHJvdGwzMih2YWx1ZTogaW50MzIsIHNoaWZ0OiBpbnQzMik6IGludDMyO1xcbmRlY2xhcmUgZnVuY3Rpb24gcm90cih2YWx1ZTogaW50NjQsIHNoaWZ0OiBpbnQ2NCk6IGludDY0O1xcbmRlY2xhcmUgZnVuY3Rpb24gcm90cjMyKHZhbHVlOiBpbnQzMiwgc2hpZnQ6IGludDMyKTogaW50MzI7XFxuZGVjbGFyZSBmdW5jdGlvbiBjbHoodmFsdWU6IGludDY0KTogaW50NjQ7XFxuZGVjbGFyZSBmdW5jdGlvbiBjbHozMih2YWx1ZTogaW50MzIpOiBpbnQzMjtcXG5kZWNsYXJlIGZ1bmN0aW9uIGN0eih2YWx1ZTogaW50NjQpOiBpbnQ2NDtcXG5kZWNsYXJlIGZ1bmN0aW9uIGN0ejMyKHZhbHVlOiBpbnQzMik6IGludDMyO1xcbmRlY2xhcmUgZnVuY3Rpb24gcG9wY250KHZhbHVlOiBpbnQ2NCk6IGludDY0O1xcbmRlY2xhcmUgZnVuY3Rpb24gcG9wY250MzIodmFsdWU6IGludDMyKTogaW50MzI7XFxuZGVjbGFyZSBmdW5jdGlvbiBhYnModmFsdWU6IGZsb2F0NjQpOiBmbG9hdDY0O1xcbmRlY2xhcmUgZnVuY3Rpb24gYWJzMzIodmFsdWU6IGZsb2F0MzIpOiBmbG9hdDMyO1xcbmRlY2xhcmUgZnVuY3Rpb24gY2VpbCh2YWx1ZTogZmxvYXQ2NCk6IGZsb2F0NjQ7XFxuZGVjbGFyZSBmdW5jdGlvbiBjZWlsMzIodmFsdWU6IGZsb2F0MzIpOiBmbG9hdDMyO1xcbmRlY2xhcmUgZnVuY3Rpb24gZmxvb3IodmFsdWU6IGZsb2F0NjQpOiBmbG9hdDY0O1xcbmRlY2xhcmUgZnVuY3Rpb24gZmxvb3IzMih2YWx1ZTogZmxvYXQzMik6IGZsb2F0MzI7XFxuZGVjbGFyZSBmdW5jdGlvbiBzcXJ0KHZhbHVlOiBmbG9hdDY0KTogZmxvYXQ2NDtcXG5kZWNsYXJlIGZ1bmN0aW9uIHNxcnQzMih2YWx1ZTogZmxvYXQzMik6IGZsb2F0MzI7XFxuZGVjbGFyZSBmdW5jdGlvbiB0cnVuYyh2YWx1ZTogZmxvYXQ2NCk6IGZsb2F0NjQ7XFxuZGVjbGFyZSBmdW5jdGlvbiB0cnVuYzMyKHZhbHVlOiBmbG9hdDMyKTogZmxvYXQzMjtcXG5kZWNsYXJlIGZ1bmN0aW9uIG5lYXJlc3QodmFsdWU6IGZsb2F0NjQpOiBmbG9hdDY0O1xcbmRlY2xhcmUgZnVuY3Rpb24gbmVhcmVzdDMyKHZhbHVlOiBmbG9hdDMyKTogZmxvYXQzMjtcXG5kZWNsYXJlIGZ1bmN0aW9uIG1pbihsZWZ0OiBmbG9hdDY0LCByaWdodDogZmxvYXQ2NCk6IGZsb2F0NjQ7XFxuZGVjbGFyZSBmdW5jdGlvbiBtaW4zMihsZWZ0OiBmbG9hdDMyLCByaWdodDogZmxvYXQzMik6IGZsb2F0MzI7XFxuZGVjbGFyZSBmdW5jdGlvbiBtYXgobGVmdDogZmxvYXQ2NCwgcmlnaHQ6IGZsb2F0NjQpOiBmbG9hdDY0O1xcbmRlY2xhcmUgZnVuY3Rpb24gbWF4MzIobGVmdDogZmxvYXQzMiwgcmlnaHQ6IGZsb2F0MzIpOiBmbG9hdDMyO1xcbmRlY2xhcmUgZnVuY3Rpb24gY29weXNpZ24obGVmdDogZmxvYXQ2NCwgcmlnaHQ6IGZsb2F0NjQpOiBmbG9hdDY0O1xcbmRlY2xhcmUgZnVuY3Rpb24gY29weXNpZ24zMihsZWZ0OiBmbG9hdDMyLCByaWdodDogZmxvYXQzMik6IGZsb2F0MzI7XFxuZGVjbGFyZSBmdW5jdGlvbiByZWludGVycHJldF9pMzIodmFsdWU6IGZsb2F0MzIpOiBpbnQzMjtcXG5kZWNsYXJlIGZ1bmN0aW9uIHJlaW50ZXJwcmV0X2k2NCh2YWx1ZTogZmxvYXQ2NCk6IGludDY0O1xcbmRlY2xhcmUgZnVuY3Rpb24gcmVpbnRlcnByZXRfZjMyKHZhbHVlOiBpbnQzMik6IGZsb2F0MzI7XFxuZGVjbGFyZSBmdW5jdGlvbiByZWludGVycHJldF9mNjQodmFsdWU6IGludDY0KTogZmxvYXQ2NDtcXG5kZWNsYXJlIGZ1bmN0aW9uIGN1cnJlbnRfbWVtb3J5KCk6IGludDMyO1xcbmRlY2xhcmUgZnVuY3Rpb24gZ3Jvd19tZW1vcnkodmFsdWU6IGludDMyKTogaW50MzI7XFxuXCJcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9saWJyYXJ5L3dlYmFzc2VtYmx5L2J1aWx0aW5zLnRic1xuLy8gbW9kdWxlIGlkID0gMzBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSBcIi8qKlxcbiAqIENyZWF0ZWQgYnkgbi52aW5heWFrYW4gb24gMzAuMDUuMTcuXFxuICogV2ViQXNzZW1ibHkgc3RhcnQgZnVuY3Rpb24gd2hlcmUgZ2xvYmFsIHZhcmlhYmxlIGV4cHJlc3Npb25zIGluaXRpYWxpemVyXFxuICovXFxuQHN0YXJ0XFxuZnVuY3Rpb24gX19XQVNNX0lOSVRJQUxJWkVSKCk6IHZvaWQge1xcbiAgICAvLyDwn5SlIFdBUk5JTkcg8J+UpVxcbiAgICAvLyBET04nVCBSRVRVUk4gQU5ZVEhJTkcgRlJPTSBUSElTIEZVTkNUSU9OXFxuICAgIC8vIEdsb2JhbCB2YXJpYWJsZSBpbml0aWFsaXphdGlvbiBleHByZXNzaW9ucyB3aWxsIGJlIGFwcGVuZGVkIHRvIHRoaXMgZnVuY3Rpb25cXG4gICAgbnVtRnJlZUNodW5rcyA9IDA7XFxuICAgIGZpcnN0RnJlZSA9IDA7XFxuICAgIGxhc3RGcmVlID0gMDtcXG4gICAgLy8gICAgIG9yaWdpbmFsSGVhcFBvaW50ZXIgPSA0MCBhcyAqdWludDg7Ly90aGlzIHdpbGwgb3ZlcnJpZGUgYnkgY29tcGlsZXJcXG4gICAgLy8gICAgIGN1cnJlbnRIZWFwUG9pbnRlciAgPSA0MCBhcyAqdWludDg7Ly90aGlzIHdpbGwgb3ZlcnJpZGUgYnkgY29tcGlsZXJcXG59XFxuXCJcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9saWJyYXJ5L3dlYmFzc2VtYmx5L2luaXRpYWxpemVyLnRic1xuLy8gbW9kdWxlIGlkID0gMzFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLyoqXG4gKiBDcmVhdGVkIGJ5IG4udmluYXlha2FuIG9uIDAyLjA2LjE3LlxuICovXG5leHBvcnQgZW51bSBCaXRuZXNze1xuICAgIHgzMixcbiAgICB4NjRcbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9iYWNrZW5kcy9iaXRuZXNzLnRzIiwiaW1wb3J0IHtXYXNtUnVudGltZUZ1bmN0aW9uLCBXYXNtU3RhY2tUcmFjZXJ9IGZyb20gXCIuLi9zdGFjay1tYWNoaW5lL3dhc20tc3RhY2stdHJhY2VyXCI7XG5pbXBvcnQge1dhc21GdW5jdGlvbn0gZnJvbSBcIi4uL2NvcmUvd2FzbS1mdW5jdGlvblwiO1xuaW1wb3J0IHt0b0hleH0gZnJvbSBcIi4uLy4uLy4uL3V0aWxzL3V0aWxzXCI7XG5pbXBvcnQge0J5dGVBcnJheX0gZnJvbSBcIi4uLy4uLy4uL3V0aWxzL2J5dGVhcnJheVwiO1xuaW1wb3J0IHtXYXNtT3Bjb2RlfSBmcm9tIFwiLi4vb3Bjb2RlXCI7XG5pbXBvcnQge1NlY3Rpb25CdWZmZXJ9IGZyb20gXCIuLi9idWZmZXIvc2VjdGlvbi1idWZmZXJcIjtcbmltcG9ydCB7bG9nfSBmcm9tIFwiLi4vdXRpbHMvbG9nZ2VyXCI7XG5pbXBvcnQge1dhc21TZWN0aW9ufSBmcm9tIFwiLi4vY29yZS93YXNtLXNlY3Rpb25cIjtcbmltcG9ydCB7V2FzbUltcG9ydH0gZnJvbSBcIi4uL2NvcmUvd2FzbS1pbXBvcnRcIjtcbmltcG9ydCB7V2FzbVJ1bnRpbWVMb2NhbH0gZnJvbSBcIi4uL3N0YWNrLW1hY2hpbmUvd2FzbS1ydW50aW1lLWxvY2FsXCI7XG5pbXBvcnQge1dhc21UeXBlfSBmcm9tIFwiLi4vY29yZS93YXNtLXR5cGVcIjtcbmltcG9ydCB7V2FzbUxvY2FsRW50cnl9IGZyb20gXCIuLi9jb3JlL3dhc20tbG9jYWxcIjtcbmltcG9ydCB7VGVybWluYWx9IGZyb20gXCIuLi8uLi8uLi91dGlscy90ZXJtaW5hbFwiO1xuLyoqXG4gKiBDcmVhdGVkIGJ5IG4udmluYXlha2FuIG9uIDAyLjA2LjE3LlxuICovXG5leHBvcnQgY2xhc3MgV2FzbUFzc2VtYmxlciB7XG5cbiAgICBiaW5hcnlPdXRwdXQ6IEJ5dGVBcnJheTtcbiAgICB0ZXh0T3V0cHV0OiBzdHJpbmc7XG4gICAgc3RhY2tUcmFjZXI6IFdhc21TdGFja1RyYWNlcjtcbiAgICBzZWN0aW9uTGlzdDogU2VjdGlvbkJ1ZmZlcltdID0gW107XG4gICAgaW1wb3J0TGlzdDogV2FzbUltcG9ydFtdID0gW107XG4gICAgZnVuY3Rpb25MaXN0OiBXYXNtRnVuY3Rpb25bXSA9IFtdO1xuICAgIGN1cnJlbnRTZWN0aW9uOiBTZWN0aW9uQnVmZmVyID0gbnVsbDtcbiAgICBjdXJyZW50RnVuY3Rpb246IFdhc21GdW5jdGlvbiA9IG51bGw7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5zdGFja1RyYWNlciA9IG5ldyBXYXNtU3RhY2tUcmFjZXIoKTtcbiAgICB9XG5cbiAgICBzZWFsRnVuY3Rpb25zKCkge1xuICAgICAgICBsZXQgcnVudGltZUZ1bmN0aW9ucyA9IFtdO1xuICAgICAgICB0aGlzLmltcG9ydExpc3QuZm9yRWFjaChfaW1wb3J0ID0+IHtcbiAgICAgICAgICAgIGxldCBmbiA9IG5ldyBXYXNtUnVudGltZUZ1bmN0aW9uKCk7XG4gICAgICAgICAgICBmbi5tb2R1bGUgPSBfaW1wb3J0Lm1vZHVsZTtcbiAgICAgICAgICAgIGZuLm5hbWUgPSBfaW1wb3J0Lm5hbWU7XG4gICAgICAgICAgICBmbi5zaWduYXR1cmUgPSBfaW1wb3J0LnNpZ25hdHVyZTtcbiAgICAgICAgICAgIGZuLmlzSW1wb3J0ID0gdHJ1ZTtcbiAgICAgICAgICAgIHJ1bnRpbWVGdW5jdGlvbnMucHVzaChmbik7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmZ1bmN0aW9uTGlzdC5mb3JFYWNoKChfd2FzbUZ1bmM6IFdhc21GdW5jdGlvbikgPT4ge1xuICAgICAgICAgICAgbGV0IGZuID0gbmV3IFdhc21SdW50aW1lRnVuY3Rpb24oKTtcbiAgICAgICAgICAgIGZuLm5hbWUgPSBfd2FzbUZ1bmMuc3ltYm9sLm5hbWU7XG4gICAgICAgICAgICBmbi5zaWduYXR1cmUgPSBfd2FzbUZ1bmMuc2lnbmF0dXJlO1xuICAgICAgICAgICAgZm4uaXNJbXBvcnQgPSBmYWxzZTtcbiAgICAgICAgICAgIGZuLmxvY2FscyA9IFtdO1xuICAgICAgICAgICAgX3dhc21GdW5jLmxvY2FsRW50cmllcy5mb3JFYWNoKChsb2NhbDpXYXNtTG9jYWxFbnRyeSkgPT4ge1xuICAgICAgICAgICAgICAgIGZuLmxvY2Fscy5wdXNoKG5ldyBXYXNtUnVudGltZUxvY2FsKGxvY2FsLnR5cGUpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcnVudGltZUZ1bmN0aW9ucy5wdXNoKGZuKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc3RhY2tUcmFjZXIuZnVuY3Rpb25zID0gcnVudGltZUZ1bmN0aW9ucztcbiAgICB9XG5cbiAgICBzdGFydFNlY3Rpb24oYXJyYXk6IEJ5dGVBcnJheSwgaWQ6IGludDMyLCBuYW1lOiBzdHJpbmcpOiBTZWN0aW9uQnVmZmVyIHtcbiAgICAgICAgbGV0IHNlY3Rpb246IFNlY3Rpb25CdWZmZXIgPSBuZXcgU2VjdGlvbkJ1ZmZlcihpZCwgbmFtZSk7XG4gICAgICAgIHNlY3Rpb24ub2Zmc2V0ID0gYXJyYXkubGVuZ3RoO1xuICAgICAgICBsb2coYXJyYXksIDAsIG51bGwsIGAgLSBzZWN0aW9uOiAke1dhc21TZWN0aW9uW2lkXX0gWzB4JHt0b0hleChpZCwgMil9XWApO1xuICAgICAgICB0aGlzLnNlY3Rpb25MaXN0LnB1c2goc2VjdGlvbik7XG4gICAgICAgIHJldHVybiBzZWN0aW9uO1xuICAgIH1cblxuICAgIGVuZFNlY3Rpb24oYXJyYXk6IEJ5dGVBcnJheSwgc2VjdGlvbjogU2VjdGlvbkJ1ZmZlcik6IHZvaWQge1xuICAgICAgICBzZWN0aW9uLnB1Ymxpc2goYXJyYXkpO1xuICAgIH1cblxuICAgIGRyb3BTdGFjayhhcnJheTogQnl0ZUFycmF5LCBtYXg6IG51bWJlciA9IDEpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhY2tUcmFjZXIuY29udGV4dC5zdGFjay5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBUZXJtaW5hbC53YXJuKGBEcm9wcGluZyBzdGFjayBpdGVtcywgJyR7dGhpcy5zdGFja1RyYWNlci5jb250ZXh0LmZuLm5hbWV9JyBmdW5jIHN0YWNrIGNvbnRhaW5zICR7dGhpcy5zdGFja1RyYWNlci5jb250ZXh0LnN0YWNrLmxlbmd0aH0gaXRlbXNgKTtcbiAgICAgICAgICAgIGxldCBpdGVtID0gdGhpcy5zdGFja1RyYWNlci5jb250ZXh0LnN0YWNrLnBvcCh0cnVlKTtcblxuICAgICAgICAgICAgd2hpbGUgKGl0ZW0gIT09IHVuZGVmaW5lZCAmJiBtYXggPiAwKSB7XG4gICAgICAgICAgICAgICAgVGVybWluYWwud2FybihXYXNtVHlwZVtpdGVtLnR5cGVdKTtcbiAgICAgICAgICAgICAgICBhcnJheS5hcHBlbmQoV2FzbU9wY29kZS5EUk9QKTtcbiAgICAgICAgICAgICAgICBpdGVtID0gdGhpcy5zdGFja1RyYWNlci5jb250ZXh0LnN0YWNrLnBvcCh0cnVlKTtcbiAgICAgICAgICAgICAgICBtYXgtLTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFwcGVuZE9wY29kZShhcnJheTogQnl0ZUFycmF5LCBvZmZzZXQgPSAwLCBvcGNvZGU6IG51bWJlciwgaW5saW5lX3ZhbHVlPykge1xuICAgICAgICBpZiAoZ2xvYmFsW1wiZGVidWdcIl0pIHtcbiAgICAgICAgICAgIGxvZ09wY29kZShhcnJheSwgb2Zmc2V0LCBvcGNvZGUsIGlubGluZV92YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgYXJyYXkuYXBwZW5kKG9wY29kZSk7XG4gICAgICAgIHRoaXMuc3RhY2tUcmFjZXIucHVzaE9wY29kZShvcGNvZGUpO1xuICAgIH1cblxuICAgIHdyaXRlVW5zaWduZWRMRUIxMjgoYXJyYXk6IEJ5dGVBcnJheSwgdmFsdWU6IG51bWJlcik6IHZvaWQge1xuICAgICAgICBhcnJheS53cml0ZVVuc2lnbmVkTEVCMTI4KHZhbHVlKTtcbiAgICAgICAgdGhpcy5zdGFja1RyYWNlci5wdXNoVmFsdWUodmFsdWUpO1xuICAgIH1cblxuICAgIHdyaXRlTEVCMTI4KGFycmF5OiBCeXRlQXJyYXksIHZhbHVlOiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgYXJyYXkud3JpdGVMRUIxMjgodmFsdWUpO1xuICAgICAgICB0aGlzLnN0YWNrVHJhY2VyLnB1c2hWYWx1ZSh2YWx1ZSk7XG4gICAgfVxuXG4gICAgd3JpdGVGbG9hdChhcnJheTogQnl0ZUFycmF5LCB2YWx1ZTogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIGFycmF5LndyaXRlRmxvYXQodmFsdWUpO1xuICAgICAgICB0aGlzLnN0YWNrVHJhY2VyLnB1c2hWYWx1ZSh2YWx1ZSk7XG4gICAgfVxuXG4gICAgd3JpdGVEb3VibGUoYXJyYXk6IEJ5dGVBcnJheSwgdmFsdWU6IG51bWJlcik6IHZvaWQge1xuICAgICAgICBhcnJheS53cml0ZURvdWJsZSh2YWx1ZSk7XG4gICAgICAgIHRoaXMuc3RhY2tUcmFjZXIucHVzaFZhbHVlKHZhbHVlKTtcbiAgICB9XG5cbiAgICB3cml0ZVdhc21TdHJpbmcoYXJyYXk6IEJ5dGVBcnJheSwgdmFsdWU6IHN0cmluZyk6IHZvaWQge1xuICAgICAgICBhcnJheS53cml0ZVdhc21TdHJpbmcodmFsdWUpO1xuICAgIH1cblxufVxuXG5leHBvcnQgZnVuY3Rpb24gYXBwZW5kKGFycmF5OiBCeXRlQXJyYXksIG9mZnNldCA9IDAsIHZhbHVlID0gbnVsbCwgbXNnID0gbnVsbCkge1xuICAgIGlmIChnbG9iYWxbXCJkZWJ1Z1wiXSkge1xuICAgICAgICBhcnJheS5sb2cgKz0gKHZhbHVlICE9IG51bGwgPyBgJHt0b0hleChvZmZzZXQgKyBhcnJheS5wb3NpdGlvbil9OiAke3RvSGV4KHZhbHVlLCAyKX0gICAgICAgICAgICAgICAgICAgIDsgYCA6IFwiXCIpICsgKG1zZyAhPSBudWxsID8gYCR7bXNnfVxcbmAgOiBcIlxcblwiKTtcbiAgICB9XG4gICAgaWYgKHZhbHVlKSB7XG4gICAgICAgIGFycmF5LmFwcGVuZCh2YWx1ZSk7XG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gbG9nT3Bjb2RlKGFycmF5OiBCeXRlQXJyYXksIG9mZnNldCA9IDAsIG9wY29kZSwgaW5saW5lX3ZhbHVlPykge1xuICAgIGlmIChnbG9iYWxbXCJkZWJ1Z1wiXSkge1xuICAgICAgICBhcnJheS5sb2cgKz0gYCR7dG9IZXgob2Zmc2V0ICsgYXJyYXkucG9zaXRpb24pfTogJHt0b0hleChvcGNvZGUsIDIpfSAgICAgICAgICAgICAgICAgICAgOyAke1dhc21PcGNvZGVbb3Bjb2RlXX0gJHtpbmxpbmVfdmFsdWUgPyBpbmxpbmVfdmFsdWUgOiBcIlwifVxcbmA7XG4gICAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2JhY2tlbmRzL3dlYmFzc2VtYmx5L2Fzc2VtYmxlci93YXNtLWFzc2VtYmxlci50cyIsImltcG9ydCB7bG9nfSBmcm9tIFwiLi4vdXRpbHMvbG9nZ2VyXCI7XG5pbXBvcnQge0J5dGVBcnJheX0gZnJvbSBcIi4uLy4uLy4uL3V0aWxzL2J5dGVhcnJheVwiO1xuLyoqXG4gKiBDcmVhdGVkIGJ5IG4udmluYXlha2FuIG9uIDAyLjA2LjE3LlxuICovXG5leHBvcnQgY2xhc3MgU2VjdGlvbkJ1ZmZlciB7XG5cbiAgICBkYXRhOiBCeXRlQXJyYXk7XG4gICAgb2Zmc2V0OiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgaWQsIHB1YmxpYyBuYW1lPzogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuZGF0YSA9IG5ldyBCeXRlQXJyYXkoKTtcbiAgICB9XG5cbiAgICBwdWJsaXNoKGFycmF5OiBCeXRlQXJyYXkpIHtcbiAgICAgICAgbG9nKGFycmF5LCAwLCB0aGlzLmlkLCBcInNlY3Rpb24gY29kZVwiKTtcbiAgICAgICAgYXJyYXkud3JpdGVVbnNpZ25lZExFQjEyOCh0aGlzLmlkKTsvL3NlY3Rpb24gY29kZVxuXG5cbiAgICAgICAgaWYgKHRoaXMuaWQgPT0gMCkge1xuICAgICAgICAgICAgbGV0IHN0ckRhdGE6IEJ5dGVBcnJheSA9IG5ldyBCeXRlQXJyYXkoKTtcbiAgICAgICAgICAgIHN0ckRhdGEud3JpdGVXYXNtU3RyaW5nKHRoaXMubmFtZSk7XG4gICAgICAgICAgICBsb2coYXJyYXksIDAsIHRoaXMuZGF0YS5sZW5ndGgsIFwic2VjdGlvbiBzaXplXCIpO1xuICAgICAgICAgICAgYXJyYXkud3JpdGVVbnNpZ25lZExFQjEyOCh0aGlzLmRhdGEubGVuZ3RoICsgc3RyRGF0YS5sZW5ndGgpOy8vc2l6ZSBvZiB0aGlzIHNlY3Rpb24gaW4gYnl0ZXNcbiAgICAgICAgICAgIGFycmF5LmNvcHkoc3RyRGF0YSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsb2coYXJyYXksIDAsIHRoaXMuZGF0YS5sZW5ndGgsIFwic2VjdGlvbiBzaXplXCIpO1xuICAgICAgICAgICAgYXJyYXkud3JpdGVVbnNpZ25lZExFQjEyOCh0aGlzLmRhdGEubGVuZ3RoKTsvL3NpemUgb2YgdGhpcyBzZWN0aW9uIGluIGJ5dGVzXG4gICAgICAgIH1cblxuICAgICAgICBhcnJheS5sb2cgKz0gdGhpcy5kYXRhLmxvZztcbiAgICAgICAgYXJyYXkuY29weSh0aGlzLmRhdGEpO1xuICAgIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9iYWNrZW5kcy93ZWJhc3NlbWJseS9idWZmZXIvc2VjdGlvbi1idWZmZXIudHMiLCJpbXBvcnQge1dhc21PcGNvZGV9IGZyb20gXCIuL29wY29kZVwiO1xuLyoqXG4gKiBDcmVhdGVkIGJ5IG4udmluYXlha2FuIG9uIDI4LjA1LjE3LlxuICovXG5leHBvcnQgY29uc3QgYnVpbHRpbnMgPSBbXG4gICAgXCJyb3RsXCIsXG4gICAgXCJyb3RsMzJcIixcbiAgICBcInJvdHJcIixcbiAgICBcInJvdHIzMlwiLFxuICAgIFwiY2x6XCIsXG4gICAgXCJjbHozMlwiLFxuICAgIFwiY3R6XCIsXG4gICAgXCJjdHozMlwiLFxuICAgIFwicG9wY250XCIsXG4gICAgXCJwb3BjbnQzMlwiLFxuICAgIFwiYWJzXCIsXG4gICAgXCJhYnMzMlwiLFxuICAgIFwiY2VpbFwiLFxuICAgIFwiY2VpbDMyXCIsXG4gICAgXCJmbG9vclwiLFxuICAgIFwiZmxvb3IzMlwiLFxuICAgIFwic3FydFwiLFxuICAgIFwic3FydDMyXCIsXG4gICAgXCJ0cnVuY1wiLFxuICAgIFwidHJ1bmMzMlwiLFxuICAgIFwibmVhcmVzdFwiLFxuICAgIFwibmVhcmVzdDMyXCIsXG4gICAgXCJtaW5cIixcbiAgICBcIm1pbjMyXCIsXG4gICAgXCJtYXhcIixcbiAgICBcIm1heDMyXCIsXG4gICAgXCJjb3B5c2lnblwiLFxuICAgIFwiY29weXNpZ24zMlwiLFxuICAgIFwicmVpbnRlcnByZXRfaTMyXCIsXG4gICAgXCJyZWludGVycHJldF9pNjRcIixcbiAgICBcInJlaW50ZXJwcmV0X2YzMlwiLFxuICAgIFwicmVpbnRlcnByZXRfZjY0XCIsXG4gICAgXCJjdXJyZW50X21lbW9yeVwiLFxuICAgIFwiZ3Jvd19tZW1vcnlcIlxuXTtcblxuZXhwb3J0IGZ1bmN0aW9uIGdldEJ1aWx0aW5PcGNvZGUobmFtZTpzdHJpbmcpOm51bWJlciB7XG4gICAgc3dpdGNoIChuYW1lKXtcbiAgICAgICAgY2FzZSBcInJvdGxcIjogcmV0dXJuIFdhc21PcGNvZGUuSTY0X1JPVEw7XG4gICAgICAgIGNhc2UgXCJyb3RsMzJcIjogcmV0dXJuIFdhc21PcGNvZGUuSTMyX1JPVEw7XG4gICAgICAgIGNhc2UgXCJyb3RyXCI6IHJldHVybiBXYXNtT3Bjb2RlLkk2NF9ST1RSO1xuICAgICAgICBjYXNlIFwicm90cjMyXCI6IHJldHVybiBXYXNtT3Bjb2RlLkkzMl9ST1RSO1xuICAgICAgICBjYXNlIFwiY2x6XCI6IHJldHVybiBXYXNtT3Bjb2RlLkk2NF9DTFo7XG4gICAgICAgIGNhc2UgXCJjbHozMlwiOiByZXR1cm4gV2FzbU9wY29kZS5JMzJfQ0xaO1xuICAgICAgICBjYXNlIFwiY3R6XCI6IHJldHVybiBXYXNtT3Bjb2RlLkk2NF9DVFo7XG4gICAgICAgIGNhc2UgXCJjdHozMlwiOiByZXR1cm4gV2FzbU9wY29kZS5JMzJfQ1RaO1xuICAgICAgICBjYXNlIFwicG9wY250XCI6IHJldHVybiBXYXNtT3Bjb2RlLkk2NF9QT1BDTlQ7XG4gICAgICAgIGNhc2UgXCJwb3BjbnQzMlwiOiByZXR1cm4gV2FzbU9wY29kZS5JMzJfUE9QQ05UO1xuICAgICAgICBjYXNlIFwiYWJzXCI6IHJldHVybiBXYXNtT3Bjb2RlLkY2NF9BQlM7XG4gICAgICAgIGNhc2UgXCJhYnMzMlwiOiByZXR1cm4gV2FzbU9wY29kZS5GMzJfQUJTO1xuICAgICAgICBjYXNlIFwiY2VpbFwiOiByZXR1cm4gV2FzbU9wY29kZS5GNjRfQ0VJTDtcbiAgICAgICAgY2FzZSBcImNlaWwzMlwiOiByZXR1cm4gV2FzbU9wY29kZS5GMzJfQ0VJTDtcbiAgICAgICAgY2FzZSBcImZsb29yXCI6IHJldHVybiBXYXNtT3Bjb2RlLkY2NF9GTE9PUjtcbiAgICAgICAgY2FzZSBcImZsb29yMzJcIjogcmV0dXJuIFdhc21PcGNvZGUuRjMyX0ZMT09SO1xuICAgICAgICBjYXNlIFwic3FydFwiOiByZXR1cm4gV2FzbU9wY29kZS5GNjRfU1FSVDtcbiAgICAgICAgY2FzZSBcInNxcnQzMlwiOiByZXR1cm4gV2FzbU9wY29kZS5GMzJfU1FSVDtcbiAgICAgICAgY2FzZSBcInRydW5jXCI6IHJldHVybiBXYXNtT3Bjb2RlLkY2NF9UUlVOQztcbiAgICAgICAgY2FzZSBcInRydW5jMzJcIjogcmV0dXJuIFdhc21PcGNvZGUuRjMyX1RSVU5DO1xuICAgICAgICBjYXNlIFwibmVhcmVzdFwiOiByZXR1cm4gV2FzbU9wY29kZS5GNjRfTkVBUkVTVDtcbiAgICAgICAgY2FzZSBcIm5lYXJlc3QzMlwiOiByZXR1cm4gV2FzbU9wY29kZS5GMzJfTkVBUkVTVDtcbiAgICAgICAgY2FzZSBcIm1pblwiOiByZXR1cm4gV2FzbU9wY29kZS5GNjRfTUlOO1xuICAgICAgICBjYXNlIFwibWluMzJcIjogcmV0dXJuIFdhc21PcGNvZGUuRjMyX01JTjtcbiAgICAgICAgY2FzZSBcIm1heFwiOiByZXR1cm4gV2FzbU9wY29kZS5GNjRfTUFYO1xuICAgICAgICBjYXNlIFwibWF4MzJcIjogcmV0dXJuIFdhc21PcGNvZGUuRjMyX01BWDtcbiAgICAgICAgY2FzZSBcImNvcHlzaWduXCI6IHJldHVybiBXYXNtT3Bjb2RlLkY2NF9DT1BZU0lHTjtcbiAgICAgICAgY2FzZSBcImNvcHlzaWduMzJcIjogcmV0dXJuIFdhc21PcGNvZGUuRjMyX0NPUFlTSUdOO1xuICAgICAgICBjYXNlIFwicmVpbnRlcnByZXRfaTMyXCI6IHJldHVybiBXYXNtT3Bjb2RlLkYzMl9SRUlOVEVSUFJFVF9JMzI7XG4gICAgICAgIGNhc2UgXCJyZWludGVycHJldF9pNjRcIjogcmV0dXJuIFdhc21PcGNvZGUuRjY0X1JFSU5URVJQUkVUX0k2NDtcbiAgICAgICAgY2FzZSBcInJlaW50ZXJwcmV0X2YzMlwiOiByZXR1cm4gV2FzbU9wY29kZS5JMzJfUkVJTlRFUlBSRVRfRjMyO1xuICAgICAgICBjYXNlIFwicmVpbnRlcnByZXRfZjY0XCI6IHJldHVybiBXYXNtT3Bjb2RlLkk2NF9SRUlOVEVSUFJFVF9GNjQ7XG4gICAgICAgIGNhc2UgXCJjdXJyZW50X21lbW9yeVwiOiByZXR1cm4gV2FzbU9wY29kZS5NRU1PUllfU0laRTtcbiAgICAgICAgY2FzZSBcImdyb3dfbWVtb3J5XCI6IHJldHVybiBXYXNtT3Bjb2RlLkdST1dfTUVNT1JZO1xuICAgICAgICBkZWZhdWx0OiB0aHJvdyBcIk5vIGJ1aWx0aW4gZnVuY3Rpb24gbmFtZWQgJ1wiK25hbWUrXCInXCI7XG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNCdWlsdGluKG5hbWU6IHN0cmluZyk6Ym9vbGVhbiB7XG4gICAgcmV0dXJuIGJ1aWx0aW5zLmluZGV4T2YobmFtZSkgPiAtMTtcbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9iYWNrZW5kcy93ZWJhc3NlbWJseS9idWlsdGlucy1oZWxwZXIudHMiLCIvKipcbiAqIENyZWF0ZWQgYnkgbi52aW5heWFrYW4gb24gMDIuMDYuMTcuXG4gKi9cbmV4cG9ydCBlbnVtIFdhc21FeHRlcm5hbEtpbmQge1xuICAgIEZ1bmN0aW9uID0gMCxcbiAgICBUYWJsZSA9IDEsXG4gICAgTWVtb3J5ID0gMixcbiAgICBHbG9iYWwgPSAzLFxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2JhY2tlbmRzL3dlYmFzc2VtYmx5L2NvcmUvd2FzbS1leHRlcm5hbC1raW5kLnRzIiwiaW1wb3J0IHtXYXNtVHlwZX0gZnJvbSBcIi4vd2FzbS10eXBlXCI7XG5pbXBvcnQge1N5bWJvbH0gZnJvbSBcIi4uLy4uLy4uL2NvbXBpbGVyL2NvcmUvc3ltYm9sXCI7XG5pbXBvcnQge1dhc21Mb2NhbCwgV2FzbUxvY2FsRW50cnl9IGZyb20gXCIuL3dhc20tbG9jYWxcIjtcbmltcG9ydCB7Qnl0ZUFycmF5fSBmcm9tIFwiLi4vLi4vLi4vdXRpbHMvYnl0ZWFycmF5XCI7XG5pbXBvcnQge1dhc21TaWduYXR1cmV9IGZyb20gXCIuL3dhc20tc2lnbmF0dXJlXCI7XG4vKipcbiAqIENyZWF0ZWQgYnkgbi52aW5heWFrYW4gb24gMDIuMDYuMTcuXG4gKi9cbmV4cG9ydCBjbGFzcyBXYXNtRnVuY3Rpb24ge1xuICAgIHN5bWJvbDogU3ltYm9sO1xuICAgIHNpZ25hdHVyZUluZGV4OiBpbnQzMjtcbiAgICBzaWduYXR1cmU6IFdhc21TaWduYXR1cmU7XG4gICAgaXNFeHBvcnRlZDogYm9vbGVhbjtcbiAgICBpc0NvbnN0cnVjdG9yOiBib29sZWFuO1xuICAgIGZpcnN0TG9jYWw6IFdhc21Mb2NhbDtcbiAgICBsYXN0TG9jYWw6IFdhc21Mb2NhbDtcbiAgICBsb2NhbEVudHJpZXM6IFdhc21Mb2NhbEVudHJ5W107XG4gICAgbG9jYWxDb3VudDogaW50MzIgPSAwO1xuICAgIHJldHVyblR5cGU6IFdhc21UeXBlO1xuICAgIGJvZHk6IEJ5dGVBcnJheTtcbiAgICBvZmZzZXQ6IGludDMyO1xuICAgIG5leHQ6IFdhc21GdW5jdGlvbjtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmxvY2FsRW50cmllcyA9IFtdO1xuICAgIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9iYWNrZW5kcy93ZWJhc3NlbWJseS9jb3JlL3dhc20tZnVuY3Rpb24udHMiLCJpbXBvcnQge1N5bWJvbH0gZnJvbSBcIi4uLy4uLy4uL2NvbXBpbGVyL2NvcmUvc3ltYm9sXCI7XG5pbXBvcnQge1dhc21UeXBlfSBmcm9tIFwiLi93YXNtLXR5cGVcIjtcbi8qKlxuICogQ3JlYXRlZCBieSBuLnZpbmF5YWthbiBvbiAwMi4wNi4xNy5cbiAqL1xuZXhwb3J0IGNsYXNzIFdhc21HbG9iYWwge1xuICAgIHN5bWJvbDogU3ltYm9sO1xuICAgIHR5cGU6V2FzbVR5cGU7XG4gICAgbmV4dDogV2FzbUdsb2JhbDtcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvYmFja2VuZHMvd2ViYXNzZW1ibHkvY29yZS93YXNtLWdsb2JhbC50cyIsImltcG9ydCB7V2FzbVNpZ25hdHVyZX0gZnJvbSBcIi4vd2FzbS1zaWduYXR1cmVcIjtcbi8qKlxuICogQ3JlYXRlZCBieSBuLnZpbmF5YWthbiBvbiAwMi4wNi4xNy5cbiAqL1xuZXhwb3J0IGNsYXNzIFdhc21JbXBvcnQge1xuICAgIHNpZ25hdHVyZUluZGV4OiBpbnQzMjtcbiAgICBzaWduYXR1cmU6IFdhc21TaWduYXR1cmU7XG4gICAgbW9kdWxlOiBzdHJpbmc7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIG5leHQ6IFdhc21JbXBvcnQ7XG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2JhY2tlbmRzL3dlYmFzc2VtYmx5L2NvcmUvd2FzbS1pbXBvcnQudHMiLCJpbXBvcnQge1N5bWJvbH0gZnJvbSBcIi4uLy4uLy4uL2NvbXBpbGVyL2NvcmUvc3ltYm9sXCI7XG5pbXBvcnQge1dhc21UeXBlfSBmcm9tIFwiLi93YXNtLXR5cGVcIjtcbi8qKlxuICogQ3JlYXRlZCBieSBuLnZpbmF5YWthbiBvbiAwMi4wNi4xNy5cbiAqL1xuZXhwb3J0IGNsYXNzIFdhc21Mb2NhbEVudHJ5IHtcbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgdHlwZTogV2FzbVR5cGUsXG4gICAgICAgICAgICAgICAgcHVibGljIG5hbWU6IHN0cmluZykge1xuXG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFdhc21Mb2NhbCB7XG4gICAgdHlwZTogV2FzbVR5cGU7XG4gICAgc3ltYm9sOiBTeW1ib2w7XG4gICAgbmV4dDogV2FzbUxvY2FsO1xufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9iYWNrZW5kcy93ZWJhc3NlbWJseS9jb3JlL3dhc20tbG9jYWwudHMiLCIvKipcbiAqIENyZWF0ZWQgYnkgbi52aW5heWFrYW4gb24gMDIuMDYuMTcuXG4gKi9cbmV4cG9ydCBjbGFzcyBXYXNtU2hhcmVkT2Zmc2V0IHtcbiAgICBuZXh0TG9jYWxPZmZzZXQ6IGludDMyID0gMDtcbiAgICBsb2NhbENvdW50OiBpbnQzMiA9IDA7XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvYmFja2VuZHMvd2ViYXNzZW1ibHkvY29yZS93YXNtLXNoYXJlZC1vZmZzZXQudHMiLCJpbXBvcnQge1dhc21XcmFwcGVkVHlwZX0gZnJvbSBcIi4vd2FzbS10eXBlXCI7XG5pbXBvcnQge2Fzc2VydH0gZnJvbSBcIi4uLy4uLy4uL3V0aWxzL2Fzc2VydFwiO1xuLyoqXG4gKiBDcmVhdGVkIGJ5IG4udmluYXlha2FuIG9uIDAyLjA2LjE3LlxuICovXG5leHBvcnQgY2xhc3MgV2FzbVNpZ25hdHVyZSB7XG4gICAgYXJndW1lbnRDb3VudDppbnQzMjtcbiAgICBhcmd1bWVudFR5cGVzOiBXYXNtV3JhcHBlZFR5cGU7XG4gICAgcmV0dXJuVHlwZTogV2FzbVdyYXBwZWRUeXBlO1xuICAgIG5leHQ6IFdhc21TaWduYXR1cmU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB3YXNtQXJlU2lnbmF0dXJlc0VxdWFsKGE6IFdhc21TaWduYXR1cmUsIGI6IFdhc21TaWduYXR1cmUpOiBib29sZWFuIHtcbiAgICBhc3NlcnQoYS5yZXR1cm5UeXBlICE9IG51bGwpO1xuICAgIGFzc2VydChiLnJldHVyblR5cGUgIT0gbnVsbCk7XG4gICAgYXNzZXJ0KGEucmV0dXJuVHlwZS5uZXh0ID09IG51bGwpO1xuICAgIGFzc2VydChiLnJldHVyblR5cGUubmV4dCA9PSBudWxsKTtcblxuICAgIGxldCB4ID0gYS5hcmd1bWVudFR5cGVzO1xuICAgIGxldCB5ID0gYi5hcmd1bWVudFR5cGVzO1xuXG4gICAgd2hpbGUgKHggIT0gbnVsbCAmJiB5ICE9IG51bGwpIHtcbiAgICAgICAgaWYgKHguaWQgIT0geS5pZCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgeCA9IHgubmV4dDtcbiAgICAgICAgeSA9IHkubmV4dDtcbiAgICB9XG5cbiAgICBpZiAoeCAhPSBudWxsIHx8IHkgIT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKGEucmV0dXJuVHlwZS5pZCAhPSBiLnJldHVyblR5cGUuaWQpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2JhY2tlbmRzL3dlYmFzc2VtYmx5L2NvcmUvd2FzbS1zaWduYXR1cmUudHMiLCJpbXBvcnQge1dhc21UeXBlfSBmcm9tIFwiLi4vY29yZS93YXNtLXR5cGVcIjtcbmltcG9ydCB7V2FzbU9wY29kZX0gZnJvbSBcIi4uL29wY29kZVwiO1xuaW1wb3J0IHtXYXNtUnVudGltZUxvY2FsfSBmcm9tIFwiLi93YXNtLXJ1bnRpbWUtbG9jYWxcIjtcbmltcG9ydCB7Qnl0ZUFycmF5fSBmcm9tIFwiLi4vLi4vLi4vdXRpbHMvYnl0ZWFycmF5XCI7XG5pbXBvcnQge1dhc21TaWduYXR1cmV9IGZyb20gXCIuLi9jb3JlL3dhc20tc2lnbmF0dXJlXCI7XG5pbXBvcnQge1Rlcm1pbmFsfSBmcm9tIFwiLi4vLi4vLi4vdXRpbHMvdGVybWluYWxcIjtcbi8qKlxuICogQ3JlYXRlZCBieSBuLnZpbmF5YWthbiBvbiAwMi4wNi4xNy5cbiAqL1xuZXhwb3J0IGNsYXNzIFdhc21TdGFja0l0ZW0ge1xuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyB0eXBlOiBXYXNtVHlwZSwgcHVibGljIHZhbHVlOiBudW1iZXIpIHt9XG59XG5cbmV4cG9ydCBjbGFzcyBXYXNtU3RhY2sge1xuICAgIGxpc3Q6IFdhc21TdGFja0l0ZW1bXTtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmxpc3QgPSBbXTtcbiAgICB9XG5cbiAgICBnZXQgbGVuZ3RoKCk6IGludDMyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubGlzdC5sZW5ndGg7XG4gICAgfVxuXG4gICAgcHVzaChpdGVtOiBXYXNtU3RhY2tJdGVtKTogdm9pZCB7XG4gICAgICAgIHRoaXMubGlzdC5wdXNoKGl0ZW0pO1xuICAgIH1cblxuICAgIHBvcChzaWxlbnQ6IGJvb2xlYW4gPSBmYWxzZSk6IFdhc21TdGFja0l0ZW0ge1xuICAgICAgICBpZiAodGhpcy5saXN0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgaWYgKCFzaWxlbnQpIHtcbiAgICAgICAgICAgICAgICBsZXQgZXJyb3IgPSBgU3RhY2sgaXMgZW1wdHlgO1xuICAgICAgICAgICAgICAgIFRlcm1pbmFsLndhcm4oZXJyb3IpO1xuICAgICAgICAgICAgICAgIC8vIHRocm93IGVycm9yO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmxpc3QucG9wKCk7XG4gICAgfVxuXG4gICAgY2xlYXIoKSB7XG4gICAgICAgIHRoaXMubGlzdCA9IFtdO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFdhc21SdW50aW1lRnVuY3Rpb24ge1xuICAgIG1vZHVsZTogc3RyaW5nO1xuICAgIG5hbWU6IHN0cmluZztcbiAgICBpc0ltcG9ydDogYm9vbGVhbjtcbiAgICBzaWduYXR1cmU6IFdhc21TaWduYXR1cmU7XG4gICAgbG9jYWxzOiBXYXNtUnVudGltZUxvY2FsW107XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcblxuICAgIH1cblxuICAgIGdldCByZXR1cm5UeXBlKCk6IFdhc21UeXBlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2lnbmF0dXJlLnJldHVyblR5cGUuaWQ7XG4gICAgfVxuXG4gICAgZXhlY3V0ZSguLi5wYXJhbSk6IFdhc21TdGFja0l0ZW0ge1xuICAgICAgICB0aHJvdyBcIldhc20gcnVudGltZSBmdW5jdGlvbiBleGVjdXRpb24gbm90IGltcGxlbWVudGVkIVwiO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFdhc21TdGFja0NvbnRleHQge1xuICAgIHN0YWNrOiBXYXNtU3RhY2s7XG4gICAgb3Bjb2RlczogbnVtYmVyW107XG4gICAgbGFzdE9wY29kZTogbnVtYmVyO1xuXG4gICAgY29uc3RydWN0b3IocHVibGljIGZuOiBXYXNtUnVudGltZUZ1bmN0aW9uKSB7XG4gICAgICAgIHRoaXMuc3RhY2sgPSBuZXcgV2FzbVN0YWNrKCk7XG4gICAgICAgIHRoaXMub3Bjb2RlcyA9IFtdO1xuICAgIH1cbn1cblxuLyoqXG4gKiBXYXNtIHN0YWNrIHRyYWNlciwgdGhpcyBpcyBub3QgYSBzdGFjayBtYWNoaW5lLiB0aGlzIHdpbGwgbm90IGV4ZWN1dGUgZnVuY3Rpb25zXG4gKiBpbnN0ZWFkIHRyYWNlIHN0YXRlIG9mIHN0YWNrIHdoaWxlIGVtaXR0aW5nIGZ1bmN0aW9uIGJvZHkuXG4gKi9cbmV4cG9ydCBjbGFzcyBXYXNtU3RhY2tUcmFjZXIge1xuXG4gICAgbWVtb3J5OiBCeXRlQXJyYXk7XG4gICAgZ2xvYmFsczogV2FzbVN0YWNrSXRlbVtdO1xuICAgIGNvbnRleHQ6IFdhc21TdGFja0NvbnRleHQgPSBudWxsO1xuICAgIGZ1bmN0aW9uczogV2FzbVJ1bnRpbWVGdW5jdGlvbltdO1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMubWVtb3J5ID0gbmV3IEJ5dGVBcnJheSgpO1xuICAgIH1cblxuICAgIHNldEdsb2JhbHMoZ2xvYmFsRW50cmllczogV2FzbVR5cGVbXSkge1xuICAgICAgICB0aGlzLmdsb2JhbHMgPSBbXTtcbiAgICAgICAgZ2xvYmFsRW50cmllcy5mb3JFYWNoKGdsb2JhbFR5cGUgPT4ge1xuICAgICAgICAgICAgdGhpcy5nbG9iYWxzLnB1c2gobmV3IFdhc21SdW50aW1lTG9jYWwoZ2xvYmFsVHlwZSkpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBzdGFydEZ1bmN0aW9uKGluZGV4OiBpbnQzMikge1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBuZXcgV2FzbVN0YWNrQ29udGV4dCh0aGlzLmZ1bmN0aW9uc1tpbmRleF0pO1xuICAgIH1cblxuICAgIGVuZEZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5jb250ZXh0LnN0YWNrLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbnRleHQuZm4ucmV0dXJuVHlwZSA9PT0gV2FzbVR5cGUuVk9JRCkge1xuICAgICAgICAgICAgICAgIGxldCBlcnJvciA9IGBGdW5jdGlvbiAnJHt0aGlzLmNvbnRleHQuZm4ubmFtZX0nIGRvZXMgbm90IHJldHVybiBhbnl0aGluZyBidXQgc3RhY2sgaXMgbm90IGVtcHR5LiBTdGFjayBjb250YWlucyAke3RoaXMuY29udGV4dC5zdGFjay5sZW5ndGh9IGl0ZW1zYFxuICAgICAgICAgICAgICAgIFRlcm1pbmFsLmVycm9yKGVycm9yKTtcbiAgICAgICAgICAgICAgICAvLyB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNvbnRleHQgPSBudWxsO1xuICAgIH1cblxuICAgIGNhbGxGdW5jdGlvbihpbmRleDogaW50MzIpIHtcbiAgICAgICAgbGV0IGZuID0gdGhpcy5mdW5jdGlvbnNbaW5kZXhdO1xuICAgICAgICBpZiAoZm4gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgXCJGdW5jdGlvbiBub3QgZGVmaW5lZCBhdCBpbmRleCBcIiArIGluZGV4O1xuICAgICAgICB9XG4gICAgICAgIGxldCByZXR1cm5UeXBlID0gZm4ucmV0dXJuVHlwZTtcbiAgICAgICAgZm9yIChsZXQgaTogaW50MzIgPSAwOyBpIDwgZm4uc2lnbmF0dXJlLmFyZ3VtZW50Q291bnQ7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5jb250ZXh0LnN0YWNrLnBvcCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZXR1cm5UeXBlICE9PSBXYXNtVHlwZS5WT0lEKSB7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuc3RhY2sucHVzaChuZXcgV2FzbVN0YWNrSXRlbShyZXR1cm5UeXBlLCB1bmRlZmluZWQpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1c2hPcGNvZGUob3Bjb2RlOiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuY29udGV4dCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5jb250ZXh0Lm9wY29kZXMucHVzaChvcGNvZGUpO1xuICAgICAgICAgICAgdGhpcy5jb250ZXh0Lmxhc3RPcGNvZGUgPSBvcGNvZGU7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVN0YWNrKG9wY29kZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdXNoVmFsdWUodmFsdWU6IG51bWJlcik6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5jb250ZXh0ICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVN0YWNrKHRoaXMuY29udGV4dC5sYXN0T3Bjb2RlLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHVwZGF0ZVN0YWNrKG9wY29kZTogbnVtYmVyLCB2YWx1ZT86IG51bWJlcikge1xuICAgICAgICBsZXQgdHlwZTogV2FzbVR5cGUgPSBudWxsO1xuICAgICAgICBpZiAob3Bjb2RlICE9PSB1bmRlZmluZWQgJiYgb3Bjb2RlICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0eXBlID0gZ2V0T3ByYW5kVHlwZShvcGNvZGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgc3dpdGNoIChvcGNvZGUpIHtcblxuICAgICAgICAgICAgY2FzZSBXYXNtT3Bjb2RlLkNBTEw6XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYWxsRnVuY3Rpb24odmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSBXYXNtT3Bjb2RlLkVORDpcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuc3RhY2suY2xlYXIoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSBXYXNtT3Bjb2RlLlJFVFVSTjpcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jb250ZXh0LnN0YWNrLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIFRlcm1pbmFsLndhcm4oYEVtcHR5IHN0YWNrIG9uIHJldHVybiBpbiBmdW5jdGlvbiAke3RoaXMuY29udGV4dC5mbi5uYW1lfWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSBXYXNtT3Bjb2RlLkkzMl9DT05TVDpcbiAgICAgICAgICAgIGNhc2UgV2FzbU9wY29kZS5JNjRfQ09OU1Q6XG4gICAgICAgICAgICBjYXNlIFdhc21PcGNvZGUuRjMyX0NPTlNUOlxuICAgICAgICAgICAgY2FzZSBXYXNtT3Bjb2RlLkY2NF9DT05TVDpcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuc3RhY2sucHVzaChuZXcgV2FzbVN0YWNrSXRlbSh0eXBlLCB2YWx1ZSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSBXYXNtT3Bjb2RlLlNFVF9MT0NBTDpcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jb250ZXh0LmZuLmxvY2Fscy5sZW5ndGggPD0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBlcnJvck1zZyA9IGBMb2NhbCBpbmRleCAke3ZhbHVlfSBvdXQgb2YgcmFuZ2UgJHt0aGlzLmNvbnRleHQuZm4ubG9jYWxzLmxlbmd0aH0gaW4gZnVuY3Rpb24gJHt0aGlzLmNvbnRleHQuZm4ubmFtZX1gO1xuICAgICAgICAgICAgICAgICAgICAgICAgVGVybWluYWwuZXJyb3IoZXJyb3JNc2cpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyb3JNc2c7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgYSA9IHRoaXMuY29udGV4dC5zdGFjay5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5mbi5sb2NhbHNbdmFsdWVdLnZhbHVlID0gYS52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSBXYXNtT3Bjb2RlLkdFVF9MT0NBTDpcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgYSA9IHRoaXMuY29udGV4dC5mbi5sb2NhbHNbdmFsdWVdO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuc3RhY2sucHVzaChuZXcgV2FzbVN0YWNrSXRlbShhLnR5cGUsIGEudmFsdWUpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgV2FzbU9wY29kZS5TRVRfR0xPQkFMOlxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmdsb2JhbHMubGVuZ3RoIDw9IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZXJyb3JNc2cgPSBgR2xvYmFsIGluZGV4ICR7dmFsdWV9IG91dCBvZiByYW5nZSAke3RoaXMuZ2xvYmFscy5sZW5ndGh9YDtcbiAgICAgICAgICAgICAgICAgICAgICAgIFRlcm1pbmFsLmVycm9yKGVycm9yTXNnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGVycm9yTXNnO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGEgPSB0aGlzLmNvbnRleHQuc3RhY2sucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdsb2JhbHNbdmFsdWVdLnZhbHVlID0gYS52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSBXYXNtT3Bjb2RlLkdFVF9HTE9CQUw6XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGEgPSB0aGlzLmdsb2JhbHNbdmFsdWVdO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuc3RhY2sucHVzaChuZXcgV2FzbVN0YWNrSXRlbShhLnR5cGUsIGEudmFsdWUpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIC8vIEFERFxuICAgICAgICAgICAgY2FzZSBXYXNtT3Bjb2RlLkkzMl9BREQ6XG4gICAgICAgICAgICBjYXNlIFdhc21PcGNvZGUuSTY0X0FERDpcbiAgICAgICAgICAgIGNhc2UgV2FzbU9wY29kZS5GMzJfQUREOlxuICAgICAgICAgICAgY2FzZSBXYXNtT3Bjb2RlLkY2NF9BREQ6IHtcbiAgICAgICAgICAgICAgICBsZXQgYSA9IHRoaXMuY29udGV4dC5zdGFjay5wb3AoKTtcbiAgICAgICAgICAgICAgICBsZXQgYiA9IHRoaXMuY29udGV4dC5zdGFjay5wb3AoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuc3RhY2sucHVzaChuZXcgV2FzbVN0YWNrSXRlbSh0eXBlLCBhLnZhbHVlICsgYi52YWx1ZSkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvL1NVQlxuICAgICAgICAgICAgY2FzZSBXYXNtT3Bjb2RlLkkzMl9TVUI6XG4gICAgICAgICAgICBjYXNlIFdhc21PcGNvZGUuSTY0X1NVQjpcbiAgICAgICAgICAgIGNhc2UgV2FzbU9wY29kZS5GMzJfU1VCOlxuICAgICAgICAgICAgY2FzZSBXYXNtT3Bjb2RlLkY2NF9TVUI6IHtcbiAgICAgICAgICAgICAgICBsZXQgYSA9IHRoaXMuY29udGV4dC5zdGFjay5wb3AoKTtcbiAgICAgICAgICAgICAgICBsZXQgYiA9IHRoaXMuY29udGV4dC5zdGFjay5wb3AoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuc3RhY2sucHVzaChuZXcgV2FzbVN0YWNrSXRlbSh0eXBlLCBhLnZhbHVlIC0gYi52YWx1ZSkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvL01VTFxuICAgICAgICAgICAgY2FzZSBXYXNtT3Bjb2RlLkkzMl9NVUw6XG4gICAgICAgICAgICBjYXNlIFdhc21PcGNvZGUuSTY0X01VTDpcbiAgICAgICAgICAgIGNhc2UgV2FzbU9wY29kZS5GMzJfTVVMOlxuICAgICAgICAgICAgY2FzZSBXYXNtT3Bjb2RlLkY2NF9NVUw6IHtcbiAgICAgICAgICAgICAgICBsZXQgYSA9IHRoaXMuY29udGV4dC5zdGFjay5wb3AoKTtcbiAgICAgICAgICAgICAgICBsZXQgYiA9IHRoaXMuY29udGV4dC5zdGFjay5wb3AoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuc3RhY2sucHVzaChuZXcgV2FzbVN0YWNrSXRlbSh0eXBlLCBhLnZhbHVlICogYi52YWx1ZSkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvL0RJVlxuICAgICAgICAgICAgY2FzZSBXYXNtT3Bjb2RlLkkzMl9ESVZfUzpcbiAgICAgICAgICAgIGNhc2UgV2FzbU9wY29kZS5JMzJfRElWX1U6XG4gICAgICAgICAgICBjYXNlIFdhc21PcGNvZGUuSTY0X0RJVl9TOlxuICAgICAgICAgICAgY2FzZSBXYXNtT3Bjb2RlLkk2NF9ESVZfVTpcbiAgICAgICAgICAgIGNhc2UgV2FzbU9wY29kZS5GMzJfRElWOlxuICAgICAgICAgICAgY2FzZSBXYXNtT3Bjb2RlLkY2NF9ESVY6IHtcbiAgICAgICAgICAgICAgICBsZXQgYSA9IHRoaXMuY29udGV4dC5zdGFjay5wb3AoKTtcbiAgICAgICAgICAgICAgICBsZXQgYiA9IHRoaXMuY29udGV4dC5zdGFjay5wb3AoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuc3RhY2sucHVzaChuZXcgV2FzbVN0YWNrSXRlbSh0eXBlLCBhLnZhbHVlIC8gYi52YWx1ZSkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvL1JFTVxuICAgICAgICAgICAgY2FzZSBXYXNtT3Bjb2RlLkkzMl9SRU1fUzpcbiAgICAgICAgICAgIGNhc2UgV2FzbU9wY29kZS5JMzJfUkVNX1U6XG4gICAgICAgICAgICBjYXNlIFdhc21PcGNvZGUuSTY0X1JFTV9TOlxuICAgICAgICAgICAgY2FzZSBXYXNtT3Bjb2RlLkk2NF9SRU1fVToge1xuICAgICAgICAgICAgICAgIGxldCBhID0gdGhpcy5jb250ZXh0LnN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgICAgIGxldCBiID0gdGhpcy5jb250ZXh0LnN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5zdGFjay5wdXNoKG5ldyBXYXNtU3RhY2tJdGVtKHR5cGUsIGEudmFsdWUgJSBiLnZhbHVlKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vR1RcbiAgICAgICAgICAgIGNhc2UgV2FzbU9wY29kZS5JMzJfR1RfUzpcbiAgICAgICAgICAgIGNhc2UgV2FzbU9wY29kZS5JMzJfR1RfVTpcbiAgICAgICAgICAgIGNhc2UgV2FzbU9wY29kZS5JNjRfR1RfUzpcbiAgICAgICAgICAgIGNhc2UgV2FzbU9wY29kZS5JNjRfR1RfVTpcbiAgICAgICAgICAgIGNhc2UgV2FzbU9wY29kZS5GMzJfR1Q6XG4gICAgICAgICAgICBjYXNlIFdhc21PcGNvZGUuRjY0X0dUOiB7XG4gICAgICAgICAgICAgICAgbGV0IGEgPSB0aGlzLmNvbnRleHQuc3RhY2sucG9wKCk7XG4gICAgICAgICAgICAgICAgbGV0IGIgPSB0aGlzLmNvbnRleHQuc3RhY2sucG9wKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LnN0YWNrLnB1c2gobmV3IFdhc21TdGFja0l0ZW0odHlwZSwgYS52YWx1ZSA+IGIudmFsdWUgPyAxIDogMCkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvL0dFXG4gICAgICAgICAgICBjYXNlIFdhc21PcGNvZGUuSTMyX0dFX1M6XG4gICAgICAgICAgICBjYXNlIFdhc21PcGNvZGUuSTMyX0dFX1U6XG4gICAgICAgICAgICBjYXNlIFdhc21PcGNvZGUuSTY0X0dFX1M6XG4gICAgICAgICAgICBjYXNlIFdhc21PcGNvZGUuSTY0X0dFX1U6XG4gICAgICAgICAgICBjYXNlIFdhc21PcGNvZGUuRjMyX0dFOlxuICAgICAgICAgICAgY2FzZSBXYXNtT3Bjb2RlLkY2NF9HRToge1xuICAgICAgICAgICAgICAgIGxldCBhID0gdGhpcy5jb250ZXh0LnN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgICAgIGxldCBiID0gdGhpcy5jb250ZXh0LnN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5zdGFjay5wdXNoKG5ldyBXYXNtU3RhY2tJdGVtKHR5cGUsIGEudmFsdWUgPj0gYi52YWx1ZSA/IDEgOiAwKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vTFRcbiAgICAgICAgICAgIGNhc2UgV2FzbU9wY29kZS5JMzJfTFRfUzpcbiAgICAgICAgICAgIGNhc2UgV2FzbU9wY29kZS5JMzJfTFRfVTpcbiAgICAgICAgICAgIGNhc2UgV2FzbU9wY29kZS5JNjRfTFRfUzpcbiAgICAgICAgICAgIGNhc2UgV2FzbU9wY29kZS5JNjRfTFRfVTpcbiAgICAgICAgICAgIGNhc2UgV2FzbU9wY29kZS5GMzJfTFQ6XG4gICAgICAgICAgICBjYXNlIFdhc21PcGNvZGUuRjY0X0xUOiB7XG4gICAgICAgICAgICAgICAgbGV0IGEgPSB0aGlzLmNvbnRleHQuc3RhY2sucG9wKCk7XG4gICAgICAgICAgICAgICAgbGV0IGIgPSB0aGlzLmNvbnRleHQuc3RhY2sucG9wKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LnN0YWNrLnB1c2gobmV3IFdhc21TdGFja0l0ZW0odHlwZSwgYS52YWx1ZSA8IGIudmFsdWUgPyAxIDogMCkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvL0xFXG4gICAgICAgICAgICBjYXNlIFdhc21PcGNvZGUuSTMyX0xFX1M6XG4gICAgICAgICAgICBjYXNlIFdhc21PcGNvZGUuSTMyX0xFX1U6XG4gICAgICAgICAgICBjYXNlIFdhc21PcGNvZGUuSTY0X0xFX1M6XG4gICAgICAgICAgICBjYXNlIFdhc21PcGNvZGUuSTY0X0xFX1U6XG4gICAgICAgICAgICBjYXNlIFdhc21PcGNvZGUuRjMyX0xFOlxuICAgICAgICAgICAgY2FzZSBXYXNtT3Bjb2RlLkY2NF9MRToge1xuICAgICAgICAgICAgICAgIGxldCBhID0gdGhpcy5jb250ZXh0LnN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgICAgIGxldCBiID0gdGhpcy5jb250ZXh0LnN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5zdGFjay5wdXNoKG5ldyBXYXNtU3RhY2tJdGVtKHR5cGUsIGEudmFsdWUgPD0gYi52YWx1ZSA/IDEgOiAwKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vRVFcbiAgICAgICAgICAgIGNhc2UgV2FzbU9wY29kZS5JMzJfRVE6XG4gICAgICAgICAgICBjYXNlIFdhc21PcGNvZGUuSTY0X0VROlxuICAgICAgICAgICAgY2FzZSBXYXNtT3Bjb2RlLkYzMl9FUTpcbiAgICAgICAgICAgIGNhc2UgV2FzbU9wY29kZS5GNjRfRVE6IHtcbiAgICAgICAgICAgICAgICBsZXQgYSA9IHRoaXMuY29udGV4dC5zdGFjay5wb3AoKTtcbiAgICAgICAgICAgICAgICBsZXQgYiA9IHRoaXMuY29udGV4dC5zdGFjay5wb3AoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuc3RhY2sucHVzaChuZXcgV2FzbVN0YWNrSXRlbSh0eXBlLCBhLnZhbHVlID09PSBiLnZhbHVlID8gMSA6IDApKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy9ORVxuICAgICAgICAgICAgY2FzZSBXYXNtT3Bjb2RlLkkzMl9ORTpcbiAgICAgICAgICAgIGNhc2UgV2FzbU9wY29kZS5JNjRfTkU6XG4gICAgICAgICAgICBjYXNlIFdhc21PcGNvZGUuRjMyX05FOlxuICAgICAgICAgICAgY2FzZSBXYXNtT3Bjb2RlLkY2NF9ORToge1xuICAgICAgICAgICAgICAgIGxldCBhID0gdGhpcy5jb250ZXh0LnN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgICAgIGxldCBiID0gdGhpcy5jb250ZXh0LnN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5zdGFjay5wdXNoKG5ldyBXYXNtU3RhY2tJdGVtKHR5cGUsIGEudmFsdWUgIT09IGIudmFsdWUgPyAxIDogMCkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvL0VRWlxuICAgICAgICAgICAgY2FzZSBXYXNtT3Bjb2RlLkkzMl9FUVo6XG4gICAgICAgICAgICBjYXNlIFdhc21PcGNvZGUuSTY0X0VRWjoge1xuICAgICAgICAgICAgICAgIGxldCBhID0gdGhpcy5jb250ZXh0LnN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5zdGFjay5wdXNoKG5ldyBXYXNtU3RhY2tJdGVtKHR5cGUsIGEudmFsdWUgPT09IDAgPyAxIDogMCkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvL0FORFxuICAgICAgICAgICAgY2FzZSBXYXNtT3Bjb2RlLkkzMl9BTkQ6XG4gICAgICAgICAgICBjYXNlIFdhc21PcGNvZGUuSTY0X0FORDoge1xuICAgICAgICAgICAgICAgIGxldCBhID0gdGhpcy5jb250ZXh0LnN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgICAgIGxldCBiID0gdGhpcy5jb250ZXh0LnN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5zdGFjay5wdXNoKG5ldyBXYXNtU3RhY2tJdGVtKHR5cGUsIGEudmFsdWUgJiBiLnZhbHVlKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vT1JcbiAgICAgICAgICAgIGNhc2UgV2FzbU9wY29kZS5JMzJfT1I6XG4gICAgICAgICAgICBjYXNlIFdhc21PcGNvZGUuSTY0X09SOiB7XG4gICAgICAgICAgICAgICAgbGV0IGEgPSB0aGlzLmNvbnRleHQuc3RhY2sucG9wKCk7XG4gICAgICAgICAgICAgICAgbGV0IGIgPSB0aGlzLmNvbnRleHQuc3RhY2sucG9wKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LnN0YWNrLnB1c2gobmV3IFdhc21TdGFja0l0ZW0odHlwZSwgYS52YWx1ZSB8IGIudmFsdWUpKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy9YT1JcbiAgICAgICAgICAgIGNhc2UgV2FzbU9wY29kZS5JMzJfWE9SOlxuICAgICAgICAgICAgY2FzZSBXYXNtT3Bjb2RlLkk2NF9YT1I6IHtcbiAgICAgICAgICAgICAgICBsZXQgYSA9IHRoaXMuY29udGV4dC5zdGFjay5wb3AoKTtcbiAgICAgICAgICAgICAgICBsZXQgYiA9IHRoaXMuY29udGV4dC5zdGFjay5wb3AoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuc3RhY2sucHVzaChuZXcgV2FzbVN0YWNrSXRlbSh0eXBlLCBhLnZhbHVlIF4gYi52YWx1ZSkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvL0NUWlxuICAgICAgICAgICAgY2FzZSBXYXNtT3Bjb2RlLkkzMl9DVFo6XG4gICAgICAgICAgICBjYXNlIFdhc21PcGNvZGUuSTY0X0NUWjoge1xuICAgICAgICAgICAgICAgIC8vIGxldCBhID0gdGhpcy5jb250ZXh0LnN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgICAgIC8vIHRoaXMuY29udGV4dC5zdGFjay5wdXNoKG5ldyBXYXNtU3RhY2tJdGVtKHR5cGUsIGN0eihhLnZhbHVlKSkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvL0NMWlxuICAgICAgICAgICAgY2FzZSBXYXNtT3Bjb2RlLkkzMl9DTFo6XG4gICAgICAgICAgICBjYXNlIFdhc21PcGNvZGUuSTY0X0NMWjoge1xuICAgICAgICAgICAgICAgIGxldCBhID0gdGhpcy5jb250ZXh0LnN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5zdGFjay5wdXNoKG5ldyBXYXNtU3RhY2tJdGVtKHR5cGUsIE1hdGguY2x6MzIoYS52YWx1ZSkpKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy9DTFpcbiAgICAgICAgICAgIGNhc2UgV2FzbU9wY29kZS5JMzJfUk9UTDpcbiAgICAgICAgICAgIGNhc2UgV2FzbU9wY29kZS5JNjRfUk9UTDoge1xuICAgICAgICAgICAgICAgIC8vIGxldCBhID0gdGhpcy5jb250ZXh0LnN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgICAgIC8vIHRoaXMuY29udGV4dC5zdGFjay5wdXNoKG5ldyBXYXNtU3RhY2tJdGVtKHR5cGUsIHJvdGwoYS52YWx1ZSkpKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy9TSFJcbiAgICAgICAgICAgIGNhc2UgV2FzbU9wY29kZS5JMzJfU0hSX1M6XG4gICAgICAgICAgICBjYXNlIFdhc21PcGNvZGUuSTMyX1NIUl9VOlxuICAgICAgICAgICAgY2FzZSBXYXNtT3Bjb2RlLkk2NF9TSFJfUzpcbiAgICAgICAgICAgIGNhc2UgV2FzbU9wY29kZS5JNjRfU0hSX1U6IHtcbiAgICAgICAgICAgICAgICAvLyBsZXQgYSA9IHRoaXMuY29udGV4dC5zdGFjay5wb3AoKTtcbiAgICAgICAgICAgICAgICAvLyB0aGlzLmNvbnRleHQuc3RhY2sucHVzaChuZXcgV2FzbVN0YWNrSXRlbSh0eXBlLCBzaHIoYS52YWx1ZSkpKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy9TSFJcbiAgICAgICAgICAgIGNhc2UgV2FzbU9wY29kZS5JMzJfU0hMOlxuICAgICAgICAgICAgY2FzZSBXYXNtT3Bjb2RlLkk2NF9TSEw6IHtcbiAgICAgICAgICAgICAgICAvLyBsZXQgYSA9IHRoaXMuY29udGV4dC5zdGFjay5wb3AoKTtcbiAgICAgICAgICAgICAgICAvLyB0aGlzLmNvbnRleHQuc3RhY2sucHVzaChuZXcgV2FzbVN0YWNrSXRlbSh0eXBlLCBzaGwoYS52YWx1ZSkpKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy9QT1BDTlRcbiAgICAgICAgICAgIGNhc2UgV2FzbU9wY29kZS5JMzJfUE9QQ05UOlxuICAgICAgICAgICAgY2FzZSBXYXNtT3Bjb2RlLkk2NF9QT1BDTlQ6IHtcbiAgICAgICAgICAgICAgICAvLyBsZXQgYSA9IHRoaXMuY29udGV4dC5zdGFjay5wb3AoKTtcbiAgICAgICAgICAgICAgICAvLyB0aGlzLmNvbnRleHQuc3RhY2sucHVzaChuZXcgV2FzbVN0YWNrSXRlbSh0eXBlLCBwb3BjbnQoYS52YWx1ZSkpKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FzZSBXYXNtT3Bjb2RlLkYzMl9TUVJUOlxuICAgICAgICAgICAgY2FzZSBXYXNtT3Bjb2RlLkY2NF9TUVJUOiB7XG4gICAgICAgICAgICAgICAgbGV0IGEgPSB0aGlzLmNvbnRleHQuc3RhY2sucG9wKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LnN0YWNrLnB1c2gobmV3IFdhc21TdGFja0l0ZW0oYS50eXBlLCBNYXRoLnNxcnQoYS52YWx1ZSkpKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy9MT0FEXG4gICAgICAgICAgICBjYXNlIFdhc21PcGNvZGUuSTMyX0xPQUQ6XG4gICAgICAgICAgICBjYXNlIFdhc21PcGNvZGUuSTY0X0xPQUQ6XG4gICAgICAgICAgICBjYXNlIFdhc21PcGNvZGUuSTMyX0xPQUQ4X1U6XG4gICAgICAgICAgICBjYXNlIFdhc21PcGNvZGUuSTMyX0xPQUQ4X1M6XG4gICAgICAgICAgICBjYXNlIFdhc21PcGNvZGUuSTY0X0xPQUQ4X1U6XG4gICAgICAgICAgICBjYXNlIFdhc21PcGNvZGUuSTY0X0xPQUQ4X1M6XG4gICAgICAgICAgICBjYXNlIFdhc21PcGNvZGUuSTMyX0xPQUQxNl9VOlxuICAgICAgICAgICAgY2FzZSBXYXNtT3Bjb2RlLkkzMl9MT0FEMTZfUzpcbiAgICAgICAgICAgIGNhc2UgV2FzbU9wY29kZS5JNjRfTE9BRDE2X1U6XG4gICAgICAgICAgICBjYXNlIFdhc21PcGNvZGUuSTY0X0xPQUQxNl9TOlxuICAgICAgICAgICAgY2FzZSBXYXNtT3Bjb2RlLkYzMl9MT0FEOlxuICAgICAgICAgICAgY2FzZSBXYXNtT3Bjb2RlLkY2NF9MT0FEOiB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LnN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5zdGFjay5wdXNoKG5ldyBXYXNtU3RhY2tJdGVtKHR5cGUsIDApKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQubGFzdE9wY29kZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vU1RPUkVcbiAgICAgICAgICAgIGNhc2UgV2FzbU9wY29kZS5JMzJfU1RPUkU6XG4gICAgICAgICAgICBjYXNlIFdhc21PcGNvZGUuSTY0X1NUT1JFOlxuICAgICAgICAgICAgY2FzZSBXYXNtT3Bjb2RlLkkzMl9TVE9SRTg6XG4gICAgICAgICAgICBjYXNlIFdhc21PcGNvZGUuSTY0X1NUT1JFODpcbiAgICAgICAgICAgIGNhc2UgV2FzbU9wY29kZS5JMzJfU1RPUkUxNjpcbiAgICAgICAgICAgIGNhc2UgV2FzbU9wY29kZS5JNjRfU1RPUkUxNjpcbiAgICAgICAgICAgIGNhc2UgV2FzbU9wY29kZS5GMzJfU1RPUkU6XG4gICAgICAgICAgICBjYXNlIFdhc21PcGNvZGUuRjY0X1NUT1JFOiB7XG4gICAgICAgICAgICAgICAgbGV0IGEgPSB0aGlzLmNvbnRleHQuc3RhY2sucG9wKCk7IC8vIGFkZHJlc3NcbiAgICAgICAgICAgICAgICBsZXQgYiA9IHRoaXMuY29udGV4dC5zdGFjay5wb3AoKTsgLy8gb2Zmc2V0XG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0Lmxhc3RPcGNvZGUgPSBudWxsO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYXNlIFdhc21PcGNvZGUuSUY6XG4gICAgICAgICAgICBjYXNlIFdhc21PcGNvZGUuQlJfSUY6XG4gICAgICAgICAgICAgICAgbGV0IGEgPSB0aGlzLmNvbnRleHQuc3RhY2sucG9wKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0Lmxhc3RPcGNvZGUgPSBudWxsO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIFdhc21PcGNvZGUuSUZfRUxTRTpcbiAgICAgICAgICAgIGNhc2UgV2FzbU9wY29kZS5CTE9DSzpcbiAgICAgICAgICAgIGNhc2UgV2FzbU9wY29kZS5MT09QOlxuICAgICAgICAgICAgY2FzZSBXYXNtT3Bjb2RlLkJSOlxuICAgICAgICAgICAgICAgIC8vaWdub3JlXG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgV2FzbU9wY29kZS5JMzJfV1JBUF9JNjQ6XG4gICAgICAgICAgICBjYXNlIFdhc21PcGNvZGUuSTMyX1RSVU5DX1NfRjMyOlxuICAgICAgICAgICAgY2FzZSBXYXNtT3Bjb2RlLkkzMl9UUlVOQ19VX0YzMjpcbiAgICAgICAgICAgIGNhc2UgV2FzbU9wY29kZS5JMzJfVFJVTkNfU19GNjQ6XG4gICAgICAgICAgICBjYXNlIFdhc21PcGNvZGUuSTMyX1RSVU5DX1VfRjY0OlxuICAgICAgICAgICAgY2FzZSBXYXNtT3Bjb2RlLkkzMl9SRUlOVEVSUFJFVF9GMzI6XG4gICAgICAgICAgICBjYXNlIFdhc21PcGNvZGUuSTY0X1RSVU5DX1NfRjMyOlxuICAgICAgICAgICAgY2FzZSBXYXNtT3Bjb2RlLkk2NF9UUlVOQ19VX0YzMjpcbiAgICAgICAgICAgIGNhc2UgV2FzbU9wY29kZS5JNjRfVFJVTkNfU19GNjQ6XG4gICAgICAgICAgICBjYXNlIFdhc21PcGNvZGUuSTY0X1RSVU5DX1VfRjY0OlxuICAgICAgICAgICAgY2FzZSBXYXNtT3Bjb2RlLkk2NF9FWFRFTkRfU19JMzI6XG4gICAgICAgICAgICBjYXNlIFdhc21PcGNvZGUuSTY0X0VYVEVORF9VX0kzMjpcbiAgICAgICAgICAgIGNhc2UgV2FzbU9wY29kZS5GMzJfREVNT1RFX0Y2NDpcbiAgICAgICAgICAgIGNhc2UgV2FzbU9wY29kZS5GMzJfVFJVTkM6XG4gICAgICAgICAgICBjYXNlIFdhc21PcGNvZGUuRjMyX1JFSU5URVJQUkVUX0kzMjpcbiAgICAgICAgICAgIGNhc2UgV2FzbU9wY29kZS5GMzJfQ09OVkVSVF9TX0kzMjpcbiAgICAgICAgICAgIGNhc2UgV2FzbU9wY29kZS5GMzJfQ09OVkVSVF9VX0kzMjpcbiAgICAgICAgICAgIGNhc2UgV2FzbU9wY29kZS5GMzJfQ09OVkVSVF9TX0k2NDpcbiAgICAgICAgICAgIGNhc2UgV2FzbU9wY29kZS5GMzJfQ09OVkVSVF9VX0k2NDpcbiAgICAgICAgICAgIGNhc2UgV2FzbU9wY29kZS5GNjRfUFJPTU9URV9GMzI6XG4gICAgICAgICAgICBjYXNlIFdhc21PcGNvZGUuRjY0X1RSVU5DOlxuICAgICAgICAgICAgY2FzZSBXYXNtT3Bjb2RlLkY2NF9SRUlOVEVSUFJFVF9JNjQ6XG4gICAgICAgICAgICBjYXNlIFdhc21PcGNvZGUuRjY0X0NPTlZFUlRfU19JMzI6XG4gICAgICAgICAgICBjYXNlIFdhc21PcGNvZGUuRjY0X0NPTlZFUlRfVV9JMzI6XG4gICAgICAgICAgICBjYXNlIFdhc21PcGNvZGUuRjY0X0NPTlZFUlRfU19JNjQ6XG4gICAgICAgICAgICBjYXNlIFdhc21PcGNvZGUuRjY0X0NPTlZFUlRfVV9JNjQ6XG4gICAgICAgICAgICAgICAgLy9pZ25vcmUgID4gcG9wID4gcHVzaFxuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIG51bGw6XG4gICAgICAgICAgICBjYXNlIHVuZGVmaW5lZDpcbiAgICAgICAgICAgICAgICAvL2lnbm9yZVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIFRlcm1pbmFsLndhcm4oYFVuaGFuZGxlZCBPcGNvZGUgJHtvcGNvZGV9ID0+ICR7V2FzbU9wY29kZVtvcGNvZGVdfWApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBnZXRPcHJhbmRUeXBlKG9wY29kZTogbnVtYmVyKTogV2FzbVR5cGUge1xuICAgIHN3aXRjaCAob3Bjb2RlKSB7XG4gICAgICAgIC8vIEludDMyXG4gICAgICAgIGNhc2UgV2FzbU9wY29kZS5JMzJfQ09OU1Q6XG4gICAgICAgIGNhc2UgV2FzbU9wY29kZS5JMzJfQUREOlxuICAgICAgICBjYXNlIFdhc21PcGNvZGUuSTMyX01VTDpcbiAgICAgICAgY2FzZSBXYXNtT3Bjb2RlLkkzMl9TVUI6XG4gICAgICAgIGNhc2UgV2FzbU9wY29kZS5JMzJfRElWX1M6XG4gICAgICAgIGNhc2UgV2FzbU9wY29kZS5JMzJfRElWX1U6XG4gICAgICAgIGNhc2UgV2FzbU9wY29kZS5JMzJfUkVNX1M6XG4gICAgICAgIGNhc2UgV2FzbU9wY29kZS5JMzJfUkVNX1U6XG4gICAgICAgIGNhc2UgV2FzbU9wY29kZS5JMzJfR0VfUzpcbiAgICAgICAgY2FzZSBXYXNtT3Bjb2RlLkkzMl9HRV9VOlxuICAgICAgICBjYXNlIFdhc21PcGNvZGUuSTMyX0xFX1M6XG4gICAgICAgIGNhc2UgV2FzbU9wY29kZS5JMzJfTEVfVTpcbiAgICAgICAgY2FzZSBXYXNtT3Bjb2RlLkkzMl9HVF9TOlxuICAgICAgICBjYXNlIFdhc21PcGNvZGUuSTMyX0dUX1U6XG4gICAgICAgIGNhc2UgV2FzbU9wY29kZS5JMzJfTFRfUzpcbiAgICAgICAgY2FzZSBXYXNtT3Bjb2RlLkkzMl9MVF9VOlxuICAgICAgICBjYXNlIFdhc21PcGNvZGUuSTMyX0VROlxuICAgICAgICBjYXNlIFdhc21PcGNvZGUuSTMyX05FOlxuICAgICAgICBjYXNlIFdhc21PcGNvZGUuSTMyX0VRWjpcbiAgICAgICAgY2FzZSBXYXNtT3Bjb2RlLkkzMl9BTkQ6XG4gICAgICAgIGNhc2UgV2FzbU9wY29kZS5JMzJfT1I6XG4gICAgICAgIGNhc2UgV2FzbU9wY29kZS5JMzJfWE9SOlxuICAgICAgICBjYXNlIFdhc21PcGNvZGUuSTMyX0NUWjpcbiAgICAgICAgY2FzZSBXYXNtT3Bjb2RlLkkzMl9DTFo6XG4gICAgICAgIGNhc2UgV2FzbU9wY29kZS5JMzJfUk9UTDpcbiAgICAgICAgY2FzZSBXYXNtT3Bjb2RlLkkzMl9ST1RSOlxuICAgICAgICBjYXNlIFdhc21PcGNvZGUuSTMyX1NITDpcbiAgICAgICAgY2FzZSBXYXNtT3Bjb2RlLkkzMl9TSFJfUzpcbiAgICAgICAgY2FzZSBXYXNtT3Bjb2RlLkkzMl9TSFJfVTpcbiAgICAgICAgY2FzZSBXYXNtT3Bjb2RlLkkzMl9QT1BDTlQ6XG4gICAgICAgIGNhc2UgV2FzbU9wY29kZS5JMzJfTE9BRDpcbiAgICAgICAgY2FzZSBXYXNtT3Bjb2RlLkkzMl9MT0FEOF9TOlxuICAgICAgICBjYXNlIFdhc21PcGNvZGUuSTMyX0xPQUQ4X1U6XG4gICAgICAgIGNhc2UgV2FzbU9wY29kZS5JMzJfTE9BRDE2X1M6XG4gICAgICAgIGNhc2UgV2FzbU9wY29kZS5JMzJfTE9BRDE2X1U6XG4gICAgICAgIGNhc2UgV2FzbU9wY29kZS5JMzJfU1RPUkUxNjpcbiAgICAgICAgY2FzZSBXYXNtT3Bjb2RlLkkzMl9TVE9SRTg6XG4gICAgICAgIGNhc2UgV2FzbU9wY29kZS5JMzJfU1RPUkU6XG4gICAgICAgIGNhc2UgV2FzbU9wY29kZS5JMzJfUkVJTlRFUlBSRVRfRjMyOlxuICAgICAgICBjYXNlIFdhc21PcGNvZGUuSTMyX1RSVU5DX1NfRjMyOlxuICAgICAgICBjYXNlIFdhc21PcGNvZGUuSTMyX1RSVU5DX1VfRjMyOlxuICAgICAgICBjYXNlIFdhc21PcGNvZGUuSTMyX1RSVU5DX1NfRjY0OlxuICAgICAgICBjYXNlIFdhc21PcGNvZGUuSTMyX1RSVU5DX1VfRjY0OlxuICAgICAgICBjYXNlIFdhc21PcGNvZGUuSTMyX1dSQVBfSTY0OlxuICAgICAgICAgICAgcmV0dXJuIFdhc21UeXBlLkkzMjtcblxuICAgICAgICAvLyBJbnQ2NFxuICAgICAgICBjYXNlIFdhc21PcGNvZGUuSTY0X0NPTlNUOlxuICAgICAgICBjYXNlIFdhc21PcGNvZGUuSTY0X0FERDpcbiAgICAgICAgY2FzZSBXYXNtT3Bjb2RlLkk2NF9NVUw6XG4gICAgICAgIGNhc2UgV2FzbU9wY29kZS5JNjRfU1VCOlxuICAgICAgICBjYXNlIFdhc21PcGNvZGUuSTY0X0RJVl9TOlxuICAgICAgICBjYXNlIFdhc21PcGNvZGUuSTY0X0RJVl9VOlxuICAgICAgICBjYXNlIFdhc21PcGNvZGUuSTY0X0NMWjpcbiAgICAgICAgY2FzZSBXYXNtT3Bjb2RlLkk2NF9ST1RMOlxuICAgICAgICBjYXNlIFdhc21PcGNvZGUuSTY0X0FORDpcbiAgICAgICAgY2FzZSBXYXNtT3Bjb2RlLkk2NF9DVFo6XG4gICAgICAgIGNhc2UgV2FzbU9wY29kZS5JNjRfRVE6XG4gICAgICAgIGNhc2UgV2FzbU9wY29kZS5JNjRfRVFaOlxuICAgICAgICBjYXNlIFdhc21PcGNvZGUuSTY0X0dFX1M6XG4gICAgICAgIGNhc2UgV2FzbU9wY29kZS5JNjRfR0VfVTpcbiAgICAgICAgY2FzZSBXYXNtT3Bjb2RlLkk2NF9MRV9TOlxuICAgICAgICBjYXNlIFdhc21PcGNvZGUuSTY0X0xFX1U6XG4gICAgICAgIGNhc2UgV2FzbU9wY29kZS5JNjRfR1RfUzpcbiAgICAgICAgY2FzZSBXYXNtT3Bjb2RlLkk2NF9HVF9VOlxuICAgICAgICBjYXNlIFdhc21PcGNvZGUuSTY0X0xUX1M6XG4gICAgICAgIGNhc2UgV2FzbU9wY29kZS5JNjRfTFRfVTpcbiAgICAgICAgY2FzZSBXYXNtT3Bjb2RlLkk2NF9MT0FEOlxuICAgICAgICBjYXNlIFdhc21PcGNvZGUuSTY0X0xPQUQ4X1M6XG4gICAgICAgIGNhc2UgV2FzbU9wY29kZS5JNjRfTE9BRDhfVTpcbiAgICAgICAgY2FzZSBXYXNtT3Bjb2RlLkk2NF9MT0FEMTZfUzpcbiAgICAgICAgY2FzZSBXYXNtT3Bjb2RlLkk2NF9MT0FEMTZfVTpcbiAgICAgICAgY2FzZSBXYXNtT3Bjb2RlLkk2NF9ORTpcbiAgICAgICAgY2FzZSBXYXNtT3Bjb2RlLkk2NF9YT1I6XG4gICAgICAgIGNhc2UgV2FzbU9wY29kZS5JNjRfU1RPUkUxNjpcbiAgICAgICAgY2FzZSBXYXNtT3Bjb2RlLkk2NF9TVE9SRTg6XG4gICAgICAgIGNhc2UgV2FzbU9wY29kZS5JNjRfU1RPUkU6XG4gICAgICAgIGNhc2UgV2FzbU9wY29kZS5JNjRfU0hSX1M6XG4gICAgICAgIGNhc2UgV2FzbU9wY29kZS5JNjRfU0hSX1U6XG4gICAgICAgIGNhc2UgV2FzbU9wY29kZS5JNjRfU0hMOlxuICAgICAgICBjYXNlIFdhc21PcGNvZGUuSTY0X1JPVFI6XG4gICAgICAgIGNhc2UgV2FzbU9wY29kZS5JNjRfUkVNX1M6XG4gICAgICAgIGNhc2UgV2FzbU9wY29kZS5JNjRfUkVNX1U6XG4gICAgICAgIGNhc2UgV2FzbU9wY29kZS5JNjRfUE9QQ05UOlxuICAgICAgICBjYXNlIFdhc21PcGNvZGUuSTY0X09SOlxuICAgICAgICBjYXNlIFdhc21PcGNvZGUuSTY0X1JFSU5URVJQUkVUX0Y2NDpcbiAgICAgICAgY2FzZSBXYXNtT3Bjb2RlLkk2NF9UUlVOQ19TX0YzMjpcbiAgICAgICAgY2FzZSBXYXNtT3Bjb2RlLkk2NF9UUlVOQ19VX0YzMjpcbiAgICAgICAgY2FzZSBXYXNtT3Bjb2RlLkk2NF9UUlVOQ19TX0Y2NDpcbiAgICAgICAgY2FzZSBXYXNtT3Bjb2RlLkk2NF9UUlVOQ19VX0Y2NDpcbiAgICAgICAgY2FzZSBXYXNtT3Bjb2RlLkk2NF9FWFRFTkRfU19JMzI6XG4gICAgICAgIGNhc2UgV2FzbU9wY29kZS5JNjRfRVhURU5EX1VfSTMyOlxuICAgICAgICAgICAgcmV0dXJuIFdhc21UeXBlLkk2NDtcblxuICAgICAgICAvLyBGbG9hdDMyXG4gICAgICAgIGNhc2UgV2FzbU9wY29kZS5GMzJfQ09OU1Q6XG4gICAgICAgIGNhc2UgV2FzbU9wY29kZS5GMzJfQUREOlxuICAgICAgICBjYXNlIFdhc21PcGNvZGUuRjMyX1NVQjpcbiAgICAgICAgY2FzZSBXYXNtT3Bjb2RlLkYzMl9NVUw6XG4gICAgICAgIGNhc2UgV2FzbU9wY29kZS5GMzJfRElWOlxuICAgICAgICBjYXNlIFdhc21PcGNvZGUuRjMyX1NRUlQ6XG4gICAgICAgIGNhc2UgV2FzbU9wY29kZS5GMzJfTkVHOlxuICAgICAgICBjYXNlIFdhc21PcGNvZGUuRjMyX05FOlxuICAgICAgICBjYXNlIFdhc21PcGNvZGUuRjMyX0FCUzpcbiAgICAgICAgY2FzZSBXYXNtT3Bjb2RlLkYzMl9DRUlMOlxuICAgICAgICBjYXNlIFdhc21PcGNvZGUuRjMyX0VROlxuICAgICAgICBjYXNlIFdhc21PcGNvZGUuRjMyX0ZMT09SOlxuICAgICAgICBjYXNlIFdhc21PcGNvZGUuRjMyX05FQVJFU1Q6XG4gICAgICAgIGNhc2UgV2FzbU9wY29kZS5GMzJfTUlOOlxuICAgICAgICBjYXNlIFdhc21PcGNvZGUuRjMyX01BWDpcbiAgICAgICAgY2FzZSBXYXNtT3Bjb2RlLkYzMl9HRTpcbiAgICAgICAgY2FzZSBXYXNtT3Bjb2RlLkYzMl9HVDpcbiAgICAgICAgY2FzZSBXYXNtT3Bjb2RlLkYzMl9MVDpcbiAgICAgICAgY2FzZSBXYXNtT3Bjb2RlLkYzMl9MRTpcbiAgICAgICAgY2FzZSBXYXNtT3Bjb2RlLkYzMl9DT1BZU0lHTjpcbiAgICAgICAgY2FzZSBXYXNtT3Bjb2RlLkYzMl9MT0FEOlxuICAgICAgICBjYXNlIFdhc21PcGNvZGUuRjMyX1NUT1JFOlxuICAgICAgICBjYXNlIFdhc21PcGNvZGUuRjMyX1RSVU5DOlxuICAgICAgICBjYXNlIFdhc21PcGNvZGUuRjMyX0RFTU9URV9GNjQ6XG4gICAgICAgIGNhc2UgV2FzbU9wY29kZS5GMzJfQ09OVkVSVF9TX0kzMjpcbiAgICAgICAgY2FzZSBXYXNtT3Bjb2RlLkYzMl9DT05WRVJUX1VfSTMyOlxuICAgICAgICBjYXNlIFdhc21PcGNvZGUuRjMyX0NPTlZFUlRfU19JNjQ6XG4gICAgICAgIGNhc2UgV2FzbU9wY29kZS5GMzJfQ09OVkVSVF9VX0k2NDpcbiAgICAgICAgY2FzZSBXYXNtT3Bjb2RlLkYzMl9SRUlOVEVSUFJFVF9JMzI6XG4gICAgICAgICAgICByZXR1cm4gV2FzbVR5cGUuRjMyO1xuXG4gICAgICAgIC8vIEZsb2F0NjRcbiAgICAgICAgY2FzZSBXYXNtT3Bjb2RlLkY2NF9DT05TVDpcbiAgICAgICAgY2FzZSBXYXNtT3Bjb2RlLkY2NF9BREQ6XG4gICAgICAgIGNhc2UgV2FzbU9wY29kZS5GNjRfU1VCOlxuICAgICAgICBjYXNlIFdhc21PcGNvZGUuRjY0X01VTDpcbiAgICAgICAgY2FzZSBXYXNtT3Bjb2RlLkY2NF9ESVY6XG4gICAgICAgIGNhc2UgV2FzbU9wY29kZS5GNjRfU1FSVDpcbiAgICAgICAgY2FzZSBXYXNtT3Bjb2RlLkY2NF9ORUc6XG4gICAgICAgIGNhc2UgV2FzbU9wY29kZS5GNjRfTkU6XG4gICAgICAgIGNhc2UgV2FzbU9wY29kZS5GNjRfQUJTOlxuICAgICAgICBjYXNlIFdhc21PcGNvZGUuRjY0X0NFSUw6XG4gICAgICAgIGNhc2UgV2FzbU9wY29kZS5GNjRfRVE6XG4gICAgICAgIGNhc2UgV2FzbU9wY29kZS5GNjRfRkxPT1I6XG4gICAgICAgIGNhc2UgV2FzbU9wY29kZS5GNjRfTkVBUkVTVDpcbiAgICAgICAgY2FzZSBXYXNtT3Bjb2RlLkY2NF9NSU46XG4gICAgICAgIGNhc2UgV2FzbU9wY29kZS5GNjRfTUFYOlxuICAgICAgICBjYXNlIFdhc21PcGNvZGUuRjY0X0dFOlxuICAgICAgICBjYXNlIFdhc21PcGNvZGUuRjY0X0dUOlxuICAgICAgICBjYXNlIFdhc21PcGNvZGUuRjY0X0xUOlxuICAgICAgICBjYXNlIFdhc21PcGNvZGUuRjY0X0xFOlxuICAgICAgICBjYXNlIFdhc21PcGNvZGUuRjY0X0NPUFlTSUdOOlxuICAgICAgICBjYXNlIFdhc21PcGNvZGUuRjY0X0xPQUQ6XG4gICAgICAgIGNhc2UgV2FzbU9wY29kZS5GNjRfU1RPUkU6XG4gICAgICAgIGNhc2UgV2FzbU9wY29kZS5GNjRfVFJVTkM6XG4gICAgICAgIGNhc2UgV2FzbU9wY29kZS5GNjRfUFJPTU9URV9GMzI6XG4gICAgICAgIGNhc2UgV2FzbU9wY29kZS5GNjRfQ09OVkVSVF9TX0kzMjpcbiAgICAgICAgY2FzZSBXYXNtT3Bjb2RlLkY2NF9DT05WRVJUX1VfSTMyOlxuICAgICAgICBjYXNlIFdhc21PcGNvZGUuRjY0X0NPTlZFUlRfU19JNjQ6XG4gICAgICAgIGNhc2UgV2FzbU9wY29kZS5GNjRfQ09OVkVSVF9VX0k2NDpcbiAgICAgICAgY2FzZSBXYXNtT3Bjb2RlLkY2NF9SRUlOVEVSUFJFVF9JNjQ6XG4gICAgICAgICAgICByZXR1cm4gV2FzbVR5cGUuRjY0O1xuXG4gICAgICAgIC8vIE5vIHR5cGVzXG4gICAgICAgIGNhc2UgV2FzbU9wY29kZS5DQUxMOlxuICAgICAgICBjYXNlIFdhc21PcGNvZGUuRU5EOlxuICAgICAgICBjYXNlIFdhc21PcGNvZGUuUkVUVVJOOlxuICAgICAgICBjYXNlIFdhc21PcGNvZGUuR0VUX0dMT0JBTDpcbiAgICAgICAgY2FzZSBXYXNtT3Bjb2RlLkdFVF9MT0NBTDpcbiAgICAgICAgY2FzZSBXYXNtT3Bjb2RlLlNFVF9MT0NBTDpcbiAgICAgICAgY2FzZSBXYXNtT3Bjb2RlLlNFVF9HTE9CQUw6XG4gICAgICAgIGNhc2UgV2FzbU9wY29kZS5CTE9DSzpcbiAgICAgICAgY2FzZSBXYXNtT3Bjb2RlLkxPT1A6XG4gICAgICAgIGNhc2UgV2FzbU9wY29kZS5JRjpcbiAgICAgICAgY2FzZSBXYXNtT3Bjb2RlLklGX0VMU0U6XG4gICAgICAgIGNhc2UgV2FzbU9wY29kZS5CUjpcbiAgICAgICAgY2FzZSBXYXNtT3Bjb2RlLkJSX0lGOlxuICAgICAgICBjYXNlIFdhc21PcGNvZGUuQlJfVEFCTEU6XG4gICAgICAgIGNhc2UgV2FzbU9wY29kZS5OT1A6XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIFRlcm1pbmFsLndhcm4oYFVuaGFuZGxlZCBPcGNvZGUgJHtvcGNvZGV9ID0+ICR7V2FzbU9wY29kZVtvcGNvZGVdfWApO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2JhY2tlbmRzL3dlYmFzc2VtYmx5L3N0YWNrLW1hY2hpbmUvd2FzbS1zdGFjay10cmFjZXIudHMiLCJpbXBvcnQge2lzRnVuY3Rpb24sIFN5bWJvbCwgU3ltYm9sS2luZH0gZnJvbSBcIi4uLy4uL2NvbXBpbGVyL2NvcmUvc3ltYm9sXCI7XG5pbXBvcnQge0J5dGVBcnJheSwgQnl0ZUFycmF5X3NldDMyLCBCeXRlQXJyYXlfc2V0U3RyaW5nfSBmcm9tIFwiLi4vLi4vdXRpbHMvYnl0ZWFycmF5XCI7XG5pbXBvcnQge0NoZWNrQ29udGV4dH0gZnJvbSBcIi4uLy4uL2NvbXBpbGVyL2FuYWx5emVyL3R5cGUtY2hlY2tlclwiO1xuaW1wb3J0IHthbGlnblRvTmV4dE11bHRpcGxlT2YsIHRvSGV4fSBmcm9tIFwiLi4vLi4vdXRpbHMvdXRpbHNcIjtcbmltcG9ydCB7aXNFeHByZXNzaW9uLCBpc1VuYXJ5LCBpc1VuYXJ5UG9zdGZpeCwgTm9kZSwgTm9kZUtpbmR9IGZyb20gXCIuLi8uLi9jb21waWxlci9jb3JlL25vZGVcIjtcbmltcG9ydCB7VHlwZX0gZnJvbSBcIi4uLy4uL2NvbXBpbGVyL2NvcmUvdHlwZVwiO1xuaW1wb3J0IHtDb21waWxlcn0gZnJvbSBcIi4uLy4uL2NvbXBpbGVyL2NvbXBpbGVyXCI7XG5pbXBvcnQge1dhc21PcGNvZGV9IGZyb20gXCIuL29wY29kZVwiO1xuaW1wb3J0IHtnZXRCdWlsdGluT3Bjb2RlLCBpc0J1aWx0aW59IGZyb20gXCIuL2J1aWx0aW5zLWhlbHBlclwiO1xuaW1wb3J0IHthc3NlcnR9IGZyb20gXCIuLi8uLi91dGlscy9hc3NlcnRcIjtcbmltcG9ydCB7V2FzbVR5cGUsIFdhc21XcmFwcGVkVHlwZX0gZnJvbSBcIi4vY29yZS93YXNtLXR5cGVcIjtcbmltcG9ydCB7bG9nLCBsb2dEYXRhfSBmcm9tIFwiLi91dGlscy9sb2dnZXJcIjtcbmltcG9ydCB7d2FzbUFyZVNpZ25hdHVyZXNFcXVhbCwgV2FzbVNpZ25hdHVyZX0gZnJvbSBcIi4vY29yZS93YXNtLXNpZ25hdHVyZVwiO1xuaW1wb3J0IHtCaXRuZXNzfSBmcm9tIFwiLi4vYml0bmVzc1wiO1xuaW1wb3J0IHtXYXNtU2VjdGlvbn0gZnJvbSBcIi4vY29yZS93YXNtLXNlY3Rpb25cIjtcbmltcG9ydCB7V2FzbUV4dGVybmFsS2luZH0gZnJvbSBcIi4vY29yZS93YXNtLWV4dGVybmFsLWtpbmRcIjtcbmltcG9ydCB7V2FzbUdsb2JhbH0gZnJvbSBcIi4vY29yZS93YXNtLWdsb2JhbFwiO1xuaW1wb3J0IHtXYXNtRnVuY3Rpb259IGZyb20gXCIuL2NvcmUvd2FzbS1mdW5jdGlvblwiO1xuaW1wb3J0IHtXYXNtSW1wb3J0fSBmcm9tIFwiLi9jb3JlL3dhc20taW1wb3J0XCI7XG5pbXBvcnQge1dhc21Mb2NhbCwgV2FzbUxvY2FsRW50cnl9IGZyb20gXCIuL2NvcmUvd2FzbS1sb2NhbFwiO1xuaW1wb3J0IHtXYXNtU2hhcmVkT2Zmc2V0fSBmcm9tIFwiLi9jb3JlL3dhc20tc2hhcmVkLW9mZnNldFwiO1xuaW1wb3J0IHthcHBlbmQsIFdhc21Bc3NlbWJsZXJ9IGZyb20gXCIuL2Fzc2VtYmxlci93YXNtLWFzc2VtYmxlclwiO1xuaW1wb3J0IHtUZXJtaW5hbH0gZnJvbSBcIi4uLy4uL3V0aWxzL3Rlcm1pbmFsXCI7XG5cbmNvbnN0IFdBU01fTUFHSUMgPSAweDZkNzM2MTAwOyAvLydcXDAnIHwgJ2EnIDw8IDggfCAncycgPDwgMTYgfCAnbScgPDwgMjQ7XG5jb25zdCBXQVNNX1ZFUlNJT04gPSAweDE7XG5jb25zdCBXQVNNX1NJWkVfSU5fUEFHRVMgPSAxO1xuY29uc3QgV0FTTV9TRVRfTUFYX01FTU9SWSA9IGZhbHNlO1xuY29uc3QgV0FTTV9NQVhfTUVNT1JZID0gMTAyNCAqIDEwMjQgKiAxMDI0O1xuY29uc3QgV0FTTV9NRU1PUllfSU5JVElBTElaRVJfQkFTRSA9IDg7IC8vIExlYXZlIHNwYWNlIGZvciBcIm51bGxcIlxuXG5nbG9iYWxbXCJkZWJ1Z1wiXSA9IHRydWU7XG5cbmNsYXNzIFdhc21Nb2R1bGUge1xuXG4gICAgZmlyc3RJbXBvcnQ6IFdhc21JbXBvcnQ7XG4gICAgbGFzdEltcG9ydDogV2FzbUltcG9ydDtcbiAgICBpbXBvcnRDb3VudDogaW50MzIgPSAwO1xuICAgIGdsb2JhbENvdW50OiBpbnQzMiA9IDA7XG4gICAgZmlyc3RHbG9iYWw6IFdhc21HbG9iYWw7XG4gICAgbGFzdEdsb2JhbDogV2FzbUdsb2JhbDtcbiAgICBnbG9iYWxFbnRyaWVzOiBXYXNtVHlwZVtdO1xuXG4gICAgZmlyc3RGdW5jdGlvbjogV2FzbUZ1bmN0aW9uO1xuICAgIGxhc3RGdW5jdGlvbjogV2FzbUZ1bmN0aW9uO1xuICAgIGZ1bmN0aW9uQ291bnQ6IGludDMyID0gMDtcblxuICAgIHNpZ25hdHVyZXM6IFdhc21TaWduYXR1cmVbXTtcbiAgICBmaXJzdFNpZ25hdHVyZTogV2FzbVNpZ25hdHVyZTtcbiAgICBsYXN0U2lnbmF0dXJlOiBXYXNtU2lnbmF0dXJlO1xuICAgIHNpZ25hdHVyZUNvdW50OiBpbnQzMiA9IDA7XG5cbiAgICBtZW1vcnlJbml0aWFsaXplcjogQnl0ZUFycmF5O1xuICAgIGN1cnJlbnRIZWFwUG9pbnRlcjogaW50MzI7XG4gICAgb3JpZ2luYWxIZWFwUG9pbnRlcjogaW50MzI7XG4gICAgbWFsbG9jRnVuY3Rpb25JbmRleDogaW50MzI7XG4gICAgZnJlZUZ1bmN0aW9uSW5kZXg6IGludDMyO1xuICAgIHN0YXJ0RnVuY3Rpb25JbmRleDogaW50MzI7XG4gICAgY29udGV4dDogQ2hlY2tDb250ZXh0O1xuICAgIHN0YXJ0RnVuY3Rpb246IFdhc21GdW5jdGlvbjtcbiAgICBjdXJyZW50RnVuY3Rpb246IFdhc21GdW5jdGlvbjtcbiAgICBhc3NlbWJsZXI6IFdhc21Bc3NlbWJsZXI7XG5cbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgYml0bmVzczogQml0bmVzcykge1xuICAgICAgICB0aGlzLmFzc2VtYmxlciA9IG5ldyBXYXNtQXNzZW1ibGVyKCk7XG4gICAgfVxuXG4gICAgZ3Jvd01lbW9yeUluaXRpYWxpemVyKCk6IHZvaWQge1xuICAgICAgICBsZXQgYXJyYXkgPSB0aGlzLm1lbW9yeUluaXRpYWxpemVyO1xuICAgICAgICBsZXQgY3VycmVudCA9IGFycmF5Lmxlbmd0aDtcbiAgICAgICAgbGV0IGxlbmd0aCA9IHRoaXMuY29udGV4dC5uZXh0R2xvYmFsVmFyaWFibGVPZmZzZXQ7XG5cbiAgICAgICAgd2hpbGUgKGN1cnJlbnQgPCBsZW5ndGgpIHtcbiAgICAgICAgICAgIGFycmF5LmFwcGVuZCgwKTtcbiAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50ICsgMTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFsbG9jYXRlSW1wb3J0KHNpZ25hdHVyZUluZGV4OiBpbnQzMiwgbW9kOiBzdHJpbmcsIG5hbWU6IHN0cmluZyk6IFdhc21JbXBvcnQge1xuICAgICAgICBsZXQgcmVzdWx0ID0gbmV3IFdhc21JbXBvcnQoKTtcbiAgICAgICAgcmVzdWx0LnNpZ25hdHVyZUluZGV4ID0gc2lnbmF0dXJlSW5kZXg7XG4gICAgICAgIHJlc3VsdC5zaWduYXR1cmUgPSB0aGlzLnNpZ25hdHVyZXNbc2lnbmF0dXJlSW5kZXhdO1xuICAgICAgICByZXN1bHQubW9kdWxlID0gbW9kO1xuICAgICAgICByZXN1bHQubmFtZSA9IG5hbWU7XG5cbiAgICAgICAgaWYgKHRoaXMuZmlyc3RJbXBvcnQgPT0gbnVsbCkgdGhpcy5maXJzdEltcG9ydCA9IHJlc3VsdDtcbiAgICAgICAgZWxzZSB0aGlzLmxhc3RJbXBvcnQubmV4dCA9IHJlc3VsdDtcbiAgICAgICAgdGhpcy5sYXN0SW1wb3J0ID0gcmVzdWx0O1xuICAgICAgICB0aGlzLmFzc2VtYmxlci5pbXBvcnRMaXN0LnB1c2gocmVzdWx0KTtcbiAgICAgICAgdGhpcy5pbXBvcnRDb3VudCA9IHRoaXMuaW1wb3J0Q291bnQgKyAxO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIGFsbG9jYXRlR2xvYmFsKHN5bWJvbDogU3ltYm9sLCBiaXRuZXNzOiBCaXRuZXNzKTogV2FzbUdsb2JhbCB7XG4gICAgICAgIGxldCBnbG9iYWwgPSBuZXcgV2FzbUdsb2JhbCgpO1xuICAgICAgICBnbG9iYWwudHlwZSA9IHN5bWJvbFRvVmFsdWVUeXBlKHN5bWJvbCwgYml0bmVzcyk7XG4gICAgICAgIGdsb2JhbC5zeW1ib2wgPSBzeW1ib2w7XG4gICAgICAgIHN5bWJvbC5vZmZzZXQgPSB0aGlzLmdsb2JhbENvdW50O1xuXG4gICAgICAgIGlmICh0aGlzLmZpcnN0R2xvYmFsID09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuZmlyc3RHbG9iYWwgPSBnbG9iYWw7XG4gICAgICAgICAgICB0aGlzLmdsb2JhbEVudHJpZXMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHRoaXMubGFzdEdsb2JhbC5uZXh0ID0gZ2xvYmFsO1xuICAgICAgICB0aGlzLmxhc3RHbG9iYWwgPSBnbG9iYWw7XG4gICAgICAgIHRoaXMuZ2xvYmFsRW50cmllcy5wdXNoKGdsb2JhbC50eXBlKTtcbiAgICAgICAgdGhpcy5nbG9iYWxDb3VudCA9IHRoaXMuZ2xvYmFsQ291bnQgKyAxO1xuICAgICAgICByZXR1cm4gZ2xvYmFsO1xuICAgIH1cblxuICAgIGFsbG9jYXRlRnVuY3Rpb24oc3ltYm9sOiBTeW1ib2wsIHNpZ25hdHVyZUluZGV4OiBpbnQzMik6IFdhc21GdW5jdGlvbiB7XG4gICAgICAgIGxldCBmbiA9IG5ldyBXYXNtRnVuY3Rpb24oKTtcbiAgICAgICAgZm4uc3ltYm9sID0gc3ltYm9sO1xuICAgICAgICBmbi5zaWduYXR1cmVJbmRleCA9IHNpZ25hdHVyZUluZGV4O1xuICAgICAgICBmbi5zaWduYXR1cmUgPSB0aGlzLnNpZ25hdHVyZXNbc2lnbmF0dXJlSW5kZXhdO1xuXG4gICAgICAgIGlmICh0aGlzLmZpcnN0RnVuY3Rpb24gPT0gbnVsbCkgdGhpcy5maXJzdEZ1bmN0aW9uID0gZm47XG4gICAgICAgIGVsc2UgdGhpcy5sYXN0RnVuY3Rpb24ubmV4dCA9IGZuO1xuICAgICAgICB0aGlzLmxhc3RGdW5jdGlvbiA9IGZuO1xuICAgICAgICB0aGlzLmFzc2VtYmxlci5mdW5jdGlvbkxpc3QucHVzaChmbik7XG5cbiAgICAgICAgdGhpcy5mdW5jdGlvbkNvdW50ID0gdGhpcy5mdW5jdGlvbkNvdW50ICsgMTtcbiAgICAgICAgcmV0dXJuIGZuO1xuICAgIH1cblxuICAgIGFsbG9jYXRlU2lnbmF0dXJlKGFyZ3VtZW50VHlwZXM6IFdhc21XcmFwcGVkVHlwZSwgcmV0dXJuVHlwZTogV2FzbVdyYXBwZWRUeXBlLCBhcmd1bWVudENvdW50OiBpbnQzMik6IGludDMyIHtcbiAgICAgICAgYXNzZXJ0KHJldHVyblR5cGUgIT0gbnVsbCk7XG4gICAgICAgIGFzc2VydChyZXR1cm5UeXBlLm5leHQgPT0gbnVsbCk7XG5cbiAgICAgICAgbGV0IHNpZ25hdHVyZSA9IG5ldyBXYXNtU2lnbmF0dXJlKCk7XG4gICAgICAgIHNpZ25hdHVyZS5hcmd1bWVudENvdW50ID0gYXJndW1lbnRDb3VudDtcbiAgICAgICAgc2lnbmF0dXJlLmFyZ3VtZW50VHlwZXMgPSBhcmd1bWVudFR5cGVzO1xuICAgICAgICBzaWduYXR1cmUucmV0dXJuVHlwZSA9IHJldHVyblR5cGU7XG4gICAgICAgIGxldCBjaGVjayA9IHRoaXMuZmlyc3RTaWduYXR1cmU7XG4gICAgICAgIGxldCBpID0gMDtcblxuICAgICAgICB3aGlsZSAoY2hlY2sgIT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKHdhc21BcmVTaWduYXR1cmVzRXF1YWwoc2lnbmF0dXJlLCBjaGVjaykpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2hlY2sgPSBjaGVjay5uZXh0O1xuICAgICAgICAgICAgaSA9IGkgKyAxO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuZmlyc3RTaWduYXR1cmUgPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5zaWduYXR1cmVzID0gW107XG4gICAgICAgICAgICB0aGlzLmZpcnN0U2lnbmF0dXJlID0gc2lnbmF0dXJlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgdGhpcy5sYXN0U2lnbmF0dXJlLm5leHQgPSBzaWduYXR1cmU7XG4gICAgICAgIHRoaXMubGFzdFNpZ25hdHVyZSA9IHNpZ25hdHVyZTtcbiAgICAgICAgdGhpcy5zaWduYXR1cmVzLnB1c2goc2lnbmF0dXJlKTtcblxuICAgICAgICB0aGlzLnNpZ25hdHVyZUNvdW50ID0gdGhpcy5zaWduYXR1cmVDb3VudCArIDE7XG4gICAgICAgIHJldHVybiBpO1xuICAgIH1cblxuICAgIGVtaXRNb2R1bGUoYXJyYXk6IEJ5dGVBcnJheSk6IHZvaWQge1xuICAgICAgICBhcnJheS5sb2cgPSBcIlwiO1xuICAgICAgICBhcnJheS53cml0ZVVuc2lnbmVkSW50KFdBU01fTUFHSUMpO1xuICAgICAgICBhcnJheS53cml0ZVVuc2lnbmVkSW50KFdBU01fVkVSU0lPTik7XG4gICAgICAgIGFycmF5LmxvZyArPSAnMDAwMDAwMDogMDA2MSA3MzZkICAgICAgICAgICAgIDsgV0FTTV9CSU5BUllfTUFHSUNcXG4nO1xuICAgICAgICBhcnJheS5sb2cgKz0gJzAwMDAwMDQ6IDAxMDAgMDAwMCAgICAgICAgICAgICA7IFdBU01fQklOQVJZX1ZFUlNJT05cXG4nO1xuXG4gICAgICAgIHRoaXMuZW1pdFNpZ25hdHVyZXMoYXJyYXkpO1xuICAgICAgICB0aGlzLmVtaXRJbXBvcnRUYWJsZShhcnJheSk7XG4gICAgICAgIHRoaXMuZW1pdEZ1bmN0aW9uRGVjbGFyYXRpb25zKGFycmF5KTtcbiAgICAgICAgLy8gdGhpcy5lbWl0VGFibGVzKGFycmF5KTtcbiAgICAgICAgdGhpcy5lbWl0TWVtb3J5KGFycmF5KTtcbiAgICAgICAgdGhpcy5lbWl0R2xvYmFsRGVjbGFyYXRpb25zKGFycmF5KTtcbiAgICAgICAgdGhpcy5lbWl0RXhwb3J0VGFibGUoYXJyYXkpO1xuICAgICAgICB0aGlzLmVtaXRTdGFydEZ1bmN0aW9uRGVjbGFyYXRpb24oYXJyYXkpO1xuICAgICAgICB0aGlzLmVtaXRFbGVtZW50cyhhcnJheSk7XG4gICAgICAgIHRoaXMuZW1pdEZ1bmN0aW9uQm9kaWVzKGFycmF5KTtcbiAgICAgICAgdGhpcy5lbWl0RGF0YVNlZ21lbnRzKGFycmF5KTtcbiAgICAgICAgdGhpcy5lbWl0TmFtZXMoYXJyYXkpO1xuICAgIH1cblxuICAgIGVtaXRTaWduYXR1cmVzKGFycmF5OiBCeXRlQXJyYXkpOiB2b2lkIHtcblxuICAgICAgICBpZiAoIXRoaXMuZmlyc3RTaWduYXR1cmUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBzZWN0aW9uID0gdGhpcy5hc3NlbWJsZXIuc3RhcnRTZWN0aW9uKGFycmF5LCBXYXNtU2VjdGlvbi5UeXBlLCBcInNpZ25hdHVyZXNcIik7XG4gICAgICAgIHRoaXMuYXNzZW1ibGVyLndyaXRlVW5zaWduZWRMRUIxMjgoc2VjdGlvbi5kYXRhLCB0aGlzLnNpZ25hdHVyZUNvdW50KTtcblxuICAgICAgICBsZXQgc2lnbmF0dXJlID0gdGhpcy5maXJzdFNpZ25hdHVyZTtcbiAgICAgICAgbGV0IHNpZ0NvdW50ID0gMDtcbiAgICAgICAgd2hpbGUgKHNpZ25hdHVyZSAhPSBudWxsKSB7XG4gICAgICAgICAgICBsZXQgY291bnQgPSAwO1xuICAgICAgICAgICAgbGV0IHR5cGUgPSBzaWduYXR1cmUuYXJndW1lbnRUeXBlcztcblxuICAgICAgICAgICAgd2hpbGUgKHR5cGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvdW50ID0gY291bnQgKyAxO1xuICAgICAgICAgICAgICAgIHR5cGUgPSB0eXBlLm5leHQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxvZyhzZWN0aW9uLmRhdGEsIGFycmF5LnBvc2l0aW9uLCBXYXNtVHlwZS5mdW5jLCBcImZ1bmMgc2lnIFwiICsgc2lnQ291bnQrKyk7XG4gICAgICAgICAgICB0aGlzLmFzc2VtYmxlci53cml0ZVVuc2lnbmVkTEVCMTI4KHNlY3Rpb24uZGF0YSwgV2FzbVR5cGUuZnVuYyk7IC8vZm9ybSwgdGhlIHZhbHVlIGZvciB0aGUgZnVuYyB0eXBlIGNvbnN0cnVjdG9yXG4gICAgICAgICAgICBsb2coc2VjdGlvbi5kYXRhLCBhcnJheS5wb3NpdGlvbiwgY291bnQsIFwibnVtIHBhcmFtc1wiKTtcbiAgICAgICAgICAgIHRoaXMuYXNzZW1ibGVyLndyaXRlVW5zaWduZWRMRUIxMjgoc2VjdGlvbi5kYXRhLCBjb3VudCk7IC8vcGFyYW1fY291bnQsIHRoZSBudW1iZXIgb2YgcGFyYW1ldGVycyB0byB0aGUgZnVuY3Rpb25cbiAgICAgICAgICAgIHR5cGUgPSBzaWduYXR1cmUuYXJndW1lbnRUeXBlcztcbiAgICAgICAgICAgIHdoaWxlICh0eXBlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBsb2coc2VjdGlvbi5kYXRhLCBhcnJheS5wb3NpdGlvbiwgdHlwZS5pZCwgV2FzbVR5cGVbdHlwZS5pZF0pO1xuICAgICAgICAgICAgICAgIHRoaXMuYXNzZW1ibGVyLndyaXRlVW5zaWduZWRMRUIxMjgoc2VjdGlvbi5kYXRhLCB0eXBlLmlkKTsgLy92YWx1ZV90eXBlLCB0aGUgcGFyYW1ldGVyIHR5cGVzIG9mIHRoZSBmdW5jdGlvblxuICAgICAgICAgICAgICAgIHR5cGUgPSB0eXBlLm5leHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgcmV0dXJuVHlwZUlkID0gc2lnbmF0dXJlLnJldHVyblR5cGUuaWQ7XG4gICAgICAgICAgICBpZiAocmV0dXJuVHlwZUlkID4gMCkge1xuICAgICAgICAgICAgICAgIGxvZyhzZWN0aW9uLmRhdGEsIGFycmF5LnBvc2l0aW9uLCBcIjAxXCIsIFwibnVtIHJlc3VsdHNcIik7XG4gICAgICAgICAgICAgICAgdGhpcy5hc3NlbWJsZXIud3JpdGVVbnNpZ25lZExFQjEyOChzZWN0aW9uLmRhdGEsIDEpOyAvL3JldHVybl9jb3VudCwgdGhlIG51bWJlciBvZiByZXN1bHRzIGZyb20gdGhlIGZ1bmN0aW9uXG4gICAgICAgICAgICAgICAgbG9nKHNlY3Rpb24uZGF0YSwgYXJyYXkucG9zaXRpb24sIHNpZ25hdHVyZS5yZXR1cm5UeXBlLmlkLCBXYXNtVHlwZVtzaWduYXR1cmUucmV0dXJuVHlwZS5pZF0pO1xuICAgICAgICAgICAgICAgIHRoaXMuYXNzZW1ibGVyLndyaXRlVW5zaWduZWRMRUIxMjgoc2VjdGlvbi5kYXRhLCBzaWduYXR1cmUucmV0dXJuVHlwZS5pZCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuYXNzZW1ibGVyLndyaXRlVW5zaWduZWRMRUIxMjgoc2VjdGlvbi5kYXRhLCAwKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc2lnbmF0dXJlID0gc2lnbmF0dXJlLm5leHQ7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmFzc2VtYmxlci5lbmRTZWN0aW9uKGFycmF5LCBzZWN0aW9uKTtcbiAgICB9XG5cbiAgICBlbWl0SW1wb3J0VGFibGUoYXJyYXk6IEJ5dGVBcnJheSk6IHZvaWQge1xuICAgICAgICBpZiAoIXRoaXMuZmlyc3RJbXBvcnQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBzZWN0aW9uID0gdGhpcy5hc3NlbWJsZXIuc3RhcnRTZWN0aW9uKGFycmF5LCBXYXNtU2VjdGlvbi5JbXBvcnQsIFwiaW1wb3J0X3RhYmxlXCIpO1xuICAgICAgICBsb2coc2VjdGlvbi5kYXRhLCBhcnJheS5wb3NpdGlvbiwgdGhpcy5pbXBvcnRDb3VudCwgXCJudW0gaW1wb3J0c1wiKTtcbiAgICAgICAgdGhpcy5hc3NlbWJsZXIud3JpdGVVbnNpZ25lZExFQjEyOChzZWN0aW9uLmRhdGEsIHRoaXMuaW1wb3J0Q291bnQpO1xuXG4gICAgICAgIGxldCBjdXJyZW50ID0gdGhpcy5maXJzdEltcG9ydDtcbiAgICAgICAgbGV0IGNvdW50ID0gMDtcbiAgICAgICAgd2hpbGUgKGN1cnJlbnQgIT0gbnVsbCkge1xuICAgICAgICAgICAgbG9nKHNlY3Rpb24uZGF0YSwgYXJyYXkucG9zaXRpb24sIG51bGwsIGBpbXBvcnQgZnVuYyAoJHtjb3VudH0pICR7Y3VycmVudC5tb2R1bGV9ICR7Y3VycmVudC5uYW1lfWApO1xuICAgICAgICAgICAgdGhpcy5hc3NlbWJsZXIud3JpdGVXYXNtU3RyaW5nKHNlY3Rpb24uZGF0YSwgY3VycmVudC5tb2R1bGUpO1xuICAgICAgICAgICAgdGhpcy5hc3NlbWJsZXIud3JpdGVXYXNtU3RyaW5nKHNlY3Rpb24uZGF0YSwgY3VycmVudC5uYW1lKTtcbiAgICAgICAgICAgIHRoaXMuYXNzZW1ibGVyLndyaXRlVW5zaWduZWRMRUIxMjgoc2VjdGlvbi5kYXRhLCBXYXNtRXh0ZXJuYWxLaW5kLkZ1bmN0aW9uKTtcbiAgICAgICAgICAgIHRoaXMuYXNzZW1ibGVyLndyaXRlVW5zaWduZWRMRUIxMjgoc2VjdGlvbi5kYXRhLCBjdXJyZW50LnNpZ25hdHVyZUluZGV4KTtcbiAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50Lm5leHQ7XG4gICAgICAgICAgICBjb3VudCsrO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5hc3NlbWJsZXIuZW5kU2VjdGlvbihhcnJheSwgc2VjdGlvbik7XG4gICAgfVxuXG4gICAgZW1pdEZ1bmN0aW9uRGVjbGFyYXRpb25zKGFycmF5OiBCeXRlQXJyYXkpOiB2b2lkIHtcbiAgICAgICAgaWYgKCF0aGlzLmZpcnN0RnVuY3Rpb24pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBzZWN0aW9uID0gdGhpcy5hc3NlbWJsZXIuc3RhcnRTZWN0aW9uKGFycmF5LCBXYXNtU2VjdGlvbi5GdW5jdGlvbiwgXCJmdW5jdGlvbl9kZWNsYXJhdGlvbnNcIik7XG4gICAgICAgIGxvZyhzZWN0aW9uLmRhdGEsIGFycmF5LnBvc2l0aW9uLCB0aGlzLmZ1bmN0aW9uQ291bnQsIFwibnVtIGZ1bmN0aW9uc1wiKTtcbiAgICAgICAgdGhpcy5hc3NlbWJsZXIud3JpdGVVbnNpZ25lZExFQjEyOChzZWN0aW9uLmRhdGEsIHRoaXMuZnVuY3Rpb25Db3VudCk7XG5cbiAgICAgICAgbGV0IGZuID0gdGhpcy5maXJzdEZ1bmN0aW9uO1xuICAgICAgICBsZXQgY291bnQgPSB0aGlzLmltcG9ydENvdW50O1xuICAgICAgICB3aGlsZSAoZm4gIT0gbnVsbCkge1xuICAgICAgICAgICAgbG9nKHNlY3Rpb24uZGF0YSwgYXJyYXkucG9zaXRpb24sIGZuLnNpZ25hdHVyZUluZGV4LCBgZnVuYyAke2NvdW50fSBzaWcgJHtnZXRXYXNtRnVuY3Rpb25OYW1lKGZuLnN5bWJvbCl9YCk7XG4gICAgICAgICAgICB0aGlzLmFzc2VtYmxlci53cml0ZVVuc2lnbmVkTEVCMTI4KHNlY3Rpb24uZGF0YSwgZm4uc2lnbmF0dXJlSW5kZXgpO1xuICAgICAgICAgICAgZm4gPSBmbi5uZXh0O1xuICAgICAgICAgICAgY291bnQrKztcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYXNzZW1ibGVyLmVuZFNlY3Rpb24oYXJyYXksIHNlY3Rpb24pO1xuICAgIH1cblxuICAgIGVtaXRUYWJsZXMoYXJyYXk6IEJ5dGVBcnJheSk6IHZvaWQge1xuICAgICAgICAvL1RPRE9cbiAgICB9XG5cbiAgICBlbWl0TWVtb3J5KGFycmF5OiBCeXRlQXJyYXkpOiB2b2lkIHtcbiAgICAgICAgbGV0IHNlY3Rpb24gPSB0aGlzLmFzc2VtYmxlci5zdGFydFNlY3Rpb24oYXJyYXksIFdhc21TZWN0aW9uLk1lbW9yeSwgXCJtZW1vcnlcIik7XG4gICAgICAgIGxvZyhzZWN0aW9uLmRhdGEsIGFycmF5LnBvc2l0aW9uLCBcIjAxXCIsIFwibnVtIG1lbW9yaWVzXCIpO1xuICAgICAgICB0aGlzLmFzc2VtYmxlci53cml0ZVVuc2lnbmVkTEVCMTI4KHNlY3Rpb24uZGF0YSwgMSk7IC8vaW5kaWNhdGluZyB0aGUgbnVtYmVyIG9mIG1lbW9yaWVzIGRlZmluZWQgYnkgdGhlIG1vZHVsZSwgSW4gdGhlIE1WUCwgdGhlIG51bWJlciBvZiBtZW1vcmllcyBtdXN0IGJlIG5vIG1vcmUgdGhhbiAxLlxuICAgICAgICAvL3Jlc2l6YWJsZV9saW1pdHNcbiAgICAgICAgbG9nKHNlY3Rpb24uZGF0YSwgYXJyYXkucG9zaXRpb24sIFwiMDBcIiwgXCJtZW1vcnkgZmxhZ3NcIik7XG4gICAgICAgIHRoaXMuYXNzZW1ibGVyLndyaXRlVW5zaWduZWRMRUIxMjgoc2VjdGlvbi5kYXRhLCBXQVNNX1NFVF9NQVhfTUVNT1JZID8gMHgxIDogMCk7IC8vZmxhZ3MsIGJpdCAweDEgaXMgc2V0IGlmIHRoZSBtYXhpbXVtIGZpZWxkIGlzIHByZXNlbnRcbiAgICAgICAgbG9nKHNlY3Rpb24uZGF0YSwgYXJyYXkucG9zaXRpb24sIFdBU01fU0laRV9JTl9QQUdFUywgXCJtZW1vcnkgaW5pdGlhbCBwYWdlc1wiKTtcbiAgICAgICAgdGhpcy5hc3NlbWJsZXIud3JpdGVVbnNpZ25lZExFQjEyOChzZWN0aW9uLmRhdGEsIFdBU01fU0laRV9JTl9QQUdFUyk7IC8vaW5pdGlhbCBsZW5ndGggKGluIHVuaXRzIG9mIHRhYmxlIGVsZW1lbnRzIG9yIHdhc20gcGFnZXMpXG4gICAgICAgIGlmIChXQVNNX1NFVF9NQVhfTUVNT1JZKSB7XG4gICAgICAgICAgICBsb2coc2VjdGlvbi5kYXRhLCBhcnJheS5wb3NpdGlvbiwgV0FTTV9NQVhfTUVNT1JZLCBcIm1heGltdW0gbWVtb3J5XCIpO1xuICAgICAgICAgICAgdGhpcy5hc3NlbWJsZXIud3JpdGVVbnNpZ25lZExFQjEyOChzZWN0aW9uLmRhdGEsIFdBU01fTUFYX01FTU9SWSk7Ly8gbWF4aW11bSwgb25seSBwcmVzZW50IGlmIHNwZWNpZmllZCBieSBmbGFnc1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYXNzZW1ibGVyLmVuZFNlY3Rpb24oYXJyYXksIHNlY3Rpb24pO1xuICAgIH1cblxuICAgIGVtaXRHbG9iYWxEZWNsYXJhdGlvbnMoYXJyYXk6IEJ5dGVBcnJheSk6IHZvaWQge1xuXG4gICAgICAgIGlmICghdGhpcy5maXJzdEdsb2JhbCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHNlY3Rpb24gPSB0aGlzLmFzc2VtYmxlci5zdGFydFNlY3Rpb24oYXJyYXksIFdhc21TZWN0aW9uLkdsb2JhbCwgXCJnbG9iYWxcIik7XG4gICAgICAgIHRoaXMuYXNzZW1ibGVyLndyaXRlVW5zaWduZWRMRUIxMjgoc2VjdGlvbi5kYXRhLCB0aGlzLmdsb2JhbENvdW50KTtcblxuICAgICAgICB0aGlzLmFzc2VtYmxlci5zdGFja1RyYWNlci5zZXRHbG9iYWxzKHRoaXMuZ2xvYmFsRW50cmllcyk7XG5cbiAgICAgICAgbGV0IGdsb2JhbCA9IHRoaXMuZmlyc3RHbG9iYWw7XG4gICAgICAgIHdoaWxlIChnbG9iYWwpIHtcbiAgICAgICAgICAgIGxldCBkYXRhVHlwZTogc3RyaW5nID0gdHlwZVRvRGF0YVR5cGUoZ2xvYmFsLnN5bWJvbC5yZXNvbHZlZFR5cGUsIHRoaXMuYml0bmVzcyk7XG4gICAgICAgICAgICBsZXQgdmFsdWUgPSBnbG9iYWwuc3ltYm9sLm5vZGUudmFyaWFibGVWYWx1ZSgpO1xuICAgICAgICAgICAgc2VjdGlvbi5kYXRhLmFwcGVuZChXYXNtVHlwZVtkYXRhVHlwZV0pOyAvL2NvbnRlbnRfdHlwZVxuICAgICAgICAgICAgdGhpcy5hc3NlbWJsZXIud3JpdGVVbnNpZ25lZExFQjEyOChzZWN0aW9uLmRhdGEsIDEpOyAvL211dGFiaWxpdHksIDAgaWYgaW1tdXRhYmxlLCAxIGlmIG11dGFibGUuIE1WUCBvbmx5IHN1cHBvcnQgaW1tdXRhYmxlIGdsb2JhbCB2YXJpYWJsZXNcbiAgICAgICAgICAgIGxldCByYXdWYWx1ZSA9IDA7XG4gICAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUua2luZCA9PT0gTm9kZUtpbmQuTlVMTCB8fCB2YWx1ZS5raW5kID09PSBOb2RlS2luZC5VTkRFRklORUQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmF3VmFsdWUgPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh2YWx1ZS5yYXdWYWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJhd1ZhbHVlID0gdmFsdWUucmF3VmFsdWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gRW1pdCBldmFsdWF0aW9uIHRvIHN0YXJ0IGZ1bmN0aW9uXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkR2xvYmFsVG9TdGFydEZ1bmN0aW9uKGdsb2JhbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmFzc2VtYmxlci5hcHBlbmRPcGNvZGUoc2VjdGlvbi5kYXRhLCBhcnJheS5wb3NpdGlvbiwgV2FzbU9wY29kZVtgJHtkYXRhVHlwZX1fQ09OU1RgXSwgcmF3VmFsdWUpO1xuICAgICAgICAgICAgc3dpdGNoIChkYXRhVHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJJMzJcIjpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hc3NlbWJsZXIud3JpdGVVbnNpZ25lZExFQjEyOChzZWN0aW9uLmRhdGEsIHJhd1ZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcIkk2NFwiOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFzc2VtYmxlci53cml0ZVVuc2lnbmVkTEVCMTI4KHNlY3Rpb24uZGF0YSwgcmF3VmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiRjMyXCI6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXNzZW1ibGVyLndyaXRlRmxvYXQoc2VjdGlvbi5kYXRhLCByYXdWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJGNjRcIjpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hc3NlbWJsZXIud3JpdGVEb3VibGUoc2VjdGlvbi5kYXRhLCByYXdWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmFzc2VtYmxlci5hcHBlbmRPcGNvZGUoc2VjdGlvbi5kYXRhLCBhcnJheS5wb3NpdGlvbiwgV2FzbU9wY29kZS5FTkQpO1xuXG4gICAgICAgICAgICBnbG9iYWwgPSBnbG9iYWwubmV4dDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYXNzZW1ibGVyLmVuZFNlY3Rpb24oYXJyYXksIHNlY3Rpb24pO1xuICAgIH1cblxuICAgIGFkZEdsb2JhbFRvU3RhcnRGdW5jdGlvbihnbG9iYWw6IFdhc21HbG9iYWwpOiB2b2lkIHtcbiAgICAgICAgbGV0IHZhbHVlID0gZ2xvYmFsLnN5bWJvbC5ub2RlLnZhcmlhYmxlVmFsdWUoKTtcbiAgICAgICAgbGV0IHN0YXJ0Rm4gPSB0aGlzLnN0YXJ0RnVuY3Rpb247XG5cbiAgICAgICAgdGhpcy5lbWl0Tm9kZShzdGFydEZuLmJvZHksIDAsIHZhbHVlKTtcbiAgICAgICAgdGhpcy5hc3NlbWJsZXIuYXBwZW5kT3Bjb2RlKHN0YXJ0Rm4uYm9keSwgMCwgV2FzbU9wY29kZS5TRVRfR0xPQkFMKTtcbiAgICAgICAgdGhpcy5hc3NlbWJsZXIud3JpdGVVbnNpZ25lZExFQjEyOChzdGFydEZuLmJvZHksIGdsb2JhbC5zeW1ib2wub2Zmc2V0KTtcbiAgICB9XG5cbiAgICBlbWl0RXhwb3J0VGFibGUoYXJyYXk6IEJ5dGVBcnJheSk6IHZvaWQge1xuICAgICAgICBsZXQgZXhwb3J0ZWRDb3VudCA9IDA7XG4gICAgICAgIGxldCBmbiA9IHRoaXMuZmlyc3RGdW5jdGlvbjtcbiAgICAgICAgd2hpbGUgKGZuICE9IG51bGwpIHtcbiAgICAgICAgICAgIGlmIChmbi5pc0V4cG9ydGVkKSB7XG4gICAgICAgICAgICAgICAgZXhwb3J0ZWRDb3VudCA9IGV4cG9ydGVkQ291bnQgKyAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm4gPSBmbi5uZXh0O1xuICAgICAgICB9XG4gICAgICAgIGlmIChleHBvcnRlZENvdW50ID09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBzZWN0aW9uID0gdGhpcy5hc3NlbWJsZXIuc3RhcnRTZWN0aW9uKGFycmF5LCBXYXNtU2VjdGlvbi5FeHBvcnQsIFwiZXhwb3J0X3RhYmxlXCIpO1xuICAgICAgICBsb2coc2VjdGlvbi5kYXRhLCBhcnJheS5wb3NpdGlvbiwgZXhwb3J0ZWRDb3VudCwgXCJudW0gZXhwb3J0c1wiKTtcbiAgICAgICAgdGhpcy5hc3NlbWJsZXIud3JpdGVVbnNpZ25lZExFQjEyOChzZWN0aW9uLmRhdGEsIGV4cG9ydGVkQ291bnQgKyAxKTtcblxuICAgICAgICAvL0V4cG9ydCBtYWluIG1lbW9yeVxuICAgICAgICBsZXQgbWVtb3J5TmFtZTogc3RyaW5nID0gXCJtZW1vcnlcIjtcbiAgICAgICAgbG9nKHNlY3Rpb24uZGF0YSwgYXJyYXkucG9zaXRpb24sIG1lbW9yeU5hbWUubGVuZ3RoLCBcImV4cG9ydCBuYW1lIGxlbmd0aFwiKTtcbiAgICAgICAgbG9nKHNlY3Rpb24uZGF0YSwgbnVsbCwgbnVsbCwgYCR7dG9IZXgoc2VjdGlvbi5kYXRhLnBvc2l0aW9uICsgYXJyYXkucG9zaXRpb24gKyA0KX06ICR7bWVtb3J5TmFtZX0gLy8gZXhwb3J0IG5hbWVgKTtcbiAgICAgICAgdGhpcy5hc3NlbWJsZXIud3JpdGVXYXNtU3RyaW5nKHNlY3Rpb24uZGF0YSwgbWVtb3J5TmFtZSk7XG4gICAgICAgIGxvZyhzZWN0aW9uLmRhdGEsIGFycmF5LnBvc2l0aW9uLCBXYXNtRXh0ZXJuYWxLaW5kLkZ1bmN0aW9uLCBcImV4cG9ydCBraW5kXCIpO1xuICAgICAgICB0aGlzLmFzc2VtYmxlci53cml0ZVVuc2lnbmVkTEVCMTI4KHNlY3Rpb24uZGF0YSwgV2FzbUV4dGVybmFsS2luZC5NZW1vcnkpO1xuICAgICAgICBsb2coc2VjdGlvbi5kYXRhLCBhcnJheS5wb3NpdGlvbiwgMCwgXCJleHBvcnQgbWVtb3J5IGluZGV4XCIpO1xuICAgICAgICB0aGlzLmFzc2VtYmxlci53cml0ZVVuc2lnbmVkTEVCMTI4KHNlY3Rpb24uZGF0YSwgMCk7XG5cbiAgICAgICAgbGV0IGkgPSB0aGlzLmltcG9ydENvdW50O1xuICAgICAgICBmbiA9IHRoaXMuZmlyc3RGdW5jdGlvbjtcbiAgICAgICAgd2hpbGUgKGZuICE9IG51bGwpIHtcbiAgICAgICAgICAgIGlmIChmbi5pc0V4cG9ydGVkKSB7XG4gICAgICAgICAgICAgICAgbGV0IGZuTmFtZTogc3RyaW5nID0gZ2V0V2FzbUZ1bmN0aW9uTmFtZShmbi5zeW1ib2wpO1xuICAgICAgICAgICAgICAgIGxvZyhzZWN0aW9uLmRhdGEsIGFycmF5LnBvc2l0aW9uLCBmbk5hbWUubGVuZ3RoLCBcImV4cG9ydCBuYW1lIGxlbmd0aFwiKTtcbiAgICAgICAgICAgICAgICBsb2coc2VjdGlvbi5kYXRhLCBudWxsLCBudWxsLCBgJHt0b0hleChzZWN0aW9uLmRhdGEucG9zaXRpb24gKyBhcnJheS5wb3NpdGlvbiArIDQpfTogJHtmbk5hbWV9IC8vIGV4cG9ydCBuYW1lYCk7XG4gICAgICAgICAgICAgICAgdGhpcy5hc3NlbWJsZXIud3JpdGVXYXNtU3RyaW5nKHNlY3Rpb24uZGF0YSwgZm5OYW1lKTtcbiAgICAgICAgICAgICAgICBsb2coc2VjdGlvbi5kYXRhLCBhcnJheS5wb3NpdGlvbiwgV2FzbUV4dGVybmFsS2luZC5GdW5jdGlvbiwgXCJleHBvcnQga2luZFwiKTtcbiAgICAgICAgICAgICAgICB0aGlzLmFzc2VtYmxlci53cml0ZVVuc2lnbmVkTEVCMTI4KHNlY3Rpb24uZGF0YSwgV2FzbUV4dGVybmFsS2luZC5GdW5jdGlvbik7XG4gICAgICAgICAgICAgICAgbG9nKHNlY3Rpb24uZGF0YSwgYXJyYXkucG9zaXRpb24sIGksIFwiZXhwb3J0IGZ1bmMgaW5kZXhcIik7XG4gICAgICAgICAgICAgICAgdGhpcy5hc3NlbWJsZXIud3JpdGVVbnNpZ25lZExFQjEyOChzZWN0aW9uLmRhdGEsIGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm4gPSBmbi5uZXh0O1xuICAgICAgICAgICAgaSA9IGkgKyAxO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5hc3NlbWJsZXIuZW5kU2VjdGlvbihhcnJheSwgc2VjdGlvbik7XG4gICAgfVxuXG4gICAgZW1pdFN0YXJ0RnVuY3Rpb25EZWNsYXJhdGlvbihhcnJheTogQnl0ZUFycmF5KTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLnN0YXJ0RnVuY3Rpb25JbmRleCAhPSAtMSkge1xuICAgICAgICAgICAgbGV0IHNlY3Rpb24gPSB0aGlzLmFzc2VtYmxlci5zdGFydFNlY3Rpb24oYXJyYXksIFdhc21TZWN0aW9uLlN0YXJ0LCBcInN0YXJ0X2Z1bmN0aW9uXCIpO1xuICAgICAgICAgICAgbG9nKHNlY3Rpb24uZGF0YSwgYXJyYXkucG9zaXRpb24sIHRoaXMuc3RhcnRGdW5jdGlvbkluZGV4LCBcInN0YXJ0IGZ1bmN0aW9uIGluZGV4XCIpO1xuICAgICAgICAgICAgdGhpcy5hc3NlbWJsZXIud3JpdGVVbnNpZ25lZExFQjEyOChzZWN0aW9uLmRhdGEsIHRoaXMuaW1wb3J0Q291bnQgKyB0aGlzLnN0YXJ0RnVuY3Rpb25JbmRleCk7XG4gICAgICAgICAgICB0aGlzLmFzc2VtYmxlci5lbmRTZWN0aW9uKGFycmF5LCBzZWN0aW9uKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGVtaXRFbGVtZW50cyhhcnJheTogQnl0ZUFycmF5KTogdm9pZCB7XG4gICAgICAgIC8vVE9ET1xuICAgIH1cblxuICAgIGVtaXRGdW5jdGlvbkJvZGllcyhhcnJheTogQnl0ZUFycmF5KTogdm9pZCB7XG4gICAgICAgIGlmICghdGhpcy5maXJzdEZ1bmN0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG9mZnNldCA9IGFycmF5LnBvc2l0aW9uO1xuICAgICAgICBsZXQgc2VjdGlvbiA9IHRoaXMuYXNzZW1ibGVyLnN0YXJ0U2VjdGlvbihhcnJheSwgV2FzbVNlY3Rpb24uQ29kZSwgXCJmdW5jdGlvbl9ib2RpZXNcIik7XG4gICAgICAgIGxvZyhzZWN0aW9uLmRhdGEsIG9mZnNldCwgdGhpcy5mdW5jdGlvbkNvdW50LCBcIm51bSBmdW5jdGlvbnNcIik7XG4gICAgICAgIHRoaXMuYXNzZW1ibGVyLndyaXRlVW5zaWduZWRMRUIxMjgoc2VjdGlvbi5kYXRhLCB0aGlzLmZ1bmN0aW9uQ291bnQpO1xuICAgICAgICBsZXQgY291bnQgPSAwO1xuICAgICAgICBsZXQgZm4gPSB0aGlzLmZpcnN0RnVuY3Rpb247XG4gICAgICAgIHdoaWxlIChmbiAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRGdW5jdGlvbiA9IGZuO1xuICAgICAgICAgICAgbGV0IHNlY3Rpb25PZmZzZXQgPSBvZmZzZXQgKyBzZWN0aW9uLmRhdGEucG9zaXRpb247XG4gICAgICAgICAgICBsZXQgd2FzbUZ1bmN0aW9uTmFtZSA9IGdldFdhc21GdW5jdGlvbk5hbWUoZm4uc3ltYm9sKTtcbiAgICAgICAgICAgIGxldCBib2R5RGF0YSA9IG5ldyBCeXRlQXJyYXkoKTtcbiAgICAgICAgICAgIGxvZyhib2R5RGF0YSwgc2VjdGlvbk9mZnNldCwgZm4ubG9jYWxDb3VudCA/IGZuLmxvY2FsQ291bnQgOiAwLCBcImxvY2FsIHZhciBjb3VudFwiKTtcblxuICAgICAgICAgICAgdGhpcy5hc3NlbWJsZXIuc3RhY2tUcmFjZXIuc3RhcnRGdW5jdGlvbih0aGlzLmltcG9ydENvdW50ICsgY291bnQpO1xuXG4gICAgICAgICAgICBpZiAoZm4ubG9jYWxDb3VudCA+IDApIHtcbiAgICAgICAgICAgICAgICBib2R5RGF0YS53cml0ZVVuc2lnbmVkTEVCMTI4KGZuLmxvY2FsQ291bnQpOyAvL2xvY2FsX2NvdW50XG5cbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBPcHRpbWl6ZSBsb2NhbCBkZWNsYXJhdGlvbnNcbiAgICAgICAgICAgICAgICAvL2xvY2FsX2VudHJ5XG4gICAgICAgICAgICAgICAgbGV0IGxvY2FsID0gZm4uZmlyc3RMb2NhbDtcbiAgICAgICAgICAgICAgICB3aGlsZSAobG9jYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgbG9nKGJvZHlEYXRhLCBzZWN0aW9uT2Zmc2V0LCAxLCBcImxvY2FsIGluZGV4XCIpO1xuICAgICAgICAgICAgICAgICAgICBib2R5RGF0YS53cml0ZVVuc2lnbmVkTEVCMTI4KDEpOyAvL2NvdW50XG4gICAgICAgICAgICAgICAgICAgIGxvZyhib2R5RGF0YSwgc2VjdGlvbk9mZnNldCwgbG9jYWwudHlwZSwgV2FzbVR5cGVbbG9jYWwudHlwZV0pO1xuICAgICAgICAgICAgICAgICAgICBib2R5RGF0YS5hcHBlbmQobG9jYWwudHlwZSk7IC8vdmFsdWVfdHlwZVxuICAgICAgICAgICAgICAgICAgICBsb2NhbCA9IGxvY2FsLm5leHQ7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGJvZHlEYXRhLndyaXRlVW5zaWduZWRMRUIxMjgoMCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBsYXN0Q2hpbGQ7XG4gICAgICAgICAgICBpZiAoZm4uaXNDb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgICAgIC8vIHRoaXMgaXMgPENMQVNTPl9fY3RyIGZ1bmN0aW9uXG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0Q29uc3RydWN0b3IoYm9keURhdGEsIHNlY3Rpb25PZmZzZXQsIGZuKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgY2hpbGQgPSBmbi5zeW1ib2wubm9kZS5mdW5jdGlvbkJvZHkoKS5maXJzdENoaWxkO1xuICAgICAgICAgICAgd2hpbGUgKGNoaWxkICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBsYXN0Q2hpbGQgPSBjaGlsZDtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXROb2RlKGJvZHlEYXRhLCBzZWN0aW9uT2Zmc2V0LCBjaGlsZCk7XG4gICAgICAgICAgICAgICAgY2hpbGQgPSBjaGlsZC5uZXh0U2libGluZztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGZuLmJvZHkpIHtcbiAgICAgICAgICAgICAgICBib2R5RGF0YS5jb3B5KGZuLmJvZHkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAobGFzdENoaWxkICYmIGxhc3RDaGlsZC5raW5kICE9PSBOb2RlS2luZC5SRVRVUk4gJiYgZm4ucmV0dXJuVHlwZSAhPSBXYXNtVHlwZS5WT0lEKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXNzZW1ibGVyLmFwcGVuZE9wY29kZShib2R5RGF0YSwgc2VjdGlvbk9mZnNldCwgV2FzbU9wY29kZS5SRVRVUk4pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGZuLnJldHVyblR5cGUgPT09IFdhc21UeXBlLlZPSUQpIHtcbiAgICAgICAgICAgICAgICAvLyBEcm9wIHN0YWNrIGlmIG5vdCBlbXB0eVxuICAgICAgICAgICAgICAgIHRoaXMuYXNzZW1ibGVyLmRyb3BTdGFjayhib2R5RGF0YSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuYXNzZW1ibGVyLmFwcGVuZE9wY29kZShib2R5RGF0YSwgc2VjdGlvbk9mZnNldCwgV2FzbU9wY29kZS5FTkQpOyAvL2VuZCwgMHgwYiwgaW5kaWNhdGluZyB0aGUgZW5kIG9mIHRoZSBib2R5XG5cbiAgICAgICAgICAgIHRoaXMuYXNzZW1ibGVyLnN0YWNrVHJhY2VyLmVuZEZ1bmN0aW9uKCk7XG5cbiAgICAgICAgICAgIC8vQ29weSBhbmQgZmluaXNoIGJvZHlcbiAgICAgICAgICAgIHNlY3Rpb24uZGF0YS53cml0ZVVuc2lnbmVkTEVCMTI4KGJvZHlEYXRhLmxlbmd0aCk7XG4gICAgICAgICAgICBsb2coc2VjdGlvbi5kYXRhLCBvZmZzZXQsIG51bGwsIGAgLSBmdW5jIGJvZHkgJHt0aGlzLmltcG9ydENvdW50ICsgKGNvdW50KyspfSAoJHt3YXNtRnVuY3Rpb25OYW1lfSlgKTtcbiAgICAgICAgICAgIGxvZyhzZWN0aW9uLmRhdGEsIG9mZnNldCwgYm9keURhdGEubGVuZ3RoLCBcImZ1bmMgYm9keSBzaXplXCIpO1xuICAgICAgICAgICAgc2VjdGlvbi5kYXRhLmxvZyArPSBib2R5RGF0YS5sb2c7XG4gICAgICAgICAgICBzZWN0aW9uLmRhdGEuY29weShib2R5RGF0YSk7XG5cbiAgICAgICAgICAgIGZuID0gZm4ubmV4dDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYXNzZW1ibGVyLmVuZFNlY3Rpb24oYXJyYXksIHNlY3Rpb24pO1xuICAgIH1cblxuICAgIGVtaXREYXRhU2VnbWVudHMoYXJyYXk6IEJ5dGVBcnJheSk6IHZvaWQge1xuICAgICAgICB0aGlzLmdyb3dNZW1vcnlJbml0aWFsaXplcigpO1xuICAgICAgICBsZXQgbWVtb3J5SW5pdGlhbGl6ZXIgPSB0aGlzLm1lbW9yeUluaXRpYWxpemVyO1xuICAgICAgICBsZXQgaW5pdGlhbGl6ZXJMZW5ndGggPSBtZW1vcnlJbml0aWFsaXplci5sZW5ndGg7XG4gICAgICAgIGxldCBpbml0aWFsSGVhcFBvaW50ZXIgPSBhbGlnblRvTmV4dE11bHRpcGxlT2YoV0FTTV9NRU1PUllfSU5JVElBTElaRVJfQkFTRSArIGluaXRpYWxpemVyTGVuZ3RoLCA4KTtcblxuICAgICAgICAvLyBQYXNzIHRoZSBpbml0aWFsIGhlYXAgcG9pbnRlciB0byB0aGUgXCJtYWxsb2NcIiBmdW5jdGlvblxuICAgICAgICBtZW1vcnlJbml0aWFsaXplci53cml0ZVVuc2lnbmVkSW50KGluaXRpYWxIZWFwUG9pbnRlciwgdGhpcy5vcmlnaW5hbEhlYXBQb2ludGVyKTtcbiAgICAgICAgbWVtb3J5SW5pdGlhbGl6ZXIud3JpdGVVbnNpZ25lZEludChpbml0aWFsSGVhcFBvaW50ZXIsIHRoaXMuY3VycmVudEhlYXBQb2ludGVyKTtcblxuICAgICAgICBsZXQgc2VjdGlvbiA9IHRoaXMuYXNzZW1ibGVyLnN0YXJ0U2VjdGlvbihhcnJheSwgV2FzbVNlY3Rpb24uRGF0YSwgXCJkYXRhX3NlZ21lbnRzXCIpO1xuXG4gICAgICAgIC8vIFRoaXMgb25seSB3cml0ZXMgb25lIHNpbmdsZSBzZWN0aW9uIGNvbnRhaW5pbmcgZXZlcnl0aGluZ1xuICAgICAgICBsb2coc2VjdGlvbi5kYXRhLCBhcnJheS5wb3NpdGlvbiwgMSwgXCJudW0gZGF0YSBzZWdtZW50c1wiKTtcbiAgICAgICAgdGhpcy5hc3NlbWJsZXIud3JpdGVVbnNpZ25lZExFQjEyOChzZWN0aW9uLmRhdGEsIDEpO1xuXG4gICAgICAgIC8vZGF0YV9zZWdtZW50XG4gICAgICAgIGxvZyhzZWN0aW9uLmRhdGEsIGFycmF5LnBvc2l0aW9uLCBudWxsLCBcIiAtIGRhdGEgc2VnbWVudCBoZWFkZXIgMFwiKTtcbiAgICAgICAgbG9nKHNlY3Rpb24uZGF0YSwgYXJyYXkucG9zaXRpb24sIDAsIFwibWVtb3J5IGluZGV4XCIpO1xuICAgICAgICB0aGlzLmFzc2VtYmxlci53cml0ZVVuc2lnbmVkTEVCMTI4KHNlY3Rpb24uZGF0YSwgMCk7IC8vaW5kZXgsIHRoZSBsaW5lYXIgbWVtb3J5IGluZGV4ICgwIGluIHRoZSBNVlApXG5cbiAgICAgICAgLy9vZmZzZXQsIGFuIGkzMiBpbml0aWFsaXplciBleHByZXNzaW9uIHRoYXQgY29tcHV0ZXMgdGhlIG9mZnNldCBhdCB3aGljaCB0byBwbGFjZSB0aGUgZGF0YVxuICAgICAgICB0aGlzLmFzc2VtYmxlci5hcHBlbmRPcGNvZGUoc2VjdGlvbi5kYXRhLCBhcnJheS5wb3NpdGlvbiwgV2FzbU9wY29kZS5JMzJfQ09OU1QpO1xuICAgICAgICBsb2coc2VjdGlvbi5kYXRhLCBhcnJheS5wb3NpdGlvbiwgV0FTTV9NRU1PUllfSU5JVElBTElaRVJfQkFTRSwgXCJpMzIgbGl0ZXJhbFwiKTtcbiAgICAgICAgdGhpcy5hc3NlbWJsZXIud3JpdGVVbnNpZ25lZExFQjEyOChzZWN0aW9uLmRhdGEsIFdBU01fTUVNT1JZX0lOSVRJQUxJWkVSX0JBU0UpOyAvL2NvbnN0IHZhbHVlXG4gICAgICAgIHRoaXMuYXNzZW1ibGVyLmFwcGVuZE9wY29kZShzZWN0aW9uLmRhdGEsIGFycmF5LnBvc2l0aW9uLCBXYXNtT3Bjb2RlLkVORCk7XG5cbiAgICAgICAgbG9nKHNlY3Rpb24uZGF0YSwgYXJyYXkucG9zaXRpb24sIGluaXRpYWxpemVyTGVuZ3RoLCBcImRhdGEgc2VnbWVudCBzaXplXCIpO1xuICAgICAgICB0aGlzLmFzc2VtYmxlci53cml0ZVVuc2lnbmVkTEVCMTI4KHNlY3Rpb24uZGF0YSwgaW5pdGlhbGl6ZXJMZW5ndGgpOyAvL3NpemUsIHNpemUgb2YgZGF0YSAoaW4gYnl0ZXMpXG5cbiAgICAgICAgbG9nKHNlY3Rpb24uZGF0YSwgYXJyYXkucG9zaXRpb24sIG51bGwsIFwiIC0gZGF0YSBzZWdtZW50IGRhdGEgMFwiKTtcbiAgICAgICAgLy9kYXRhLCBzZXF1ZW5jZSBvZiBzaXplIGJ5dGVzXG4gICAgICAgIC8vIENvcHkgdGhlIGVudGlyZSBtZW1vcnkgaW5pdGlhbGl6ZXIgKGFsc28gaW5jbHVkZXMgemVyby1pbml0aWFsaXplZCBkYXRhIGZvciBub3cpXG4gICAgICAgIGxldCBpID0gMDtcbiAgICAgICAgbGV0IHZhbHVlO1xuICAgICAgICB3aGlsZSAoaSA8IGluaXRpYWxpemVyTGVuZ3RoKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IDE2OyBqKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoaSArIGogPCBpbml0aWFsaXplckxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IG1lbW9yeUluaXRpYWxpemVyLmdldChpICsgaik7XG4gICAgICAgICAgICAgICAgICAgIHNlY3Rpb24uZGF0YS5hcHBlbmQodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICBsb2dEYXRhKHNlY3Rpb24uZGF0YSwgYXJyYXkucG9zaXRpb24sIHZhbHVlLCBqID09IDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNlY3Rpb24uZGF0YS5sb2cgKz0gXCJcXG5cIjtcbiAgICAgICAgICAgIGkgPSBpICsgMTY7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzZWN0aW9uLmRhdGEuY29weShtZW1vcnlJbml0aWFsaXplciwgaW5pdGlhbGl6ZXJMZW5ndGgpO1xuXG4gICAgICAgIHRoaXMuYXNzZW1ibGVyLmVuZFNlY3Rpb24oYXJyYXksIHNlY3Rpb24pO1xuICAgIH1cblxuICAgIC8vIEN1c3RvbSBzZWN0aW9uIGZvciBkZWJ1ZyBuYW1lc1xuICAgIC8vXG4gICAgZW1pdE5hbWVzKGFycmF5OiBCeXRlQXJyYXkpOiB2b2lkIHtcbiAgICAgICAgbGV0IHNlY3Rpb24gPSB0aGlzLmFzc2VtYmxlci5zdGFydFNlY3Rpb24oYXJyYXksIDAsIFwibmFtZVwiKTtcblxuICAgICAgICBsZXQgc3Vic2VjdGlvbkZ1bmM6IEJ5dGVBcnJheSA9IG5ldyBCeXRlQXJyYXkoKTtcbiAgICAgICAgbGV0IHN1YnNlY3Rpb25Mb2NhbDogQnl0ZUFycmF5ID0gbmV3IEJ5dGVBcnJheSgpO1xuXG4gICAgICAgIHRoaXMuYXNzZW1ibGVyLndyaXRlVW5zaWduZWRMRUIxMjgoc3Vic2VjdGlvbkZ1bmMsIHRoaXMuZnVuY3Rpb25Db3VudCk7XG4gICAgICAgIHRoaXMuYXNzZW1ibGVyLndyaXRlVW5zaWduZWRMRUIxMjgoc3Vic2VjdGlvbkxvY2FsLCB0aGlzLmZ1bmN0aW9uQ291bnQpO1xuICAgICAgICBsZXQgZm4gPSB0aGlzLmZpcnN0RnVuY3Rpb247XG4gICAgICAgIHdoaWxlIChmbiAhPSBudWxsKSB7XG4gICAgICAgICAgICBsZXQgZm5JbmRleCA9IHRoaXMuaW1wb3J0Q291bnQgKyBmbi5zeW1ib2wub2Zmc2V0O1xuICAgICAgICAgICAgbGV0IG5hbWUgPSBnZXRXYXNtRnVuY3Rpb25OYW1lKGZuLnN5bWJvbCk7XG4gICAgICAgICAgICB0aGlzLmFzc2VtYmxlci53cml0ZVVuc2lnbmVkTEVCMTI4KHN1YnNlY3Rpb25GdW5jLCBmbkluZGV4KTtcbiAgICAgICAgICAgIHRoaXMuYXNzZW1ibGVyLndyaXRlV2FzbVN0cmluZyhzdWJzZWN0aW9uRnVuYywgbmFtZSk7XG4gICAgICAgICAgICB0aGlzLmFzc2VtYmxlci53cml0ZVVuc2lnbmVkTEVCMTI4KHN1YnNlY3Rpb25Mb2NhbCwgZm5JbmRleCk7XG4gICAgICAgICAgICB0aGlzLmFzc2VtYmxlci53cml0ZVVuc2lnbmVkTEVCMTI4KHN1YnNlY3Rpb25Mb2NhbCwgZm4ubG9jYWxFbnRyaWVzLmxlbmd0aCk7XG5cbiAgICAgICAgICAgIGZuLmxvY2FsRW50cmllcy5mb3JFYWNoKChsb2NhbCwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmFzc2VtYmxlci53cml0ZVVuc2lnbmVkTEVCMTI4KHN1YnNlY3Rpb25Mb2NhbCwgaW5kZXgpO1xuICAgICAgICAgICAgICAgIHRoaXMuYXNzZW1ibGVyLndyaXRlV2FzbVN0cmluZyhzdWJzZWN0aW9uTG9jYWwsIGxvY2FsLm5hbWUpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGZuID0gZm4ubmV4dDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vc3Vic2VjdGlvbiBmb3IgZnVuY3Rpb24gbmFtZXNcbiAgICAgICAgdGhpcy5hc3NlbWJsZXIud3JpdGVVbnNpZ25lZExFQjEyOChzZWN0aW9uLmRhdGEsIDEpOyAvLyBuYW1lX3R5cGVcbiAgICAgICAgdGhpcy5hc3NlbWJsZXIud3JpdGVVbnNpZ25lZExFQjEyOChzZWN0aW9uLmRhdGEsIHN1YnNlY3Rpb25GdW5jLmxlbmd0aCk7IC8vIG5hbWVfcGF5bG9hZF9sZW5cbiAgICAgICAgc2VjdGlvbi5kYXRhLmNvcHkoc3Vic2VjdGlvbkZ1bmMpOyAvLyBuYW1lX3BheWxvYWRfZGF0YVxuXG4gICAgICAgIC8vc3Vic2VjdGlvbiBmb3IgbG9jYWwgbmFtZXNcbiAgICAgICAgdGhpcy5hc3NlbWJsZXIud3JpdGVVbnNpZ25lZExFQjEyOChzZWN0aW9uLmRhdGEsIDIpOyAvLyBuYW1lX3R5cGVcbiAgICAgICAgdGhpcy5hc3NlbWJsZXIud3JpdGVVbnNpZ25lZExFQjEyOChzZWN0aW9uLmRhdGEsIHN1YnNlY3Rpb25Mb2NhbC5sZW5ndGgpOyAvLyBuYW1lX3BheWxvYWRfbGVuXG4gICAgICAgIHNlY3Rpb24uZGF0YS5jb3B5KHN1YnNlY3Rpb25Mb2NhbCk7IC8vIG5hbWVfcGF5bG9hZF9kYXRhXG5cbiAgICAgICAgdGhpcy5hc3NlbWJsZXIuZW5kU2VjdGlvbihhcnJheSwgc2VjdGlvbik7XG4gICAgfVxuXG4gICAgcHJlcGFyZVRvRW1pdChub2RlOiBOb2RlKTogdm9pZCB7XG4gICAgICAgIGlmIChub2RlLmtpbmQgPT0gTm9kZUtpbmQuU1RSSU5HKSB7XG4gICAgICAgICAgICBsZXQgdGV4dCA9IG5vZGUuc3RyaW5nVmFsdWU7XG4gICAgICAgICAgICBsZXQgbGVuZ3RoID0gdGV4dC5sZW5ndGg7XG4gICAgICAgICAgICBsZXQgb2Zmc2V0ID0gdGhpcy5jb250ZXh0LmFsbG9jYXRlR2xvYmFsVmFyaWFibGVPZmZzZXQobGVuZ3RoICogMiArIDQsIDQpO1xuICAgICAgICAgICAgbm9kZS5pbnRWYWx1ZSA9IG9mZnNldDtcbiAgICAgICAgICAgIHRoaXMuZ3Jvd01lbW9yeUluaXRpYWxpemVyKCk7XG4gICAgICAgICAgICBsZXQgbWVtb3J5SW5pdGlhbGl6ZXIgPSB0aGlzLm1lbW9yeUluaXRpYWxpemVyO1xuXG4gICAgICAgICAgICAvLyBFbWl0IGEgbGVuZ3RoLXByZWZpeGVkIHN0cmluZ1xuICAgICAgICAgICAgQnl0ZUFycmF5X3NldDMyKG1lbW9yeUluaXRpYWxpemVyLCBvZmZzZXQsIGxlbmd0aCk7XG4gICAgICAgICAgICBCeXRlQXJyYXlfc2V0U3RyaW5nKG1lbW9yeUluaXRpYWxpemVyLCBvZmZzZXQgKyA0LCB0ZXh0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGVsc2UgaWYgKG5vZGUua2luZCA9PSBOb2RlS2luZC5WQVJJQUJMRSkge1xuICAgICAgICAgICAgbGV0IHN5bWJvbCA9IG5vZGUuc3ltYm9sO1xuXG4gICAgICAgICAgICAvKmlmIChzeW1ib2wua2luZCA9PSBTeW1ib2xLaW5kLlZBUklBQkxFX0dMT0JBTCkge1xuICAgICAgICAgICAgIGxldCBzaXplT2YgPSBzeW1ib2wucmVzb2x2ZWRUeXBlLnZhcmlhYmxlU2l6ZU9mKHRoaXMuY29udGV4dCk7XG4gICAgICAgICAgICAgbGV0IHZhbHVlID0gc3ltYm9sLm5vZGUudmFyaWFibGVWYWx1ZSgpO1xuICAgICAgICAgICAgIGxldCBtZW1vcnlJbml0aWFsaXplciA9IHRoaXMubWVtb3J5SW5pdGlhbGl6ZXI7XG5cbiAgICAgICAgICAgICAvLyBDb3B5IHRoZSBpbml0aWFsIHZhbHVlIGludG8gdGhlIG1lbW9yeSBpbml0aWFsaXplclxuICAgICAgICAgICAgIHRoaXMuZ3Jvd01lbW9yeUluaXRpYWxpemVyKCk7XG5cbiAgICAgICAgICAgICBsZXQgb2Zmc2V0ID0gc3ltYm9sLm9mZnNldDtcblxuICAgICAgICAgICAgIGlmIChzaXplT2YgPT0gMSkge1xuICAgICAgICAgICAgIGlmIChzeW1ib2wucmVzb2x2ZWRUeXBlLmlzVW5zaWduZWQoKSkge1xuICAgICAgICAgICAgIG1lbW9yeUluaXRpYWxpemVyLndyaXRlVW5zaWduZWRCeXRlKHZhbHVlLmludFZhbHVlLCBvZmZzZXQpO1xuICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgbWVtb3J5SW5pdGlhbGl6ZXIud3JpdGVCeXRlKHZhbHVlLmludFZhbHVlLCBvZmZzZXQpO1xuICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgZWxzZSBpZiAoc2l6ZU9mID09IDIpIHtcbiAgICAgICAgICAgICBpZiAoc3ltYm9sLnJlc29sdmVkVHlwZS5pc1Vuc2lnbmVkKCkpIHtcbiAgICAgICAgICAgICBtZW1vcnlJbml0aWFsaXplci53cml0ZVVuc2lnbmVkU2hvcnQodmFsdWUuaW50VmFsdWUsIG9mZnNldCk7XG4gICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICBtZW1vcnlJbml0aWFsaXplci53cml0ZVNob3J0KHZhbHVlLmludFZhbHVlLCBvZmZzZXQpO1xuICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgZWxzZSBpZiAoc2l6ZU9mID09IDQpIHtcbiAgICAgICAgICAgICBpZiAoc3ltYm9sLnJlc29sdmVkVHlwZS5pc0Zsb2F0KCkpIHtcbiAgICAgICAgICAgICBtZW1vcnlJbml0aWFsaXplci53cml0ZUZsb2F0KHZhbHVlLmZsb2F0VmFsdWUsIG9mZnNldCk7XG4gICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICBpZiAoc3ltYm9sLnJlc29sdmVkVHlwZS5pc1Vuc2lnbmVkKCkpIHtcbiAgICAgICAgICAgICBtZW1vcnlJbml0aWFsaXplci53cml0ZVVuc2lnbmVkSW50KHZhbHVlLmludFZhbHVlLCBvZmZzZXQpO1xuICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgbWVtb3J5SW5pdGlhbGl6ZXIud3JpdGVJbnQodmFsdWUuaW50VmFsdWUsIG9mZnNldCk7XG4gICAgICAgICAgICAgfVxuICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgZWxzZSBpZiAoc2l6ZU9mID09IDgpIHtcbiAgICAgICAgICAgICBpZiAoc3ltYm9sLnJlc29sdmVkVHlwZS5pc0RvdWJsZSgpKSB7XG4gICAgICAgICAgICAgbWVtb3J5SW5pdGlhbGl6ZXIud3JpdGVEb3VibGUodmFsdWUucmF3VmFsdWUsIG9mZnNldCk7XG4gICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAvL1RPRE8gSW1wbGVtZW50IEludDY0IHdyaXRlXG4gICAgICAgICAgICAgaWYgKHN5bWJvbC5yZXNvbHZlZFR5cGUuaXNVbnNpZ25lZCgpKSB7XG4gICAgICAgICAgICAgLy9tZW1vcnlJbml0aWFsaXplci53cml0ZVVuc2lnbmVkSW50NjQodmFsdWUucmF3VmFsdWUsIG9mZnNldCk7XG4gICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAvL21lbW9yeUluaXRpYWxpemVyLndyaXRlSW50NjQodmFsdWUucmF3VmFsdWUsIG9mZnNldCk7XG4gICAgICAgICAgICAgfVxuICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgZWxzZSBhc3NlcnQoZmFsc2UpOyovXG5cbiAgICAgICAgICAgIGlmIChzeW1ib2wua2luZCA9PSBTeW1ib2xLaW5kLlZBUklBQkxFX0dMT0JBTCkge1xuXG4gICAgICAgICAgICAgICAgbGV0IGdsb2JhbCA9IHRoaXMuYWxsb2NhdGVHbG9iYWwoc3ltYm9sLCB0aGlzLmJpdG5lc3MpO1xuXG4gICAgICAgICAgICAgICAgLy8gTWFrZSBzdXJlIHRoZSBoZWFwIG9mZnNldCBpcyB0cmFja2VkXG4gICAgICAgICAgICAgICAgaWYgKHN5bWJvbC5uYW1lID09IFwiY3VycmVudEhlYXBQb2ludGVyXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgYXNzZXJ0KHRoaXMuY3VycmVudEhlYXBQb2ludGVyID09IC0xKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50SGVhcFBvaW50ZXIgPSBzeW1ib2wub2Zmc2V0O1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSB0aGUgaGVhcCBvZmZzZXQgaXMgdHJhY2tlZFxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHN5bWJvbC5uYW1lID09IFwib3JpZ2luYWxIZWFwUG9pbnRlclwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGFzc2VydCh0aGlzLm9yaWdpbmFsSGVhcFBvaW50ZXIgPT0gLTEpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9yaWdpbmFsSGVhcFBvaW50ZXIgPSBzeW1ib2wub2Zmc2V0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGVsc2UgaWYgKG5vZGUua2luZCA9PSBOb2RlS2luZC5GVU5DVElPTiAmJlxuICAgICAgICAgICAgKG5vZGUuc3ltYm9sLmtpbmQgIT0gU3ltYm9sS2luZC5GVU5DVElPTl9JTlNUQU5DRSB8fFxuICAgICAgICAgICAgbm9kZS5zeW1ib2wua2luZCA9PSBTeW1ib2xLaW5kLkZVTkNUSU9OX0lOU1RBTkNFICYmICFub2RlLnBhcmVudC5pc1RlbXBsYXRlKCkpKSB7XG5cbiAgICAgICAgICAgIGxldCByZXR1cm5UeXBlID0gbm9kZS5mdW5jdGlvblJldHVyblR5cGUoKTtcbiAgICAgICAgICAgIGxldCB3YXNtUmV0dXJuVHlwZSA9IHRoaXMuZ2V0V2FzbVR5cGUocmV0dXJuVHlwZS5yZXNvbHZlZFR5cGUpO1xuICAgICAgICAgICAgbGV0IHNoYXJlZCA9IG5ldyBXYXNtU2hhcmVkT2Zmc2V0KCk7XG4gICAgICAgICAgICBsZXQgYXJndW1lbnRUeXBlc0ZpcnN0OiBXYXNtV3JhcHBlZFR5cGUgPSBudWxsO1xuICAgICAgICAgICAgbGV0IGFyZ3VtZW50VHlwZXNMYXN0OiBXYXNtV3JhcHBlZFR5cGUgPSBudWxsO1xuICAgICAgICAgICAgbGV0IHN5bWJvbCA9IG5vZGUuc3ltYm9sO1xuICAgICAgICAgICAgbGV0IGlzQ29uc3RydWN0b3I6IGJvb2xlYW4gPSBzeW1ib2wubmFtZSA9PSBcImNvbnN0cnVjdG9yXCI7XG5cbiAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSB0byBpbmNsdWRlIHRoZSBpbXBsaWNpdCBcInRoaXNcIiB2YXJpYWJsZSBhcyBhIG5vcm1hbCBhcmd1bWVudFxuICAgICAgICAgICAgbGV0IGFyZ3VtZW50ID0gbm9kZS5pc0V4dGVybmFsSW1wb3J0KCkgPyBub2RlLmZ1bmN0aW9uRmlyc3RBcmd1bWVudElnbm9yaW5nVGhpcygpIDogbm9kZS5mdW5jdGlvbkZpcnN0QXJndW1lbnQoKTtcbiAgICAgICAgICAgIGxldCBhcmd1bWVudENvdW50ID0gMDtcbiAgICAgICAgICAgIGxldCBhcmd1bWVudExpc3Q6IFdhc21Mb2NhbEVudHJ5W10gPSBbXTtcbiAgICAgICAgICAgIHdoaWxlIChhcmd1bWVudCAhPSByZXR1cm5UeXBlKSB7XG4gICAgICAgICAgICAgICAgbGV0IHdhc21UeXBlID0gdGhpcy5nZXRXYXNtVHlwZShhcmd1bWVudC52YXJpYWJsZVR5cGUoKS5yZXNvbHZlZFR5cGUpO1xuICAgICAgICAgICAgICAgIGFyZ3VtZW50TGlzdC5wdXNoKG5ldyBXYXNtTG9jYWxFbnRyeSh3YXNtVHlwZSwgYXJndW1lbnQuc3ltYm9sLm5hbWUpKTtcblxuICAgICAgICAgICAgICAgIGxldCB0eXBlID0gd2FzbVdyYXBUeXBlKHdhc21UeXBlKTtcblxuICAgICAgICAgICAgICAgIGlmIChhcmd1bWVudFR5cGVzRmlyc3QgPT0gbnVsbCkgYXJndW1lbnRUeXBlc0ZpcnN0ID0gdHlwZTtcbiAgICAgICAgICAgICAgICBlbHNlIGFyZ3VtZW50VHlwZXNMYXN0Lm5leHQgPSB0eXBlO1xuICAgICAgICAgICAgICAgIGFyZ3VtZW50VHlwZXNMYXN0ID0gdHlwZTtcblxuICAgICAgICAgICAgICAgIHNoYXJlZC5uZXh0TG9jYWxPZmZzZXQgPSBzaGFyZWQubmV4dExvY2FsT2Zmc2V0ICsgMTtcbiAgICAgICAgICAgICAgICBhcmd1bWVudENvdW50Kys7XG4gICAgICAgICAgICAgICAgYXJndW1lbnQgPSBhcmd1bWVudC5uZXh0U2libGluZztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IHNpZ25hdHVyZUluZGV4ID0gdGhpcy5hbGxvY2F0ZVNpZ25hdHVyZShhcmd1bWVudFR5cGVzRmlyc3QsIHdhc21XcmFwVHlwZSh3YXNtUmV0dXJuVHlwZSksIGFyZ3VtZW50Q291bnQpO1xuXG4gICAgICAgICAgICBsZXQgYm9keSA9IG5vZGUuZnVuY3Rpb25Cb2R5KCk7XG5cbiAgICAgICAgICAgIC8vIEZ1bmN0aW9ucyB3aXRob3V0IGJvZGllcyBhcmUgaW1wb3J0c1xuICAgICAgICAgICAgaWYgKGJvZHkgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGxldCB3YXNtRnVuY3Rpb25OYW1lOiBzdHJpbmcgPSBnZXRXYXNtRnVuY3Rpb25OYW1lKHN5bWJvbCk7XG4gICAgICAgICAgICAgICAgaWYgKCFpc0J1aWx0aW4od2FzbUZ1bmN0aW9uTmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IG1vZHVsZU5hbWUgPSBzeW1ib2wua2luZCA9PSBTeW1ib2xLaW5kLkZVTkNUSU9OX0lOU1RBTkNFID8gc3ltYm9sLnBhcmVudCgpLm5hbWUgOiBcImdsb2JhbFwiO1xuICAgICAgICAgICAgICAgICAgICBzeW1ib2wub2Zmc2V0ID0gdGhpcy5pbXBvcnRDb3VudDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hbGxvY2F0ZUltcG9ydChzaWduYXR1cmVJbmRleCwgbW9kdWxlTmFtZSwgc3ltYm9sLm5hbWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBub2RlID0gbm9kZS5uZXh0U2libGluZztcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHN5bWJvbC5vZmZzZXQgPSB0aGlzLmZ1bmN0aW9uQ291bnQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBmbiA9IHRoaXMuYWxsb2NhdGVGdW5jdGlvbihzeW1ib2wsIHNpZ25hdHVyZUluZGV4KTtcbiAgICAgICAgICAgIGZuLmxvY2FsRW50cmllcyA9IGFyZ3VtZW50TGlzdC5jb25jYXQoZm4ubG9jYWxFbnRyaWVzKTtcbiAgICAgICAgICAgIGZuLmlzQ29uc3RydWN0b3IgPSBpc0NvbnN0cnVjdG9yO1xuICAgICAgICAgICAgZm4ucmV0dXJuVHlwZSA9IHdhc21SZXR1cm5UeXBlO1xuXG4gICAgICAgICAgICAvLyBNYWtlIHN1cmUgXCJtYWxsb2NcIiBpcyB0cmFja2VkXG4gICAgICAgICAgICBpZiAoc3ltYm9sLmtpbmQgPT0gU3ltYm9sS2luZC5GVU5DVElPTl9HTE9CQUwgJiYgc3ltYm9sLm5hbWUgPT0gXCJtYWxsb2NcIikge1xuICAgICAgICAgICAgICAgIGFzc2VydCh0aGlzLm1hbGxvY0Z1bmN0aW9uSW5kZXggPT0gLTEpO1xuICAgICAgICAgICAgICAgIHRoaXMubWFsbG9jRnVuY3Rpb25JbmRleCA9IHN5bWJvbC5vZmZzZXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc3ltYm9sLmtpbmQgPT0gU3ltYm9sS2luZC5GVU5DVElPTl9HTE9CQUwgJiYgc3ltYm9sLm5hbWUgPT0gXCJmcmVlXCIpIHtcbiAgICAgICAgICAgICAgICBhc3NlcnQodGhpcy5mcmVlRnVuY3Rpb25JbmRleCA9PSAtMSk7XG4gICAgICAgICAgICAgICAgdGhpcy5mcmVlRnVuY3Rpb25JbmRleCA9IHN5bWJvbC5vZmZzZXQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIE1ha2UgXCJfX1dBU01fSU5JVElBTElaRVJcIiBhcyBzdGFydCBmdW5jdGlvblxuICAgICAgICAgICAgaWYgKHN5bWJvbC5raW5kID09IFN5bWJvbEtpbmQuRlVOQ1RJT05fR0xPQkFMICYmIHN5bWJvbC5uYW1lID09IFwiX19XQVNNX0lOSVRJQUxJWkVSXCIpIHtcbiAgICAgICAgICAgICAgICBhc3NlcnQodGhpcy5zdGFydEZ1bmN0aW9uSW5kZXggPT0gLTEpO1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRGdW5jdGlvbkluZGV4ID0gc3ltYm9sLm9mZnNldDtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0RnVuY3Rpb24gPSBmbjtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0RnVuY3Rpb24uYm9keSA9IG5ldyBCeXRlQXJyYXkoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG5vZGUuaXNFeHBvcnQoKSkge1xuICAgICAgICAgICAgICAgIGZuLmlzRXhwb3J0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB3YXNtQXNzaWduTG9jYWxWYXJpYWJsZU9mZnNldHMoZm4sIGJvZHksIHNoYXJlZCwgdGhpcy5iaXRuZXNzKTtcbiAgICAgICAgICAgIGZuLmxvY2FsQ291bnQgPSBzaGFyZWQubG9jYWxDb3VudDtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBjaGlsZCA9IG5vZGUuZmlyc3RDaGlsZDtcbiAgICAgICAgd2hpbGUgKGNoaWxkICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMucHJlcGFyZVRvRW1pdChjaGlsZCk7XG4gICAgICAgICAgICBjaGlsZCA9IGNoaWxkLm5leHRTaWJsaW5nO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZW1pdEJpbmFyeUV4cHJlc3Npb24oYXJyYXk6IEJ5dGVBcnJheSwgYnl0ZU9mZnNldDogaW50MzIsIG5vZGU6IE5vZGUsIG9wY29kZTogdWludDgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5lbWl0Tm9kZShhcnJheSwgYnl0ZU9mZnNldCwgbm9kZS5iaW5hcnlMZWZ0KCkpO1xuICAgICAgICB0aGlzLmVtaXROb2RlKGFycmF5LCBieXRlT2Zmc2V0LCBub2RlLmJpbmFyeVJpZ2h0KCkpO1xuICAgICAgICB0aGlzLmFzc2VtYmxlci5hcHBlbmRPcGNvZGUoYXJyYXksIGJ5dGVPZmZzZXQsIG9wY29kZSk7XG4gICAgfVxuXG4gICAgZW1pdExvYWRGcm9tTWVtb3J5KGFycmF5OiBCeXRlQXJyYXksIGJ5dGVPZmZzZXQ6IGludDMyLCB0eXBlOiBUeXBlLCByZWxhdGl2ZUJhc2U6IE5vZGUsIG9mZnNldDogaW50MzIpOiB2b2lkIHtcbiAgICAgICAgbGV0IG9wY29kZTtcbiAgICAgICAgLy8gUmVsYXRpdmUgYWRkcmVzc1xuICAgICAgICBpZiAocmVsYXRpdmVCYXNlICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuZW1pdE5vZGUoYXJyYXksIGJ5dGVPZmZzZXQsIHJlbGF0aXZlQmFzZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQWJzb2x1dGUgYWRkcmVzc1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG9wY29kZSA9IFdhc21PcGNvZGUuSTMyX0NPTlNUO1xuICAgICAgICAgICAgdGhpcy5hc3NlbWJsZXIuYXBwZW5kT3Bjb2RlKGFycmF5LCBieXRlT2Zmc2V0LCBvcGNvZGUpO1xuICAgICAgICAgICAgbG9nKGFycmF5LCBieXRlT2Zmc2V0LCAwLCBcImkzMiBsaXRlcmFsXCIpO1xuICAgICAgICAgICAgdGhpcy5hc3NlbWJsZXIud3JpdGVVbnNpZ25lZExFQjEyOChhcnJheSwgMCk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgc2l6ZU9mID0gdHlwZS52YXJpYWJsZVNpemVPZih0aGlzLmNvbnRleHQpO1xuXG4gICAgICAgIGlmIChzaXplT2YgPT0gMSkge1xuICAgICAgICAgICAgb3Bjb2RlID0gdHlwZS5pc1Vuc2lnbmVkKCkgPyBXYXNtT3Bjb2RlLkkzMl9MT0FEOF9VIDogV2FzbU9wY29kZS5JMzJfTE9BRDhfUztcbiAgICAgICAgICAgIHRoaXMuYXNzZW1ibGVyLmFwcGVuZE9wY29kZShhcnJheSwgYnl0ZU9mZnNldCwgb3Bjb2RlKTtcbiAgICAgICAgICAgIGxvZyhhcnJheSwgYnl0ZU9mZnNldCwgMCwgXCJhbGlnbm1lbnRcIik7XG4gICAgICAgICAgICB0aGlzLmFzc2VtYmxlci53cml0ZVVuc2lnbmVkTEVCMTI4KGFycmF5LCAwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGVsc2UgaWYgKHNpemVPZiA9PSAyKSB7XG4gICAgICAgICAgICBvcGNvZGUgPSB0eXBlLmlzVW5zaWduZWQoKSA/IFdhc21PcGNvZGUuSTMyX0xPQUQxNl9VIDogV2FzbU9wY29kZS5JMzJfTE9BRDE2X1M7XG4gICAgICAgICAgICB0aGlzLmFzc2VtYmxlci5hcHBlbmRPcGNvZGUoYXJyYXksIGJ5dGVPZmZzZXQsIG9wY29kZSk7XG4gICAgICAgICAgICBsb2coYXJyYXksIGJ5dGVPZmZzZXQsIDEsIFwiYWxpZ25tZW50XCIpO1xuICAgICAgICAgICAgdGhpcy5hc3NlbWJsZXIud3JpdGVVbnNpZ25lZExFQjEyOChhcnJheSwgMSk7XG4gICAgICAgIH1cblxuICAgICAgICBlbHNlIGlmIChzaXplT2YgPT0gNCB8fCB0eXBlLmlzQ2xhc3MoKSkge1xuXG4gICAgICAgICAgICBpZiAodHlwZS5pc0Zsb2F0KCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFzc2VtYmxlci5hcHBlbmRPcGNvZGUoYXJyYXksIGJ5dGVPZmZzZXQsIFdhc21PcGNvZGUuRjMyX0xPQUQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFzc2VtYmxlci5hcHBlbmRPcGNvZGUoYXJyYXksIGJ5dGVPZmZzZXQsIFdhc21PcGNvZGUuSTMyX0xPQUQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbG9nKGFycmF5LCBieXRlT2Zmc2V0LCAyLCBcImFsaWdubWVudFwiKTtcbiAgICAgICAgICAgIHRoaXMuYXNzZW1ibGVyLndyaXRlVW5zaWduZWRMRUIxMjgoYXJyYXksIDIpO1xuICAgICAgICB9XG5cbiAgICAgICAgZWxzZSBpZiAoc2l6ZU9mID09IDgpIHtcblxuICAgICAgICAgICAgaWYgKHR5cGUuaXNEb3VibGUoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYXNzZW1ibGVyLmFwcGVuZE9wY29kZShhcnJheSwgYnl0ZU9mZnNldCwgV2FzbU9wY29kZS5GNjRfTE9BRCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuYXNzZW1ibGVyLmFwcGVuZE9wY29kZShhcnJheSwgYnl0ZU9mZnNldCwgV2FzbU9wY29kZS5JNjRfTE9BRCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsb2coYXJyYXksIGJ5dGVPZmZzZXQsIDMsIFwiYWxpZ25tZW50XCIpO1xuICAgICAgICAgICAgdGhpcy5hc3NlbWJsZXIud3JpdGVVbnNpZ25lZExFQjEyOChhcnJheSwgMyk7XG4gICAgICAgIH1cblxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGFzc2VydChmYWxzZSk7XG4gICAgICAgIH1cblxuICAgICAgICBsb2coYXJyYXksIGJ5dGVPZmZzZXQsIG9mZnNldCwgXCJsb2FkIG9mZnNldFwiKTtcbiAgICAgICAgdGhpcy5hc3NlbWJsZXIud3JpdGVVbnNpZ25lZExFQjEyOChhcnJheSwgb2Zmc2V0KTtcblxuICAgIH1cblxuICAgIGVtaXRTdG9yZVRvTWVtb3J5KGFycmF5OiBCeXRlQXJyYXksIGJ5dGVPZmZzZXQ6IGludDMyLCB0eXBlOiBUeXBlLCByZWxhdGl2ZUJhc2U6IE5vZGUsIG9mZnNldDogaW50MzIsIHZhbHVlOiBOb2RlKTogdm9pZCB7XG4gICAgICAgIC8vIFJlbGF0aXZlIGFkZHJlc3NcbiAgICAgICAgaWYgKHJlbGF0aXZlQmFzZSAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmVtaXROb2RlKGFycmF5LCBieXRlT2Zmc2V0LCByZWxhdGl2ZUJhc2UpO1xuICAgICAgICB9XG4gICAgICAgIC8vIEFic29sdXRlIGFkZHJlc3NcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmFzc2VtYmxlci5hcHBlbmRPcGNvZGUoYXJyYXksIGJ5dGVPZmZzZXQsIFdhc21PcGNvZGUuSTMyX0NPTlNUKTtcbiAgICAgICAgICAgIGxvZyhhcnJheSwgYnl0ZU9mZnNldCwgMCwgXCJpMzIgbGl0ZXJhbFwiKTtcbiAgICAgICAgICAgIHRoaXMuYXNzZW1ibGVyLndyaXRlVW5zaWduZWRMRUIxMjgoYXJyYXksIDApO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5lbWl0Tm9kZShhcnJheSwgYnl0ZU9mZnNldCwgdmFsdWUpO1xuXG4gICAgICAgIGxldCBzaXplT2YgPSB0eXBlLnZhcmlhYmxlU2l6ZU9mKHRoaXMuY29udGV4dCk7XG5cbiAgICAgICAgaWYgKHNpemVPZiA9PSAxKSB7XG4gICAgICAgICAgICB0aGlzLmFzc2VtYmxlci5hcHBlbmRPcGNvZGUoYXJyYXksIGJ5dGVPZmZzZXQsIFdhc21PcGNvZGUuSTMyX1NUT1JFOCk7XG4gICAgICAgICAgICBsb2coYXJyYXksIGJ5dGVPZmZzZXQsIDAsIFwiYWxpZ25tZW50XCIpO1xuICAgICAgICAgICAgdGhpcy5hc3NlbWJsZXIud3JpdGVVbnNpZ25lZExFQjEyOChhcnJheSwgMCk7XG4gICAgICAgIH1cblxuICAgICAgICBlbHNlIGlmIChzaXplT2YgPT0gMikge1xuICAgICAgICAgICAgdGhpcy5hc3NlbWJsZXIuYXBwZW5kT3Bjb2RlKGFycmF5LCBieXRlT2Zmc2V0LCBXYXNtT3Bjb2RlLkkzMl9TVE9SRTE2KTtcbiAgICAgICAgICAgIGxvZyhhcnJheSwgYnl0ZU9mZnNldCwgMSwgXCJhbGlnbm1lbnRcIik7XG4gICAgICAgICAgICB0aGlzLmFzc2VtYmxlci53cml0ZVVuc2lnbmVkTEVCMTI4KGFycmF5LCAxKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGVsc2UgaWYgKHNpemVPZiA9PSA0IHx8IHR5cGUuaXNDbGFzcygpKSB7XG5cbiAgICAgICAgICAgIGlmICh0eXBlLmlzRmxvYXQoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYXNzZW1ibGVyLmFwcGVuZE9wY29kZShhcnJheSwgYnl0ZU9mZnNldCwgV2FzbU9wY29kZS5GMzJfU1RPUkUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFzc2VtYmxlci5hcHBlbmRPcGNvZGUoYXJyYXksIGJ5dGVPZmZzZXQsIFdhc21PcGNvZGUuSTMyX1NUT1JFKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxvZyhhcnJheSwgYnl0ZU9mZnNldCwgMiwgXCJhbGlnbm1lbnRcIik7XG4gICAgICAgICAgICB0aGlzLmFzc2VtYmxlci53cml0ZVVuc2lnbmVkTEVCMTI4KGFycmF5LCAyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGVsc2UgaWYgKHNpemVPZiA9PSA4KSB7XG5cbiAgICAgICAgICAgIGlmICh0eXBlLmlzRG91YmxlKCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFzc2VtYmxlci5hcHBlbmRPcGNvZGUoYXJyYXksIGJ5dGVPZmZzZXQsIFdhc21PcGNvZGUuRjY0X1NUT1JFKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZS5pc0xvbmcoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYXNzZW1ibGVyLmFwcGVuZE9wY29kZShhcnJheSwgYnl0ZU9mZnNldCwgV2FzbU9wY29kZS5JNjRfU1RPUkUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsb2coYXJyYXksIGJ5dGVPZmZzZXQsIDMsIFwiYWxpZ25tZW50XCIpO1xuICAgICAgICAgICAgdGhpcy5hc3NlbWJsZXIud3JpdGVVbnNpZ25lZExFQjEyOChhcnJheSwgMyk7XG4gICAgICAgIH1cblxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGFzc2VydChmYWxzZSk7XG4gICAgICAgIH1cblxuICAgICAgICBsb2coYXJyYXksIGJ5dGVPZmZzZXQsIG9mZnNldCwgXCJsb2FkIG9mZnNldFwiKTtcbiAgICAgICAgdGhpcy5hc3NlbWJsZXIud3JpdGVVbnNpZ25lZExFQjEyOChhcnJheSwgb2Zmc2V0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFbWl0IGluc3RhbmNlXG4gICAgICogQHBhcmFtIGFycmF5XG4gICAgICogQHBhcmFtIGJ5dGVPZmZzZXRcbiAgICAgKiBAcGFyYW0gbm9kZVxuICAgICAqL1xuICAgIGVtaXRJbnN0YW5jZShhcnJheTogQnl0ZUFycmF5LCBieXRlT2Zmc2V0OiBpbnQzMiwgbm9kZTogTm9kZSk6IHZvaWQge1xuICAgICAgICBsZXQgY29uc3RydWN0b3JOb2RlID0gbm9kZS5jb25zdHJ1Y3Rvck5vZGUoKTtcbiAgICAgICAgbGV0IGNhbGxTeW1ib2wgPSBjb25zdHJ1Y3Rvck5vZGUuc3ltYm9sO1xuXG4gICAgICAgIGxldCB0eXBlID0gbm9kZS5uZXdUeXBlKCk7XG4gICAgICAgIGxldCBzaXplO1xuXG4gICAgICAgIGlmICh0eXBlLnJlc29sdmVkVHlwZS5pc0FycmF5KCkpIHtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogSWYgdGhlIG5ldyB0eXBlIGlmIGFuIGFycmF5IGFwcGVuZCB0b3RhbCBieXRlIGxlbmd0aCBhbmQgZWxlbWVudCBzaXplXG4gICAgICAgICAgICAgKiovXG4gICAgICAgICAgICBsZXQgZWxlbWVudE5vZGUgPSB0eXBlLmZpcnN0R2VuZXJpY1R5cGUoKTtcbiAgICAgICAgICAgIGxldCBlbGVtZW50VHlwZSA9IGVsZW1lbnROb2RlLnJlc29sdmVkVHlwZTtcbiAgICAgICAgICAgIGxldCBpc0NsYXNzRWxlbWVudCA9IGVsZW1lbnRUeXBlLmlzQ2xhc3MoKTtcbiAgICAgICAgICAgIC8vaWdub3JlIDY0IGJpdCBwb2ludGVyXG4gICAgICAgICAgICBzaXplID0gaXNDbGFzc0VsZW1lbnQgPyA0IDogZWxlbWVudFR5cGUuYWxsb2NhdGlvblNpemVPZih0aGlzLmNvbnRleHQpO1xuICAgICAgICAgICAgYXNzZXJ0KHNpemUgPiAwKTtcbiAgICAgICAgICAgIGxldCBsZW5ndGhOb2RlID0gbm9kZS5hcnJheUxlbmd0aCgpO1xuXG4gICAgICAgICAgICBpZiAobGVuZ3RoTm9kZS5raW5kID09IE5vZGVLaW5kLklOVDMyKSB7XG4gICAgICAgICAgICAgICAgbGV0IGxlbmd0aCA9IHNpemUgKiBsZW5ndGhOb2RlLmludFZhbHVlO1xuICAgICAgICAgICAgICAgIHRoaXMuYXNzZW1ibGVyLmFwcGVuZE9wY29kZShhcnJheSwgYnl0ZU9mZnNldCwgV2FzbU9wY29kZS5JMzJfQ09OU1QsIGxlbmd0aCk7XG4gICAgICAgICAgICAgICAgdGhpcy5hc3NlbWJsZXIud3JpdGVMRUIxMjgoYXJyYXksIGxlbmd0aCk7IC8vYXJyYXkgYnl0ZUxlbmd0aFxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFzc2VtYmxlci5hcHBlbmRPcGNvZGUoYXJyYXksIGJ5dGVPZmZzZXQsIFdhc21PcGNvZGUuSTMyX0NPTlNULCBzaXplKTtcbiAgICAgICAgICAgICAgICB0aGlzLmFzc2VtYmxlci53cml0ZUxFQjEyOChhcnJheSwgc2l6ZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0Tm9kZShhcnJheSwgYnl0ZU9mZnNldCwgbGVuZ3RoTm9kZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5hc3NlbWJsZXIuYXBwZW5kT3Bjb2RlKGFycmF5LCBieXRlT2Zmc2V0LCBXYXNtT3Bjb2RlLkkzMl9NVUwpOyAvL2FycmF5IGJ5dGVMZW5ndGhcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5hc3NlbWJsZXIuYXBwZW5kT3Bjb2RlKGFycmF5LCBieXRlT2Zmc2V0LCBXYXNtT3Bjb2RlLkkzMl9DT05TVCwgc2l6ZSk7XG4gICAgICAgICAgICB0aGlzLmFzc2VtYmxlci53cml0ZUxFQjEyOChhcnJheSwgc2l6ZSk7IC8vIGFycmF5IGVsZW1lbnQgc2l6ZVxuXG4gICAgICAgICAgICBsZXQgY2FsbEluZGV4OiBpbnQzMiA9IHRoaXMuZ2V0V2FzbUZ1bmN0aW9uQ2FsbEluZGV4KGNhbGxTeW1ib2wpO1xuICAgICAgICAgICAgdGhpcy5hc3NlbWJsZXIuYXBwZW5kT3Bjb2RlKGFycmF5LCBieXRlT2Zmc2V0LCBXYXNtT3Bjb2RlLkNBTEwpO1xuICAgICAgICAgICAgbG9nKGFycmF5LCBieXRlT2Zmc2V0LCBjYWxsSW5kZXgsIGBjYWxsIGZ1bmMgaW5kZXggKCR7Y2FsbEluZGV4fSlgKTtcbiAgICAgICAgICAgIHRoaXMuYXNzZW1ibGVyLndyaXRlVW5zaWduZWRMRUIxMjgoYXJyYXksIGNhbGxJbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZS5yZXNvbHZlZFR5cGUuaXNUeXBlZEFycmF5KCkpIHtcbiAgICAgICAgICAgIC8vIGxldCBlbGVtZW50U2l6ZSA9IGdldFR5cGVkQXJyYXlFbGVtZW50U2l6ZSh0eXBlLnJlc29sdmVkVHlwZS5zeW1ib2wubmFtZSk7XG4gICAgICAgICAgICAvLyB0aGlzLmFzc2VtYmxlci5hcHBlbmRPcGNvZGUoYXJyYXksIGJ5dGVPZmZzZXQsIFdhc21PcGNvZGUuR0VUX0xPQ0FMKTtcbiAgICAgICAgICAgIC8vIHRoaXMuYXNzZW1ibGVyLndyaXRlTEVCMTI4KGFycmF5LCAwKTtcbiAgICAgICAgICAgIC8vIHRoaXMuYXNzZW1ibGVyLmFwcGVuZE9wY29kZShhcnJheSwgYnl0ZU9mZnNldCwgV2FzbU9wY29kZS5JMzJfQ09OU1QpO1xuICAgICAgICAgICAgLy8gdGhpcy5hc3NlbWJsZXIud3JpdGVMRUIxMjgoYXJyYXksIGVsZW1lbnRTaXplKTtcbiAgICAgICAgICAgIC8vIHRoaXMuYXNzZW1ibGVyLmFwcGVuZE9wY29kZShhcnJheSwgYnl0ZU9mZnNldCwgV2FzbU9wY29kZS5JMzJfU0hMKTtcbiAgICAgICAgICAgIC8vIHRoaXMuYXNzZW1ibGVyLmFwcGVuZE9wY29kZShhcnJheSwgYnl0ZU9mZnNldCwgV2FzbU9wY29kZS5JMzJfQ09OU1QpO1xuICAgICAgICAgICAgLy8gdGhpcy5hc3NlbWJsZXIud3JpdGVMRUIxMjgoYXJyYXksIHNpemUpO1xuICAgICAgICAgICAgLy8gdGhpcy5hc3NlbWJsZXIuYXBwZW5kT3Bjb2RlKGFycmF5LCBieXRlT2Zmc2V0LCBXYXNtT3Bjb2RlLkkzMl9BREQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuXG4gICAgICAgICAgICAvLyBFbWl0IGNvbnN0cnVjdG9yIGFyZ3VtZW50c1xuICAgICAgICAgICAgbGV0IGNoaWxkID0gbm9kZS5maXJzdENoaWxkLm5leHRTaWJsaW5nO1xuICAgICAgICAgICAgd2hpbGUgKGNoaWxkICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXROb2RlKGFycmF5LCBieXRlT2Zmc2V0LCBjaGlsZCk7XG4gICAgICAgICAgICAgICAgY2hpbGQgPSBjaGlsZC5uZXh0U2libGluZztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IGNhbGxJbmRleDogaW50MzIgPSB0aGlzLmdldFdhc21GdW5jdGlvbkNhbGxJbmRleChjYWxsU3ltYm9sKTtcbiAgICAgICAgICAgIHRoaXMuYXNzZW1ibGVyLmFwcGVuZE9wY29kZShhcnJheSwgYnl0ZU9mZnNldCwgV2FzbU9wY29kZS5DQUxMLCBjYWxsSW5kZXgpO1xuICAgICAgICAgICAgdGhpcy5hc3NlbWJsZXIud3JpdGVVbnNpZ25lZExFQjEyOChhcnJheSwgY2FsbEluZGV4KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVtaXQgY29uc3RydWN0b3IgZnVuY3Rpb24gd2hlcmUgbWFsbG9jIGhhcHBlbnNcbiAgICAgKiBAcGFyYW0gYXJyYXlcbiAgICAgKiBAcGFyYW0gYnl0ZU9mZnNldFxuICAgICAqIEBwYXJhbSBmblxuICAgICAqL1xuICAgIGVtaXRDb25zdHJ1Y3RvcihhcnJheTogQnl0ZUFycmF5LCBieXRlT2Zmc2V0OiBpbnQzMiwgZm46IFdhc21GdW5jdGlvbik6IHZvaWQge1xuICAgICAgICBsZXQgY29uc3RydWN0b3JOb2RlOiBOb2RlID0gZm4uc3ltYm9sLm5vZGU7XG4gICAgICAgIGxldCB0eXBlID0gY29uc3RydWN0b3JOb2RlLnBhcmVudC5zeW1ib2w7XG4gICAgICAgIGxldCBzaXplID0gdHlwZS5yZXNvbHZlZFR5cGUuYWxsb2NhdGlvblNpemVPZih0aGlzLmNvbnRleHQpO1xuICAgICAgICBhc3NlcnQoc2l6ZSA+IDApO1xuXG4gICAgICAgIGlmICh0eXBlLnJlc29sdmVkVHlwZS5pc0FycmF5KCkpIHtcbiAgICAgICAgICAgIHRoaXMuYXNzZW1ibGVyLmFwcGVuZE9wY29kZShhcnJheSwgYnl0ZU9mZnNldCwgV2FzbU9wY29kZS5HRVRfTE9DQUwsIDApO1xuICAgICAgICAgICAgdGhpcy5hc3NlbWJsZXIud3JpdGVVbnNpZ25lZExFQjEyOChhcnJheSwgMCk7IC8vIGFycmF5IHBhcmFtZXRlciBieXRlTGVuZ3RoXG4gICAgICAgICAgICB0aGlzLmFzc2VtYmxlci5hcHBlbmRPcGNvZGUoYXJyYXksIGJ5dGVPZmZzZXQsIFdhc21PcGNvZGUuSTMyX0NPTlNULCBzaXplKTtcbiAgICAgICAgICAgIHRoaXMuYXNzZW1ibGVyLndyaXRlTEVCMTI4KGFycmF5LCBzaXplKTsgLy8gc2l6ZSBvZiBhcnJheSBjbGFzcywgZGVmYXVsdCBpcyA4IGJ5dGVzXG4gICAgICAgICAgICB0aGlzLmFzc2VtYmxlci5hcHBlbmRPcGNvZGUoYXJyYXksIGJ5dGVPZmZzZXQsIFdhc21PcGNvZGUuSTMyX0FERCk7XG5cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlLnJlc29sdmVkVHlwZS5pc1R5cGVkQXJyYXkoKSkge1xuICAgICAgICAgICAgbGV0IGVsZW1lbnRTaXplID0gZ2V0VHlwZWRBcnJheUVsZW1lbnRTaXplKHR5cGUucmVzb2x2ZWRUeXBlLnN5bWJvbC5uYW1lKTtcbiAgICAgICAgICAgIHRoaXMuYXNzZW1ibGVyLmFwcGVuZE9wY29kZShhcnJheSwgYnl0ZU9mZnNldCwgV2FzbU9wY29kZS5HRVRfTE9DQUwsIDApO1xuICAgICAgICAgICAgdGhpcy5hc3NlbWJsZXIud3JpdGVVbnNpZ25lZExFQjEyOChhcnJheSwgMCk7XG4gICAgICAgICAgICB0aGlzLmFzc2VtYmxlci5hcHBlbmRPcGNvZGUoYXJyYXksIGJ5dGVPZmZzZXQsIFdhc21PcGNvZGUuSTMyX0NPTlNULCBlbGVtZW50U2l6ZSk7XG4gICAgICAgICAgICB0aGlzLmFzc2VtYmxlci53cml0ZUxFQjEyOChhcnJheSwgZWxlbWVudFNpemUpO1xuICAgICAgICAgICAgdGhpcy5hc3NlbWJsZXIuYXBwZW5kT3Bjb2RlKGFycmF5LCBieXRlT2Zmc2V0LCBXYXNtT3Bjb2RlLkkzMl9TSEwpO1xuICAgICAgICAgICAgdGhpcy5hc3NlbWJsZXIuYXBwZW5kT3Bjb2RlKGFycmF5LCBieXRlT2Zmc2V0LCBXYXNtT3Bjb2RlLkkzMl9DT05TVCwgc2l6ZSk7XG4gICAgICAgICAgICB0aGlzLmFzc2VtYmxlci53cml0ZUxFQjEyOChhcnJheSwgc2l6ZSk7XG4gICAgICAgICAgICB0aGlzLmFzc2VtYmxlci5hcHBlbmRPcGNvZGUoYXJyYXksIGJ5dGVPZmZzZXQsIFdhc21PcGNvZGUuSTMyX0FERCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBQYXNzIHRoZSBvYmplY3Qgc2l6ZSBhcyB0aGUgZmlyc3QgYXJndW1lbnRcbiAgICAgICAgICAgIHRoaXMuYXNzZW1ibGVyLmFwcGVuZE9wY29kZShhcnJheSwgYnl0ZU9mZnNldCwgV2FzbU9wY29kZS5JMzJfQ09OU1QsIHNpemUpO1xuICAgICAgICAgICAgdGhpcy5hc3NlbWJsZXIud3JpdGVMRUIxMjgoYXJyYXksIHNpemUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQWxsb2NhdGUgbWVtb3J5XG4gICAgICAgIGxldCBtYWxsb2NJbmRleCA9IHRoaXMuY2FsY3VsYXRlV2FzbUZ1bmN0aW9uSW5kZXgodGhpcy5tYWxsb2NGdW5jdGlvbkluZGV4KTtcbiAgICAgICAgdGhpcy5hc3NlbWJsZXIuYXBwZW5kT3Bjb2RlKGFycmF5LCBieXRlT2Zmc2V0LCBXYXNtT3Bjb2RlLkNBTEwsIG1hbGxvY0luZGV4KTtcbiAgICAgICAgdGhpcy5hc3NlbWJsZXIud3JpdGVVbnNpZ25lZExFQjEyOChhcnJheSwgbWFsbG9jSW5kZXgpO1xuICAgICAgICB0aGlzLmFzc2VtYmxlci5hcHBlbmRPcGNvZGUoYXJyYXksIGJ5dGVPZmZzZXQsIFdhc21PcGNvZGUuU0VUX0xPQ0FMLCBmbi5zaWduYXR1cmUuYXJndW1lbnRDb3VudCk7XG4gICAgICAgIHRoaXMuYXNzZW1ibGVyLndyaXRlVW5zaWduZWRMRUIxMjgoYXJyYXksIGZuLnNpZ25hdHVyZS5hcmd1bWVudENvdW50KTsvLyBTZXQgc2VsZiBwb2ludGVyIHRvIGZpcnN0IGxvY2FsIHZhcmlhYmxlIHdoaWNoIGlzIGltbWVkaWF0ZSBhZnRlciB0aGUgYXJndW1lbnQgdmFyaWFibGVcbiAgICB9XG5cbiAgICBlbWl0Tm9kZShhcnJheTogQnl0ZUFycmF5LCBieXRlT2Zmc2V0OiBpbnQzMiwgbm9kZTogTm9kZSk6IGludDMyIHtcbiAgICAgICAgLy8gQXNzZXJ0XG4gICAgICAgIGFzc2VydCghaXNFeHByZXNzaW9uKG5vZGUpIHx8IG5vZGUucmVzb2x2ZWRUeXBlICE9IG51bGwpO1xuXG4gICAgICAgIGlmIChub2RlLmtpbmQgPT0gTm9kZUtpbmQuQkxPQ0spIHtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogU2tpcCBlbWl0dGluZyBibG9jayBpZiBwYXJlbnQgaXMgJ2lmJyBvciAnbG9vcCcgc2luY2UgaXQgaXMgYWxyZWFkeSBhIGJsb2NrXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGxldCBza2lwQmxvY2sgPSBub2RlLnBhcmVudC5raW5kID09PSBOb2RlS2luZC5JRjtcblxuICAgICAgICAgICAgaWYgKCFza2lwQmxvY2spIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFzc2VtYmxlci5hcHBlbmRPcGNvZGUoYXJyYXksIGJ5dGVPZmZzZXQsIFdhc21PcGNvZGUuQkxPQ0spO1xuICAgICAgICAgICAgICAgIGlmIChub2RlLnJldHVybk5vZGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBsb2coYXJyYXksIGJ5dGVPZmZzZXQsIHRoaXMuY3VycmVudEZ1bmN0aW9uLnJldHVyblR5cGUsIFdhc21UeXBlW3RoaXMuY3VycmVudEZ1bmN0aW9uLnJldHVyblR5cGVdKTtcbiAgICAgICAgICAgICAgICAgICAgYXJyYXkuYXBwZW5kKHRoaXMuY3VycmVudEZ1bmN0aW9uLnJldHVyblR5cGUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxvZyhhcnJheSwgYnl0ZU9mZnNldCwgV2FzbVR5cGUuYmxvY2tfdHlwZSwgV2FzbVR5cGVbV2FzbVR5cGUuYmxvY2tfdHlwZV0pO1xuICAgICAgICAgICAgICAgICAgICBhcnJheS5hcHBlbmQoV2FzbVR5cGUuYmxvY2tfdHlwZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgY2hpbGQgPSBub2RlLmZpcnN0Q2hpbGQ7XG4gICAgICAgICAgICB3aGlsZSAoY2hpbGQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdE5vZGUoYXJyYXksIGJ5dGVPZmZzZXQsIGNoaWxkKTtcbiAgICAgICAgICAgICAgICBjaGlsZCA9IGNoaWxkLm5leHRTaWJsaW5nO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIXNraXBCbG9jaykge1xuICAgICAgICAgICAgICAgIHRoaXMuYXNzZW1ibGVyLmFwcGVuZE9wY29kZShhcnJheSwgYnl0ZU9mZnNldCwgV2FzbU9wY29kZS5FTkQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZWxzZSBpZiAobm9kZS5raW5kID09IE5vZGVLaW5kLldISUxFKSB7XG4gICAgICAgICAgICBsZXQgdmFsdWUgPSBub2RlLndoaWxlVmFsdWUoKTtcbiAgICAgICAgICAgIGxldCBib2R5ID0gbm9kZS53aGlsZUJvZHkoKTtcblxuICAgICAgICAgICAgLy8gSWdub3JlIFwid2hpbGUgKGZhbHNlKSB7IC4uLiB9XCJcbiAgICAgICAgICAgIGlmICh2YWx1ZS5raW5kID09IE5vZGVLaW5kLkJPT0xFQU4gJiYgdmFsdWUuaW50VmFsdWUgPT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmFzc2VtYmxlci5hcHBlbmRPcGNvZGUoYXJyYXksIGJ5dGVPZmZzZXQsIFdhc21PcGNvZGUuQkxPQ0spO1xuICAgICAgICAgICAgbG9nKGFycmF5LCAwLCBXYXNtVHlwZS5ibG9ja190eXBlLCBXYXNtVHlwZVtXYXNtVHlwZS5ibG9ja190eXBlXSk7XG4gICAgICAgICAgICBhcnJheS5hcHBlbmQoV2FzbVR5cGUuYmxvY2tfdHlwZSk7XG4gICAgICAgICAgICB0aGlzLmFzc2VtYmxlci5hcHBlbmRPcGNvZGUoYXJyYXksIGJ5dGVPZmZzZXQsIFdhc21PcGNvZGUuTE9PUCk7XG4gICAgICAgICAgICBsb2coYXJyYXksIDAsIFdhc21UeXBlLmJsb2NrX3R5cGUsIFdhc21UeXBlW1dhc21UeXBlLmJsb2NrX3R5cGVdKTtcbiAgICAgICAgICAgIGFycmF5LmFwcGVuZChXYXNtVHlwZS5ibG9ja190eXBlKTtcblxuICAgICAgICAgICAgaWYgKHZhbHVlLmtpbmQgIT0gTm9kZUtpbmQuQk9PTEVBTikge1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdE5vZGUoYXJyYXksIGJ5dGVPZmZzZXQsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICB0aGlzLmFzc2VtYmxlci5hcHBlbmRPcGNvZGUoYXJyYXksIGJ5dGVPZmZzZXQsIFdhc21PcGNvZGUuSTMyX0VRWik7XG4gICAgICAgICAgICAgICAgdGhpcy5hc3NlbWJsZXIuYXBwZW5kT3Bjb2RlKGFycmF5LCBieXRlT2Zmc2V0LCBXYXNtT3Bjb2RlLkJSX0lGKTtcbiAgICAgICAgICAgICAgICB0aGlzLmFzc2VtYmxlci53cml0ZVVuc2lnbmVkTEVCMTI4KGFycmF5LCAxKTsgLy8gQnJlYWsgb3V0IG9mIHRoZSBpbW1lZGlhdGVseSBlbmNsb3NpbmcgbG9vcFxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgY2hpbGQgPSBib2R5LmZpcnN0Q2hpbGQ7XG4gICAgICAgICAgICB3aGlsZSAoY2hpbGQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdE5vZGUoYXJyYXksIGJ5dGVPZmZzZXQsIGNoaWxkKTtcbiAgICAgICAgICAgICAgICBjaGlsZCA9IGNoaWxkLm5leHRTaWJsaW5nO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBKdW1wIGJhY2sgdG8gdGhlIHRvcCAodGhpcyBkb2Vzbid0IGhhcHBlbiBhdXRvbWF0aWNhbGx5KVxuICAgICAgICAgICAgdGhpcy5hc3NlbWJsZXIuYXBwZW5kT3Bjb2RlKGFycmF5LCBieXRlT2Zmc2V0LCBXYXNtT3Bjb2RlLkJSKTtcbiAgICAgICAgICAgIHRoaXMuYXNzZW1ibGVyLndyaXRlVW5zaWduZWRMRUIxMjgoYXJyYXksIDApOyAvLyBDb250aW51ZSBiYWNrIHRvIHRoZSBpbW1lZGlhdGVseSBlbmNsb3NpbmcgbG9vcFxuXG4gICAgICAgICAgICB0aGlzLmFzc2VtYmxlci5hcHBlbmRPcGNvZGUoYXJyYXksIGJ5dGVPZmZzZXQsIFdhc21PcGNvZGUuRU5EKTsgLy8gZW5kIGlubmVyIGJsb2NrXG4gICAgICAgICAgICB0aGlzLmFzc2VtYmxlci5hcHBlbmRPcGNvZGUoYXJyYXksIGJ5dGVPZmZzZXQsIFdhc21PcGNvZGUuRU5EKTsgLy8gZW5kIG91dGVyIGJsb2NrXG4gICAgICAgIH1cblxuICAgICAgICBlbHNlIGlmIChub2RlLmtpbmQgPT0gTm9kZUtpbmQuQlJFQUsgfHwgbm9kZS5raW5kID09IE5vZGVLaW5kLkNPTlRJTlVFKSB7XG4gICAgICAgICAgICBsZXQgbGFiZWwgPSAwO1xuICAgICAgICAgICAgbGV0IHBhcmVudCA9IG5vZGUucGFyZW50O1xuXG4gICAgICAgICAgICB3aGlsZSAocGFyZW50ICE9IG51bGwgJiYgcGFyZW50LmtpbmQgIT0gTm9kZUtpbmQuV0hJTEUpIHtcbiAgICAgICAgICAgICAgICBpZiAocGFyZW50LmtpbmQgPT0gTm9kZUtpbmQuQkxPQ0spIHtcbiAgICAgICAgICAgICAgICAgICAgbGFiZWwgPSBsYWJlbCArIDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGFzc2VydChsYWJlbCA+IDApO1xuICAgICAgICAgICAgdGhpcy5hc3NlbWJsZXIuYXBwZW5kT3Bjb2RlKGFycmF5LCBieXRlT2Zmc2V0LCBXYXNtT3Bjb2RlLkJSKTtcbiAgICAgICAgICAgIHRoaXMuYXNzZW1ibGVyLndyaXRlVW5zaWduZWRMRUIxMjgoYXJyYXksIGxhYmVsIC0gKG5vZGUua2luZCA9PSBOb2RlS2luZC5CUkVBSyA/IDAgOiAxKSk7XG4gICAgICAgIH1cblxuICAgICAgICBlbHNlIGlmIChub2RlLmtpbmQgPT0gTm9kZUtpbmQuRU1QVFkpIHtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG5cbiAgICAgICAgZWxzZSBpZiAobm9kZS5raW5kID09IE5vZGVLaW5kLkVYUFJFU1NJT04pIHtcbiAgICAgICAgICAgIHRoaXMuZW1pdE5vZGUoYXJyYXksIGJ5dGVPZmZzZXQsIG5vZGUuZXhwcmVzc2lvblZhbHVlKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgZWxzZSBpZiAobm9kZS5raW5kID09IE5vZGVLaW5kLlJFVFVSTikge1xuICAgICAgICAgICAgbGV0IHZhbHVlID0gbm9kZS5yZXR1cm5WYWx1ZSgpO1xuICAgICAgICAgICAgaWYgKHZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXROb2RlKGFycmF5LCBieXRlT2Zmc2V0LCB2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmFzc2VtYmxlci5hcHBlbmRPcGNvZGUoYXJyYXksIGJ5dGVPZmZzZXQsIFdhc21PcGNvZGUuUkVUVVJOKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGVsc2UgaWYgKG5vZGUua2luZCA9PSBOb2RlS2luZC5WQVJJQUJMRVMpIHtcbiAgICAgICAgICAgIGxldCBjb3VudCA9IDA7XG4gICAgICAgICAgICBsZXQgY2hpbGQgPSBub2RlLmZpcnN0Q2hpbGQ7XG4gICAgICAgICAgICB3aGlsZSAoY2hpbGQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGFzc2VydChjaGlsZC5raW5kID09IE5vZGVLaW5kLlZBUklBQkxFKTtcbiAgICAgICAgICAgICAgICBjb3VudCA9IGNvdW50ICsgdGhpcy5lbWl0Tm9kZShhcnJheSwgYnl0ZU9mZnNldCwgY2hpbGQpO1xuICAgICAgICAgICAgICAgIGNoaWxkID0gY2hpbGQubmV4dFNpYmxpbmc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY291bnQ7XG4gICAgICAgIH1cblxuICAgICAgICBlbHNlIGlmIChub2RlLmtpbmQgPT0gTm9kZUtpbmQuSUYpIHtcbiAgICAgICAgICAgIGxldCBicmFuY2ggPSBub2RlLmlmRmFsc2UoKTtcblxuICAgICAgICAgICAgdGhpcy5lbWl0Tm9kZShhcnJheSwgYnl0ZU9mZnNldCwgbm9kZS5pZlZhbHVlKCkpO1xuICAgICAgICAgICAgdGhpcy5hc3NlbWJsZXIuYXBwZW5kT3Bjb2RlKGFycmF5LCBieXRlT2Zmc2V0LCBXYXNtT3Bjb2RlLklGKTtcblxuICAgICAgICAgICAgbGV0IHJldHVybk5vZGUgPSBub2RlLmlmUmV0dXJuTm9kZSgpO1xuICAgICAgICAgICAgbGV0IG5lZWRFbXB0eUVsc2UgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmIChyZXR1cm5Ob2RlID09IG51bGwgJiYgYnJhbmNoID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgYXBwZW5kKGFycmF5LCAwLCBXYXNtVHlwZS5ibG9ja190eXBlLCBXYXNtVHlwZVtXYXNtVHlwZS5ibG9ja190eXBlXSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChyZXR1cm5Ob2RlICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCByZXR1cm5UeXBlOiBXYXNtVHlwZSA9IHN5bWJvbFRvVmFsdWVUeXBlKHJldHVybk5vZGUucmVzb2x2ZWRUeXBlLnN5bWJvbCk7XG4gICAgICAgICAgICAgICAgICAgIGFwcGVuZChhcnJheSwgMCwgcmV0dXJuVHlwZSwgV2FzbVR5cGVbcmV0dXJuVHlwZV0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoYnJhbmNoID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5lZWRFbXB0eUVsc2UgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYXBwZW5kKGFycmF5LCAwLCBXYXNtVHlwZS5ibG9ja190eXBlLCBXYXNtVHlwZVtXYXNtVHlwZS5ibG9ja190eXBlXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmVtaXROb2RlKGFycmF5LCBieXRlT2Zmc2V0LCBub2RlLmlmVHJ1ZSgpKTtcblxuICAgICAgICAgICAgaWYgKGJyYW5jaCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hc3NlbWJsZXIuYXBwZW5kT3Bjb2RlKGFycmF5LCBieXRlT2Zmc2V0LCBXYXNtT3Bjb2RlLklGX0VMU0UpO1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdE5vZGUoYXJyYXksIGJ5dGVPZmZzZXQsIGJyYW5jaCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG5lZWRFbXB0eUVsc2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFzc2VtYmxlci5hcHBlbmRPcGNvZGUoYXJyYXksIGJ5dGVPZmZzZXQsIFdhc21PcGNvZGUuSUZfRUxTRSk7XG4gICAgICAgICAgICAgICAgbGV0IGRhdGFUeXBlOiBzdHJpbmcgPSB0eXBlVG9EYXRhVHlwZShyZXR1cm5Ob2RlLnJlc29sdmVkVHlwZSwgdGhpcy5iaXRuZXNzKTtcbiAgICAgICAgICAgICAgICB0aGlzLmFzc2VtYmxlci5hcHBlbmRPcGNvZGUoYXJyYXksIGJ5dGVPZmZzZXQsIFdhc21PcGNvZGVbYCR7ZGF0YVR5cGV9X0NPTlNUYF0pO1xuICAgICAgICAgICAgICAgIGlmIChkYXRhVHlwZSA9PT0gXCJJMzJcIiB8fCBkYXRhVHlwZSA9PT0gXCJJNjRcIikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFzc2VtYmxlci53cml0ZVVuc2lnbmVkTEVCMTI4KGFycmF5LCAwKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGRhdGFUeXBlID09PSBcIkYzMlwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXNzZW1ibGVyLndyaXRlRmxvYXQoYXJyYXksIDApO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YVR5cGUgPT09IFwiRjY0XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hc3NlbWJsZXIud3JpdGVEb3VibGUoYXJyYXksIDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5hc3NlbWJsZXIuYXBwZW5kT3Bjb2RlKGFycmF5LCBieXRlT2Zmc2V0LCBXYXNtT3Bjb2RlLkVORCk7XG4gICAgICAgIH1cblxuICAgICAgICBlbHNlIGlmIChub2RlLmtpbmQgPT0gTm9kZUtpbmQuSE9PSykge1xuICAgICAgICAgICAgdGhpcy5lbWl0Tm9kZShhcnJheSwgYnl0ZU9mZnNldCwgbm9kZS5ob29rVmFsdWUoKSk7XG4gICAgICAgICAgICB0aGlzLmFzc2VtYmxlci5hcHBlbmRPcGNvZGUoYXJyYXksIGJ5dGVPZmZzZXQsIFdhc21PcGNvZGUuSUYpO1xuICAgICAgICAgICAgbGV0IHRydWVWYWx1ZSA9IG5vZGUuaG9va1RydWUoKTtcbiAgICAgICAgICAgIGxldCB0cnVlVmFsdWVUeXBlID0gc3ltYm9sVG9WYWx1ZVR5cGUodHJ1ZVZhbHVlLnJlc29sdmVkVHlwZS5zeW1ib2wpO1xuICAgICAgICAgICAgYXBwZW5kKGFycmF5LCAwLCB0cnVlVmFsdWVUeXBlLCBXYXNtVHlwZVt0cnVlVmFsdWVUeXBlXSk7XG4gICAgICAgICAgICB0aGlzLmVtaXROb2RlKGFycmF5LCBieXRlT2Zmc2V0LCB0cnVlVmFsdWUpO1xuICAgICAgICAgICAgdGhpcy5hc3NlbWJsZXIuYXBwZW5kT3Bjb2RlKGFycmF5LCBieXRlT2Zmc2V0LCBXYXNtT3Bjb2RlLklGX0VMU0UpO1xuICAgICAgICAgICAgdGhpcy5lbWl0Tm9kZShhcnJheSwgYnl0ZU9mZnNldCwgbm9kZS5ob29rRmFsc2UoKSk7XG4gICAgICAgICAgICB0aGlzLmFzc2VtYmxlci5hcHBlbmRPcGNvZGUoYXJyYXksIGJ5dGVPZmZzZXQsIFdhc21PcGNvZGUuRU5EKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGVsc2UgaWYgKG5vZGUua2luZCA9PSBOb2RlS2luZC5WQVJJQUJMRSkge1xuICAgICAgICAgICAgbGV0IHZhbHVlID0gbm9kZS52YXJpYWJsZVZhbHVlKCk7XG5cbiAgICAgICAgICAgIGlmIChub2RlLnN5bWJvbC5uYW1lID09IFwidGhpc1wiICYmIHRoaXMuY3VycmVudEZ1bmN0aW9uLnN5bWJvbC5uYW1lID09IFwiY29uc3RydWN0b3JcIikge1xuICAgICAgICAgICAgICAgIC8vIHNraXAgdGhpc1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobm9kZS5zeW1ib2wua2luZCA9PSBTeW1ib2xLaW5kLlZBUklBQkxFX0xPQ0FMKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgJiZcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUua2luZCAhPSBOb2RlS2luZC5OQU1FICYmXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLmtpbmQgIT0gTm9kZUtpbmQuQ0FMTCAmJlxuICAgICAgICAgICAgICAgICAgICB2YWx1ZS5raW5kICE9IE5vZGVLaW5kLk5FVyAmJlxuICAgICAgICAgICAgICAgICAgICB2YWx1ZS5raW5kICE9IE5vZGVLaW5kLkRPVCAmJlxuICAgICAgICAgICAgICAgICAgICB2YWx1ZS5yYXdWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAobm9kZS5zeW1ib2wucmVzb2x2ZWRUeXBlLmlzRmxvYXQoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hc3NlbWJsZXIuYXBwZW5kT3Bjb2RlKGFycmF5LCBieXRlT2Zmc2V0LCBXYXNtT3Bjb2RlLkYzMl9DT05TVCwgdmFsdWUuZmxvYXRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFzc2VtYmxlci53cml0ZUZsb2F0KGFycmF5LCB2YWx1ZS5mbG9hdFZhbHVlKTtcblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAobm9kZS5zeW1ib2wucmVzb2x2ZWRUeXBlLmlzRG91YmxlKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXNzZW1ibGVyLmFwcGVuZE9wY29kZShhcnJheSwgYnl0ZU9mZnNldCwgV2FzbU9wY29kZS5GNjRfQ09OU1QsIHZhbHVlLmRvdWJsZVZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXNzZW1ibGVyLndyaXRlRG91YmxlKGFycmF5LCB2YWx1ZS5kb3VibGVWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChub2RlLnN5bWJvbC5yZXNvbHZlZFR5cGUuaXNMb25nKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXNzZW1ibGVyLmFwcGVuZE9wY29kZShhcnJheSwgYnl0ZU9mZnNldCwgV2FzbU9wY29kZS5JNjRfQ09OU1QsIHZhbHVlLmxvbmdWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFzc2VtYmxlci53cml0ZUxFQjEyOChhcnJheSwgdmFsdWUubG9uZ1ZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hc3NlbWJsZXIuYXBwZW5kT3Bjb2RlKGFycmF5LCBieXRlT2Zmc2V0LCBXYXNtT3Bjb2RlLkkzMl9DT05TVCwgdmFsdWUuaW50VmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hc3NlbWJsZXIud3JpdGVMRUIxMjgoYXJyYXksIHZhbHVlLmludFZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdE5vZGUoYXJyYXksIGJ5dGVPZmZzZXQsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIERlZmF1bHQgdmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub2RlLnN5bWJvbC5yZXNvbHZlZFR5cGUuaXNGbG9hdCgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hc3NlbWJsZXIuYXBwZW5kT3Bjb2RlKGFycmF5LCBieXRlT2Zmc2V0LCBXYXNtT3Bjb2RlLkYzMl9DT05TVCwgMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hc3NlbWJsZXIud3JpdGVGbG9hdChhcnJheSwgMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5vZGUuc3ltYm9sLnJlc29sdmVkVHlwZS5pc0RvdWJsZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hc3NlbWJsZXIuYXBwZW5kT3Bjb2RlKGFycmF5LCBieXRlT2Zmc2V0LCBXYXNtT3Bjb2RlLkY2NF9DT05TVCwgMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hc3NlbWJsZXIud3JpdGVEb3VibGUoYXJyYXksIDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChub2RlLnN5bWJvbC5yZXNvbHZlZFR5cGUuaXNMb25nKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFzc2VtYmxlci5hcHBlbmRPcGNvZGUoYXJyYXksIGJ5dGVPZmZzZXQsIFdhc21PcGNvZGUuSTY0X0NPTlNULCAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFzc2VtYmxlci53cml0ZUxFQjEyOChhcnJheSwgMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXNzZW1ibGVyLmFwcGVuZE9wY29kZShhcnJheSwgYnl0ZU9mZnNldCwgV2FzbU9wY29kZS5JMzJfQ09OU1QsIDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXNzZW1ibGVyLndyaXRlTEVCMTI4KGFycmF5LCAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGxldCBza2lwU2V0TG9jYWwgPSB2YWx1ZSAmJiBpc1VuYXJ5UG9zdGZpeCh2YWx1ZS5raW5kKTtcblxuICAgICAgICAgICAgICAgIGlmIChza2lwU2V0TG9jYWwgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hc3NlbWJsZXIuYXBwZW5kT3Bjb2RlKGFycmF5LCBieXRlT2Zmc2V0LCBXYXNtT3Bjb2RlLlNFVF9MT0NBTCwgbm9kZS5zeW1ib2wub2Zmc2V0KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hc3NlbWJsZXIud3JpdGVVbnNpZ25lZExFQjEyOChhcnJheSwgbm9kZS5zeW1ib2wub2Zmc2V0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGFzc2VydChmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBlbHNlIGlmIChub2RlLmtpbmQgPT0gTm9kZUtpbmQuTkFNRSkge1xuICAgICAgICAgICAgbGV0IHN5bWJvbCA9IG5vZGUuc3ltYm9sO1xuXG4gICAgICAgICAgICBpZiAoc3ltYm9sLmtpbmQgPT0gU3ltYm9sS2luZC5WQVJJQUJMRV9BUkdVTUVOVCB8fCBzeW1ib2wua2luZCA9PSBTeW1ib2xLaW5kLlZBUklBQkxFX0xPQ0FMKSB7XG4gICAgICAgICAgICAgICAgLy8gRklYTUUgVGhpcyBzaG91bGQgaGFuZGxlIGluIGNoZWNrZXIuXG4gICAgICAgICAgICAgICAgaWYgKHN5bWJvbC5uYW1lID09PSBcInRoaXNcIiAmJiB0aGlzLmN1cnJlbnRGdW5jdGlvbi5zeW1ib2wubmFtZSA9PT0gXCJjb25zdHJ1Y3RvclwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXNzZW1ibGVyLmFwcGVuZE9wY29kZShhcnJheSwgYnl0ZU9mZnNldCwgV2FzbU9wY29kZS5HRVRfTE9DQUwsIHRoaXMuY3VycmVudEZ1bmN0aW9uLnNpZ25hdHVyZS5hcmd1bWVudENvdW50KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hc3NlbWJsZXIud3JpdGVVbnNpZ25lZExFQjEyOChhcnJheSwgdGhpcy5jdXJyZW50RnVuY3Rpb24uc2lnbmF0dXJlLmFyZ3VtZW50Q291bnQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXNzZW1ibGVyLmFwcGVuZE9wY29kZShhcnJheSwgYnl0ZU9mZnNldCwgV2FzbU9wY29kZS5HRVRfTE9DQUwsIHN5bWJvbC5vZmZzZXQpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFzc2VtYmxlci53cml0ZVVuc2lnbmVkTEVCMTI4KGFycmF5LCBzeW1ib2wub2Zmc2V0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGVsc2UgaWYgKHN5bWJvbC5raW5kID09IFN5bWJvbEtpbmQuVkFSSUFCTEVfR0xPQkFMKSB7XG4gICAgICAgICAgICAgICAgLy8gRklYTUU6IEZpbmFsIHNwZWMgYWxsb3cgaW1tdXRhYmxlIGdsb2JhbCB2YXJpYWJsZXNcbiAgICAgICAgICAgICAgICB0aGlzLmFzc2VtYmxlci5hcHBlbmRPcGNvZGUoYXJyYXksIGJ5dGVPZmZzZXQsIFdhc21PcGNvZGUuR0VUX0dMT0JBTCwgc3ltYm9sLm9mZnNldCk7XG4gICAgICAgICAgICAgICAgdGhpcy5hc3NlbWJsZXIud3JpdGVVbnNpZ25lZExFQjEyOChhcnJheSwgc3ltYm9sLm9mZnNldCk7XG4gICAgICAgICAgICAgICAgLy8gdGhpcy5lbWl0TG9hZEZyb21NZW1vcnkoYXJyYXksIGJ5dGVPZmZzZXQsIHN5bWJvbC5yZXNvbHZlZFR5cGUsIG51bGwsIFdBU01fTUVNT1JZX0lOSVRJQUxJWkVSX0JBU0UgKyBzeW1ib2wub2Zmc2V0KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYXNzZXJ0KGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGVsc2UgaWYgKG5vZGUua2luZCA9PSBOb2RlS2luZC5ERVJFRkVSRU5DRSkge1xuICAgICAgICAgICAgdGhpcy5lbWl0TG9hZEZyb21NZW1vcnkoYXJyYXksIGJ5dGVPZmZzZXQsIG5vZGUucmVzb2x2ZWRUeXBlLnVuZGVybHlpbmdUeXBlKHRoaXMuY29udGV4dCksIG5vZGUudW5hcnlWYWx1ZSgpLCAwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGVsc2UgaWYgKG5vZGUua2luZCA9PSBOb2RlS2luZC5QT0lOVEVSX0lOREVYKSB7XG4gICAgICAgICAgICB0aGlzLmVtaXRMb2FkRnJvbU1lbW9yeShhcnJheSwgYnl0ZU9mZnNldCwgbm9kZS5yZXNvbHZlZFR5cGUudW5kZXJseWluZ1R5cGUodGhpcy5jb250ZXh0KSwgbm9kZS5wb2ludGVyKCksIG5vZGUucG9pbnRlck9mZnNldCgpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGVsc2UgaWYgKG5vZGUua2luZCA9PSBOb2RlS2luZC5OVUxMKSB7XG4gICAgICAgICAgICB0aGlzLmFzc2VtYmxlci5hcHBlbmRPcGNvZGUoYXJyYXksIGJ5dGVPZmZzZXQsIFdhc21PcGNvZGUuSTMyX0NPTlNULCAwKTtcbiAgICAgICAgICAgIHRoaXMuYXNzZW1ibGVyLndyaXRlTEVCMTI4KGFycmF5LCAwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGVsc2UgaWYgKG5vZGUua2luZCA9PSBOb2RlS2luZC5JTlQzMiB8fCBub2RlLmtpbmQgPT0gTm9kZUtpbmQuQk9PTEVBTikge1xuICAgICAgICAgICAgdGhpcy5hc3NlbWJsZXIuYXBwZW5kT3Bjb2RlKGFycmF5LCBieXRlT2Zmc2V0LCBXYXNtT3Bjb2RlLkkzMl9DT05TVCwgbm9kZS5pbnRWYWx1ZSk7XG4gICAgICAgICAgICB0aGlzLmFzc2VtYmxlci53cml0ZUxFQjEyOChhcnJheSwgbm9kZS5pbnRWYWx1ZSB8fCAwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGVsc2UgaWYgKG5vZGUua2luZCA9PSBOb2RlS2luZC5JTlQ2NCkge1xuICAgICAgICAgICAgdGhpcy5hc3NlbWJsZXIuYXBwZW5kT3Bjb2RlKGFycmF5LCBieXRlT2Zmc2V0LCBXYXNtT3Bjb2RlLkk2NF9DT05TVCwgbm9kZS5sb25nVmFsdWUpO1xuICAgICAgICAgICAgdGhpcy5hc3NlbWJsZXIud3JpdGVMRUIxMjgoYXJyYXksIG5vZGUubG9uZ1ZhbHVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGVsc2UgaWYgKG5vZGUua2luZCA9PSBOb2RlS2luZC5GTE9BVDMyKSB7XG4gICAgICAgICAgICB0aGlzLmFzc2VtYmxlci5hcHBlbmRPcGNvZGUoYXJyYXksIGJ5dGVPZmZzZXQsIFdhc21PcGNvZGUuRjMyX0NPTlNULCBub2RlLmZsb2F0VmFsdWUpO1xuICAgICAgICAgICAgdGhpcy5hc3NlbWJsZXIud3JpdGVGbG9hdChhcnJheSwgbm9kZS5mbG9hdFZhbHVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGVsc2UgaWYgKG5vZGUua2luZCA9PSBOb2RlS2luZC5GTE9BVDY0KSB7XG4gICAgICAgICAgICB0aGlzLmFzc2VtYmxlci5hcHBlbmRPcGNvZGUoYXJyYXksIGJ5dGVPZmZzZXQsIFdhc21PcGNvZGUuRjY0X0NPTlNULCBub2RlLmRvdWJsZVZhbHVlKTtcbiAgICAgICAgICAgIHRoaXMuYXNzZW1ibGVyLndyaXRlRG91YmxlKGFycmF5LCBub2RlLmRvdWJsZVZhbHVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGVsc2UgaWYgKG5vZGUua2luZCA9PSBOb2RlS2luZC5TVFJJTkcpIHtcbiAgICAgICAgICAgIGxldCB2YWx1ZSA9IFdBU01fTUVNT1JZX0lOSVRJQUxJWkVSX0JBU0UgKyBub2RlLmludFZhbHVlO1xuICAgICAgICAgICAgdGhpcy5hc3NlbWJsZXIuYXBwZW5kT3Bjb2RlKGFycmF5LCBieXRlT2Zmc2V0LCBXYXNtT3Bjb2RlLkkzMl9DT05TVCwgdmFsdWUpO1xuICAgICAgICAgICAgdGhpcy5hc3NlbWJsZXIud3JpdGVMRUIxMjgoYXJyYXksIHZhbHVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGVsc2UgaWYgKG5vZGUua2luZCA9PSBOb2RlS2luZC5DQUxMKSB7XG4gICAgICAgICAgICBsZXQgdmFsdWUgPSBub2RlLmNhbGxWYWx1ZSgpO1xuICAgICAgICAgICAgbGV0IHN5bWJvbCA9IHZhbHVlLnN5bWJvbDtcbiAgICAgICAgICAgIGFzc2VydChpc0Z1bmN0aW9uKHN5bWJvbC5raW5kKSk7XG5cbiAgICAgICAgICAgIC8vIFdyaXRlIG91dCB0aGUgaW1wbGljaXQgXCJ0aGlzXCIgYXJndW1lbnRcbiAgICAgICAgICAgIGlmICghc3ltYm9sLm5vZGUuaXNFeHRlcm5hbEltcG9ydCgpICYmIHN5bWJvbC5raW5kID09IFN5bWJvbEtpbmQuRlVOQ1RJT05fSU5TVEFOQ0UpIHtcbiAgICAgICAgICAgICAgICBsZXQgZG90VGFyZ2V0ID0gdmFsdWUuZG90VGFyZ2V0KCk7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0Tm9kZShhcnJheSwgYnl0ZU9mZnNldCwgZG90VGFyZ2V0KTtcbiAgICAgICAgICAgICAgICBpZiAoZG90VGFyZ2V0LmtpbmQgPT0gTm9kZUtpbmQuTkVXKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdEluc3RhbmNlKGFycmF5LCBieXRlT2Zmc2V0LCBkb3RUYXJnZXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IGNoaWxkID0gdmFsdWUubmV4dFNpYmxpbmc7XG4gICAgICAgICAgICB3aGlsZSAoY2hpbGQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdE5vZGUoYXJyYXksIGJ5dGVPZmZzZXQsIGNoaWxkKTtcbiAgICAgICAgICAgICAgICBjaGlsZCA9IGNoaWxkLm5leHRTaWJsaW5nO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgd2FzbUZ1bmN0aW9uTmFtZTogc3RyaW5nID0gZ2V0V2FzbUZ1bmN0aW9uTmFtZShzeW1ib2wpO1xuICAgICAgICAgICAgaWYgKGlzQnVpbHRpbih3YXNtRnVuY3Rpb25OYW1lKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYXNzZW1ibGVyLmFwcGVuZE9wY29kZShhcnJheSwgYnl0ZU9mZnNldCwgZ2V0QnVpbHRpbk9wY29kZShzeW1ib2wubmFtZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbGV0IGNhbGxJbmRleDogaW50MzIgPSB0aGlzLmdldFdhc21GdW5jdGlvbkNhbGxJbmRleChzeW1ib2wpO1xuICAgICAgICAgICAgICAgIHRoaXMuYXNzZW1ibGVyLmFwcGVuZE9wY29kZShhcnJheSwgYnl0ZU9mZnNldCwgV2FzbU9wY29kZS5DQUxMLCBjYWxsSW5kZXgpO1xuICAgICAgICAgICAgICAgIHRoaXMuYXNzZW1ibGVyLndyaXRlVW5zaWduZWRMRUIxMjgoYXJyYXksIGNhbGxJbmRleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBlbHNlIGlmIChub2RlLmtpbmQgPT0gTm9kZUtpbmQuTkVXKSB7XG4gICAgICAgICAgICB0aGlzLmVtaXRJbnN0YW5jZShhcnJheSwgYnl0ZU9mZnNldCwgbm9kZSk7XG4gICAgICAgIH1cblxuICAgICAgICBlbHNlIGlmIChub2RlLmtpbmQgPT0gTm9kZUtpbmQuREVMRVRFKSB7XG4gICAgICAgICAgICBsZXQgdmFsdWUgPSBub2RlLmRlbGV0ZVZhbHVlKCk7XG5cbiAgICAgICAgICAgIHRoaXMuZW1pdE5vZGUoYXJyYXksIGJ5dGVPZmZzZXQsIHZhbHVlKTtcblxuICAgICAgICAgICAgbGV0IGZyZWVJbmRleCA9IHRoaXMuY2FsY3VsYXRlV2FzbUZ1bmN0aW9uSW5kZXgodGhpcy5mcmVlRnVuY3Rpb25JbmRleCk7XG4gICAgICAgICAgICB0aGlzLmFzc2VtYmxlci5hcHBlbmRPcGNvZGUoYXJyYXksIGJ5dGVPZmZzZXQsIFdhc21PcGNvZGUuQ0FMTCwgZnJlZUluZGV4KTtcbiAgICAgICAgICAgIHRoaXMuYXNzZW1ibGVyLndyaXRlVW5zaWduZWRMRUIxMjgoYXJyYXksIGZyZWVJbmRleCk7XG4gICAgICAgIH1cblxuICAgICAgICBlbHNlIGlmIChub2RlLmtpbmQgPT0gTm9kZUtpbmQuUE9TSVRJVkUpIHtcbiAgICAgICAgICAgIHRoaXMuZW1pdE5vZGUoYXJyYXksIGJ5dGVPZmZzZXQsIG5vZGUudW5hcnlWYWx1ZSgpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGVsc2UgaWYgKG5vZGUua2luZCA9PSBOb2RlS2luZC5ORUdBVElWRSkge1xuICAgICAgICAgICAgbGV0IHJlc29sdmVkVHlwZSA9IG5vZGUudW5hcnlWYWx1ZSgpLnJlc29sdmVkVHlwZTtcbiAgICAgICAgICAgIGlmIChyZXNvbHZlZFR5cGUuaXNGbG9hdCgpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0Tm9kZShhcnJheSwgYnl0ZU9mZnNldCwgbm9kZS51bmFyeVZhbHVlKCkpO1xuICAgICAgICAgICAgICAgIHRoaXMuYXNzZW1ibGVyLmFwcGVuZE9wY29kZShhcnJheSwgYnl0ZU9mZnNldCwgV2FzbU9wY29kZS5GMzJfTkVHKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZWxzZSBpZiAocmVzb2x2ZWRUeXBlLmlzRG91YmxlKCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXROb2RlKGFycmF5LCBieXRlT2Zmc2V0LCBub2RlLnVuYXJ5VmFsdWUoKSk7XG4gICAgICAgICAgICAgICAgdGhpcy5hc3NlbWJsZXIuYXBwZW5kT3Bjb2RlKGFycmF5LCBieXRlT2Zmc2V0LCBXYXNtT3Bjb2RlLkY2NF9ORUcpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBlbHNlIGlmIChyZXNvbHZlZFR5cGUuaXNJbnRlZ2VyKCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFzc2VtYmxlci5hcHBlbmRPcGNvZGUoYXJyYXksIGJ5dGVPZmZzZXQsIFdhc21PcGNvZGUuSTMyX0NPTlNULCAwKTtcbiAgICAgICAgICAgICAgICB0aGlzLmFzc2VtYmxlci53cml0ZUxFQjEyOChhcnJheSwgMCk7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0Tm9kZShhcnJheSwgYnl0ZU9mZnNldCwgbm9kZS51bmFyeVZhbHVlKCkpO1xuICAgICAgICAgICAgICAgIHRoaXMuYXNzZW1ibGVyLmFwcGVuZE9wY29kZShhcnJheSwgYnl0ZU9mZnNldCwgV2FzbU9wY29kZS5JMzJfU1VCKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZWxzZSBpZiAocmVzb2x2ZWRUeXBlLmlzTG9uZygpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hc3NlbWJsZXIuYXBwZW5kT3Bjb2RlKGFycmF5LCBieXRlT2Zmc2V0LCBXYXNtT3Bjb2RlLkk2NF9DT05TVCwgMCk7XG4gICAgICAgICAgICAgICAgdGhpcy5hc3NlbWJsZXIud3JpdGVMRUIxMjgoYXJyYXksIDApO1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdE5vZGUoYXJyYXksIGJ5dGVPZmZzZXQsIG5vZGUudW5hcnlWYWx1ZSgpKTtcbiAgICAgICAgICAgICAgICB0aGlzLmFzc2VtYmxlci5hcHBlbmRPcGNvZGUoYXJyYXksIGJ5dGVPZmZzZXQsIFdhc21PcGNvZGUuSTY0X1NVQik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuXG4gICAgICAgIGVsc2UgaWYgKG5vZGUua2luZCA9PSBOb2RlS2luZC5DT01QTEVNRU5UKSB7XG4gICAgICAgICAgICB0aGlzLmFzc2VtYmxlci5hcHBlbmRPcGNvZGUoYXJyYXksIGJ5dGVPZmZzZXQsIFdhc21PcGNvZGUuSTMyX0NPTlNULCB+MCk7XG4gICAgICAgICAgICB0aGlzLmFzc2VtYmxlci53cml0ZUxFQjEyOChhcnJheSwgfjApO1xuICAgICAgICAgICAgdGhpcy5lbWl0Tm9kZShhcnJheSwgYnl0ZU9mZnNldCwgbm9kZS51bmFyeVZhbHVlKCkpO1xuICAgICAgICAgICAgdGhpcy5hc3NlbWJsZXIuYXBwZW5kT3Bjb2RlKGFycmF5LCBieXRlT2Zmc2V0LCBXYXNtT3Bjb2RlLkkzMl9YT1IpO1xuICAgICAgICB9XG5cbiAgICAgICAgZWxzZSBpZiAobm9kZS5raW5kID09IE5vZGVLaW5kLk5PVCkge1xuICAgICAgICAgICAgdGhpcy5lbWl0Tm9kZShhcnJheSwgYnl0ZU9mZnNldCwgbm9kZS51bmFyeVZhbHVlKCkpO1xuICAgICAgICAgICAgdGhpcy5hc3NlbWJsZXIuYXBwZW5kT3Bjb2RlKGFycmF5LCBieXRlT2Zmc2V0LCBXYXNtT3Bjb2RlLkkzMl9FUVopO1xuICAgICAgICB9XG5cbiAgICAgICAgZWxzZSBpZiAobm9kZS5raW5kID09IE5vZGVLaW5kLkNBU1QpIHtcbiAgICAgICAgICAgIGxldCB2YWx1ZSA9IG5vZGUuY2FzdFZhbHVlKCk7XG4gICAgICAgICAgICBsZXQgY29udGV4dCA9IHRoaXMuY29udGV4dDtcbiAgICAgICAgICAgIGxldCBmcm9tID0gdmFsdWUucmVzb2x2ZWRUeXBlLnVuZGVybHlpbmdUeXBlKGNvbnRleHQpO1xuICAgICAgICAgICAgbGV0IHR5cGUgPSBub2RlLnJlc29sdmVkVHlwZS51bmRlcmx5aW5nVHlwZShjb250ZXh0KTtcbiAgICAgICAgICAgIGxldCBmcm9tU2l6ZSA9IGZyb20udmFyaWFibGVTaXplT2YoY29udGV4dCk7XG4gICAgICAgICAgICBsZXQgdHlwZVNpemUgPSB0eXBlLnZhcmlhYmxlU2l6ZU9mKGNvbnRleHQpO1xuXG4gICAgICAgICAgICAvL0ZJWE1FOiBIYW5kbGUgOCwxNiBiaXQgaW50ZWdlciB0byBmbG9hdCBjYXN0aW5nXG4gICAgICAgICAgICAvLyBTaWduLWV4dGVuZFxuICAgICAgICAgICAgLy8gaWYgKFxuICAgICAgICAgICAgLy8gICAgIGZyb20gPT0gY29udGV4dC5pbnQzMlR5cGUgJiZcbiAgICAgICAgICAgIC8vICAgICB0eXBlID09IGNvbnRleHQuaW50OFR5cGUgfHwgdHlwZSA9PSBjb250ZXh0LmludDE2VHlwZVxuICAgICAgICAgICAgLy8gKSB7XG4gICAgICAgICAgICAvLyAgICAgbGV0IHNoaWZ0ID0gMzIgLSB0eXBlU2l6ZSAqIDg7XG4gICAgICAgICAgICAvLyAgICAgdGhpcy5lbWl0Tm9kZShhcnJheSwgYnl0ZU9mZnNldCwgdmFsdWUpO1xuICAgICAgICAgICAgLy8gICAgIHRoaXMuYXNzZW1ibGVyLmFwcGVuZE9wY29kZShhcnJheSwgYnl0ZU9mZnNldCwgV2FzbU9wY29kZS5JMzJfQ09OU1QpO1xuICAgICAgICAgICAgLy8gICAgIGxvZyhhcnJheSwgYnl0ZU9mZnNldCwgc2hpZnQsIFwiaTMyIGxpdGVyYWxcIik7XG4gICAgICAgICAgICAvLyAgICAgdGhpcy5hc3NlbWJsZXIud3JpdGVMRUIxMjgoYXJyYXksIHNoaWZ0KTtcbiAgICAgICAgICAgIC8vICAgICB0aGlzLmFzc2VtYmxlci5hcHBlbmRPcGNvZGUoYXJyYXksIGJ5dGVPZmZzZXQsIFdhc21PcGNvZGUuSTMyX1NIUl9TKTtcbiAgICAgICAgICAgIC8vICAgICB0aGlzLmFzc2VtYmxlci5hcHBlbmRPcGNvZGUoYXJyYXksIGJ5dGVPZmZzZXQsIFdhc21PcGNvZGUuSTMyX0NPTlNUKTtcbiAgICAgICAgICAgIC8vICAgICBsb2coYXJyYXksIGJ5dGVPZmZzZXQsIHNoaWZ0LCBcImkzMiBsaXRlcmFsXCIpO1xuICAgICAgICAgICAgLy8gICAgIHRoaXMuYXNzZW1ibGVyLndyaXRlTEVCMTI4KGFycmF5LCBzaGlmdCk7XG4gICAgICAgICAgICAvLyAgICAgdGhpcy5hc3NlbWJsZXIuYXBwZW5kT3Bjb2RlKGFycmF5LCBieXRlT2Zmc2V0LCBXYXNtT3Bjb2RlLkkzMl9TSEwpO1xuICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vIC8vIE1hc2tcbiAgICAgICAgICAgIC8vIGVsc2UgaWYgKFxuICAgICAgICAgICAgLy8gICAgIGZyb20gPT0gY29udGV4dC5pbnQzMlR5cGUgfHwgZnJvbSA9PSBjb250ZXh0LnVpbnQzMlR5cGUgJiZcbiAgICAgICAgICAgIC8vICAgICB0eXBlID09IGNvbnRleHQudWludDhUeXBlIHx8IHR5cGUgPT0gY29udGV4dC51aW50MTZUeXBlXG4gICAgICAgICAgICAvLyApIHtcbiAgICAgICAgICAgIC8vICAgICB0aGlzLmVtaXROb2RlKGFycmF5LCBieXRlT2Zmc2V0LCB2YWx1ZSk7XG4gICAgICAgICAgICAvLyAgICAgdGhpcy5hc3NlbWJsZXIuYXBwZW5kT3Bjb2RlKGFycmF5LCBieXRlT2Zmc2V0LCBXYXNtT3Bjb2RlLkkzMl9DT05TVCk7XG4gICAgICAgICAgICAvLyAgICAgbGV0IF92YWx1ZSA9IHR5cGUuaW50ZWdlckJpdE1hc2sodGhpcy5jb250ZXh0KTtcbiAgICAgICAgICAgIC8vICAgICBsb2coYXJyYXksIGJ5dGVPZmZzZXQsIF92YWx1ZSwgXCJpMzIgbGl0ZXJhbFwiKTtcbiAgICAgICAgICAgIC8vICAgICB0aGlzLmFzc2VtYmxlci53cml0ZUxFQjEyOChhcnJheSwgX3ZhbHVlKTtcbiAgICAgICAgICAgIC8vICAgICB0aGlzLmFzc2VtYmxlci5hcHBlbmRPcGNvZGUoYXJyYXksIGJ5dGVPZmZzZXQsIFdhc21PcGNvZGUuSTMyX0FORCk7XG4gICAgICAgICAgICAvLyB9XG5cbiAgICAgICAgICAgIC8vIC0tLSAzMiBiaXQgSW50ZWdlciBjYXN0aW5nIC0tLVxuICAgICAgICAgICAgLy8gaTMyID4gaTY0XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgKGZyb20gPT0gY29udGV4dC5udWxsVHlwZSB8fCBmcm9tID09IGNvbnRleHQuYm9vbGVhblR5cGUgfHwgZnJvbSA9PSBjb250ZXh0LmludDMyVHlwZSB8fCBmcm9tID09IGNvbnRleHQudWludDMyVHlwZSApICYmXG4gICAgICAgICAgICAgICAgKHR5cGUgPT0gY29udGV4dC5pbnQ2NFR5cGUgfHwgdHlwZSA9PSBjb250ZXh0LnVpbnQ2NFR5cGUpXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUua2luZCA9PSBOb2RlS2luZC5OVUxMKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXNzZW1ibGVyLmFwcGVuZE9wY29kZShhcnJheSwgYnl0ZU9mZnNldCwgV2FzbU9wY29kZS5JNjRfQ09OU1QsIDApO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFzc2VtYmxlci53cml0ZUxFQjEyOChhcnJheSwgMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHZhbHVlLmtpbmQgPT0gTm9kZUtpbmQuQk9PTEVBTikge1xuICAgICAgICAgICAgICAgICAgICBsZXQgaW50VmFsdWUgPSB2YWx1ZS5pbnRWYWx1ZSB8fCAwO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFzc2VtYmxlci5hcHBlbmRPcGNvZGUoYXJyYXksIGJ5dGVPZmZzZXQsIFdhc21PcGNvZGUuSTY0X0NPTlNULCBpbnRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXNzZW1ibGVyLndyaXRlTEVCMTI4KGFycmF5LCBpbnRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh2YWx1ZS5raW5kID09IE5vZGVLaW5kLklOVDMyKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXNzZW1ibGVyLmFwcGVuZE9wY29kZShhcnJheSwgYnl0ZU9mZnNldCwgV2FzbU9wY29kZS5JNjRfQ09OU1QsIHZhbHVlLmxvbmdWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXNzZW1ibGVyLndyaXRlTEVCMTI4KGFycmF5LCB2YWx1ZS5sb25nVmFsdWUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBpc1Vuc2lnbmVkID0gdmFsdWUucmVzb2x2ZWRUeXBlLmlzVW5zaWduZWQoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0Tm9kZShhcnJheSwgYnl0ZU9mZnNldCwgdmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFzc2VtYmxlci5hcHBlbmRPcGNvZGUoYXJyYXksIGJ5dGVPZmZzZXQsIGlzVW5zaWduZWQgPyBXYXNtT3Bjb2RlLkk2NF9FWFRFTkRfVV9JMzIgOiBXYXNtT3Bjb2RlLkk2NF9FWFRFTkRfU19JMzIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gaTMyID4gZjMyXG4gICAgICAgICAgICBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAoZnJvbSA9PSBjb250ZXh0Lm51bGxUeXBlIHx8IGZyb20gPT0gY29udGV4dC5ib29sZWFuVHlwZSAgfHwgZnJvbSA9PSBjb250ZXh0LmludDMyVHlwZSB8fCBmcm9tID09IGNvbnRleHQudWludDMyVHlwZSkgJiZcbiAgICAgICAgICAgICAgICB0eXBlID09IGNvbnRleHQuZmxvYXQzMlR5cGVcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5raW5kID09IE5vZGVLaW5kLk5VTEwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hc3NlbWJsZXIuYXBwZW5kT3Bjb2RlKGFycmF5LCBieXRlT2Zmc2V0LCBXYXNtT3Bjb2RlLkYzMl9DT05TVCwgMCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXNzZW1ibGVyLndyaXRlRmxvYXQoYXJyYXksIDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh2YWx1ZS5raW5kID09IE5vZGVLaW5kLkJPT0xFQU4pIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGZsb2F0VmFsdWUgPSB2YWx1ZS5pbnRWYWx1ZSB8fCAwO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFzc2VtYmxlci5hcHBlbmRPcGNvZGUoYXJyYXksIGJ5dGVPZmZzZXQsIFdhc21PcGNvZGUuRjMyX0NPTlNULCBmbG9hdFZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hc3NlbWJsZXIud3JpdGVGbG9hdChhcnJheSwgZmxvYXRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHZhbHVlLmtpbmQgPT0gTm9kZUtpbmQuSU5UMzIpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGZsb2F0VmFsdWUgPSB2YWx1ZS5mbG9hdFZhbHVlIHx8IDA7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXNzZW1ibGVyLmFwcGVuZE9wY29kZShhcnJheSwgYnl0ZU9mZnNldCwgV2FzbU9wY29kZS5GMzJfQ09OU1QsIGZsb2F0VmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFzc2VtYmxlci53cml0ZUZsb2F0KGFycmF5LCBmbG9hdFZhbHVlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsZXQgaXNVbnNpZ25lZCA9IHZhbHVlLnJlc29sdmVkVHlwZS5pc1Vuc2lnbmVkKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdE5vZGUoYXJyYXksIGJ5dGVPZmZzZXQsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hc3NlbWJsZXIuYXBwZW5kT3Bjb2RlKGFycmF5LCBieXRlT2Zmc2V0LCBpc1Vuc2lnbmVkID8gV2FzbU9wY29kZS5GMzJfQ09OVkVSVF9VX0kzMiA6IFdhc21PcGNvZGUuRjMyX0NPTlZFUlRfU19JMzIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gaTMyID4gZjY0XG4gICAgICAgICAgICBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAoZnJvbSA9PSBjb250ZXh0Lm51bGxUeXBlIHx8IGZyb20gPT0gY29udGV4dC5pbnQzMlR5cGUgfHwgZnJvbSA9PSBjb250ZXh0LnVpbnQzMlR5cGUpICYmXG4gICAgICAgICAgICAgICAgdHlwZSA9PSBjb250ZXh0LmZsb2F0NjRUeXBlXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUua2luZCA9PSBOb2RlS2luZC5OVUxMKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXNzZW1ibGVyLmFwcGVuZE9wY29kZShhcnJheSwgYnl0ZU9mZnNldCwgV2FzbU9wY29kZS5GNjRfQ09OU1QsIDApO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFzc2VtYmxlci53cml0ZURvdWJsZShhcnJheSwgMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHZhbHVlLmtpbmQgPT0gTm9kZUtpbmQuQk9PTEVBTikge1xuICAgICAgICAgICAgICAgICAgICBsZXQgZG91YmxlVmFsdWUgPSB2YWx1ZS5kb3VibGVWYWx1ZSB8fCAwO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFzc2VtYmxlci5hcHBlbmRPcGNvZGUoYXJyYXksIGJ5dGVPZmZzZXQsIFdhc21PcGNvZGUuRjY0X0NPTlNULCBkb3VibGVWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXNzZW1ibGVyLndyaXRlRG91YmxlKGFycmF5LCBkb3VibGVWYWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHZhbHVlLmtpbmQgPT0gTm9kZUtpbmQuSU5UMzIpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGRvdWJsZVZhbHVlID0gdmFsdWUuZG91YmxlVmFsdWUgfHwgMDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hc3NlbWJsZXIuYXBwZW5kT3Bjb2RlKGFycmF5LCBieXRlT2Zmc2V0LCBXYXNtT3Bjb2RlLkY2NF9DT05TVCwgZG91YmxlVmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFzc2VtYmxlci53cml0ZURvdWJsZShhcnJheSwgZG91YmxlVmFsdWUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBpc1Vuc2lnbmVkID0gdmFsdWUucmVzb2x2ZWRUeXBlLmlzVW5zaWduZWQoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0Tm9kZShhcnJheSwgYnl0ZU9mZnNldCwgdmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFzc2VtYmxlci5hcHBlbmRPcGNvZGUoYXJyYXksIGJ5dGVPZmZzZXQsIGlzVW5zaWduZWQgPyBXYXNtT3Bjb2RlLkY2NF9DT05WRVJUX1VfSTMyIDogV2FzbU9wY29kZS5GNjRfQ09OVkVSVF9TX0kzMik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8tLS0tLVxuXG4gICAgICAgICAgICAvLyAtLS0gNjQgYml0IEludGVnZXIgY2FzdGluZyAtLS1cbiAgICAgICAgICAgIC8vIGk2NCA+IGkzMlxuICAgICAgICAgICAgZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgKGZyb20gPT0gY29udGV4dC5pbnQ2NFR5cGUgfHwgZnJvbSA9PSBjb250ZXh0LnVpbnQ2NFR5cGUgKSAmJlxuICAgICAgICAgICAgICAgICh0eXBlID09IGNvbnRleHQuaW50MzJUeXBlIHx8IHR5cGUgPT0gY29udGV4dC51aW50MzJUeXBlKVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlLmtpbmQgPT0gTm9kZUtpbmQuSU5UNjQpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGludFZhbHVlID0gdmFsdWUuaW50VmFsdWUgfHwgMDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hc3NlbWJsZXIuYXBwZW5kT3Bjb2RlKGFycmF5LCBieXRlT2Zmc2V0LCBXYXNtT3Bjb2RlLkkzMl9DT05TVCwgaW50VmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFzc2VtYmxlci53cml0ZUxFQjEyOChhcnJheSwgaW50VmFsdWUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdE5vZGUoYXJyYXksIGJ5dGVPZmZzZXQsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hc3NlbWJsZXIuYXBwZW5kT3Bjb2RlKGFycmF5LCBieXRlT2Zmc2V0LCBXYXNtT3Bjb2RlLkkzMl9XUkFQX0k2NCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBpNjQgPiBmMzJcbiAgICAgICAgICAgIGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgIChmcm9tID09IGNvbnRleHQuaW50NjRUeXBlIHx8IGZyb20gPT0gY29udGV4dC51aW50NjRUeXBlKSAmJlxuICAgICAgICAgICAgICAgIHR5cGUgPT0gY29udGV4dC5mbG9hdDMyVHlwZVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlLmtpbmQgPT0gTm9kZUtpbmQuSU5UMzIpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGZsb2F0VmFsdWUgPSB2YWx1ZS5mbG9hdFZhbHVlIHx8IDA7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXNzZW1ibGVyLmFwcGVuZE9wY29kZShhcnJheSwgYnl0ZU9mZnNldCwgV2FzbU9wY29kZS5GMzJfQ09OU1QsIGZsb2F0VmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFzc2VtYmxlci53cml0ZUZsb2F0KGFycmF5LCBmbG9hdFZhbHVlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsZXQgaXNVbnNpZ25lZCA9IHZhbHVlLnJlc29sdmVkVHlwZS5pc1Vuc2lnbmVkKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdE5vZGUoYXJyYXksIGJ5dGVPZmZzZXQsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hc3NlbWJsZXIuYXBwZW5kT3Bjb2RlKGFycmF5LCBieXRlT2Zmc2V0LCBpc1Vuc2lnbmVkID8gV2FzbU9wY29kZS5GMzJfQ09OVkVSVF9VX0k2NCA6IFdhc21PcGNvZGUuRjMyX0NPTlZFUlRfU19JNjQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gaTY0ID4gZjY0XG4gICAgICAgICAgICBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAoZnJvbSA9PSBjb250ZXh0LmludDY0VHlwZSB8fCBmcm9tID09IGNvbnRleHQudWludDY0VHlwZSkgJiZcbiAgICAgICAgICAgICAgICB0eXBlID09IGNvbnRleHQuZmxvYXQ2NFR5cGUpIHtcblxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5raW5kID09IE5vZGVLaW5kLklOVDY0KSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBkb3VibGVWYWx1ZSA9IHZhbHVlLmRvdWJsZVZhbHVlIHx8IDA7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXNzZW1ibGVyLmFwcGVuZE9wY29kZShhcnJheSwgYnl0ZU9mZnNldCwgV2FzbU9wY29kZS5GNjRfQ09OU1QsIGRvdWJsZVZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hc3NlbWJsZXIud3JpdGVEb3VibGUoYXJyYXksIGRvdWJsZVZhbHVlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsZXQgaXNVbnNpZ25lZCA9IHZhbHVlLnJlc29sdmVkVHlwZS5pc1Vuc2lnbmVkKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdE5vZGUoYXJyYXksIGJ5dGVPZmZzZXQsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hc3NlbWJsZXIuYXBwZW5kT3Bjb2RlKGFycmF5LCBieXRlT2Zmc2V0LCBpc1Vuc2lnbmVkID8gV2FzbU9wY29kZS5GNjRfQ09OVkVSVF9VX0k2NCA6IFdhc21PcGNvZGUuRjY0X0NPTlZFUlRfU19JNjQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vLS0tLS0tXG5cbiAgICAgICAgICAgIC8vIC0tLSAzMiBiaXQgZmxvYXQgY2FzdGluZyAtLS1cbiAgICAgICAgICAgIC8vIGYzMiA+IGkzMlxuICAgICAgICAgICAgZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgZnJvbSA9PSBjb250ZXh0LmZsb2F0MzJUeXBlICYmXG4gICAgICAgICAgICAgICAgKHR5cGUgPT0gY29udGV4dC51aW50OFR5cGUgfHwgdHlwZSA9PSBjb250ZXh0LmludDhUeXBlIHx8XG4gICAgICAgICAgICAgICAgdHlwZSA9PSBjb250ZXh0LnVpbnQxNlR5cGUgfHwgdHlwZSA9PSBjb250ZXh0LmludDE2VHlwZSB8fFxuICAgICAgICAgICAgICAgIHR5cGUgPT0gY29udGV4dC51aW50MzJUeXBlIHx8IHR5cGUgPT0gY29udGV4dC5pbnQzMlR5cGUpXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUua2luZCA9PSBOb2RlS2luZC5GTE9BVDMyKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBpbnRWYWx1ZSA9IHZhbHVlLmludFZhbHVlIHx8IDA7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXNzZW1ibGVyLmFwcGVuZE9wY29kZShhcnJheSwgYnl0ZU9mZnNldCwgV2FzbU9wY29kZS5JMzJfQ09OU1QsIGludFZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hc3NlbWJsZXIud3JpdGVMRUIxMjgoYXJyYXksIGludFZhbHVlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsZXQgaXNVbnNpZ25lZCA9IHR5cGUuaXNVbnNpZ25lZCgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXROb2RlKGFycmF5LCBieXRlT2Zmc2V0LCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXNzZW1ibGVyLmFwcGVuZE9wY29kZShhcnJheSwgYnl0ZU9mZnNldCwgaXNVbnNpZ25lZCA/IFdhc21PcGNvZGUuSTMyX1RSVU5DX1VfRjMyIDogV2FzbU9wY29kZS5JMzJfVFJVTkNfU19GMzIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gZjMyID4gaTY0XG4gICAgICAgICAgICBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICBmcm9tID09IGNvbnRleHQuZmxvYXQzMlR5cGUgJiZcbiAgICAgICAgICAgICAgICAodHlwZSA9PSBjb250ZXh0LmludDY0VHlwZSB8fCB0eXBlID09IGNvbnRleHQudWludDY0VHlwZSlcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5raW5kID09IE5vZGVLaW5kLkZMT0FUMzIpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGxvbmdWYWx1ZSA9IHZhbHVlLmxvbmdWYWx1ZSB8fCAwO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFzc2VtYmxlci5hcHBlbmRPcGNvZGUoYXJyYXksIGJ5dGVPZmZzZXQsIFdhc21PcGNvZGUuSTY0X0NPTlNULCBsb25nVmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFzc2VtYmxlci53cml0ZUxFQjEyOChhcnJheSwgbG9uZ1ZhbHVlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsZXQgaXNVbnNpZ25lZCA9IHR5cGUuaXNVbnNpZ25lZCgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXROb2RlKGFycmF5LCBieXRlT2Zmc2V0LCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXNzZW1ibGVyLmFwcGVuZE9wY29kZShhcnJheSwgYnl0ZU9mZnNldCwgaXNVbnNpZ25lZCA/IFdhc21PcGNvZGUuSTY0X1RSVU5DX1VfRjMyIDogV2FzbU9wY29kZS5JNjRfVFJVTkNfU19GMzIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gZjMyID4gZjY0XG4gICAgICAgICAgICBlbHNlIGlmIChmcm9tID09IGNvbnRleHQuZmxvYXQzMlR5cGUgJiYgdHlwZSA9PSBjb250ZXh0LmZsb2F0NjRUeXBlKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAodmFsdWUua2luZCA9PSBOb2RlS2luZC5GTE9BVDMyKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBkb3VibGVWYWx1ZSA9IHZhbHVlLmRvdWJsZVZhbHVlIHx8IDA7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXNzZW1ibGVyLmFwcGVuZE9wY29kZShhcnJheSwgYnl0ZU9mZnNldCwgV2FzbU9wY29kZS5GNjRfQ09OU1QsIGRvdWJsZVZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hc3NlbWJsZXIud3JpdGVEb3VibGUoYXJyYXksIGRvdWJsZVZhbHVlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXROb2RlKGFycmF5LCBieXRlT2Zmc2V0LCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXNzZW1ibGVyLmFwcGVuZE9wY29kZShhcnJheSwgYnl0ZU9mZnNldCwgV2FzbU9wY29kZS5GNjRfUFJPTU9URV9GMzIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vLS0tLVxuXG4gICAgICAgICAgICAvLyAtLS0gNjQgYml0IGZsb2F0IGNhc3RpbmcgLS0tXG4gICAgICAgICAgICAvLyBmNjQgPiBpMzJcbiAgICAgICAgICAgIGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgIGZyb20gPT0gY29udGV4dC5mbG9hdDY0VHlwZSAmJlxuICAgICAgICAgICAgICAgICh0eXBlID09IGNvbnRleHQudWludDhUeXBlIHx8IHR5cGUgPT0gY29udGV4dC5pbnQ4VHlwZSB8fFxuICAgICAgICAgICAgICAgIHR5cGUgPT0gY29udGV4dC51aW50MTZUeXBlIHx8IHR5cGUgPT0gY29udGV4dC5pbnQxNlR5cGUgfHxcbiAgICAgICAgICAgICAgICB0eXBlID09IGNvbnRleHQudWludDMyVHlwZSB8fCB0eXBlID09IGNvbnRleHQuaW50MzJUeXBlKVxuICAgICAgICAgICAgKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAodmFsdWUua2luZCA9PSBOb2RlS2luZC5GTE9BVDY0KSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBpbnRWYWx1ZSA9IHZhbHVlLmludFZhbHVlIHx8IDA7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXNzZW1ibGVyLmFwcGVuZE9wY29kZShhcnJheSwgYnl0ZU9mZnNldCwgV2FzbU9wY29kZS5JMzJfQ09OU1QsIGludFZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hc3NlbWJsZXIud3JpdGVMRUIxMjgoYXJyYXksIGludFZhbHVlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsZXQgaXNVbnNpZ25lZCA9IHR5cGUuaXNVbnNpZ25lZCgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXROb2RlKGFycmF5LCBieXRlT2Zmc2V0LCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXNzZW1ibGVyLmFwcGVuZE9wY29kZShhcnJheSwgYnl0ZU9mZnNldCwgaXNVbnNpZ25lZCA/IFdhc21PcGNvZGUuSTMyX1RSVU5DX1VfRjY0IDogV2FzbU9wY29kZS5JMzJfVFJVTkNfU19GNjQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gZjY0ID4gaTY0XG4gICAgICAgICAgICBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICBmcm9tID09IGNvbnRleHQuZmxvYXQ2NFR5cGUgJiZcbiAgICAgICAgICAgICAgICAodHlwZSA9PSBjb250ZXh0LmludDY0VHlwZSB8fCB0eXBlID09IGNvbnRleHQudWludDY0VHlwZSlcbiAgICAgICAgICAgICkge1xuXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlLmtpbmQgPT0gTm9kZUtpbmQuRkxPQVQ2NCkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgbG9uZ1ZhbHVlID0gdmFsdWUubG9uZ1ZhbHVlIHx8IDA7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXNzZW1ibGVyLmFwcGVuZE9wY29kZShhcnJheSwgYnl0ZU9mZnNldCwgV2FzbU9wY29kZS5JNjRfQ09OU1QsIGxvbmdWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXNzZW1ibGVyLndyaXRlTEVCMTI4KGFycmF5LCBsb25nVmFsdWUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBpc1Vuc2lnbmVkID0gdHlwZS5pc1Vuc2lnbmVkKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdE5vZGUoYXJyYXksIGJ5dGVPZmZzZXQsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hc3NlbWJsZXIuYXBwZW5kT3Bjb2RlKGFycmF5LCBieXRlT2Zmc2V0LCBpc1Vuc2lnbmVkID8gV2FzbU9wY29kZS5JNjRfVFJVTkNfVV9GNjQgOiBXYXNtT3Bjb2RlLkk2NF9UUlVOQ19TX0Y2NCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBmNjQgPiBmMzJcbiAgICAgICAgICAgIGVsc2UgaWYgKGZyb20gPT0gY29udGV4dC5mbG9hdDY0VHlwZSAmJiB0eXBlID09IGNvbnRleHQuZmxvYXQzMlR5cGUpIHtcblxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5raW5kID09IE5vZGVLaW5kLkZMT0FUNjQpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGZsb2F0VmFsdWUgPSB2YWx1ZS5mbG9hdFZhbHVlIHx8IDA7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXNzZW1ibGVyLmFwcGVuZE9wY29kZShhcnJheSwgYnl0ZU9mZnNldCwgV2FzbU9wY29kZS5GMzJfQ09OU1QsIGZsb2F0VmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFzc2VtYmxlci53cml0ZUZsb2F0KGFycmF5LCBmbG9hdFZhbHVlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXROb2RlKGFycmF5LCBieXRlT2Zmc2V0LCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXNzZW1ibGVyLmFwcGVuZE9wY29kZShhcnJheSwgYnl0ZU9mZnNldCwgV2FzbU9wY29kZS5GMzJfREVNT1RFX0Y2NCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBObyBjYXN0IG5lZWRlZFxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0Tm9kZShhcnJheSwgYnl0ZU9mZnNldCwgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZWxzZSBpZiAobm9kZS5raW5kID09IE5vZGVLaW5kLkRPVCkge1xuICAgICAgICAgICAgbGV0IHN5bWJvbCA9IG5vZGUuc3ltYm9sO1xuXG4gICAgICAgICAgICBpZiAoc3ltYm9sLmtpbmQgPT0gU3ltYm9sS2luZC5WQVJJQUJMRV9JTlNUQU5DRSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdExvYWRGcm9tTWVtb3J5KGFycmF5LCBieXRlT2Zmc2V0LCBzeW1ib2wucmVzb2x2ZWRUeXBlLCBub2RlLmRvdFRhcmdldCgpLCBzeW1ib2wub2Zmc2V0KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYXNzZXJ0KGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGVsc2UgaWYgKG5vZGUua2luZCA9PSBOb2RlS2luZC5BU1NJR04pIHtcbiAgICAgICAgICAgIGxldCBsZWZ0ID0gbm9kZS5iaW5hcnlMZWZ0KCk7XG4gICAgICAgICAgICBsZXQgcmlnaHQgPSBub2RlLmJpbmFyeVJpZ2h0KCk7XG4gICAgICAgICAgICBsZXQgc3ltYm9sID0gbGVmdC5zeW1ib2w7XG5cbiAgICAgICAgICAgIGlmIChsZWZ0LmtpbmQgPT0gTm9kZUtpbmQuREVSRUZFUkVOQ0UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXRTdG9yZVRvTWVtb3J5KGFycmF5LCBieXRlT2Zmc2V0LCBsZWZ0LnJlc29sdmVkVHlwZS51bmRlcmx5aW5nVHlwZSh0aGlzLmNvbnRleHQpLCBsZWZ0LnVuYXJ5VmFsdWUoKSwgMCwgcmlnaHQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBlbHNlIGlmIChsZWZ0LmtpbmQgPT0gTm9kZUtpbmQuUE9JTlRFUl9JTkRFWCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdFN0b3JlVG9NZW1vcnkoYXJyYXksIGJ5dGVPZmZzZXQsIGxlZnQucmVzb2x2ZWRUeXBlLnVuZGVybHlpbmdUeXBlKHRoaXMuY29udGV4dCksIGxlZnQucG9pbnRlcigpLCBsZWZ0LnBvaW50ZXJPZmZzZXQoKSwgcmlnaHQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBlbHNlIGlmIChzeW1ib2wua2luZCA9PSBTeW1ib2xLaW5kLlZBUklBQkxFX0lOU1RBTkNFKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0U3RvcmVUb01lbW9yeShhcnJheSwgYnl0ZU9mZnNldCwgc3ltYm9sLnJlc29sdmVkVHlwZSwgbGVmdC5kb3RUYXJnZXQoKSwgc3ltYm9sLm9mZnNldCwgcmlnaHQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBlbHNlIGlmIChzeW1ib2wua2luZCA9PSBTeW1ib2xLaW5kLlZBUklBQkxFX0dMT0JBTCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdE5vZGUoYXJyYXksIGJ5dGVPZmZzZXQsIHJpZ2h0KTtcbiAgICAgICAgICAgICAgICB0aGlzLmFzc2VtYmxlci5hcHBlbmRPcGNvZGUoYXJyYXksIGJ5dGVPZmZzZXQsIFdhc21PcGNvZGUuU0VUX0dMT0JBTCk7XG4gICAgICAgICAgICAgICAgdGhpcy5hc3NlbWJsZXIud3JpdGVVbnNpZ25lZExFQjEyOChhcnJheSwgc3ltYm9sLm9mZnNldCk7XG4gICAgICAgICAgICAgICAgLy8gdGhpcy5lbWl0U3RvcmVUb01lbW9yeShhcnJheSwgYnl0ZU9mZnNldCwgc3ltYm9sLnJlc29sdmVkVHlwZSwgbnVsbCwgV0FTTV9NRU1PUllfSU5JVElBTElaRVJfQkFTRSArIHN5bWJvbC5vZmZzZXQsIHJpZ2h0KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZWxzZSBpZiAoc3ltYm9sLmtpbmQgPT0gU3ltYm9sS2luZC5WQVJJQUJMRV9BUkdVTUVOVCB8fCBzeW1ib2wua2luZCA9PSBTeW1ib2xLaW5kLlZBUklBQkxFX0xPQ0FMKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0Tm9kZShhcnJheSwgYnl0ZU9mZnNldCwgcmlnaHQpO1xuICAgICAgICAgICAgICAgIGlmICghaXNVbmFyeVBvc3RmaXgocmlnaHQua2luZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hc3NlbWJsZXIuYXBwZW5kT3Bjb2RlKGFycmF5LCBieXRlT2Zmc2V0LCBXYXNtT3Bjb2RlLlNFVF9MT0NBTCwgc3ltYm9sLm9mZnNldCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXNzZW1ibGVyLndyaXRlVW5zaWduZWRMRUIxMjgoYXJyYXksIHN5bWJvbC5vZmZzZXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYXNzZXJ0KGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGVsc2UgaWYgKG5vZGUua2luZCA9PSBOb2RlS2luZC5MT0dJQ0FMX0FORCkge1xuICAgICAgICAgICAgdGhpcy5lbWl0Tm9kZShhcnJheSwgYnl0ZU9mZnNldCwgbm9kZS5iaW5hcnlMZWZ0KCkpO1xuICAgICAgICAgICAgdGhpcy5lbWl0Tm9kZShhcnJheSwgYnl0ZU9mZnNldCwgbm9kZS5iaW5hcnlSaWdodCgpKTtcbiAgICAgICAgICAgIHRoaXMuYXNzZW1ibGVyLmFwcGVuZE9wY29kZShhcnJheSwgYnl0ZU9mZnNldCwgV2FzbU9wY29kZS5JMzJfQU5EKTtcbiAgICAgICAgICAgIHRoaXMuYXNzZW1ibGVyLmFwcGVuZE9wY29kZShhcnJheSwgYnl0ZU9mZnNldCwgV2FzbU9wY29kZS5JMzJfQ09OU1QsIDEpO1xuICAgICAgICAgICAgdGhpcy5hc3NlbWJsZXIud3JpdGVMRUIxMjgoYXJyYXksIDEpO1xuICAgICAgICAgICAgdGhpcy5hc3NlbWJsZXIuYXBwZW5kT3Bjb2RlKGFycmF5LCBieXRlT2Zmc2V0LCBXYXNtT3Bjb2RlLkkzMl9FUSk7XG4gICAgICAgIH1cblxuICAgICAgICBlbHNlIGlmIChub2RlLmtpbmQgPT0gTm9kZUtpbmQuTE9HSUNBTF9PUikge1xuICAgICAgICAgICAgdGhpcy5lbWl0Tm9kZShhcnJheSwgYnl0ZU9mZnNldCwgbm9kZS5iaW5hcnlMZWZ0KCkpO1xuICAgICAgICAgICAgdGhpcy5lbWl0Tm9kZShhcnJheSwgYnl0ZU9mZnNldCwgbm9kZS5iaW5hcnlSaWdodCgpKTtcbiAgICAgICAgICAgIHRoaXMuYXNzZW1ibGVyLmFwcGVuZE9wY29kZShhcnJheSwgYnl0ZU9mZnNldCwgV2FzbU9wY29kZS5JMzJfT1IpO1xuICAgICAgICAgICAgdGhpcy5hc3NlbWJsZXIuYXBwZW5kT3Bjb2RlKGFycmF5LCBieXRlT2Zmc2V0LCBXYXNtT3Bjb2RlLkkzMl9DT05TVCk7XG4gICAgICAgICAgICBsb2coYXJyYXksIGJ5dGVPZmZzZXQsIDEsIFwiaTMyIGxpdGVyYWxcIik7XG4gICAgICAgICAgICB0aGlzLmFzc2VtYmxlci53cml0ZUxFQjEyOChhcnJheSwgMSk7XG4gICAgICAgICAgICB0aGlzLmFzc2VtYmxlci5hcHBlbmRPcGNvZGUoYXJyYXksIGJ5dGVPZmZzZXQsIFdhc21PcGNvZGUuSTMyX0VRKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGVsc2UgaWYgKGlzVW5hcnkobm9kZS5raW5kKSkge1xuICAgICAgICAgICAgbGV0IGtpbmQgPSBub2RlLmtpbmQ7XG5cbiAgICAgICAgICAgIGlmIChraW5kID09IE5vZGVLaW5kLlBPU1RGSVhfSU5DUkVNRU5UIHx8IGtpbmQgPT0gTm9kZUtpbmQuUE9TVEZJWF9ERUNSRU1FTlQpIHtcblxuICAgICAgICAgICAgICAgIGxldCB2YWx1ZSA9IG5vZGUudW5hcnlWYWx1ZSgpO1xuICAgICAgICAgICAgICAgIGxldCBkYXRhVHlwZTogc3RyaW5nID0gdHlwZVRvRGF0YVR5cGUodmFsdWUucmVzb2x2ZWRUeXBlLCB0aGlzLmJpdG5lc3MpO1xuXG4gICAgICAgICAgICAgICAgLy9UT0RPIGhhbmRsZSBpbnN0YW5jZSB2YXJpYWJsZVxuICAgICAgICAgICAgICAgIGlmIChub2RlLnBhcmVudC5raW5kID09IE5vZGVLaW5kLlZBUklBQkxFKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdE5vZGUoYXJyYXksIGJ5dGVPZmZzZXQsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hc3NlbWJsZXIuYXBwZW5kT3Bjb2RlKGFycmF5LCBieXRlT2Zmc2V0LCBXYXNtT3Bjb2RlLlNFVF9MT0NBTCwgbm9kZS5wYXJlbnQuc3ltYm9sLm9mZnNldCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXNzZW1ibGVyLndyaXRlVW5zaWduZWRMRUIxMjgoYXJyYXksIG5vZGUucGFyZW50LnN5bWJvbC5vZmZzZXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChub2RlLnBhcmVudC5raW5kID09IE5vZGVLaW5kLkFTU0lHTikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXROb2RlKGFycmF5LCBieXRlT2Zmc2V0LCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBsZWZ0ID0gbm9kZS5wYXJlbnQuYmluYXJ5TGVmdCgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFzc2VtYmxlci5hcHBlbmRPcGNvZGUoYXJyYXksIGJ5dGVPZmZzZXQsIFdhc21PcGNvZGUuU0VUX0xPQ0FMLCBsZWZ0LnN5bWJvbC5vZmZzZXQpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFzc2VtYmxlci53cml0ZVVuc2lnbmVkTEVCMTI4KGFycmF5LCBsZWZ0LnN5bWJvbC5vZmZzZXQpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuZW1pdE5vZGUoYXJyYXksIGJ5dGVPZmZzZXQsIHZhbHVlKTtcblxuICAgICAgICAgICAgICAgIGlmIChub2RlLnBhcmVudC5raW5kICE9IE5vZGVLaW5kLlJFVFVSTikge1xuICAgICAgICAgICAgICAgICAgICBhc3NlcnQoXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZS5yZXNvbHZlZFR5cGUuaXNJbnRlZ2VyKCkgfHwgdmFsdWUucmVzb2x2ZWRUeXBlLmlzTG9uZygpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZS5yZXNvbHZlZFR5cGUuaXNGbG9hdCgpIHx8IHZhbHVlLnJlc29sdmVkVHlwZS5pc0RvdWJsZSgpXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBzaXplID0gdmFsdWUucmVzb2x2ZWRUeXBlLnBvaW50ZXJUbyA/XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZS5yZXNvbHZlZFR5cGUucG9pbnRlclRvLmFsbG9jYXRpb25TaXplT2YodGhpcy5jb250ZXh0KSA6XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZS5yZXNvbHZlZFR5cGUuYWxsb2NhdGlvblNpemVPZih0aGlzLmNvbnRleHQpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChzaXplID09IDEgfHwgc2l6ZSA9PSAyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUua2luZCA9PSBOb2RlS2luZC5JTlQzMiB8fCB2YWx1ZS5yZXNvbHZlZFR5cGUuaXNJbnRlZ2VyKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFzc2VtYmxlci5hcHBlbmRPcGNvZGUoYXJyYXksIGJ5dGVPZmZzZXQsIFdhc21PcGNvZGUuSTMyX0NPTlNULCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFzc2VtYmxlci53cml0ZUxFQjEyOChhcnJheSwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRlcm1pbmFsLmVycm9yKFwiV3JvbmcgdHlwZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNpemUgPT0gNCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlLmtpbmQgPT0gTm9kZUtpbmQuSU5UMzIgfHwgdmFsdWUucmVzb2x2ZWRUeXBlLmlzSW50ZWdlcigpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hc3NlbWJsZXIuYXBwZW5kT3Bjb2RlKGFycmF5LCBieXRlT2Zmc2V0LCBXYXNtT3Bjb2RlLkkzMl9DT05TVCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hc3NlbWJsZXIud3JpdGVMRUIxMjgoYXJyYXksIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh2YWx1ZS5raW5kID09IE5vZGVLaW5kLkZMT0FUMzIgfHwgdmFsdWUucmVzb2x2ZWRUeXBlLmlzRmxvYXQoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXNzZW1ibGVyLmFwcGVuZE9wY29kZShhcnJheSwgYnl0ZU9mZnNldCwgV2FzbU9wY29kZS5GMzJfQ09OU1QsIDEuMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hc3NlbWJsZXIud3JpdGVGbG9hdChhcnJheSwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRlcm1pbmFsLmVycm9yKFwiV3JvbmcgdHlwZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNpemUgPT0gOCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUua2luZCA9PSBOb2RlS2luZC5JTlQ2NCB8fCB2YWx1ZS5yZXNvbHZlZFR5cGUuaXNMb25nKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFzc2VtYmxlci5hcHBlbmRPcGNvZGUoYXJyYXksIGJ5dGVPZmZzZXQsIFdhc21PcGNvZGUuSTY0X0NPTlNULCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFzc2VtYmxlci53cml0ZUxFQjEyOChhcnJheSwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHZhbHVlLmtpbmQgPT0gTm9kZUtpbmQuRkxPQVQ2NCB8fCB2YWx1ZS5yZXNvbHZlZFR5cGUuaXNEb3VibGUoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXNzZW1ibGVyLmFwcGVuZE9wY29kZShhcnJheSwgYnl0ZU9mZnNldCwgV2FzbU9wY29kZS5GNjRfQ09OU1QsIDEuMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hc3NlbWJsZXIud3JpdGVEb3VibGUoYXJyYXksIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBUZXJtaW5hbC5lcnJvcihcIldyb25nIHR5cGVcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvL1RPRE8gZXh0ZW5kIHRvIG90aGVyIG9wZXJhdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgbGV0IG9wZXJhdGlvbiA9IGtpbmQgPT0gTm9kZUtpbmQuUE9TVEZJWF9JTkNSRU1FTlQgPyBcIkFERFwiIDogXCJTVUJcIjtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFzc2VtYmxlci5hcHBlbmRPcGNvZGUoYXJyYXksIGJ5dGVPZmZzZXQsIFdhc21PcGNvZGVbYCR7ZGF0YVR5cGV9XyR7b3BlcmF0aW9ufWBdKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUuc3ltYm9sLmtpbmQgPT0gU3ltYm9sS2luZC5WQVJJQUJMRV9HTE9CQUwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXNzZW1ibGVyLmFwcGVuZE9wY29kZShhcnJheSwgYnl0ZU9mZnNldCwgV2FzbU9wY29kZS5TRVRfR0xPQkFMLCB2YWx1ZS5zeW1ib2wub2Zmc2V0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXNzZW1ibGVyLndyaXRlTEVCMTI4KGFycmF5LCB2YWx1ZS5zeW1ib2wub2Zmc2V0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh2YWx1ZS5zeW1ib2wua2luZCA9PSBTeW1ib2xLaW5kLlZBUklBQkxFX0xPQ0FMIHx8IHZhbHVlLnN5bWJvbC5raW5kID09IFN5bWJvbEtpbmQuVkFSSUFCTEVfQVJHVU1FTlQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXNzZW1ibGVyLmFwcGVuZE9wY29kZShhcnJheSwgYnl0ZU9mZnNldCwgV2FzbU9wY29kZS5TRVRfTE9DQUwsIHZhbHVlLnN5bWJvbC5vZmZzZXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hc3NlbWJsZXIud3JpdGVMRUIxMjgoYXJyYXksIHZhbHVlLnN5bWJvbC5vZmZzZXQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHZhbHVlLnN5bWJvbC5raW5kID09IFN5bWJvbEtpbmQuVkFSSUFCTEVfSU5TVEFOQ0UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vRklYTUVcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vdGhpcy5lbWl0U3RvcmVUb01lbW9yeShhcnJheSwgYnl0ZU9mZnNldCwgdmFsdWUuc3ltYm9sLnJlc29sdmVkVHlwZSwgdmFsdWUuZG90VGFyZ2V0KCksIHZhbHVlLnN5bWJvbC5vZmZzZXQsIG5vZGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbGV0IGlzVW5zaWduZWQgPSBub2RlLmlzVW5zaWduZWRPcGVyYXRvcigpO1xuICAgICAgICAgICAgbGV0IGxlZnQgPSBub2RlLmJpbmFyeUxlZnQoKTtcbiAgICAgICAgICAgIGxldCByaWdodCA9IG5vZGUuYmluYXJ5UmlnaHQoKTtcbiAgICAgICAgICAgIGxldCBpc0Zsb2F0OiBib29sZWFuID0gbGVmdC5yZXNvbHZlZFR5cGUuaXNGbG9hdCgpIHx8IHJpZ2h0LnJlc29sdmVkVHlwZS5pc0Zsb2F0KCk7XG4gICAgICAgICAgICBsZXQgaXNEb3VibGU6IGJvb2xlYW4gPSBsZWZ0LnJlc29sdmVkVHlwZS5pc0RvdWJsZSgpIHx8IHJpZ2h0LnJlc29sdmVkVHlwZS5pc0RvdWJsZSgpO1xuXG4gICAgICAgICAgICBsZXQgZGF0YVR5cGVMZWZ0OiBzdHJpbmcgPSB0eXBlVG9EYXRhVHlwZShsZWZ0LnJlc29sdmVkVHlwZSwgdGhpcy5iaXRuZXNzKTtcbiAgICAgICAgICAgIGxldCBkYXRhVHlwZVJpZ2h0OiBzdHJpbmcgPSB0eXBlVG9EYXRhVHlwZShyaWdodC5yZXNvbHZlZFR5cGUsIHRoaXMuYml0bmVzcyk7XG5cbiAgICAgICAgICAgIGlmIChub2RlLmtpbmQgPT0gTm9kZUtpbmQuQUREKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmVtaXROb2RlKGFycmF5LCBieXRlT2Zmc2V0LCBsZWZ0KTtcblxuICAgICAgICAgICAgICAgIGlmIChsZWZ0LnJlc29sdmVkVHlwZS5wb2ludGVyVG8gPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXROb2RlKGFycmF5LCBieXRlT2Zmc2V0LCByaWdodCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gTmVlZCB0byBtdWx0aXBseSB0aGUgcmlnaHQgYnkgdGhlIHNpemUgb2YgdGhlIHBvaW50ZXIgdGFyZ2V0XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGFzc2VydChcbiAgICAgICAgICAgICAgICAgICAgICAgIHJpZ2h0LnJlc29sdmVkVHlwZS5pc0ludGVnZXIoKSB8fCByaWdodC5yZXNvbHZlZFR5cGUuaXNMb25nKCkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJpZ2h0LnJlc29sdmVkVHlwZS5pc0Zsb2F0KCkgfHwgcmlnaHQucmVzb2x2ZWRUeXBlLmlzRG91YmxlKClcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHNpemUgPSBsZWZ0LnJlc29sdmVkVHlwZS5wb2ludGVyVG8uYWxsb2NhdGlvblNpemVPZih0aGlzLmNvbnRleHQpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChzaXplID09IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyaWdodC5raW5kID09IE5vZGVLaW5kLklOVDMyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IF92YWx1ZSA9IHJpZ2h0LmludFZhbHVlIDw8IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hc3NlbWJsZXIuYXBwZW5kT3Bjb2RlKGFycmF5LCBieXRlT2Zmc2V0LCBXYXNtT3Bjb2RlLkkzMl9DT05TVCwgX3ZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFzc2VtYmxlci53cml0ZUxFQjEyOChhcnJheSwgX3ZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0Tm9kZShhcnJheSwgYnl0ZU9mZnNldCwgcmlnaHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXNzZW1ibGVyLmFwcGVuZE9wY29kZShhcnJheSwgYnl0ZU9mZnNldCwgV2FzbU9wY29kZS5JMzJfQ09OU1QsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXNzZW1ibGVyLndyaXRlTEVCMTI4KGFycmF5LCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFzc2VtYmxlci5hcHBlbmRPcGNvZGUoYXJyYXksIGJ5dGVPZmZzZXQsIFdhc21PcGNvZGUuSTMyX1NITCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzaXplID09IDQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyaWdodC5raW5kID09IE5vZGVLaW5kLklOVDMyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IF92YWx1ZSA9IHJpZ2h0LmludFZhbHVlIDw8IDI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hc3NlbWJsZXIuYXBwZW5kT3Bjb2RlKGFycmF5LCBieXRlT2Zmc2V0LCBXYXNtT3Bjb2RlLkkzMl9DT05TVCwgX3ZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFzc2VtYmxlci53cml0ZUxFQjEyOChhcnJheSwgX3ZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAocmlnaHQua2luZCA9PSBOb2RlS2luZC5GTE9BVDMyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hc3NlbWJsZXIuYXBwZW5kT3Bjb2RlKGFycmF5LCBieXRlT2Zmc2V0LCBXYXNtT3Bjb2RlLkYzMl9DT05TVCwgcmlnaHQuZmxvYXRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hc3NlbWJsZXIud3JpdGVGbG9hdChhcnJheSwgcmlnaHQuZmxvYXRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdE5vZGUoYXJyYXksIGJ5dGVPZmZzZXQsIHJpZ2h0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFzc2VtYmxlci5hcHBlbmRPcGNvZGUoYXJyYXksIGJ5dGVPZmZzZXQsIFdhc21PcGNvZGUuSTMyX0NPTlNULCAyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFzc2VtYmxlci53cml0ZUxFQjEyOChhcnJheSwgMik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hc3NlbWJsZXIuYXBwZW5kT3Bjb2RlKGFycmF5LCBieXRlT2Zmc2V0LCBXYXNtT3Bjb2RlLkkzMl9TSEwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoc2l6ZSA9PSA4KSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyaWdodC5raW5kID09IE5vZGVLaW5kLklOVDY0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hc3NlbWJsZXIuYXBwZW5kT3Bjb2RlKGFycmF5LCBieXRlT2Zmc2V0LCBXYXNtT3Bjb2RlLkk2NF9DT05TVCwgcmlnaHQubG9uZ1ZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFzc2VtYmxlci53cml0ZUxFQjEyOChhcnJheSwgcmlnaHQubG9uZ1ZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAocmlnaHQua2luZCA9PSBOb2RlS2luZC5GTE9BVDY0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hc3NlbWJsZXIuYXBwZW5kT3Bjb2RlKGFycmF5LCBieXRlT2Zmc2V0LCBXYXNtT3Bjb2RlLkY2NF9DT05TVCwgcmlnaHQuZG91YmxlVmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXNzZW1ibGVyLndyaXRlRG91YmxlKGFycmF5LCByaWdodC5kb3VibGVWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdE5vZGUoYXJyYXksIGJ5dGVPZmZzZXQsIHJpZ2h0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmFzc2VtYmxlci5hcHBlbmRPcGNvZGUoYXJyYXksIGJ5dGVPZmZzZXQsIFdhc21PcGNvZGVbYCR7ZGF0YVR5cGVMZWZ0fV9BRERgXSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGVsc2UgaWYgKG5vZGUua2luZCA9PSBOb2RlS2luZC5CSVRXSVNFX0FORCkge1xuICAgICAgICAgICAgICAgIGlmIChpc0Zsb2F0IHx8IGlzRG91YmxlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IFwiQ2Fubm90IGRvIGJpdHdpc2Ugb3BlcmF0aW9ucyBvbiBmbG9hdGluZyBwb2ludCBudW1iZXJcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0QmluYXJ5RXhwcmVzc2lvbihhcnJheSwgYnl0ZU9mZnNldCwgbm9kZSwgV2FzbU9wY29kZVtgJHtkYXRhVHlwZUxlZnR9X0FORGBdKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZWxzZSBpZiAobm9kZS5raW5kID09IE5vZGVLaW5kLkJJVFdJU0VfT1IpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNGbG9hdCB8fCBpc0RvdWJsZSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBcIkNhbm5vdCBkbyBiaXR3aXNlIG9wZXJhdGlvbnMgb24gZmxvYXRpbmcgcG9pbnQgbnVtYmVyXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuZW1pdEJpbmFyeUV4cHJlc3Npb24oYXJyYXksIGJ5dGVPZmZzZXQsIG5vZGUsIFdhc21PcGNvZGVbYCR7ZGF0YVR5cGVMZWZ0fV9PUmBdKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZWxzZSBpZiAobm9kZS5raW5kID09IE5vZGVLaW5kLkJJVFdJU0VfWE9SKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0QmluYXJ5RXhwcmVzc2lvbihhcnJheSwgYnl0ZU9mZnNldCwgbm9kZSwgV2FzbU9wY29kZVtgJHtkYXRhVHlwZUxlZnR9X1hPUmBdKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZWxzZSBpZiAobm9kZS5raW5kID09IE5vZGVLaW5kLkVRVUFMKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0QmluYXJ5RXhwcmVzc2lvbihhcnJheSwgYnl0ZU9mZnNldCwgbm9kZSwgV2FzbU9wY29kZVtgJHtkYXRhVHlwZUxlZnR9X0VRYF0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBlbHNlIGlmIChub2RlLmtpbmQgPT0gTm9kZUtpbmQuTVVMVElQTFkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXRCaW5hcnlFeHByZXNzaW9uKGFycmF5LCBieXRlT2Zmc2V0LCBub2RlLCBXYXNtT3Bjb2RlW2Ake2RhdGFUeXBlTGVmdH1fTVVMYF0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBlbHNlIGlmIChub2RlLmtpbmQgPT0gTm9kZUtpbmQuTk9UX0VRVUFMKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0QmluYXJ5RXhwcmVzc2lvbihhcnJheSwgYnl0ZU9mZnNldCwgbm9kZSwgV2FzbU9wY29kZVtgJHtkYXRhVHlwZUxlZnR9X05FYF0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBlbHNlIGlmIChub2RlLmtpbmQgPT0gTm9kZUtpbmQuU0hJRlRfTEVGVCkge1xuICAgICAgICAgICAgICAgIGlmIChpc0Zsb2F0IHx8IGlzRG91YmxlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IFwiQ2Fubm90IGRvIGJpdHdpc2Ugb3BlcmF0aW9ucyBvbiBmbG9hdGluZyBwb2ludCBudW1iZXJcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0QmluYXJ5RXhwcmVzc2lvbihhcnJheSwgYnl0ZU9mZnNldCwgbm9kZSwgV2FzbU9wY29kZVtgJHtkYXRhVHlwZUxlZnR9X1NITGBdKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZWxzZSBpZiAobm9kZS5raW5kID09IE5vZGVLaW5kLlNVQlRSQUNUKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0QmluYXJ5RXhwcmVzc2lvbihhcnJheSwgYnl0ZU9mZnNldCwgbm9kZSwgV2FzbU9wY29kZVtgJHtkYXRhVHlwZUxlZnR9X1NVQmBdKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZWxzZSBpZiAobm9kZS5raW5kID09IE5vZGVLaW5kLkRJVklERSkge1xuICAgICAgICAgICAgICAgIGxldCBvcGNvZGUgPSAoaXNGbG9hdCB8fCBpc0RvdWJsZSkgP1xuICAgICAgICAgICAgICAgICAgICBXYXNtT3Bjb2RlW2Ake2RhdGFUeXBlTGVmdH1fRElWYF0gOlxuICAgICAgICAgICAgICAgICAgICAoaXNVbnNpZ25lZCA/IFdhc21PcGNvZGVbYCR7ZGF0YVR5cGVMZWZ0fV9ESVZfVWBdIDogV2FzbU9wY29kZVtgJHtkYXRhVHlwZUxlZnR9X0RJVl9TYF0pO1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdEJpbmFyeUV4cHJlc3Npb24oYXJyYXksIGJ5dGVPZmZzZXQsIG5vZGUsIG9wY29kZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGVsc2UgaWYgKG5vZGUua2luZCA9PSBOb2RlS2luZC5HUkVBVEVSX1RIQU4pIHtcbiAgICAgICAgICAgICAgICBsZXQgb3Bjb2RlID0gKGlzRmxvYXQgfHwgaXNEb3VibGUpID9cbiAgICAgICAgICAgICAgICAgICAgV2FzbU9wY29kZVtgJHtkYXRhVHlwZUxlZnR9X0dUYF0gOlxuICAgICAgICAgICAgICAgICAgICAoaXNVbnNpZ25lZCA/IFdhc21PcGNvZGVbYCR7ZGF0YVR5cGVMZWZ0fV9HVF9VYF0gOiBXYXNtT3Bjb2RlW2Ake2RhdGFUeXBlTGVmdH1fR1RfU2BdKTtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXRCaW5hcnlFeHByZXNzaW9uKGFycmF5LCBieXRlT2Zmc2V0LCBub2RlLCBvcGNvZGUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBlbHNlIGlmIChub2RlLmtpbmQgPT0gTm9kZUtpbmQuR1JFQVRFUl9USEFOX0VRVUFMKSB7XG4gICAgICAgICAgICAgICAgbGV0IG9wY29kZSA9IChpc0Zsb2F0IHx8IGlzRG91YmxlKSA/XG4gICAgICAgICAgICAgICAgICAgIFdhc21PcGNvZGVbYCR7ZGF0YVR5cGVMZWZ0fV9HRWBdIDpcbiAgICAgICAgICAgICAgICAgICAgKGlzVW5zaWduZWQgPyBXYXNtT3Bjb2RlW2Ake2RhdGFUeXBlTGVmdH1fR0VfVWBdIDogV2FzbU9wY29kZVtgJHtkYXRhVHlwZUxlZnR9X0dFX1NgXSk7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0QmluYXJ5RXhwcmVzc2lvbihhcnJheSwgYnl0ZU9mZnNldCwgbm9kZSwgb3Bjb2RlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZWxzZSBpZiAobm9kZS5raW5kID09IE5vZGVLaW5kLkxFU1NfVEhBTikge1xuICAgICAgICAgICAgICAgIGxldCBvcGNvZGUgPSAoaXNGbG9hdCB8fCBpc0RvdWJsZSkgP1xuICAgICAgICAgICAgICAgICAgICBXYXNtT3Bjb2RlW2Ake2RhdGFUeXBlTGVmdH1fTFRgXSA6XG4gICAgICAgICAgICAgICAgICAgIChpc1Vuc2lnbmVkID8gV2FzbU9wY29kZVtgJHtkYXRhVHlwZUxlZnR9X0xUX1VgXSA6IFdhc21PcGNvZGVbYCR7ZGF0YVR5cGVMZWZ0fV9MVF9TYF0pO1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdEJpbmFyeUV4cHJlc3Npb24oYXJyYXksIGJ5dGVPZmZzZXQsIG5vZGUsIG9wY29kZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGVsc2UgaWYgKG5vZGUua2luZCA9PSBOb2RlS2luZC5MRVNTX1RIQU5fRVFVQUwpIHtcbiAgICAgICAgICAgICAgICBsZXQgb3Bjb2RlID0gKGlzRmxvYXQgfHwgaXNEb3VibGUpID9cbiAgICAgICAgICAgICAgICAgICAgV2FzbU9wY29kZVtgJHtkYXRhVHlwZUxlZnR9X0xFYF0gOlxuICAgICAgICAgICAgICAgICAgICAoaXNVbnNpZ25lZCA/IFdhc21PcGNvZGVbYCR7ZGF0YVR5cGVMZWZ0fV9MRV9VYF0gOiBXYXNtT3Bjb2RlW2Ake2RhdGFUeXBlTGVmdH1fTEVfU2BdKTtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXRCaW5hcnlFeHByZXNzaW9uKGFycmF5LCBieXRlT2Zmc2V0LCBub2RlLCBvcGNvZGUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBlbHNlIGlmIChub2RlLmtpbmQgPT0gTm9kZUtpbmQuUkVNQUlOREVSKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzRmxvYXQgfHwgaXNEb3VibGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgXCJGbG9hdGluZyBwb2ludCByZW1haW5kZXIgaXMgbm90IHlldCBzdXBwb3J0ZWQgaW4gV2ViQXNzZW1ibHkuIFBsZWFzZSBpbXBvcnQgamF2YXNjcmlwdCBmdW5jdGlvbiB0byBoYW5kbGUgdGhpc1wiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmVtaXRCaW5hcnlFeHByZXNzaW9uKGFycmF5LCBieXRlT2Zmc2V0LCBub2RlLCBpc1Vuc2lnbmVkID9cbiAgICAgICAgICAgICAgICAgICAgV2FzbU9wY29kZVtgJHtkYXRhVHlwZUxlZnR9X1JFTV9VYF0gOiBXYXNtT3Bjb2RlW2Ake2RhdGFUeXBlTGVmdH1fUkVNX1NgXSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGVsc2UgaWYgKG5vZGUua2luZCA9PSBOb2RlS2luZC5TSElGVF9SSUdIVCkge1xuICAgICAgICAgICAgICAgIGlmIChpc0Zsb2F0IHx8IGlzRG91YmxlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IFwiQ2Fubm90IGRvIGJpdHdpc2Ugb3BlcmF0aW9ucyBvbiBmbG9hdGluZyBwb2ludCBudW1iZXJcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0QmluYXJ5RXhwcmVzc2lvbihhcnJheSwgYnl0ZU9mZnNldCwgbm9kZSwgaXNVbnNpZ25lZCA/XG4gICAgICAgICAgICAgICAgICAgIFdhc21PcGNvZGVbYCR7ZGF0YVR5cGVMZWZ0fV9TSFJfVWBdIDogV2FzbU9wY29kZVtgJHtkYXRhVHlwZUxlZnR9X1NIUl9TYF0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBhc3NlcnQoZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIDE7XG4gICAgfVxuXG4gICAgY2FsY3VsYXRlV2FzbUZ1bmN0aW9uSW5kZXgoaW5kZXg6IGludDMyKTogaW50MzIge1xuICAgICAgICByZXR1cm4gdGhpcy5pbXBvcnRDb3VudCArIGluZGV4O1xuICAgIH1cblxuICAgIGdldFdhc21GdW5jdGlvbkNhbGxJbmRleChzeW1ib2w6IFN5bWJvbCk6IGludDMyIHtcbiAgICAgICAgcmV0dXJuIHN5bWJvbC5ub2RlLmlzRXh0ZXJuYWxJbXBvcnQoKSA/IHN5bWJvbC5vZmZzZXQgOiB0aGlzLmltcG9ydENvdW50ICsgc3ltYm9sLm9mZnNldDtcbiAgICB9XG5cbiAgICBnZXRXYXNtVHlwZSh0eXBlOiBUeXBlKTogV2FzbVR5cGUge1xuICAgICAgICBsZXQgY29udGV4dCA9IHRoaXMuY29udGV4dDtcblxuICAgICAgICBpZiAodHlwZSA9PSBjb250ZXh0LmJvb2xlYW5UeXBlIHx8IHR5cGUuaXNDbGFzcygpIHx8IHR5cGUuaXNJbnRlZ2VyKCkgfHwgKHRoaXMuYml0bmVzcyA9PSBCaXRuZXNzLngzMiAmJiB0eXBlLmlzUmVmZXJlbmNlKCkpKSB7XG4gICAgICAgICAgICByZXR1cm4gV2FzbVR5cGUuSTMyO1xuICAgICAgICB9XG5cbiAgICAgICAgZWxzZSBpZiAodHlwZS5pc0xvbmcoKSB8fCAodGhpcy5iaXRuZXNzID09IEJpdG5lc3MueDY0ICYmIHR5cGUuaXNSZWZlcmVuY2UoKSkpIHtcbiAgICAgICAgICAgIHJldHVybiBXYXNtVHlwZS5JNjQ7XG4gICAgICAgIH1cblxuICAgICAgICBlbHNlIGlmICh0eXBlLmlzRG91YmxlKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBXYXNtVHlwZS5GNjQ7XG4gICAgICAgIH1cblxuICAgICAgICBlbHNlIGlmICh0eXBlLmlzRmxvYXQoKSkge1xuICAgICAgICAgICAgcmV0dXJuIFdhc21UeXBlLkYzMjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlID09IGNvbnRleHQudm9pZFR5cGUpIHtcbiAgICAgICAgICAgIHJldHVybiBXYXNtVHlwZS5WT0lEO1xuICAgICAgICB9XG5cbiAgICAgICAgYXNzZXJ0KGZhbHNlKTtcbiAgICAgICAgcmV0dXJuIFdhc21UeXBlLlZPSUQ7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBnZXRXYXNtRnVuY3Rpb25OYW1lKHN5bWJvbDogU3ltYm9sKTogc3RyaW5nIHtcbiAgICBsZXQgbW9kdWxlTmFtZSA9IHN5bWJvbC5raW5kID09IFN5bWJvbEtpbmQuRlVOQ1RJT05fSU5TVEFOQ0UgPyBzeW1ib2wucGFyZW50KCkuaW50ZXJuYWxOYW1lIDogXCJcIjtcbiAgICByZXR1cm4gKG1vZHVsZU5hbWUgPT0gXCJcIiA/IFwiXCIgOiBtb2R1bGVOYW1lICsgXCJfXCIpICsgc3ltYm9sLmludGVybmFsTmFtZTtcbn1cblxuZnVuY3Rpb24gd2FzbVdyYXBUeXBlKGlkOiBXYXNtVHlwZSk6IFdhc21XcmFwcGVkVHlwZSB7XG4gICAgYXNzZXJ0KGlkID09IFdhc21UeXBlLlZPSUQgfHwgaWQgPT0gV2FzbVR5cGUuSTMyIHx8IGlkID09IFdhc21UeXBlLkk2NCB8fCBpZCA9PSBXYXNtVHlwZS5GMzIgfHwgaWQgPT0gV2FzbVR5cGUuRjY0KTtcbiAgICBsZXQgdHlwZSA9IG5ldyBXYXNtV3JhcHBlZFR5cGUoKTtcbiAgICB0eXBlLmlkID0gaWQ7XG4gICAgcmV0dXJuIHR5cGU7XG59XG5cbmZ1bmN0aW9uIHN5bWJvbFRvVmFsdWVUeXBlKHN5bWJvbDogU3ltYm9sLCBiaXRuZXNzPzogQml0bmVzcyk6IFdhc21UeXBlIHtcbiAgICBsZXQgdHlwZSA9IHN5bWJvbC5yZXNvbHZlZFR5cGU7XG4gICAgaWYgKHR5cGUuaXNGbG9hdCgpKSB7XG4gICAgICAgIHJldHVybiBXYXNtVHlwZS5GMzI7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUuaXNEb3VibGUoKSkge1xuICAgICAgICByZXR1cm4gV2FzbVR5cGUuRjY0O1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlLmlzSW50ZWdlcigpIHx8IChiaXRuZXNzID09IEJpdG5lc3MueDMyICYmIHR5cGUucG9pbnRlclRvKSkge1xuICAgICAgICByZXR1cm4gV2FzbVR5cGUuSTMyO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlLmlzTG9uZygpIHx8IChiaXRuZXNzID09IEJpdG5lc3MueDY0ICYmIHR5cGUucG9pbnRlclRvKSkge1xuICAgICAgICByZXR1cm4gV2FzbVR5cGUuSTY0O1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBXYXNtVHlwZS5JMzI7XG4gICAgfVxufVxuXG5mdW5jdGlvbiB0eXBlVG9EYXRhVHlwZSh0eXBlOiBUeXBlLCBiaXRuZXNzPzogQml0bmVzcyk6IHN0cmluZyB7XG4gICAgaWYgKHR5cGUuaXNGbG9hdCgpKSB7XG4gICAgICAgIHJldHVybiBcIkYzMlwiO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlLmlzRG91YmxlKCkpIHtcbiAgICAgICAgcmV0dXJuIFwiRjY0XCI7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUuaXNJbnRlZ2VyKCkgfHwgKGJpdG5lc3MgPT0gQml0bmVzcy54MzIgJiYgdHlwZS5wb2ludGVyVG8pKSB7XG4gICAgICAgIHJldHVybiBcIkkzMlwiO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlLmlzTG9uZygpIHx8IChiaXRuZXNzID09IEJpdG5lc3MueDY0ICYmIHR5cGUucG9pbnRlclRvKSkge1xuICAgICAgICByZXR1cm4gXCJJNjRcIjtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBcIkkzMlwiO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZ2V0VHlwZWRBcnJheUVsZW1lbnRTaXplKG5hbWU6IHN0cmluZyk6IGludDMyIHtcbiAgICBzd2l0Y2ggKG5hbWUpIHtcbiAgICAgICAgY2FzZSBcIlVpbnQ4Q2xhbXBlZEFycmF5XCI6XG4gICAgICAgIGNhc2UgXCJVaW50OEFycmF5XCI6XG4gICAgICAgIGNhc2UgXCJJbnQ4QXJyYXlcIjpcbiAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICBjYXNlIFwiVWludDE2QXJyYXlcIjpcbiAgICAgICAgY2FzZSBcIkludDE2QXJyYXlcIjpcbiAgICAgICAgICAgIHJldHVybiAyO1xuICAgICAgICBjYXNlIFwiVWludDMyQXJyYXlcIjpcbiAgICAgICAgY2FzZSBcIkludDMyQXJyYXlcIjpcbiAgICAgICAgY2FzZSBcIkZsb2F0MzJBcnJheVwiOlxuICAgICAgICAgICAgcmV0dXJuIDQ7XG4gICAgICAgIGNhc2UgXCJGbG9hdDY0QXJyYXlcIjpcbiAgICAgICAgICAgIHJldHVybiA4O1xuICAgICAgICBkZWZhdWx0IDpcbiAgICAgICAgICAgIHRocm93IFwidW5rbm93biB0eXBlZCBhcnJheVwiO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gd2FzbUFzc2lnbkxvY2FsVmFyaWFibGVPZmZzZXRzKGZuOiBXYXNtRnVuY3Rpb24sIG5vZGU6IE5vZGUsIHNoYXJlZDogV2FzbVNoYXJlZE9mZnNldCwgYml0bmVzczogQml0bmVzcyk6IHZvaWQge1xuICAgIGlmIChub2RlLmtpbmQgPT0gTm9kZUtpbmQuVkFSSUFCTEUpIHtcbiAgICAgICAgYXNzZXJ0KG5vZGUuc3ltYm9sLmtpbmQgPT0gU3ltYm9sS2luZC5WQVJJQUJMRV9MT0NBTCk7XG4gICAgICAgIG5vZGUuc3ltYm9sLm9mZnNldCA9IHNoYXJlZC5uZXh0TG9jYWxPZmZzZXQ7XG4gICAgICAgIHNoYXJlZC5uZXh0TG9jYWxPZmZzZXQgPSBzaGFyZWQubmV4dExvY2FsT2Zmc2V0ICsgMTtcbiAgICAgICAgc2hhcmVkLmxvY2FsQ291bnQgPSBzaGFyZWQubG9jYWxDb3VudCArIDE7XG5cbiAgICAgICAgbGV0IGxvY2FsID0gbmV3IFdhc21Mb2NhbCgpO1xuICAgICAgICBsb2NhbC5zeW1ib2wgPSBub2RlLnN5bWJvbDtcbiAgICAgICAgbG9jYWwudHlwZSA9IHN5bWJvbFRvVmFsdWVUeXBlKGxvY2FsLnN5bWJvbCwgYml0bmVzcyk7XG4gICAgICAgIGlmIChmbi5maXJzdExvY2FsID09IG51bGwpIGZuLmZpcnN0TG9jYWwgPSBsb2NhbDtcbiAgICAgICAgZWxzZSBmbi5sYXN0TG9jYWwubmV4dCA9IGxvY2FsO1xuICAgICAgICBmbi5sYXN0TG9jYWwgPSBsb2NhbDtcbiAgICAgICAgZm4ubG9jYWxFbnRyaWVzLnB1c2gobmV3IFdhc21Mb2NhbEVudHJ5KGxvY2FsLnR5cGUsIGxvY2FsLnN5bWJvbC5uYW1lKSk7XG4gICAgfVxuXG4gICAgbGV0IGNoaWxkID0gbm9kZS5maXJzdENoaWxkO1xuICAgIHdoaWxlIChjaGlsZCAhPSBudWxsKSB7XG4gICAgICAgIHdhc21Bc3NpZ25Mb2NhbFZhcmlhYmxlT2Zmc2V0cyhmbiwgY2hpbGQsIHNoYXJlZCwgYml0bmVzcyk7XG4gICAgICAgIGNoaWxkID0gY2hpbGQubmV4dFNpYmxpbmc7XG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gd2FzbUVtaXQoY29tcGlsZXI6IENvbXBpbGVyLCBiaXRuZXNzOiBCaXRuZXNzID0gQml0bmVzcy54MzIpOiB2b2lkIHtcbiAgICBsZXQgbW9kdWxlID0gbmV3IFdhc21Nb2R1bGUoYml0bmVzcyk7XG4gICAgbW9kdWxlLmNvbnRleHQgPSBjb21waWxlci5jb250ZXh0O1xuICAgIG1vZHVsZS5tZW1vcnlJbml0aWFsaXplciA9IG5ldyBCeXRlQXJyYXkoKTtcblxuICAgIC8vIFNldCB0aGVzZSB0byBpbnZhbGlkIHZhbHVlcyBzaW5jZSBcIjBcIiBpcyB2YWxpZFxuICAgIG1vZHVsZS5zdGFydEZ1bmN0aW9uSW5kZXggPSAtMTtcbiAgICBtb2R1bGUubWFsbG9jRnVuY3Rpb25JbmRleCA9IC0xO1xuICAgIG1vZHVsZS5mcmVlRnVuY3Rpb25JbmRleCA9IC0xO1xuICAgIG1vZHVsZS5jdXJyZW50SGVhcFBvaW50ZXIgPSAtMTtcbiAgICBtb2R1bGUub3JpZ2luYWxIZWFwUG9pbnRlciA9IC0xO1xuXG4gICAgLy8gRW1pc3Npb24gcmVxdWlyZXMgdHdvIHBhc3Nlc1xuICAgIG1vZHVsZS5wcmVwYXJlVG9FbWl0KGNvbXBpbGVyLmdsb2JhbCk7XG4gICAgbW9kdWxlLmFzc2VtYmxlci5zZWFsRnVuY3Rpb25zKCk7XG5cbiAgICAvLyBUaGUgc3RhbmRhcmQgbGlicmFyeSBtdXN0IGJlIGluY2x1ZGVkXG4gICAgLy8gYXNzZXJ0KG1vZHVsZS5tYWxsb2NGdW5jdGlvbkluZGV4ICE9IC0xKTtcbiAgICAvLyBhc3NlcnQobW9kdWxlLmZyZWVGdW5jdGlvbkluZGV4ICE9IC0xKTtcbiAgICAvLyBhc3NlcnQobW9kdWxlLmN1cnJlbnRIZWFwUG9pbnRlciAhPSAtMSk7XG4gICAgLy8gYXNzZXJ0KG1vZHVsZS5vcmlnaW5hbEhlYXBQb2ludGVyICE9IC0xKTtcblxuICAgIC8vIG1vZHVsZS5tYWxsb2NGdW5jdGlvbkluZGV4ICs9IG1vZHVsZS5pbXBvcnRDb3VudDtcbiAgICAvLyBtb2R1bGUuZnJlZUZ1bmN0aW9uSW5kZXggKz0gbW9kdWxlLmltcG9ydENvdW50O1xuXG4gICAgY29tcGlsZXIub3V0cHV0V0FTTSA9IG5ldyBCeXRlQXJyYXkoKTtcbiAgICBtb2R1bGUuZW1pdE1vZHVsZShjb21waWxlci5vdXRwdXRXQVNNKTtcbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9iYWNrZW5kcy93ZWJhc3NlbWJseS93ZWJhc3NlbWJseS50cyIsImltcG9ydCB7XG4gICAgaXNGdW5jdGlvbixcbiAgICBpc1ZhcmlhYmxlLFxuICAgIFN5bWJvbCxcbiAgICBTWU1CT0xfRkxBR19DT05WRVJUX0lOU1RBTkNFX1RPX0dMT0JBTCxcbiAgICBTWU1CT0xfRkxBR19JU19CSU5BUllfT1BFUkFUT1IsXG4gICAgU1lNQk9MX0ZMQUdfSVNfR0VORVJJQyxcbiAgICBTWU1CT0xfRkxBR19JU19SRUZFUkVOQ0UsXG4gICAgU1lNQk9MX0ZMQUdfSVNfVEVNUExBVEUsXG4gICAgU1lNQk9MX0ZMQUdfSVNfVU5BUllfT1BFUkFUT1IsXG4gICAgU1lNQk9MX0ZMQUdfSVNfVU5TSUdORUQsXG4gICAgU1lNQk9MX0ZMQUdfTkFUSVZFX0RPVUJMRSxcbiAgICBTWU1CT0xfRkxBR19OQVRJVkVfRkxPQVQsXG4gICAgU1lNQk9MX0ZMQUdfTkFUSVZFX0lOVEVHRVIsXG4gICAgU1lNQk9MX0ZMQUdfTkFUSVZFX0xPTkcsXG4gICAgU1lNQk9MX0ZMQUdfVVNFRCxcbiAgICBTeW1ib2xLaW5kLFxuICAgIFN5bWJvbFN0YXRlXG59IGZyb20gXCIuLi9jb3JlL3N5bWJvbFwiO1xuaW1wb3J0IHtDb252ZXJzaW9uS2luZCwgVHlwZX0gZnJvbSBcIi4uL2NvcmUvdHlwZVwiO1xuaW1wb3J0IHtcbiAgICBjcmVhdGVib29sZWFuLFxuICAgIGNyZWF0ZUNhbGwsXG4gICAgY3JlYXRlRG91YmxlLFxuICAgIGNyZWF0ZUZsb2F0LFxuICAgIGNyZWF0ZUludCxcbiAgICBjcmVhdGVMb25nLFxuICAgIGNyZWF0ZU1lbWJlclJlZmVyZW5jZSxcbiAgICBjcmVhdGVOYW1lLFxuICAgIGNyZWF0ZU51bGwsXG4gICAgY3JlYXRlUmV0dXJuLFxuICAgIGNyZWF0ZVN5bWJvbFJlZmVyZW5jZSxcbiAgICBjcmVhdGVUeXBlLFxuICAgIGNyZWF0ZVZhcmlhYmxlLFxuICAgIGNyZWF0ZVZhcmlhYmxlcyxcbiAgICBpc0JpbmFyeSxcbiAgICBpc0V4cHJlc3Npb24sXG4gICAgaXNVbmFyeSxcbiAgICBOb2RlLFxuICAgIE5PREVfRkxBR19ERUNMQVJFLFxuICAgIE5PREVfRkxBR19FWFBPUlQsXG4gICAgTk9ERV9GTEFHX0dFTkVSSUMsXG4gICAgTk9ERV9GTEFHX0dFVCxcbiAgICBOT0RFX0ZMQUdfTElCUkFSWSxcbiAgICBOT0RFX0ZMQUdfUFJJVkFURSxcbiAgICBOT0RFX0ZMQUdfUFJPVEVDVEVELFxuICAgIE5PREVfRkxBR19QVUJMSUMsXG4gICAgTk9ERV9GTEFHX1NFVCxcbiAgICBOT0RFX0ZMQUdfVU5TSUdORURfT1BFUkFUT1IsXG4gICAgTm9kZUtpbmQsXG4gICAgcmFuZ2VGb3JGbGFnXG59IGZyb20gXCIuLi9jb3JlL25vZGVcIjtcbmltcG9ydCB7Q29tcGlsZVRhcmdldH0gZnJvbSBcIi4uL2NvbXBpbGUtdGFyZ2V0XCI7XG5pbXBvcnQge0xvZywgU291cmNlUmFuZ2UsIHNwYW5SYW5nZXN9IGZyb20gXCIuLi8uLi91dGlscy9sb2dcIjtcbmltcG9ydCB7RmluZE5lc3RlZCwgU2NvcGUsIFNjb3BlSGludH0gZnJvbSBcIi4uL2NvcmUvc2NvcGVcIjtcbmltcG9ydCB7U3RyaW5nQnVpbGRlcl9uZXd9IGZyb20gXCIuLi8uLi91dGlscy9zdHJpbmdidWlsZGVyXCI7XG5pbXBvcnQge2FsaWduVG9OZXh0TXVsdGlwbGVPZiwgaXNQb3NpdGl2ZVBvd2VyT2YyfSBmcm9tIFwiLi4vLi4vdXRpbHMvdXRpbHNcIjtcbmltcG9ydCB7TUFYX0lOVDMyX1ZBTFVFLCBNQVhfVUlOVDMyX1ZBTFVFLCBNSU5fSU5UMzJfVkFMVUV9IGZyb20gXCIuLi9jb25zdFwiO1xuaW1wb3J0IHthc3NlcnR9IGZyb20gXCIuLi8uLi91dGlscy9hc3NlcnRcIjtcbmltcG9ydCB7Q29tcGlsZXJ9IGZyb20gXCIuLi9jb21waWxlclwiO1xuaW1wb3J0IHtUZXJtaW5hbH0gZnJvbSBcIi4uLy4uL3V0aWxzL3Rlcm1pbmFsXCI7XG4vKipcbiAqIEF1dGhvciA6IE5pZGluIFZpbmF5YWthblxuICovXG5cbmV4cG9ydCBjbGFzcyBDaGVja0NvbnRleHQge1xuICAgIGxvZzogTG9nO1xuICAgIHRhcmdldDogQ29tcGlsZVRhcmdldDtcbiAgICBwb2ludGVyQnl0ZVNpemU6IGludDMyO1xuICAgIGlzVW5zYWZlQWxsb3dlZDogYm9vbGVhbjtcbiAgICBlbmNsb3NpbmdNb2R1bGU6IFN5bWJvbDtcbiAgICBlbmNsb3NpbmdDbGFzczogU3ltYm9sO1xuICAgIGN1cnJlbnRSZXR1cm5UeXBlOiBUeXBlO1xuICAgIG5leHRHbG9iYWxWYXJpYWJsZU9mZnNldDogaW50MzI7XG5cbiAgICAvL0ZvcmVpZ24gdHlwZVxuICAgIGFueVR5cGU6IFR5cGU7XG5cbiAgICAvLyBOYXRpdmUgdHlwZXNcbiAgICBib29sZWFuVHlwZTogVHlwZTtcbiAgICBpbnQ4VHlwZTogVHlwZTtcbiAgICBlcnJvclR5cGU6IFR5cGU7XG4gICAgaW50MzJUeXBlOiBUeXBlO1xuICAgIGludDY0VHlwZTogVHlwZTtcbiAgICBmbG9hdDMyVHlwZTogVHlwZTtcbiAgICBmbG9hdDY0VHlwZTogVHlwZTtcbiAgICBudWxsVHlwZTogVHlwZTtcbiAgICB1bmRlZmluZWRUeXBlOiBUeXBlO1xuICAgIGludDE2VHlwZTogVHlwZTtcbiAgICBzdHJpbmdUeXBlOiBUeXBlO1xuICAgIHVpbnQ4VHlwZTogVHlwZTtcbiAgICB1aW50MzJUeXBlOiBUeXBlO1xuICAgIHVpbnQ2NFR5cGU6IFR5cGU7XG4gICAgdWludDE2VHlwZTogVHlwZTtcbiAgICB2b2lkVHlwZTogVHlwZTtcblxuICAgIGFsbG9jYXRlR2xvYmFsVmFyaWFibGVPZmZzZXQoc2l6ZU9mOiBpbnQzMiwgYWxpZ25tZW50T2Y6IGludDMyKTogaW50MzIge1xuICAgICAgICBsZXQgb2Zmc2V0ID0gYWxpZ25Ub05leHRNdWx0aXBsZU9mKHRoaXMubmV4dEdsb2JhbFZhcmlhYmxlT2Zmc2V0LCBhbGlnbm1lbnRPZik7XG4gICAgICAgIHRoaXMubmV4dEdsb2JhbFZhcmlhYmxlT2Zmc2V0ID0gb2Zmc2V0ICsgc2l6ZU9mO1xuICAgICAgICByZXR1cm4gb2Zmc2V0O1xuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZFNjb3BlVG9TeW1ib2woc3ltYm9sOiBTeW1ib2wsIHBhcmVudFNjb3BlOiBTY29wZSk6IHZvaWQge1xuICAgIGxldCBzY29wZSA9IG5ldyBTY29wZSgpO1xuICAgIHNjb3BlLnBhcmVudCA9IHBhcmVudFNjb3BlO1xuICAgIHNjb3BlLnN5bWJvbCA9IHN5bWJvbDtcbiAgICBzeW1ib2wuc2NvcGUgPSBzY29wZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxpbmtTeW1ib2xUb05vZGUoc3ltYm9sOiBTeW1ib2wsIG5vZGU6IE5vZGUpOiB2b2lkIHtcbiAgICBub2RlLnN5bWJvbCA9IHN5bWJvbDtcbiAgICBub2RlLnNjb3BlID0gc3ltYm9sLnNjb3BlO1xuICAgIHN5bWJvbC5yYW5nZSA9IG5vZGUuaW50ZXJuYWxSYW5nZSAhPSBudWxsID8gbm9kZS5pbnRlcm5hbFJhbmdlIDogbm9kZS5yYW5nZTtcbiAgICBzeW1ib2wubm9kZSA9IG5vZGU7XG59XG5cbmV4cG9ydCBlbnVtIENoZWNrTW9kZSB7XG4gICAgTk9STUFMLFxuICAgIElOSVRJQUxJWkUsXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpbml0aWFsaXplKGNvbnRleHQ6IENoZWNrQ29udGV4dCwgbm9kZTogTm9kZSwgcGFyZW50U2NvcGU6IFNjb3BlLCBtb2RlOiBDaGVja01vZGUpOiB2b2lkIHtcbiAgICBsZXQga2luZCA9IG5vZGUua2luZDtcblxuICAgIGlmIChub2RlLnBhcmVudCAhPSBudWxsKSB7XG4gICAgICAgIGxldCBwYXJlbnRLaW5kID0gbm9kZS5wYXJlbnQua2luZDtcblxuICAgICAgICAvLyBWYWxpZGF0ZSBub2RlIHBsYWNlbWVudFxuICAgICAgICBpZiAoa2luZCAhPSBOb2RlS2luZC5JTVBPUlRTICYmXG4gICAgICAgICAgICBraW5kICE9IE5vZGVLaW5kLlZBUklBQkxFICYmXG4gICAgICAgICAgICBraW5kICE9IE5vZGVLaW5kLlZBUklBQkxFUyAmJlxuICAgICAgICAgICAgKGtpbmQgIT0gTm9kZUtpbmQuRlVOQ1RJT04gfHwgcGFyZW50S2luZCAhPSBOb2RlS2luZC5DTEFTUykgJiZcbiAgICAgICAgICAgIChwYXJlbnRLaW5kID09IE5vZGVLaW5kLkZJTEUgfHwgcGFyZW50S2luZCA9PSBOb2RlS2luZC5HTE9CQUwpICE9IChcbiAgICAgICAgICAgICAgICBwYXJlbnRLaW5kID09IE5vZGVLaW5kLk1PRFVMRSB8fFxuICAgICAgICAgICAgICAgIGtpbmQgPT0gTm9kZUtpbmQuTU9EVUxFIHx8XG4gICAgICAgICAgICAgICAga2luZCA9PSBOb2RlS2luZC5DTEFTUyB8fFxuICAgICAgICAgICAgICAgIGtpbmQgPT0gTm9kZUtpbmQuRU5VTSB8fFxuICAgICAgICAgICAgICAgIGtpbmQgPT0gTm9kZUtpbmQuRlVOQ1RJT04gfHxcbiAgICAgICAgICAgICAgICBraW5kID09IE5vZGVLaW5kLkNPTlNUQU5UU1xuICAgICAgICAgICAgKVxuICAgICAgICApIHtcbiAgICAgICAgICAgIGNvbnRleHQubG9nLmVycm9yKG5vZGUucmFuZ2UsIFwiVGhpcyBzdGF0ZW1lbnQgaXMgbm90IGFsbG93ZWQgaGVyZVwiKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIE1vZHVsZVxuICAgIGlmIChraW5kID09IE5vZGVLaW5kLk1PRFVMRSkge1xuICAgICAgICBhc3NlcnQobm9kZS5zeW1ib2wgPT0gbnVsbCk7XG4gICAgICAgIGxldCBzeW1ib2wgPSBuZXcgU3ltYm9sKCk7XG4gICAgICAgIHN5bWJvbC5raW5kID0gU3ltYm9sS2luZC5UWVBFX01PRFVMRTtcbiAgICAgICAgc3ltYm9sLm5hbWUgPSBub2RlLnN0cmluZ1ZhbHVlO1xuICAgICAgICBzeW1ib2wucmVzb2x2ZWRUeXBlID0gbmV3IFR5cGUoKTtcbiAgICAgICAgc3ltYm9sLnJlc29sdmVkVHlwZS5zeW1ib2wgPSBzeW1ib2w7XG4gICAgICAgIHN5bWJvbC5mbGFncyA9IFNZTUJPTF9GTEFHX0lTX1JFRkVSRU5DRTtcbiAgICAgICAgYWRkU2NvcGVUb1N5bWJvbChzeW1ib2wsIHBhcmVudFNjb3BlKTtcbiAgICAgICAgbGlua1N5bWJvbFRvTm9kZShzeW1ib2wsIG5vZGUpO1xuICAgICAgICBwYXJlbnRTY29wZS5kZWZpbmUoY29udGV4dC5sb2csIHN5bWJvbCwgU2NvcGVIaW50Lk5PUk1BTCk7XG4gICAgICAgIHBhcmVudFNjb3BlID0gc3ltYm9sLnNjb3BlO1xuICAgIH1cblxuICAgIC8vIENsYXNzXG4gICAgaWYgKGtpbmQgPT0gTm9kZUtpbmQuQ0xBU1MgfHwga2luZCA9PSBOb2RlS2luZC5FTlVNKSB7XG4gICAgICAgIGFzc2VydChub2RlLnN5bWJvbCA9PSBudWxsKTtcblxuICAgICAgICBsZXQgc3ltYm9sID0gbmV3IFN5bWJvbCgpO1xuICAgICAgICBzeW1ib2wua2luZCA9IGtpbmQgPT0gTm9kZUtpbmQuQ0xBU1MgPyBTeW1ib2xLaW5kLlRZUEVfQ0xBU1MgOiBTeW1ib2xLaW5kLlRZUEVfRU5VTTtcbiAgICAgICAgc3ltYm9sLm5hbWUgPSBub2RlLnN0cmluZ1ZhbHVlO1xuXG4gICAgICAgIHN5bWJvbC5yZXNvbHZlZFR5cGUgPSBuZXcgVHlwZSgpO1xuICAgICAgICBzeW1ib2wucmVzb2x2ZWRUeXBlLnN5bWJvbCA9IHN5bWJvbDtcbiAgICAgICAgc3ltYm9sLmZsYWdzID0gU1lNQk9MX0ZMQUdfSVNfUkVGRVJFTkNFO1xuICAgICAgICBhZGRTY29wZVRvU3ltYm9sKHN5bWJvbCwgcGFyZW50U2NvcGUpO1xuICAgICAgICBsaW5rU3ltYm9sVG9Ob2RlKHN5bWJvbCwgbm9kZSk7XG4gICAgICAgIHBhcmVudFNjb3BlLmRlZmluZShjb250ZXh0LmxvZywgc3ltYm9sLCBTY29wZUhpbnQuTk9STUFMKTtcbiAgICAgICAgcGFyZW50U2NvcGUgPSBzeW1ib2wuc2NvcGU7XG5cbiAgICAgICAgaWYgKG5vZGUucGFyYW1ldGVyQ291bnQoKSA+IDApIHtcbiAgICAgICAgICAgIC8vQ2xhc3MgaGFzIGdlbmVyaWMgcGFyYW1ldGVycy4gY29udmVydCBpdCB0byBjbGFzcyB0ZW1wbGF0ZVxuICAgICAgICAgICAgc3ltYm9sLmtpbmQgPSBTeW1ib2xLaW5kLlRZUEVfVEVNUExBVEU7XG4gICAgICAgICAgICBzeW1ib2wuZmxhZ3MgfD0gU1lNQk9MX0ZMQUdfSVNfVEVNUExBVEU7XG4gICAgICAgICAgICAvL1RPRE86IExpZnQgZ2VuZXJpYyBwYXJhbWV0ZXIgbGltaXQgZnJvbSAxIHRvIG1hbnlcbiAgICAgICAgICAgIGxldCBnZW5lcmljVHlwZSA9IG5vZGUuZmlyc3RHZW5lcmljVHlwZSgpO1xuICAgICAgICAgICAgbGV0IGdlbmVyaWNTeW1ib2wgPSBuZXcgU3ltYm9sKCk7XG4gICAgICAgICAgICBnZW5lcmljU3ltYm9sLmtpbmQgPSBTeW1ib2xLaW5kLlRZUEVfR0VORVJJQztcbiAgICAgICAgICAgIGdlbmVyaWNTeW1ib2wubmFtZSA9IGdlbmVyaWNUeXBlLnN0cmluZ1ZhbHVlO1xuICAgICAgICAgICAgZ2VuZXJpY1N5bWJvbC5yZXNvbHZlZFR5cGUgPSBuZXcgVHlwZSgpO1xuICAgICAgICAgICAgZ2VuZXJpY1N5bWJvbC5yZXNvbHZlZFR5cGUuc3ltYm9sID0gZ2VuZXJpY1N5bWJvbDtcbiAgICAgICAgICAgIGdlbmVyaWNTeW1ib2wuZmxhZ3MgPSBTWU1CT0xfRkxBR19JU19HRU5FUklDO1xuICAgICAgICAgICAgZ2VuZXJpY1R5cGUuZmxhZ3MgPSBOT0RFX0ZMQUdfR0VORVJJQztcbiAgICAgICAgICAgIGFkZFNjb3BlVG9TeW1ib2woZ2VuZXJpY1N5bWJvbCwgcGFyZW50U2NvcGUpO1xuICAgICAgICAgICAgbGlua1N5bWJvbFRvTm9kZShnZW5lcmljU3ltYm9sLCBnZW5lcmljVHlwZSk7XG4gICAgICAgICAgICBwYXJlbnRTY29wZS5kZWZpbmUoY29udGV4dC5sb2csIGdlbmVyaWNTeW1ib2wsIFNjb3BlSGludC5OT1JNQUwpO1xuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICAvLyBGdW5jdGlvblxuICAgIGVsc2UgaWYgKGtpbmQgPT0gTm9kZUtpbmQuRlVOQ1RJT04pIHtcbiAgICAgICAgYXNzZXJ0KG5vZGUuc3ltYm9sID09IG51bGwpO1xuICAgICAgICBsZXQgc3ltYm9sID0gbmV3IFN5bWJvbCgpO1xuICAgICAgICBzeW1ib2wua2luZCA9XG4gICAgICAgICAgICBub2RlLnBhcmVudC5raW5kID09IE5vZGVLaW5kLkNMQVNTID8gU3ltYm9sS2luZC5GVU5DVElPTl9JTlNUQU5DRSA6XG4gICAgICAgICAgICAgICAgU3ltYm9sS2luZC5GVU5DVElPTl9HTE9CQUw7XG4gICAgICAgIHN5bWJvbC5uYW1lID0gbm9kZS5zdHJpbmdWYWx1ZTtcbiAgICAgICAgaWYgKG5vZGUuaXNPcGVyYXRvcigpKSB7XG4gICAgICAgICAgICBpZiAoc3ltYm9sLm5hbWUgPT0gXCIrXCIgfHwgc3ltYm9sLm5hbWUgPT0gXCItXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAobm9kZS5mdW5jdGlvbkZpcnN0QXJndW1lbnQoKSA9PSBub2RlLmZ1bmN0aW9uUmV0dXJuVHlwZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHN5bWJvbC5mbGFncyA9IFNZTUJPTF9GTEFHX0lTX1VOQVJZX09QRVJBVE9SO1xuICAgICAgICAgICAgICAgICAgICBzeW1ib2wucmVuYW1lID0gc3ltYm9sLm5hbWUgPT0gXCIrXCIgPyBcIm9wX3Bvc2l0aXZlXCIgOiBcIm9wX25lZ2F0aXZlXCI7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc3ltYm9sLmZsYWdzID0gU1lNQk9MX0ZMQUdfSVNfQklOQVJZX09QRVJBVE9SO1xuICAgICAgICAgICAgICAgICAgICBzeW1ib2wucmVuYW1lID0gc3ltYm9sLm5hbWUgPT0gXCIrXCIgPyBcIm9wX2FkZFwiIDogXCJvcF9zdWJ0cmFjdFwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc3ltYm9sLnJlbmFtZSA9XG4gICAgICAgICAgICAgICAgICAgIHN5bWJvbC5uYW1lID09IFwiJVwiID8gXCJvcF9yZW1haW5kZXJcIiA6XG4gICAgICAgICAgICAgICAgICAgICAgICBzeW1ib2wubmFtZSA9PSBcIiZcIiA/IFwib3BfYW5kXCIgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN5bWJvbC5uYW1lID09IFwiKlwiID8gXCJvcF9tdWx0aXBseVwiIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ltYm9sLm5hbWUgPT0gXCIqKlwiID8gXCJvcF9leHBvbmVudFwiIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN5bWJvbC5uYW1lID09IFwiKytcIiA/IFwib3BfaW5jcmVtZW50XCIgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN5bWJvbC5uYW1lID09IFwiLS1cIiA/IFwib3BfZGVjcmVtZW50XCIgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzeW1ib2wubmFtZSA9PSBcIi9cIiA/IFwib3BfZGl2aWRlXCIgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ltYm9sLm5hbWUgPT0gXCI8XCIgPyBcIm9wX2xlc3NUaGFuXCIgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN5bWJvbC5uYW1lID09IFwiPDxcIiA/IFwib3Bfc2hpZnRMZWZ0XCIgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzeW1ib2wubmFtZSA9PSBcIj09XCIgPyBcIm9wX2VxdWFsc1wiIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN5bWJvbC5uYW1lID09IFwiPlwiID8gXCJvcF9ncmVhdGVyVGhhblwiIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzeW1ib2wubmFtZSA9PSBcIj4+XCIgPyBcIm9wX3NoaWZ0UmlnaHRcIiA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN5bWJvbC5uYW1lID09IFwiW11cIiA/IFwib3BfZ2V0XCIgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ltYm9sLm5hbWUgPT0gXCJbXT1cIiA/IFwib3Bfc2V0XCIgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN5bWJvbC5uYW1lID09IFwiXlwiID8gXCJvcF94b3JcIiA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN5bWJvbC5uYW1lID09IFwifFwiID8gXCJvcF9vclwiIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN5bWJvbC5uYW1lID09IFwiflwiID8gXCJvcF9jb21wbGVtZW50XCIgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc3ltYm9sLm5hbWUgPT0gXCJjb25zdHJ1Y3RvclwiKSB7XG4gICAgICAgICAgICBzeW1ib2wucmVuYW1lID0gXCJfY3RyXCI7XG4gICAgICAgIH1cblxuICAgICAgICBhZGRTY29wZVRvU3ltYm9sKHN5bWJvbCwgcGFyZW50U2NvcGUpO1xuICAgICAgICBsaW5rU3ltYm9sVG9Ob2RlKHN5bWJvbCwgbm9kZSk7XG5cbiAgICAgICAgcGFyZW50U2NvcGUuZGVmaW5lKGNvbnRleHQubG9nLCBzeW1ib2wsXG4gICAgICAgICAgICBzeW1ib2wuaXNTZXR0ZXIoKSA/IFNjb3BlSGludC5OT1RfR0VUVEVSIDpcbiAgICAgICAgICAgICAgICBzeW1ib2wuaXNHZXR0ZXIoKSA/IFNjb3BlSGludC5OT1RfU0VUVEVSIDpcbiAgICAgICAgICAgICAgICAgICAgc3ltYm9sLmlzQmluYXJ5T3BlcmF0b3IoKSA/IFNjb3BlSGludC5OT1RfVU5BUlkgOlxuICAgICAgICAgICAgICAgICAgICAgICAgc3ltYm9sLmlzVW5hcnlPcGVyYXRvcigpID8gU2NvcGVIaW50Lk5PVF9CSU5BUlkgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNjb3BlSGludC5OT1JNQUwpO1xuXG4gICAgICAgIHBhcmVudFNjb3BlID0gc3ltYm9sLnNjb3BlO1xuXG4gICAgICAgIC8vIEFsbCBpbnN0YW5jZSBmdW5jdGlvbnMgaGF2ZSBhIHNwZWNpYWwgXCJ0aGlzXCIgdHlwZVxuICAgICAgICBpZiAoc3ltYm9sLmtpbmQgPT0gU3ltYm9sS2luZC5GVU5DVElPTl9JTlNUQU5DRSkge1xuICAgICAgICAgICAgbGV0IHBhcmVudCA9IHN5bWJvbC5wYXJlbnQoKTtcbiAgICAgICAgICAgIGluaXRpYWxpemVTeW1ib2woY29udGV4dCwgcGFyZW50KTtcblxuICAgICAgICAgICAgaWYgKHN5bWJvbC5uYW1lID09IFwiY29uc3RydWN0b3JcIikge1xuICAgICAgICAgICAgICAgIGxldCBib2R5ID0gbm9kZS5mdW5jdGlvbkJvZHkoKTtcbiAgICAgICAgICAgICAgICBpZiAoYm9keSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgdmFyaWFibGVzTm9kZSA9IGJvZHkuZmlyc3RDaGlsZDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhcmlhYmxlc05vZGUua2luZCAhPT0gTm9kZUtpbmQuVkFSSUFCTEVTKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgX3ZhcmlhYmxlc05vZGUgPSBjcmVhdGVWYXJpYWJsZXMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvZHkuaW5zZXJ0Q2hpbGRCZWZvcmUodmFyaWFibGVzTm9kZSwgX3ZhcmlhYmxlc05vZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFibGVzTm9kZSA9IF92YXJpYWJsZXNOb2RlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGxldCBmaXJzdFZhcmlhYmxlID0gdmFyaWFibGVzTm9kZS5maXJzdENoaWxkO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZmlyc3RWYXJpYWJsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZmlyc3RWYXJpYWJsZS5zdHJpbmdWYWx1ZSAhPT0gXCJ0aGlzXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJpYWJsZXNOb2RlLmluc2VydENoaWxkQmVmb3JlKGZpcnN0VmFyaWFibGUsIGNyZWF0ZVZhcmlhYmxlKFwidGhpc1wiLCBjcmVhdGVUeXBlKHBhcmVudC5yZXNvbHZlZFR5cGUpLCBudWxsKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGZpcnN0VmFyaWFibGUuc3RyaW5nVmFsdWUgPT09IFwidGhpc1wiICYmIGZpcnN0VmFyaWFibGUuZmlyc3RDaGlsZC5yZXNvbHZlZFR5cGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpcnN0VmFyaWFibGUuZmlyc3RDaGlsZC5yZXNvbHZlZFR5cGUgPSBwYXJlbnQucmVzb2x2ZWRUeXBlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFibGVzTm9kZS5hcHBlbmRDaGlsZChjcmVhdGVWYXJpYWJsZShcInRoaXNcIiwgY3JlYXRlVHlwZShwYXJlbnQucmVzb2x2ZWRUeXBlKSwgbnVsbCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gQWxsIGNvbnN0cnVjdG9ycyBoYXZlIHNwZWNpYWwgcmV0dXJuIFwidGhpc1wiIHR5cGVcbiAgICAgICAgICAgICAgICAgICAgbGV0IHJldHVybk5vZGU6IE5vZGUgPSBjcmVhdGVSZXR1cm4oY3JlYXRlTmFtZShcInRoaXNcIikpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobm9kZS5sYXN0Q2hpbGQubGFzdENoaWxkICYmIG5vZGUubGFzdENoaWxkLmxhc3RDaGlsZC5raW5kID09IE5vZGVLaW5kLlJFVFVSTikge1xuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5sYXN0Q2hpbGQubGFzdENoaWxkLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG5vZGUubGFzdENoaWxkLmFwcGVuZENoaWxkKHJldHVybk5vZGUpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBsZXQgZmlyc3RBcmd1bWVudCA9IG5vZGUuZnVuY3Rpb25GaXJzdEFyZ3VtZW50KCk7XG4gICAgICAgICAgICAgICAgaWYgKGZpcnN0QXJndW1lbnQuc3RyaW5nVmFsdWUgIT09IFwidGhpc1wiKSB7XG4gICAgICAgICAgICAgICAgICAgIG5vZGUuaW5zZXJ0Q2hpbGRCZWZvcmUoZmlyc3RBcmd1bWVudCwgY3JlYXRlVmFyaWFibGUoXCJ0aGlzXCIsIGNyZWF0ZVR5cGUocGFyZW50LnJlc29sdmVkVHlwZSksIG51bGwpKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGZpcnN0QXJndW1lbnQuc3RyaW5nVmFsdWUgPT09IFwidGhpc1wiICYmIGZpcnN0QXJndW1lbnQuZmlyc3RDaGlsZC5yZXNvbHZlZFR5cGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBmaXJzdEFyZ3VtZW50LmZpcnN0Q2hpbGQucmVzb2x2ZWRUeXBlID0gcGFyZW50LnJlc29sdmVkVHlwZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBWYXJpYWJsZVxuICAgIGVsc2UgaWYgKGtpbmQgPT0gTm9kZUtpbmQuVkFSSUFCTEUpIHtcbiAgICAgICAgYXNzZXJ0KG5vZGUuc3ltYm9sID09IG51bGwpO1xuICAgICAgICBsZXQgc3ltYm9sID0gbmV3IFN5bWJvbCgpO1xuICAgICAgICBzeW1ib2wua2luZCA9XG4gICAgICAgICAgICBub2RlLnBhcmVudC5raW5kID09IE5vZGVLaW5kLkNMQVNTID8gU3ltYm9sS2luZC5WQVJJQUJMRV9JTlNUQU5DRSA6XG4gICAgICAgICAgICAgICAgbm9kZS5wYXJlbnQua2luZCA9PSBOb2RlS2luZC5GVU5DVElPTiA/IFN5bWJvbEtpbmQuVkFSSUFCTEVfQVJHVU1FTlQgOlxuICAgICAgICAgICAgICAgICAgICBub2RlLnBhcmVudC5raW5kID09IE5vZGVLaW5kLkNPTlNUQU5UUyB8fCBub2RlLnBhcmVudC5raW5kID09IE5vZGVLaW5kLkVOVU0gPyBTeW1ib2xLaW5kLlZBUklBQkxFX0NPTlNUQU5UIDpcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUucGFyZW50LmtpbmQgPT0gTm9kZUtpbmQuVkFSSUFCTEVTICYmIG5vZGUucGFyZW50LnBhcmVudC5raW5kID09IE5vZGVLaW5kLkZJTEUgPyBTeW1ib2xLaW5kLlZBUklBQkxFX0dMT0JBTCA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgU3ltYm9sS2luZC5WQVJJQUJMRV9MT0NBTDtcbiAgICAgICAgc3ltYm9sLm5hbWUgPSBub2RlLnN0cmluZ1ZhbHVlO1xuICAgICAgICBzeW1ib2wuc2NvcGUgPSBwYXJlbnRTY29wZTtcbiAgICAgICAgbGlua1N5bWJvbFRvTm9kZShzeW1ib2wsIG5vZGUpO1xuICAgICAgICBwYXJlbnRTY29wZS5kZWZpbmUoY29udGV4dC5sb2csIHN5bWJvbCwgU2NvcGVIaW50Lk5PUk1BTCk7XG4gICAgfVxuXG4gICAgLy8gQmxvY2tcbiAgICBlbHNlIGlmIChraW5kID09IE5vZGVLaW5kLkJMT0NLKSB7XG4gICAgICAgIGlmIChub2RlLnBhcmVudC5raW5kICE9IE5vZGVLaW5kLkZVTkNUSU9OKSB7XG4gICAgICAgICAgICBsZXQgc2NvcGUgPSBuZXcgU2NvcGUoKTtcbiAgICAgICAgICAgIHNjb3BlLnBhcmVudCA9IHBhcmVudFNjb3BlO1xuICAgICAgICAgICAgcGFyZW50U2NvcGUgPSBzY29wZTtcbiAgICAgICAgfVxuICAgICAgICBub2RlLnNjb3BlID0gcGFyZW50U2NvcGU7XG4gICAgfVxuXG4gICAgLy8gQ2hpbGRyZW5cbiAgICBsZXQgY2hpbGQgPSBub2RlLmZpcnN0Q2hpbGQ7XG4gICAgd2hpbGUgKGNoaWxkICE9IG51bGwpIHtcbiAgICAgICAgaWYgKG1vZGUgPT0gQ2hlY2tNb2RlLklOSVRJQUxJWkUpIHtcbiAgICAgICAgICAgIGNoaWxkLmZsYWdzIHw9IE5PREVfRkxBR19MSUJSQVJZO1xuICAgICAgICB9XG4gICAgICAgIGluaXRpYWxpemUoY29udGV4dCwgY2hpbGQsIHBhcmVudFNjb3BlLCBtb2RlKTtcbiAgICAgICAgY2hpbGQgPSBjaGlsZC5uZXh0U2libGluZztcbiAgICB9XG5cbiAgICBpZiAoa2luZCA9PSBOb2RlS2luZC5GSUxFICYmIG1vZGUgPT0gQ2hlY2tNb2RlLklOSVRJQUxJWkUpIHtcbiAgICAgICAgY29udGV4dC5ib29sZWFuVHlwZSA9IHBhcmVudFNjb3BlLmZpbmRMb2NhbChcImJvb2xlYW5cIiwgU2NvcGVIaW50Lk5PUk1BTCkucmVzb2x2ZWRUeXBlO1xuICAgICAgICBjb250ZXh0LnVpbnQ4VHlwZSA9IHBhcmVudFNjb3BlLmZpbmRMb2NhbChcInVpbnQ4XCIsIFNjb3BlSGludC5OT1JNQUwpLnJlc29sdmVkVHlwZTtcbiAgICAgICAgY29udGV4dC5pbnQzMlR5cGUgPSBwYXJlbnRTY29wZS5maW5kTG9jYWwoXCJpbnQzMlwiLCBTY29wZUhpbnQuTk9STUFMKS5yZXNvbHZlZFR5cGU7XG4gICAgICAgIGNvbnRleHQuaW50NjRUeXBlID0gcGFyZW50U2NvcGUuZmluZExvY2FsKFwiaW50NjRcIiwgU2NvcGVIaW50Lk5PUk1BTCkucmVzb2x2ZWRUeXBlO1xuICAgICAgICBjb250ZXh0LmludDhUeXBlID0gcGFyZW50U2NvcGUuZmluZExvY2FsKFwiaW50OFwiLCBTY29wZUhpbnQuTk9STUFMKS5yZXNvbHZlZFR5cGU7XG4gICAgICAgIGNvbnRleHQuaW50MTZUeXBlID0gcGFyZW50U2NvcGUuZmluZExvY2FsKFwiaW50MTZcIiwgU2NvcGVIaW50Lk5PUk1BTCkucmVzb2x2ZWRUeXBlO1xuICAgICAgICBjb250ZXh0LnN0cmluZ1R5cGUgPSBwYXJlbnRTY29wZS5maW5kTG9jYWwoXCJzdHJpbmdcIiwgU2NvcGVIaW50Lk5PUk1BTCkucmVzb2x2ZWRUeXBlO1xuICAgICAgICBjb250ZXh0LnVpbnQzMlR5cGUgPSBwYXJlbnRTY29wZS5maW5kTG9jYWwoXCJ1aW50MzJcIiwgU2NvcGVIaW50Lk5PUk1BTCkucmVzb2x2ZWRUeXBlO1xuICAgICAgICBjb250ZXh0LnVpbnQ2NFR5cGUgPSBwYXJlbnRTY29wZS5maW5kTG9jYWwoXCJ1aW50NjRcIiwgU2NvcGVIaW50Lk5PUk1BTCkucmVzb2x2ZWRUeXBlO1xuICAgICAgICBjb250ZXh0LnVpbnQxNlR5cGUgPSBwYXJlbnRTY29wZS5maW5kTG9jYWwoXCJ1aW50MTZcIiwgU2NvcGVIaW50Lk5PUk1BTCkucmVzb2x2ZWRUeXBlO1xuXG4gICAgICAgIGNvbnRleHQuZmxvYXQzMlR5cGUgPSBwYXJlbnRTY29wZS5maW5kTG9jYWwoXCJmbG9hdDMyXCIsIFNjb3BlSGludC5OT1JNQUwpLnJlc29sdmVkVHlwZTtcbiAgICAgICAgY29udGV4dC5mbG9hdDY0VHlwZSA9IHBhcmVudFNjb3BlLmZpbmRMb2NhbChcImZsb2F0NjRcIiwgU2NvcGVIaW50Lk5PUk1BTCkucmVzb2x2ZWRUeXBlO1xuXG4gICAgICAgIHByZXBhcmVOYXRpdmVUeXBlKGNvbnRleHQuYm9vbGVhblR5cGUsIDEsIDApO1xuICAgICAgICBwcmVwYXJlTmF0aXZlVHlwZShjb250ZXh0LnVpbnQ4VHlwZSwgMSwgU1lNQk9MX0ZMQUdfTkFUSVZFX0lOVEVHRVIgfCBTWU1CT0xfRkxBR19JU19VTlNJR05FRCk7XG4gICAgICAgIHByZXBhcmVOYXRpdmVUeXBlKGNvbnRleHQuaW50OFR5cGUsIDEsIFNZTUJPTF9GTEFHX05BVElWRV9JTlRFR0VSKTtcbiAgICAgICAgcHJlcGFyZU5hdGl2ZVR5cGUoY29udGV4dC5pbnQxNlR5cGUsIDIsIFNZTUJPTF9GTEFHX05BVElWRV9JTlRFR0VSKTtcbiAgICAgICAgcHJlcGFyZU5hdGl2ZVR5cGUoY29udGV4dC51aW50MTZUeXBlLCAyLCBTWU1CT0xfRkxBR19OQVRJVkVfSU5URUdFUiB8IFNZTUJPTF9GTEFHX0lTX1VOU0lHTkVEKTtcbiAgICAgICAgcHJlcGFyZU5hdGl2ZVR5cGUoY29udGV4dC5pbnQzMlR5cGUsIDQsIFNZTUJPTF9GTEFHX05BVElWRV9JTlRFR0VSKTtcbiAgICAgICAgcHJlcGFyZU5hdGl2ZVR5cGUoY29udGV4dC5pbnQ2NFR5cGUsIDgsIFNZTUJPTF9GTEFHX05BVElWRV9MT05HKTtcbiAgICAgICAgcHJlcGFyZU5hdGl2ZVR5cGUoY29udGV4dC51aW50MzJUeXBlLCA0LCBTWU1CT0xfRkxBR19OQVRJVkVfSU5URUdFUiB8IFNZTUJPTF9GTEFHX0lTX1VOU0lHTkVEKTtcbiAgICAgICAgcHJlcGFyZU5hdGl2ZVR5cGUoY29udGV4dC51aW50NjRUeXBlLCA4LCBTWU1CT0xfRkxBR19OQVRJVkVfTE9ORyB8IFNZTUJPTF9GTEFHX0lTX1VOU0lHTkVEKTtcblxuICAgICAgICBwcmVwYXJlTmF0aXZlVHlwZShjb250ZXh0LnN0cmluZ1R5cGUsIDQsIFNZTUJPTF9GTEFHX0lTX1JFRkVSRU5DRSk7XG5cbiAgICAgICAgcHJlcGFyZU5hdGl2ZVR5cGUoY29udGV4dC5mbG9hdDMyVHlwZSwgNCwgU1lNQk9MX0ZMQUdfTkFUSVZFX0ZMT0FUKTtcbiAgICAgICAgcHJlcGFyZU5hdGl2ZVR5cGUoY29udGV4dC5mbG9hdDY0VHlwZSwgOCwgU1lNQk9MX0ZMQUdfTkFUSVZFX0RPVUJMRSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBwcmVwYXJlTmF0aXZlVHlwZSh0eXBlOiBUeXBlLCBieXRlU2l6ZUFuZE1heEFsaWdubWVudDogaW50MzIsIGZsYWdzOiBpbnQzMik6IHZvaWQge1xuICAgIGxldCBzeW1ib2wgPSB0eXBlLnN5bWJvbDtcbiAgICBzeW1ib2wua2luZCA9IFN5bWJvbEtpbmQuVFlQRV9OQVRJVkU7XG4gICAgc3ltYm9sLmJ5dGVTaXplID0gYnl0ZVNpemVBbmRNYXhBbGlnbm1lbnQ7XG4gICAgc3ltYm9sLm1heEFsaWdubWVudCA9IGJ5dGVTaXplQW5kTWF4QWxpZ25tZW50O1xuICAgIHN5bWJvbC5mbGFncyA9IGZsYWdzO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZm9yYmlkRmxhZyhjb250ZXh0OiBDaGVja0NvbnRleHQsIG5vZGU6IE5vZGUsIGZsYWc6IGludDMyLCB0ZXh0OiBzdHJpbmcpOiB2b2lkIHtcbiAgICBpZiAoKG5vZGUuZmxhZ3MgJiBmbGFnKSAhPSAwKSB7XG4gICAgICAgIGxldCByYW5nZSA9IHJhbmdlRm9yRmxhZyhub2RlLmZpcnN0RmxhZywgZmxhZyk7XG5cbiAgICAgICAgaWYgKHJhbmdlICE9IG51bGwpIHtcbiAgICAgICAgICAgIG5vZGUuZmxhZ3MgPSBub2RlLmZsYWdzICYgfmZsYWc7XG4gICAgICAgICAgICBjb250ZXh0LmxvZy5lcnJvcihyYW5nZSwgdGV4dCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZXF1aXJlRmxhZyhjb250ZXh0OiBDaGVja0NvbnRleHQsIG5vZGU6IE5vZGUsIGZsYWc6IGludDMyLCB0ZXh0OiBzdHJpbmcpOiB2b2lkIHtcbiAgICBpZiAoKG5vZGUuZmxhZ3MgJiBmbGFnKSA9PSAwKSB7XG4gICAgICAgIG5vZGUuZmxhZ3MgPSBub2RlLmZsYWdzIHwgZmxhZztcbiAgICAgICAgY29udGV4dC5sb2cuZXJyb3Iobm9kZS5yYW5nZSwgdGV4dCk7XG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaW5pdGlhbGl6ZVN5bWJvbChjb250ZXh0OiBDaGVja0NvbnRleHQsIHN5bWJvbDogU3ltYm9sKTogdm9pZCB7XG4gICAgaWYgKHN5bWJvbC5zdGF0ZSA9PSBTeW1ib2xTdGF0ZS5JTklUSUFMSVpFRCkge1xuICAgICAgICBhc3NlcnQoc3ltYm9sLnJlc29sdmVkVHlwZSAhPSBudWxsKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGFzc2VydChzeW1ib2wuc3RhdGUgPT0gU3ltYm9sU3RhdGUuVU5JTklUSUFMSVpFRCk7XG4gICAgc3ltYm9sLnN0YXRlID0gU3ltYm9sU3RhdGUuSU5JVElBTElaSU5HO1xuXG4gICAgLy8gTW9zdCBmbGFncyBhcmVuJ3Qgc3VwcG9ydGVkIHlldFxuICAgIGxldCBub2RlID0gc3ltYm9sLm5vZGU7XG4gICAgLy8gZm9yYmlkRmxhZyhjb250ZXh0LCBub2RlLCBOT0RFX0ZMQUdfRVhQT1JULCBcIlVuc3VwcG9ydGVkIGZsYWcgJ2V4cG9ydCdcIik7XG4gICAgZm9yYmlkRmxhZyhjb250ZXh0LCBub2RlLCBOT0RFX0ZMQUdfUFJPVEVDVEVELCBcIlVuc3VwcG9ydGVkIGZsYWcgJ3Byb3RlY3RlZCdcIik7XG4gICAgLy9mb3JiaWRGbGFnKGNvbnRleHQsIG5vZGUsIE5PREVfRkxBR19TVEFUSUMsIFwiVW5zdXBwb3J0ZWQgZmxhZyAnc3RhdGljJ1wiKTtcblxuICAgIC8vIE1vZHVsZVxuICAgIGlmIChzeW1ib2wua2luZCA9PSBTeW1ib2xLaW5kLlRZUEVfTU9EVUxFKSB7XG4gICAgICAgIGZvcmJpZEZsYWcoY29udGV4dCwgbm9kZSwgTk9ERV9GTEFHX0dFVCwgXCJDYW5ub3QgdXNlICdnZXQnIG9uIGEgbW9kdWxlXCIpO1xuICAgICAgICBmb3JiaWRGbGFnKGNvbnRleHQsIG5vZGUsIE5PREVfRkxBR19TRVQsIFwiQ2Fubm90IHVzZSAnc2V0JyBvbiBhIG1vZHVsZVwiKTtcbiAgICAgICAgZm9yYmlkRmxhZyhjb250ZXh0LCBub2RlLCBOT0RFX0ZMQUdfUFVCTElDLCBcIkNhbm5vdCB1c2UgJ3B1YmxpYycgb24gYSBtb2R1bGVcIik7XG4gICAgICAgIGZvcmJpZEZsYWcoY29udGV4dCwgbm9kZSwgTk9ERV9GTEFHX1BSSVZBVEUsIFwiQ2Fubm90IHVzZSAncHJpdmF0ZScgb24gYSBtb2R1bGVcIik7XG4gICAgfVxuXG4gICAgLy8gQ2xhc3NcbiAgICBlbHNlIGlmIChzeW1ib2wua2luZCA9PSBTeW1ib2xLaW5kLlRZUEVfQ0xBU1MgfHwgc3ltYm9sLmtpbmQgPT0gU3ltYm9sS2luZC5UWVBFX05BVElWRSB8fFxuICAgICAgICBzeW1ib2wua2luZCA9PSBTeW1ib2xLaW5kLlRZUEVfR0VORVJJQyB8fCBzeW1ib2wua2luZCA9PSBTeW1ib2xLaW5kLlRZUEVfVEVNUExBVEUpIHtcbiAgICAgICAgZm9yYmlkRmxhZyhjb250ZXh0LCBub2RlLCBOT0RFX0ZMQUdfR0VULCBcIkNhbm5vdCB1c2UgJ2dldCcgb24gYSBjbGFzc1wiKTtcbiAgICAgICAgZm9yYmlkRmxhZyhjb250ZXh0LCBub2RlLCBOT0RFX0ZMQUdfU0VULCBcIkNhbm5vdCB1c2UgJ3NldCcgb24gYSBjbGFzc1wiKTtcbiAgICAgICAgZm9yYmlkRmxhZyhjb250ZXh0LCBub2RlLCBOT0RFX0ZMQUdfUFVCTElDLCBcIkNhbm5vdCB1c2UgJ3B1YmxpYycgb24gYSBjbGFzc1wiKTtcbiAgICAgICAgZm9yYmlkRmxhZyhjb250ZXh0LCBub2RlLCBOT0RFX0ZMQUdfUFJJVkFURSwgXCJDYW5ub3QgdXNlICdwcml2YXRlJyBvbiBhIGNsYXNzXCIpO1xuICAgIH1cblxuICAgIC8vIEludGVyZmFjZVxuICAgIGVsc2UgaWYgKHN5bWJvbC5raW5kID09IFN5bWJvbEtpbmQuVFlQRV9JTlRFUkZBQ0UpIHtcbiAgICAgICAgZm9yYmlkRmxhZyhjb250ZXh0LCBub2RlLCBOT0RFX0ZMQUdfR0VULCBcIkNhbm5vdCB1c2UgJ2dldCcgb24gYSBpbnRlcmZhY2VcIik7XG4gICAgICAgIGZvcmJpZEZsYWcoY29udGV4dCwgbm9kZSwgTk9ERV9GTEFHX1NFVCwgXCJDYW5ub3QgdXNlICdzZXQnIG9uIGEgaW50ZXJmYWNlXCIpO1xuICAgICAgICBmb3JiaWRGbGFnKGNvbnRleHQsIG5vZGUsIE5PREVfRkxBR19QVUJMSUMsIFwiQ2Fubm90IHVzZSAncHVibGljJyBvbiBhIGludGVyZmFjZVwiKTtcbiAgICAgICAgZm9yYmlkRmxhZyhjb250ZXh0LCBub2RlLCBOT0RFX0ZMQUdfUFJJVkFURSwgXCJDYW5ub3QgdXNlICdwcml2YXRlJyBvbiBhIGludGVyZmFjZVwiKTtcbiAgICB9XG5cbiAgICAvLyBFbnVtXG4gICAgZWxzZSBpZiAoc3ltYm9sLmtpbmQgPT0gU3ltYm9sS2luZC5UWVBFX0VOVU0pIHtcbiAgICAgICAgZm9yYmlkRmxhZyhjb250ZXh0LCBub2RlLCBOT0RFX0ZMQUdfR0VULCBcIkNhbm5vdCB1c2UgJ2dldCcgb24gYW4gZW51bVwiKTtcbiAgICAgICAgZm9yYmlkRmxhZyhjb250ZXh0LCBub2RlLCBOT0RFX0ZMQUdfU0VULCBcIkNhbm5vdCB1c2UgJ3NldCcgb24gYW4gZW51bVwiKTtcbiAgICAgICAgZm9yYmlkRmxhZyhjb250ZXh0LCBub2RlLCBOT0RFX0ZMQUdfUFVCTElDLCBcIkNhbm5vdCB1c2UgJ3B1YmxpYycgb24gYW4gZW51bVwiKTtcbiAgICAgICAgZm9yYmlkRmxhZyhjb250ZXh0LCBub2RlLCBOT0RFX0ZMQUdfUFJJVkFURSwgXCJDYW5ub3QgdXNlICdwcml2YXRlJyBvbiBhbiBlbnVtXCIpO1xuXG4gICAgICAgIHN5bWJvbC5yZXNvbHZlZFR5cGUgPSBuZXcgVHlwZSgpO1xuICAgICAgICBzeW1ib2wucmVzb2x2ZWRUeXBlLnN5bWJvbCA9IHN5bWJvbDtcbiAgICAgICAgbGV0IHVuZGVybHlpbmdTeW1ib2wgPSBzeW1ib2wucmVzb2x2ZWRUeXBlLnVuZGVybHlpbmdUeXBlKGNvbnRleHQpLnN5bWJvbDtcbiAgICAgICAgc3ltYm9sLmJ5dGVTaXplID0gdW5kZXJseWluZ1N5bWJvbC5ieXRlU2l6ZTtcbiAgICAgICAgc3ltYm9sLm1heEFsaWdubWVudCA9IHVuZGVybHlpbmdTeW1ib2wubWF4QWxpZ25tZW50O1xuICAgIH1cblxuICAgIC8vIEZ1bmN0aW9uXG4gICAgZWxzZSBpZiAoaXNGdW5jdGlvbihzeW1ib2wua2luZCkpIHtcbiAgICAgICAgbGV0IGJvZHkgPSBub2RlLmZ1bmN0aW9uQm9keSgpO1xuICAgICAgICBsZXQgcmV0dXJuVHlwZSA9IG5vZGUuZnVuY3Rpb25SZXR1cm5UeXBlKCk7XG4gICAgICAgIGxldCBvbGRVbnNhZmVBbGxvd2VkID0gY29udGV4dC5pc1Vuc2FmZUFsbG93ZWQ7XG4gICAgICAgIGNvbnRleHQuaXNVbnNhZmVBbGxvd2VkID0gbm9kZS5pc1Vuc2FmZSgpO1xuICAgICAgICByZXNvbHZlQXNUeXBlKGNvbnRleHQsIHJldHVyblR5cGUsIHN5bWJvbC5zY29wZS5wYXJlbnQpO1xuXG4gICAgICAgIGlmIChyZXR1cm5UeXBlLnJlc29sdmVkVHlwZS5pc0NsYXNzKCkgJiYgcmV0dXJuVHlwZS5oYXNQYXJhbWV0ZXJzKCkgJiYgbm9kZS5wYXJlbnQgIT0gcmV0dXJuVHlwZS5yZXNvbHZlZFR5cGUuc3ltYm9sLm5vZGUpIHtcbiAgICAgICAgICAgIGRlcml2ZUNvbmNyZXRlQ2xhc3MoY29udGV4dCwgcmV0dXJuVHlwZSwgW3JldHVyblR5cGUuZmlyc3RDaGlsZC5maXJzdENoaWxkXSwgcmV0dXJuVHlwZS5yZXNvbHZlZFR5cGUuc3ltYm9sLnNjb3BlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBhcmd1bWVudENvdW50ID0gMDtcbiAgICAgICAgbGV0IGNoaWxkID0gbm9kZS5mdW5jdGlvbkZpcnN0QXJndW1lbnQoKTtcbiAgICAgICAgd2hpbGUgKGNoaWxkICE9IHJldHVyblR5cGUpIHtcbiAgICAgICAgICAgIGFzc2VydChjaGlsZC5raW5kID09IE5vZGVLaW5kLlZBUklBQkxFKTtcbiAgICAgICAgICAgIGFzc2VydChjaGlsZC5zeW1ib2wua2luZCA9PSBTeW1ib2xLaW5kLlZBUklBQkxFX0FSR1VNRU5UKTtcbiAgICAgICAgICAgIGluaXRpYWxpemVTeW1ib2woY29udGV4dCwgY2hpbGQuc3ltYm9sKTtcbiAgICAgICAgICAgIGNoaWxkLnN5bWJvbC5vZmZzZXQgPSBhcmd1bWVudENvdW50O1xuICAgICAgICAgICAgYXJndW1lbnRDb3VudCA9IGFyZ3VtZW50Q291bnQgKyAxO1xuICAgICAgICAgICAgY2hpbGQgPSBjaGlsZC5uZXh0U2libGluZztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzeW1ib2wua2luZCAhPSBTeW1ib2xLaW5kLkZVTkNUSU9OX0lOU1RBTkNFKSB7XG4gICAgICAgICAgICBmb3JiaWRGbGFnKGNvbnRleHQsIG5vZGUsIE5PREVfRkxBR19HRVQsIFwiQ2Fubm90IHVzZSAnZ2V0JyBoZXJlXCIpO1xuICAgICAgICAgICAgZm9yYmlkRmxhZyhjb250ZXh0LCBub2RlLCBOT0RFX0ZMQUdfU0VULCBcIkNhbm5vdCB1c2UgJ3NldCcgaGVyZVwiKTtcbiAgICAgICAgICAgIGZvcmJpZEZsYWcoY29udGV4dCwgbm9kZSwgTk9ERV9GTEFHX1BVQkxJQywgXCJDYW5ub3QgdXNlICdwdWJsaWMnIGhlcmVcIik7XG4gICAgICAgICAgICBmb3JiaWRGbGFnKGNvbnRleHQsIG5vZGUsIE5PREVfRkxBR19QUklWQVRFLCBcIkNhbm5vdCB1c2UgJ3ByaXZhdGUnIGhlcmVcIik7XG4gICAgICAgIH1cblxuICAgICAgICBlbHNlIGlmIChub2RlLmlzR2V0KCkpIHtcbiAgICAgICAgICAgIGZvcmJpZEZsYWcoY29udGV4dCwgbm9kZSwgTk9ERV9GTEFHX1NFVCwgXCJDYW5ub3QgdXNlIGJvdGggJ2dldCcgYW5kICdzZXQnXCIpO1xuXG4gICAgICAgICAgICAvLyBWYWxpZGF0ZSBhcmd1bWVudCBjb3VudCBpbmNsdWRpbmcgXCJ0aGlzXCJcbiAgICAgICAgICAgIGlmIChhcmd1bWVudENvdW50ICE9IDEpIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmxvZy5lcnJvcihzeW1ib2wucmFuZ2UsIFwiR2V0dGVycyBtdXN0IG5vdCBoYXZlIGFueSBhcmd1bWVudHNcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBlbHNlIGlmIChub2RlLmlzU2V0KCkpIHtcbiAgICAgICAgICAgIHN5bWJvbC5yZW5hbWUgPSBTdHJpbmdCdWlsZGVyX25ldygpXG4gICAgICAgICAgICAgICAgLmFwcGVuZChcInNldF9cIilcbiAgICAgICAgICAgICAgICAuYXBwZW5kKHN5bWJvbC5uYW1lKVxuICAgICAgICAgICAgICAgIC5maW5pc2goKTtcblxuICAgICAgICAgICAgLy8gVmFsaWRhdGUgYXJndW1lbnQgY291bnQgaW5jbHVkaW5nIFwidGhpc1wiXG4gICAgICAgICAgICBpZiAoYXJndW1lbnRDb3VudCAhPSAyKSB7XG4gICAgICAgICAgICAgICAgY29udGV4dC5sb2cuZXJyb3Ioc3ltYm9sLnJhbmdlLCBcIlNldHRlcnMgbXVzdCBoYXZlIGV4YWN0bHkgb25lIGFyZ3VtZW50XCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gVmFsaWRhdGUgb3BlcmF0b3IgYXJndW1lbnQgY291bnRzIGluY2x1ZGluZyBcInRoaXNcIlxuICAgICAgICBlbHNlIGlmIChub2RlLmlzT3BlcmF0b3IoKSkge1xuICAgICAgICAgICAgaWYgKHN5bWJvbC5uYW1lID09IFwiflwiIHx8IHN5bWJvbC5uYW1lID09IFwiKytcIiB8fCBzeW1ib2wubmFtZSA9PSBcIi0tXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoYXJndW1lbnRDb3VudCAhPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQubG9nLmVycm9yKHN5bWJvbC5yYW5nZSwgU3RyaW5nQnVpbGRlcl9uZXcoKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZChcIk9wZXJhdG9yICdcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoc3ltYm9sLm5hbWUpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKFwiJyBtdXN0IG5vdCBoYXZlIGFueSBhcmd1bWVudHNcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIC5maW5pc2goKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBlbHNlIGlmIChzeW1ib2wubmFtZSA9PSBcIitcIiB8fCBzeW1ib2wubmFtZSA9PSBcIi1cIikge1xuICAgICAgICAgICAgICAgIGlmIChhcmd1bWVudENvdW50ID4gMikge1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmxvZy5lcnJvcihzeW1ib2wucmFuZ2UsIFN0cmluZ0J1aWxkZXJfbmV3KClcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoXCJPcGVyYXRvciAnXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKHN5bWJvbC5uYW1lKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZChcIicgbXVzdCBoYXZlIGF0IG1vc3Qgb25lIGFyZ3VtZW50XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAuZmluaXNoKCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZWxzZSBpZiAoc3ltYm9sLm5hbWUgPT0gXCJbXT1cIikge1xuICAgICAgICAgICAgICAgIGlmIChhcmd1bWVudENvdW50IDwgMikge1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmxvZy5lcnJvcihzeW1ib2wucmFuZ2UsIFwiT3BlcmF0b3IgJ1tdPScgbXVzdCBoYXZlIGF0IGxlYXN0IG9uZSBhcmd1bWVudFwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGVsc2UgaWYgKGFyZ3VtZW50Q291bnQgIT0gMikge1xuICAgICAgICAgICAgICAgIGNvbnRleHQubG9nLmVycm9yKHN5bWJvbC5yYW5nZSwgU3RyaW5nQnVpbGRlcl9uZXcoKVxuICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKFwiT3BlcmF0b3IgJ1wiKVxuICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKHN5bWJvbC5uYW1lKVxuICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKFwiJyBtdXN0IGhhdmUgZXhhY3RseSBvbmUgYXJndW1lbnRcIilcbiAgICAgICAgICAgICAgICAgICAgLmZpbmlzaCgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHN5bWJvbC5yZXNvbHZlZFR5cGUgPSBuZXcgVHlwZSgpO1xuICAgICAgICBzeW1ib2wucmVzb2x2ZWRUeXBlLnN5bWJvbCA9IHN5bWJvbDtcblxuICAgICAgICBpZiAoc3ltYm9sLmtpbmQgPT0gU3ltYm9sS2luZC5GVU5DVElPTl9JTlNUQU5DRSkge1xuICAgICAgICAgICAgbGV0IHBhcmVudCA9IHN5bWJvbC5wYXJlbnQoKTtcbiAgICAgICAgICAgIGxldCBzaG91bGRDb252ZXJ0SW5zdGFuY2VUb0dsb2JhbCA9IGZhbHNlO1xuXG4gICAgICAgICAgICBmb3JiaWRGbGFnKGNvbnRleHQsIG5vZGUsIE5PREVfRkxBR19FWFBPUlQsIFwiQ2Fubm90IHVzZSAnZXhwb3J0JyBvbiBhbiBpbnN0YW5jZSBmdW5jdGlvblwiKTtcbiAgICAgICAgICAgIGZvcmJpZEZsYWcoY29udGV4dCwgbm9kZSwgTk9ERV9GTEFHX0RFQ0xBUkUsIFwiQ2Fubm90IHVzZSAnZGVjbGFyZScgb24gYW4gaW5zdGFuY2UgZnVuY3Rpb25cIik7XG5cbiAgICAgICAgICAgIC8vIEZ1bmN0aW9ucyBpbnNpZGUgZGVjbGFyZWQgY2xhc3NlcyBhcmUgYXV0b21hdGljYWxseSBkZWNsYXJlZFxuICAgICAgICAgICAgaWYgKHBhcmVudC5ub2RlLmlzRGVjbGFyZSgpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGJvZHkgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBub2RlLmZsYWdzID0gbm9kZS5mbGFncyB8IE5PREVfRkxBR19ERUNMQVJFO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNob3VsZENvbnZlcnRJbnN0YW5jZVRvR2xvYmFsID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFJlcXVpcmUgaW1wbGVtZW50YXRpb25zIGZvciBmdW5jdGlvbnMgbm90IG9uIGRlY2xhcmVkIGNsYXNzZXNcbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChib2R5ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5sb2cuZXJyb3Iobm9kZS5sYXN0Q2hpbGQucmFuZ2UsIFwiTXVzdCBpbXBsZW1lbnQgdGhpcyBmdW5jdGlvblwiKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBGdW5jdGlvbnMgaW5zaWRlIGV4cG9ydCBjbGFzc2VzIGFyZSBhdXRvbWF0aWNhbGx5IGV4cG9ydFxuICAgICAgICAgICAgICAgIGlmIChwYXJlbnQubm9kZS5pc0V4cG9ydCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIG5vZGUuZmxhZ3MgPSBub2RlLmZsYWdzIHwgTk9ERV9GTEFHX0VYUE9SVDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFJld3JpdGUgdGhpcyBzeW1ib2wgYXMgYSBnbG9iYWwgZnVuY3Rpb24gaW5zdGVhZCBvZiBhbiBpbnN0YW5jZSBmdW5jdGlvblxuICAgICAgICAgICAgaWYgKHNob3VsZENvbnZlcnRJbnN0YW5jZVRvR2xvYmFsKSB7XG4gICAgICAgICAgICAgICAgc3ltYm9sLmtpbmQgPSBTeW1ib2xLaW5kLkZVTkNUSU9OX0dMT0JBTDtcbiAgICAgICAgICAgICAgICBzeW1ib2wuZmxhZ3MgPSBzeW1ib2wuZmxhZ3MgfCBTWU1CT0xfRkxBR19DT05WRVJUX0lOU1RBTkNFX1RPX0dMT0JBTDtcbiAgICAgICAgICAgICAgICBzeW1ib2wucmVuYW1lID0gU3RyaW5nQnVpbGRlcl9uZXcoKVxuICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKHBhcmVudC5uYW1lKVxuICAgICAgICAgICAgICAgICAgICAuYXBwZW5kQ2hhcignXycpXG4gICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoc3ltYm9sLnJlbmFtZSAhPSBudWxsID8gc3ltYm9sLnJlbmFtZSA6IHN5bWJvbC5uYW1lKVxuICAgICAgICAgICAgICAgICAgICAuZmluaXNoKCk7XG4gICAgICAgICAgICAgICAgbGV0IGFyZ3VtZW50ID0gbm9kZS5mdW5jdGlvbkZpcnN0QXJndW1lbnQoKTtcbiAgICAgICAgICAgICAgICBhc3NlcnQoYXJndW1lbnQuc3ltYm9sLm5hbWUgPT0gXCJ0aGlzXCIpO1xuICAgICAgICAgICAgICAgIGFyZ3VtZW50LnN5bWJvbC5yZW5hbWUgPSBcIl9fdGhpc1wiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gSW1wb3J0ZWQgZnVuY3Rpb25zIHJlcXVpcmUgYSBtb2RpZmllciBmb3IgY29uc2lzdGVuY3kgd2l0aCBUeXBlU2NyaXB0XG4gICAgICAgIGVsc2UgaWYgKGJvZHkgPT0gbnVsbCkge1xuICAgICAgICAgICAgZm9yYmlkRmxhZyhjb250ZXh0LCBub2RlLCBOT0RFX0ZMQUdfRVhQT1JULCBcIkNhbm5vdCB1c2UgJ2V4cG9ydCcgb24gYW4gdW5pbXBsZW1lbnRlZCBmdW5jdGlvblwiKTtcbiAgICAgICAgICAgIGlmICghbm9kZS5wYXJlbnQgfHwgIW5vZGUucGFyZW50LmlzRGVjbGFyZSgpKSB7XG4gICAgICAgICAgICAgICAgcmVxdWlyZUZsYWcoY29udGV4dCwgbm9kZSwgTk9ERV9GTEFHX0RFQ0xBUkUsIFwiRGVjbGFyZWQgZnVuY3Rpb25zIG11c3QgYmUgcHJlZml4ZWQgd2l0aCAnZGVjbGFyZSdcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGZvcmJpZEZsYWcoY29udGV4dCwgbm9kZSwgTk9ERV9GTEFHX0RFQ0xBUkUsIFwiQ2Fubm90IHVzZSAnZGVjbGFyZScgb24gYSBmdW5jdGlvbiB3aXRoIGFuIGltcGxlbWVudGF0aW9uXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29udGV4dC5pc1Vuc2FmZUFsbG93ZWQgPSBvbGRVbnNhZmVBbGxvd2VkO1xuICAgIH1cblxuICAgIC8vIFZhcmlhYmxlXG4gICAgZWxzZSBpZiAoaXNWYXJpYWJsZShzeW1ib2wua2luZCkpIHtcbiAgICAgICAgZm9yYmlkRmxhZyhjb250ZXh0LCBub2RlLCBOT0RFX0ZMQUdfR0VULCBcIkNhbm5vdCB1c2UgJ2dldCcgb24gYSB2YXJpYWJsZVwiKTtcbiAgICAgICAgZm9yYmlkRmxhZyhjb250ZXh0LCBub2RlLCBOT0RFX0ZMQUdfU0VULCBcIkNhbm5vdCB1c2UgJ3NldCcgb24gYSB2YXJpYWJsZVwiKTtcblxuICAgICAgICBsZXQgdHlwZSA9IG5vZGUudmFyaWFibGVUeXBlKCk7XG4gICAgICAgIGxldCB2YWx1ZSA9IG5vZGUudmFyaWFibGVWYWx1ZSgpO1xuICAgICAgICBsZXQgb2xkVW5zYWZlQWxsb3dlZCA9IGNvbnRleHQuaXNVbnNhZmVBbGxvd2VkO1xuICAgICAgICBjb250ZXh0LmlzVW5zYWZlQWxsb3dlZCA9IGNvbnRleHQuaXNVbnNhZmVBbGxvd2VkIHx8IG5vZGUuaXNVbnNhZmUoKTtcblxuICAgICAgICBpZiAoc3ltYm9sLmtpbmQgIT0gU3ltYm9sS2luZC5WQVJJQUJMRV9JTlNUQU5DRSkge1xuICAgICAgICAgICAgZm9yYmlkRmxhZyhjb250ZXh0LCBub2RlLCBOT0RFX0ZMQUdfUFVCTElDLCBcIkNhbm5vdCB1c2UgJ3B1YmxpYycgaGVyZVwiKTtcbiAgICAgICAgICAgIGZvcmJpZEZsYWcoY29udGV4dCwgbm9kZSwgTk9ERV9GTEFHX1BSSVZBVEUsIFwiQ2Fubm90IHVzZSAncHJpdmF0ZScgaGVyZVwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlICE9IG51bGwpIHtcbiAgICAgICAgICAgIHJlc29sdmVBc1R5cGUoY29udGV4dCwgdHlwZSwgc3ltYm9sLnNjb3BlKTtcbiAgICAgICAgICAgIGlmICh0eXBlLnJlc29sdmVkVHlwZS5pc1RlbXBsYXRlKCkgJiYgdHlwZS5oYXNQYXJhbWV0ZXJzKCkgJiYgbm9kZS5wYXJlbnQgIT0gdHlwZS5yZXNvbHZlZFR5cGUuc3ltYm9sLm5vZGUpIHtcbiAgICAgICAgICAgICAgICBkZXJpdmVDb25jcmV0ZUNsYXNzKGNvbnRleHQsIHR5cGUsIFt0eXBlLmZpcnN0Q2hpbGQuZmlyc3RDaGlsZF0sIHR5cGUucmVzb2x2ZWRUeXBlLnN5bWJvbC5zY29wZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHN5bWJvbC5yZXNvbHZlZFR5cGUgPSB0eXBlLnJlc29sdmVkVHlwZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGVsc2UgaWYgKHZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgICAgIHJlc29sdmVBc0V4cHJlc3Npb24oY29udGV4dCwgdmFsdWUsIHN5bWJvbC5zY29wZSk7XG4gICAgICAgICAgICBpZiAodmFsdWUucmVzb2x2ZWRUeXBlLmlzVGVtcGxhdGUoKSAmJiB2YWx1ZS5oYXNQYXJhbWV0ZXJzKCkgJiYgbm9kZS5wYXJlbnQgIT0gdmFsdWUucmVzb2x2ZWRUeXBlLnN5bWJvbC5ub2RlKSB7XG4gICAgICAgICAgICAgICAgZGVyaXZlQ29uY3JldGVDbGFzcyhjb250ZXh0LCB2YWx1ZSwgW3ZhbHVlLmZpcnN0Q2hpbGQuZmlyc3RDaGlsZF0sIHZhbHVlLnJlc29sdmVkVHlwZS5zeW1ib2wuc2NvcGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3ltYm9sLnJlc29sdmVkVHlwZSA9IHZhbHVlLnJlc29sdmVkVHlwZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29udGV4dC5sb2cuZXJyb3Iobm9kZS5pbnRlcm5hbFJhbmdlLCBcIkNhbm5vdCBjcmVhdGUgdW50eXBlZCB2YXJpYWJsZXNcIik7XG4gICAgICAgICAgICBzeW1ib2wucmVzb2x2ZWRUeXBlID0gY29udGV4dC5lcnJvclR5cGU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBWYWxpZGF0ZSB0aGUgdmFyaWFibGUgdHlwZVxuICAgICAgICBpZiAoc3ltYm9sLnJlc29sdmVkVHlwZSA9PSBjb250ZXh0LnZvaWRUeXBlIHx8IHN5bWJvbC5yZXNvbHZlZFR5cGUgPT0gY29udGV4dC5udWxsVHlwZSkge1xuICAgICAgICAgICAgY29udGV4dC5sb2cuZXJyb3Iobm9kZS5pbnRlcm5hbFJhbmdlLCBTdHJpbmdCdWlsZGVyX25ldygpXG4gICAgICAgICAgICAgICAgLmFwcGVuZChcIkNhbm5vdCBjcmVhdGUgYSB2YXJpYWJsZSB3aXRoIHR5cGUgJ1wiKVxuICAgICAgICAgICAgICAgIC5hcHBlbmQoc3ltYm9sLnJlc29sdmVkVHlwZS50b1N0cmluZygpKVxuICAgICAgICAgICAgICAgIC5hcHBlbmRDaGFyKCdcXCcnKVxuICAgICAgICAgICAgICAgIC5maW5pc2goKSk7XG4gICAgICAgICAgICBzeW1ib2wucmVzb2x2ZWRUeXBlID0gY29udGV4dC5lcnJvclR5cGU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBSZXNvbHZlIGNvbnN0YW50IHZhbHVlcyBhdCBpbml0aWFsaXphdGlvbiB0aW1lXG4gICAgICAgIGlmIChzeW1ib2wua2luZCA9PSBTeW1ib2xLaW5kLlZBUklBQkxFX0NPTlNUQU5UKSB7XG4gICAgICAgICAgICBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJlc29sdmVBc0V4cHJlc3Npb24oY29udGV4dCwgdmFsdWUsIHN5bWJvbC5zY29wZSk7XG4gICAgICAgICAgICAgICAgY2hlY2tDb252ZXJzaW9uKGNvbnRleHQsIHZhbHVlLCBzeW1ib2wucmVzb2x2ZWRUeXBlVW5kZXJseWluZ0lmRW51bVZhbHVlKGNvbnRleHQpLCBDb252ZXJzaW9uS2luZC5JTVBMSUNJVCk7XG5cbiAgICAgICAgICAgICAgICBpZiAodmFsdWUua2luZCA9PSBOb2RlS2luZC5JTlQzMiB8fCB2YWx1ZS5raW5kID09IE5vZGVLaW5kLklOVDY0IHx8IHZhbHVlLmtpbmQgPT0gTm9kZUtpbmQuQk9PTEVBTikge1xuICAgICAgICAgICAgICAgICAgICBzeW1ib2wub2Zmc2V0ID0gdmFsdWUuaW50VmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodmFsdWUua2luZCA9PSBOb2RlS2luZC5GTE9BVDMyIHx8IHZhbHVlLmtpbmQgPT0gTm9kZUtpbmQuRkxPQVQ2NCkge1xuICAgICAgICAgICAgICAgICAgICBzeW1ib2wub2Zmc2V0ID0gdmFsdWUuZmxvYXRWYWx1ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh2YWx1ZS5yZXNvbHZlZFR5cGUgIT0gY29udGV4dC5lcnJvclR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5sb2cuZXJyb3IodmFsdWUucmFuZ2UsIFwiSW52YWxpZCBjb25zdGFudCBpbml0aWFsaXplclwiKTtcbiAgICAgICAgICAgICAgICAgICAgc3ltYm9sLnJlc29sdmVkVHlwZSA9IGNvbnRleHQuZXJyb3JUeXBlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gQXV0b21hdGljYWxseSBpbml0aWFsaXplIGVudW0gdmFsdWVzIHVzaW5nIHRoZSBwcmV2aW91cyBlbnVtXG4gICAgICAgICAgICBlbHNlIGlmIChzeW1ib2wuaXNFbnVtVmFsdWUoKSkge1xuICAgICAgICAgICAgICAgIGlmIChub2RlLnByZXZpb3VzU2libGluZyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBwcmV2aW91c1N5bWJvbCA9IG5vZGUucHJldmlvdXNTaWJsaW5nLnN5bWJvbDtcbiAgICAgICAgICAgICAgICAgICAgaW5pdGlhbGl6ZVN5bWJvbChjb250ZXh0LCBwcmV2aW91c1N5bWJvbCk7XG4gICAgICAgICAgICAgICAgICAgIHN5bWJvbC5vZmZzZXQgPSBwcmV2aW91c1N5bWJvbC5vZmZzZXQgKyAxO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHN5bWJvbC5vZmZzZXQgPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29udGV4dC5sb2cuZXJyb3Iobm9kZS5pbnRlcm5hbFJhbmdlLCBcIkNvbnN0YW50cyBtdXN0IGJlIGluaXRpYWxpemVkXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gRGlzYWxsb3cgc2hhZG93aW5nIGF0IGZ1bmN0aW9uIHNjb3BlXG4gICAgICAgIGlmIChzeW1ib2wuc2NvcGUuc3ltYm9sID09IG51bGwpIHtcbiAgICAgICAgICAgIGxldCBzY29wZSA9IHN5bWJvbC5zY29wZS5wYXJlbnQ7XG4gICAgICAgICAgICB3aGlsZSAoc2NvcGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGxldCBzaGFkb3dlZCA9IHNjb3BlLmZpbmRMb2NhbChzeW1ib2wubmFtZSwgU2NvcGVIaW50Lk5PUk1BTCk7XG4gICAgICAgICAgICAgICAgaWYgKHNoYWRvd2VkICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5sb2cuZXJyb3Iobm9kZS5pbnRlcm5hbFJhbmdlLCBTdHJpbmdCdWlsZGVyX25ldygpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKFwiVGhlIHN5bWJvbCAnXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKHN5bWJvbC5uYW1lKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZChcIicgc2hhZG93cyBhbm90aGVyIHN5bWJvbCB3aXRoIHRoZSBzYW1lIG5hbWUgaW4gYSBwYXJlbnQgc2NvcGVcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIC5maW5pc2goKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIFN0b3Agd2hlbiB3ZSBwYXNzIHRocm91Z2ggYSBmdW5jdGlvbiBzY29wZVxuICAgICAgICAgICAgICAgIGlmIChzY29wZS5zeW1ib2wgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc2NvcGUgPSBzY29wZS5wYXJlbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb250ZXh0LmlzVW5zYWZlQWxsb3dlZCA9IG9sZFVuc2FmZUFsbG93ZWQ7XG4gICAgfVxuXG4gICAgZWxzZSB7XG4gICAgICAgIGFzc2VydChmYWxzZSk7XG4gICAgfVxuXG4gICAgYXNzZXJ0KHN5bWJvbC5yZXNvbHZlZFR5cGUgIT0gbnVsbCk7XG4gICAgc3ltYm9sLnN0YXRlID0gU3ltYm9sU3RhdGUuSU5JVElBTElaRUQ7XG59XG5cbi8qKlxuICogRGVyaXZlIGEgY29uY3JldGUgY2xhc3MgZnJvbSBjbGFzcyB0ZW1wbGF0ZSB0eXBlXG4gKiBAcGFyYW0gY29udGV4dFxuICogQHBhcmFtIHR5cGVcbiAqIEBwYXJhbSBwYXJhbWV0ZXJzXG4gKiBAcGFyYW0gc2NvcGVcbiAqIEByZXR1cm5zIHtTeW1ib2x9XG4gKi9cbmZ1bmN0aW9uIGRlcml2ZUNvbmNyZXRlQ2xhc3MoY29udGV4dDogQ2hlY2tDb250ZXh0LCB0eXBlOiBOb2RlLCBwYXJhbWV0ZXJzOiBhbnlbXSwgc2NvcGU6IFNjb3BlKSB7XG5cbiAgICBsZXQgdGVtcGxhdGVOb2RlOiBOb2RlID0gdHlwZS5yZXNvbHZlZFR5cGUucG9pbnRlclRvID8gdHlwZS5yZXNvbHZlZFR5cGUucG9pbnRlclRvLnN5bWJvbC5ub2RlIDogdHlwZS5yZXNvbHZlZFR5cGUuc3ltYm9sLm5vZGU7XG4gICAgbGV0IHRlbXBsYXRlTmFtZSA9IHRlbXBsYXRlTm9kZS5zdHJpbmdWYWx1ZTtcbiAgICBsZXQgdHlwZU5hbWUgPSB0ZW1wbGF0ZU5vZGUuc3RyaW5nVmFsdWUgKyBgPCR7cGFyYW1ldGVyc1swXS5zdHJpbmdWYWx1ZX0+YDtcbiAgICBsZXQgcmVuYW1lID0gdGVtcGxhdGVOb2RlLnN0cmluZ1ZhbHVlICsgYF8ke3BhcmFtZXRlcnNbMF0uc3RyaW5nVmFsdWV9YDtcbiAgICBsZXQgc3ltYm9sID0gc2NvcGUucGFyZW50LmZpbmROZXN0ZWQodHlwZU5hbWUsIFNjb3BlSGludC5OT1JNQUwsIEZpbmROZXN0ZWQuTk9STUFMKTtcblxuICAgIGlmIChzeW1ib2wpIHtcbiAgICAgICAgLy8gcmVzb2x2ZShjb250ZXh0LCB0eXBlLmZpcnN0Q2hpbGQuZmlyc3RDaGlsZCwgc2NvcGUucGFyZW50KTtcbiAgICAgICAgbGV0IGdlbmVyaWNTeW1ib2wgPSBzY29wZS5wYXJlbnQuZmluZE5lc3RlZCh0eXBlLmZpcnN0Q2hpbGQuZmlyc3RDaGlsZC5zdHJpbmdWYWx1ZSwgU2NvcGVIaW50Lk5PUk1BTCwgRmluZE5lc3RlZC5OT1JNQUwpO1xuICAgICAgICB0eXBlLmZpcnN0Q2hpbGQuZmlyc3RDaGlsZC5zeW1ib2wgPSBnZW5lcmljU3ltYm9sO1xuICAgICAgICBpZiAoZ2VuZXJpY1N5bWJvbC5yZXNvbHZlZFR5cGUucG9pbnRlclRvKSB7XG4gICAgICAgICAgICB0eXBlLmZpcnN0Q2hpbGQuZmlyc3RDaGlsZC5yZXNvbHZlZFR5cGUgPSBnZW5lcmljU3ltYm9sLnJlc29sdmVkVHlwZS5wb2ludGVyVHlwZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdHlwZS5maXJzdENoaWxkLmZpcnN0Q2hpbGQucmVzb2x2ZWRUeXBlID0gZ2VuZXJpY1N5bWJvbC5yZXNvbHZlZFR5cGU7XG4gICAgICAgIH1cblxuICAgICAgICB0eXBlLnN5bWJvbCA9IHN5bWJvbDtcblxuICAgICAgICBpZiAodHlwZS5yZXNvbHZlZFR5cGUucG9pbnRlclRvKSB7XG4gICAgICAgICAgICB0eXBlLnJlc29sdmVkVHlwZSA9IHN5bWJvbC5yZXNvbHZlZFR5cGUucG9pbnRlclR5cGUoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHR5cGUucmVzb2x2ZWRUeXBlID0gc3ltYm9sLnJlc29sdmVkVHlwZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBsZXQgbm9kZTogTm9kZSA9IHRlbXBsYXRlTm9kZS5jbG9uZSgpO1xuICAgIC8vIG5vZGUucGFyZW50ID0gdGVtcGxhdGVOb2RlLnBhcmVudDtcbiAgICBub2RlLnN0cmluZ1ZhbHVlID0gdHlwZU5hbWU7XG5cbiAgICBjbG9uZUNoaWxkcmVuKHRlbXBsYXRlTm9kZS5maXJzdENoaWxkLm5leHRTaWJsaW5nLCBub2RlLCBwYXJhbWV0ZXJzLCB0ZW1wbGF0ZU5hbWUsIHR5cGVOYW1lKTtcblxuICAgIG5vZGUub2Zmc2V0ID0gbnVsbDsvL0ZJWE1FOiB3ZSBjYW5ub3QgdGFrZSBvZmZzZXQgZnJvbSBjbGFzcyB0ZW1wbGF0ZSBub2RlXG5cbiAgICBpbml0aWFsaXplKGNvbnRleHQsIG5vZGUsIHNjb3BlLnBhcmVudCwgQ2hlY2tNb2RlLk5PUk1BTCk7XG5cbiAgICByZXNvbHZlKGNvbnRleHQsIG5vZGUsIHNjb3BlLnBhcmVudCk7XG5cbiAgICBub2RlLnN5bWJvbC5mbGFncyB8PSBTWU1CT0xfRkxBR19VU0VEO1xuICAgIHR5cGUuc3ltYm9sID0gbm9kZS5zeW1ib2w7XG4gICAgbm9kZS5zeW1ib2wucmVuYW1lID0gcmVuYW1lO1xuXG4gICAgaWYgKHR5cGUucmVzb2x2ZWRUeXBlLnBvaW50ZXJUbykge1xuICAgICAgICB0eXBlLnJlc29sdmVkVHlwZSA9IG5vZGUuc3ltYm9sLnJlc29sdmVkVHlwZS5wb2ludGVyVHlwZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHR5cGUucmVzb2x2ZWRUeXBlID0gbm9kZS5zeW1ib2wucmVzb2x2ZWRUeXBlO1xuICAgIH1cblxuICAgIGlmICh0ZW1wbGF0ZU5vZGUucGFyZW50KSB7XG4gICAgICAgIHRlbXBsYXRlTm9kZS5yZXBsYWNlV2l0aChub2RlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBsZXQgcHJldk5vZGUgPSB0ZW1wbGF0ZU5vZGUuZGVyaXZlZE5vZGVzW3RlbXBsYXRlTm9kZS5kZXJpdmVkTm9kZXMubGVuZ3RoIC0gMV07XG4gICAgICAgIHByZXZOb2RlLnBhcmVudC5pbnNlcnRDaGlsZEFmdGVyKHByZXZOb2RlLCBub2RlKTtcbiAgICB9XG5cbiAgICBpZiAodGVtcGxhdGVOb2RlLmRlcml2ZWROb2RlcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRlbXBsYXRlTm9kZS5kZXJpdmVkTm9kZXMgPSBbXTtcbiAgICB9XG4gICAgdGVtcGxhdGVOb2RlLmRlcml2ZWROb2Rlcy5wdXNoKG5vZGUpO1xuXG4gICAgLy9MZWF2ZSB0aGUgcGFyYW1ldGVyIGZvciB0aGUgZW1pdHRlciB0byBpZGVudGlmeSB0aGUgdHlwZVxuICAgIHR5cGUuZmlyc3RDaGlsZC5maXJzdENoaWxkLmtpbmQgPSBOb2RlS2luZC5OQU1FO1xuICAgIHJlc29sdmUoY29udGV4dCwgdHlwZS5maXJzdENoaWxkLmZpcnN0Q2hpbGQsIHNjb3BlLnBhcmVudCk7XG4gICAgdHlwZS5zdHJpbmdWYWx1ZSA9IG5vZGUuc3ltYm9sLm5hbWU7XG5cbiAgICByZXR1cm47XG59XG5cbmZ1bmN0aW9uIGNsb25lQ2hpbGRyZW4oY2hpbGQ6IE5vZGUsIHBhcmVudE5vZGU6IE5vZGUsIHBhcmFtZXRlcnM6IGFueVtdLCB0ZW1wbGF0ZU5hbWU6IHN0cmluZywgdHlwZU5hbWU6IHN0cmluZyk6IHZvaWQge1xuXG4gICAgbGV0IGZpcnN0Q2hpbGROb2RlOiBOb2RlID0gbnVsbDtcbiAgICBsZXQgbGFzdENoaWxkTm9kZTogTm9kZSA9IG51bGw7XG5cbiAgICB3aGlsZSAoY2hpbGQpIHtcblxuICAgICAgICBpZiAoY2hpbGQuc3RyaW5nVmFsdWUgPT0gXCJ0aGlzXCIgJiYgY2hpbGQucGFyZW50LnN5bWJvbCAmJlxuICAgICAgICAgICAgY2hpbGQucGFyZW50LnN5bWJvbC5raW5kID09IFN5bWJvbEtpbmQuRlVOQ1RJT05fSU5TVEFOQ0UgJiYgY2hpbGQua2luZCA9PSBOb2RlS2luZC5UWVBFKSB7XG4gICAgICAgICAgICBjaGlsZCA9IGNoaWxkLm5leHRTaWJsaW5nO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgY2hpbGROb2RlOiBOb2RlO1xuXG4gICAgICAgIGlmIChjaGlsZC5raW5kID09IE5vZGVLaW5kLlBBUkFNRVRFUlMgfHwgY2hpbGQua2luZCA9PSBOb2RlS2luZC5QQVJBTUVURVIpIHtcbiAgICAgICAgICAgIGNoaWxkID0gY2hpbGQubmV4dFNpYmxpbmc7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjaGlsZC5pc0dlbmVyaWMoKSkge1xuICAgICAgICAgICAgbGV0IG9mZnNldCA9IGNoaWxkLm9mZnNldDtcbiAgICAgICAgICAgIGlmIChjaGlsZC5yZXNvbHZlZFR5cGUpIHtcbiAgICAgICAgICAgICAgICBvZmZzZXQgPSBjaGlsZC5yZXNvbHZlZFR5cGUucG9pbnRlclRvID8gY2hpbGQucmVzb2x2ZWRUeXBlLnBvaW50ZXJUby5zeW1ib2wubm9kZS5vZmZzZXQgOiBjaGlsZC5yZXNvbHZlZFR5cGUuc3ltYm9sLm5vZGUub2Zmc2V0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNoaWxkLnN5bWJvbCAmJiBpc1ZhcmlhYmxlKGNoaWxkLnN5bWJvbC5raW5kKSkge1xuICAgICAgICAgICAgICAgIGNoaWxkTm9kZSA9IGNoaWxkLmNsb25lKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNoaWxkTm9kZSA9IHBhcmFtZXRlcnNbb2Zmc2V0XS5jbG9uZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2hpbGROb2RlLmtpbmQgPSBOb2RlS2luZC5OQU1FO1xuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoY2hpbGQuc3RyaW5nVmFsdWUgPT0gXCJUXCIpIHtcbiAgICAgICAgICAgICAgICBUZXJtaW5hbC53cml0ZShcIkdlbmVyaWMgdHlwZSBlc2NhcGVkIVwiKTtcbiAgICAgICAgICAgICAgICBUZXJtaW5hbC53cml0ZShjaGlsZCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNoaWxkTm9kZSA9IGNoaWxkLmNsb25lKCk7XG5cbiAgICAgICAgICAgIGlmIChjaGlsZE5vZGUuc3RyaW5nVmFsdWUgPT0gdGVtcGxhdGVOYW1lKSB7XG4gICAgICAgICAgICAgICAgY2hpbGROb2RlLnN0cmluZ1ZhbHVlID0gdHlwZU5hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjaGlsZE5vZGUucGFyZW50ID0gcGFyZW50Tm9kZTtcblxuICAgICAgICBpZiAoY2hpbGROb2RlLnN0cmluZ1ZhbHVlID09IFwiY29uc3RydWN0b3JcIiAmJiBjaGlsZE5vZGUucGFyZW50LmtpbmQgPT0gTm9kZUtpbmQuQ0xBU1MpIHtcbiAgICAgICAgICAgIGNoaWxkTm9kZS5wYXJlbnQuY29uc3RydWN0b3JGdW5jdGlvbk5vZGUgPSBjaGlsZE5vZGU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWZpcnN0Q2hpbGROb2RlKSB7XG4gICAgICAgICAgICBmaXJzdENoaWxkTm9kZSA9IGNoaWxkTm9kZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChsYXN0Q2hpbGROb2RlKSB7XG4gICAgICAgICAgICBsYXN0Q2hpbGROb2RlLm5leHRTaWJsaW5nID0gY2hpbGROb2RlO1xuICAgICAgICAgICAgY2hpbGROb2RlLnByZXZpb3VzU2libGluZyA9IGxhc3RDaGlsZE5vZGU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY2hpbGQuZmlyc3RDaGlsZCkge1xuICAgICAgICAgICAgY2xvbmVDaGlsZHJlbihjaGlsZC5maXJzdENoaWxkLCBjaGlsZE5vZGUsIHBhcmFtZXRlcnMsIHRlbXBsYXRlTmFtZSwgdHlwZU5hbWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGFzdENoaWxkTm9kZSA9IGNoaWxkTm9kZTtcblxuICAgICAgICBjaGlsZCA9IGNoaWxkLm5leHRTaWJsaW5nO1xuICAgIH1cblxuICAgIGlmIChmaXJzdENoaWxkTm9kZSAhPSBudWxsKSBwYXJlbnROb2RlLmZpcnN0Q2hpbGQgPSBmaXJzdENoaWxkTm9kZTtcbiAgICBpZiAobGFzdENoaWxkTm9kZSAhPSBudWxsKSBwYXJlbnROb2RlLmxhc3RDaGlsZCA9IGxhc3RDaGlsZE5vZGU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZXNvbHZlQ2hpbGRyZW4oY29udGV4dDogQ2hlY2tDb250ZXh0LCBub2RlOiBOb2RlLCBwYXJlbnRTY29wZTogU2NvcGUpOiB2b2lkIHtcbiAgICBsZXQgY2hpbGQgPSBub2RlLmZpcnN0Q2hpbGQ7XG4gICAgd2hpbGUgKGNoaWxkICE9IG51bGwpIHtcbiAgICAgICAgcmVzb2x2ZShjb250ZXh0LCBjaGlsZCwgcGFyZW50U2NvcGUpO1xuICAgICAgICBhc3NlcnQoY2hpbGQucmVzb2x2ZWRUeXBlICE9IG51bGwpO1xuICAgICAgICBjaGlsZCA9IGNoaWxkLm5leHRTaWJsaW5nO1xuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlc29sdmVDaGlsZHJlbkFzRXhwcmVzc2lvbnMoY29udGV4dDogQ2hlY2tDb250ZXh0LCBub2RlOiBOb2RlLCBwYXJlbnRTY29wZTogU2NvcGUpOiB2b2lkIHtcbiAgICBsZXQgY2hpbGQgPSBub2RlLmZpcnN0Q2hpbGQ7XG4gICAgd2hpbGUgKGNoaWxkICE9IG51bGwpIHtcbiAgICAgICAgcmVzb2x2ZUFzRXhwcmVzc2lvbihjb250ZXh0LCBjaGlsZCwgcGFyZW50U2NvcGUpO1xuICAgICAgICBjaGlsZCA9IGNoaWxkLm5leHRTaWJsaW5nO1xuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlc29sdmVBc0V4cHJlc3Npb24oY29udGV4dDogQ2hlY2tDb250ZXh0LCBub2RlOiBOb2RlLCBwYXJlbnRTY29wZTogU2NvcGUpOiB2b2lkIHtcbiAgICBhc3NlcnQoaXNFeHByZXNzaW9uKG5vZGUpKTtcbiAgICByZXNvbHZlKGNvbnRleHQsIG5vZGUsIHBhcmVudFNjb3BlKTtcbiAgICBhc3NlcnQobm9kZS5yZXNvbHZlZFR5cGUgIT0gbnVsbCk7XG5cbiAgICBpZiAobm9kZS5yZXNvbHZlZFR5cGUgIT0gY29udGV4dC5lcnJvclR5cGUpIHtcbiAgICAgICAgaWYgKG5vZGUuaXNUeXBlKCkpIHtcbiAgICAgICAgICAgIGNvbnRleHQubG9nLmVycm9yKG5vZGUucmFuZ2UsIFwiRXhwZWN0ZWQgZXhwcmVzc2lvbiBidXQgZm91bmQgdHlwZVwiKTtcbiAgICAgICAgICAgIG5vZGUucmVzb2x2ZWRUeXBlID0gY29udGV4dC5lcnJvclR5cGU7XG4gICAgICAgIH1cblxuICAgICAgICBlbHNlIGlmIChub2RlLnJlc29sdmVkVHlwZSA9PSBjb250ZXh0LnZvaWRUeXBlICYmIG5vZGUucGFyZW50LmtpbmQgIT0gTm9kZUtpbmQuRVhQUkVTU0lPTikge1xuICAgICAgICAgICAgY29udGV4dC5sb2cuZXJyb3Iobm9kZS5yYW5nZSwgXCJUaGlzIGV4cHJlc3Npb24gZG9lcyBub3QgcmV0dXJuIGEgdmFsdWVcIik7XG4gICAgICAgICAgICBub2RlLnJlc29sdmVkVHlwZSA9IGNvbnRleHQuZXJyb3JUeXBlO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVzb2x2ZUFzVHlwZShjb250ZXh0OiBDaGVja0NvbnRleHQsIG5vZGU6IE5vZGUsIHBhcmVudFNjb3BlOiBTY29wZSk6IHZvaWQge1xuICAgIGFzc2VydChpc0V4cHJlc3Npb24obm9kZSkpO1xuICAgIHJlc29sdmUoY29udGV4dCwgbm9kZSwgcGFyZW50U2NvcGUpO1xuICAgIGFzc2VydChub2RlLnJlc29sdmVkVHlwZSAhPSBudWxsKTtcblxuICAgIGlmIChub2RlLnJlc29sdmVkVHlwZSAhPSBjb250ZXh0LmVycm9yVHlwZSAmJiAhbm9kZS5pc1R5cGUoKSkge1xuICAgICAgICBjb250ZXh0LmxvZy5lcnJvcihub2RlLnJhbmdlLCBcIkV4cGVjdGVkIHR5cGUgYnV0IGZvdW5kIGV4cHJlc3Npb25cIik7XG4gICAgICAgIG5vZGUucmVzb2x2ZWRUeXBlID0gY29udGV4dC5lcnJvclR5cGU7XG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY2FuQ29udmVydChjb250ZXh0OiBDaGVja0NvbnRleHQsIG5vZGU6IE5vZGUsIHRvOiBUeXBlLCBraW5kOiBDb252ZXJzaW9uS2luZCk6IGJvb2xlYW4ge1xuICAgIGxldCBmcm9tID0gbm9kZS5yZXNvbHZlZFR5cGU7XG5cbiAgICBhc3NlcnQoaXNFeHByZXNzaW9uKG5vZGUpKTtcbiAgICBhc3NlcnQoZnJvbSAhPSBudWxsKTtcbiAgICBhc3NlcnQodG8gIT0gbnVsbCk7XG5cbiAgICAvL0dlbmVyaWMgYWx3YXlzIGFjY2VwdCBhbnkgdHlwZXNcbiAgICBpZiAoZnJvbS5pc0dlbmVyaWMoKSB8fCB0by5pc0dlbmVyaWMoKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBFYXJseS1vdXQgaWYgdGhlIHR5cGVzIGFyZSBpZGVudGljYWwgb3IgZXJyb3JzXG4gICAgaWYgKGZyb20gPT0gdG8gfHwgZnJvbSA9PSBjb250ZXh0LmVycm9yVHlwZSB8fCB0byA9PSBjb250ZXh0LmVycm9yVHlwZSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBBbGxvdyBjb252ZXJzaW9ucyBmcm9tIG51bGxcbiAgICBlbHNlIGlmIChmcm9tID09IGNvbnRleHQubnVsbFR5cGUvKiAmJiB0by5pc1JlZmVyZW5jZSgpKi8pIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLy8gQWxsb3cgZXhwbGljaXQgY29udmVyc2lvbnMgYmV0d2VlbiByZWZlcmVuY2VzIGluIHVuc2FmZSBtb2RlXG4gICAgZWxzZSBpZiAoLypjb250ZXh0LmlzVW5zYWZlQWxsb3dlZCAmJiAqLyhmcm9tLmlzUmVmZXJlbmNlKCkgfHwgdG8uaXNSZWZlcmVuY2UoKSkpIHtcbiAgICAgICAgaWYgKGtpbmQgPT0gQ29udmVyc2lvbktpbmQuRVhQTElDSVQpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gQWxsb3cgY29udmVyc2lvbnMgZnJvbSBib29sZWFuXG4gICAgZWxzZSBpZiAoZnJvbSA9PSBjb250ZXh0LmJvb2xlYW5UeXBlKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGludGVnZXIgY29udmVyc2lvbnNcbiAgICBlbHNlIGlmIChmcm9tLmlzSW50ZWdlcigpICYmIHRvLmlzSW50ZWdlcigpKSB7XG4gICAgICAgIGxldCBtYXNrID0gdG8uaW50ZWdlckJpdE1hc2soY29udGV4dCk7XG4gICAgICAgIGlmIChmcm9tLmlzVW5zaWduZWQoKSAmJiB0by5pc1Vuc2lnbmVkKCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIEFsbG93IGltcGxpY2l0IGNvbnZlcnNpb25zIGJldHdlZW4gZW51bXMgYW5kIGludDMyXG4gICAgICAgIGlmIChmcm9tLmlzRW51bSgpICYmIHRvID09IGZyb20udW5kZXJseWluZ1R5cGUoY29udGV4dCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghbm9kZS5pbnRWYWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gT25seSBhbGxvdyBsb3NzbGVzcyBjb252ZXJzaW9ucyBpbXBsaWNpdGx5XG4gICAgICAgIGlmIChraW5kID09IENvbnZlcnNpb25LaW5kLkVYUExJQ0lUIHx8IGZyb20uc3ltYm9sLmJ5dGVTaXplIDwgdG8uc3ltYm9sLmJ5dGVTaXplIHx8XG4gICAgICAgICAgICBub2RlLmtpbmQgPT0gTm9kZUtpbmQuSU5UMzIgJiYgKHRvLmlzVW5zaWduZWQoKVxuICAgICAgICAgICAgICAgID8gbm9kZS5pbnRWYWx1ZSA+PSAwICYmIG5vZGUuaW50VmFsdWUgPD0gTUFYX1VJTlQzMl9WQUxVRVxuICAgICAgICAgICAgICAgIDogbm9kZS5pbnRWYWx1ZSA+PSBNSU5fSU5UMzJfVkFMVUUgJiYgbm9kZS5pbnRWYWx1ZSA8PSBNQVhfSU5UMzJfVkFMVUUpKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgZWxzZSBpZiAoXG4gICAgICAgIGZyb20uaXNJbnRlZ2VyKCkgJiYgdG8uaXNGbG9hdCgpIHx8XG4gICAgICAgIGZyb20uaXNJbnRlZ2VyKCkgJiYgdG8uaXNEb3VibGUoKSB8fFxuXG4gICAgICAgIGZyb20uaXNMb25nKCkgJiYgdG8uaXNJbnRlZ2VyKCkgfHxcbiAgICAgICAgZnJvbS5pc0xvbmcoKSAmJiB0by5pc0Zsb2F0KCkgfHxcbiAgICAgICAgZnJvbS5pc0xvbmcoKSAmJiB0by5pc0RvdWJsZSgpIHx8XG5cbiAgICAgICAgZnJvbS5pc0Zsb2F0KCkgJiYgdG8uaXNJbnRlZ2VyKCkgfHxcbiAgICAgICAgZnJvbS5pc0Zsb2F0KCkgJiYgdG8uaXNMb25nKCkgfHxcblxuICAgICAgICBmcm9tLmlzRG91YmxlKCkgJiYgdG8uaXNJbnRlZ2VyKCkgfHxcbiAgICAgICAgZnJvbS5pc0RvdWJsZSgpICYmIHRvLmlzTG9uZygpIHx8XG4gICAgICAgIGZyb20uaXNEb3VibGUoKSAmJiB0by5pc0Zsb2F0KClcbiAgICApIHtcbiAgICAgICAgaWYgKGtpbmQgPT0gQ29udmVyc2lvbktpbmQuSU1QTElDSVQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBlbHNlIGlmIChcbiAgICAgICAgZnJvbS5pc0ludGVnZXIoKSAmJiB0by5pc0xvbmcoKSB8fFxuICAgICAgICBmcm9tLmlzRmxvYXQoKSAmJiB0by5pc0RvdWJsZSgpIHx8XG4gICAgICAgIGZyb20uaXNGbG9hdCgpICYmIHRvLmlzRmxvYXQoKSB8fFxuICAgICAgICBmcm9tLmlzRG91YmxlKCkgJiYgdG8uaXNEb3VibGUoKVxuICAgICkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjaGVja0NvbnZlcnNpb24oY29udGV4dDogQ2hlY2tDb250ZXh0LCBub2RlOiBOb2RlLCB0bzogVHlwZSwga2luZDogQ29udmVyc2lvbktpbmQpOiB2b2lkIHtcbiAgICBpZiAoIWNhbkNvbnZlcnQoY29udGV4dCwgbm9kZSwgdG8sIGtpbmQpKSB7XG4gICAgICAgIGNvbnRleHQubG9nLmVycm9yKG5vZGUucmFuZ2UsIFN0cmluZ0J1aWxkZXJfbmV3KClcbiAgICAgICAgICAgIC5hcHBlbmQoXCJDYW5ub3QgY29udmVydCBmcm9tIHR5cGUgJ1wiKVxuICAgICAgICAgICAgLmFwcGVuZChub2RlLnJlc29sdmVkVHlwZS50b1N0cmluZygpKVxuICAgICAgICAgICAgLmFwcGVuZChcIicgdG8gdHlwZSAnXCIpXG4gICAgICAgICAgICAuYXBwZW5kKHRvLnRvU3RyaW5nKCkpXG4gICAgICAgICAgICAuYXBwZW5kKGtpbmQgPT0gQ29udmVyc2lvbktpbmQuSU1QTElDSVQgJiYgY2FuQ29udmVydChjb250ZXh0LCBub2RlLCB0bywgQ29udmVyc2lvbktpbmQuRVhQTElDSVQpID8gXCInIHdpdGhvdXQgYSBjYXN0XCIgOiBcIidcIilcbiAgICAgICAgICAgIC5maW5pc2goKSk7XG4gICAgICAgIG5vZGUucmVzb2x2ZWRUeXBlID0gY29udGV4dC5lcnJvclR5cGU7XG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY2hlY2tTdG9yYWdlKGNvbnRleHQ6IENoZWNrQ29udGV4dCwgdGFyZ2V0OiBOb2RlKTogdm9pZCB7XG4gICAgYXNzZXJ0KGlzRXhwcmVzc2lvbih0YXJnZXQpKTtcblxuICAgIGlmICh0YXJnZXQucmVzb2x2ZWRUeXBlICE9IGNvbnRleHQuZXJyb3JUeXBlICYmXG4gICAgICAgIHRhcmdldC5raW5kICE9IE5vZGVLaW5kLklOREVYICYmXG4gICAgICAgIHRhcmdldC5raW5kICE9IE5vZGVLaW5kLlBPSU5URVJfSU5ERVggJiZcbiAgICAgICAgdGFyZ2V0LmtpbmQgIT0gTm9kZUtpbmQuREVSRUZFUkVOQ0UgJiZcbiAgICAgICAgKFxuICAgICAgICAgICAgdGFyZ2V0LmtpbmQgIT0gTm9kZUtpbmQuTkFNRSAmJlxuICAgICAgICAgICAgdGFyZ2V0LmtpbmQgIT0gTm9kZUtpbmQuRE9UIHx8XG4gICAgICAgICAgICB0YXJnZXQuc3ltYm9sICE9IG51bGwgJiZcbiAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAhaXNWYXJpYWJsZSh0YXJnZXQuc3ltYm9sLmtpbmQpIHx8XG4gICAgICAgICAgICAgICAgdGFyZ2V0LnN5bWJvbC5raW5kID09IFN5bWJvbEtpbmQuVkFSSUFCTEVfQ09OU1RBTlRcbiAgICAgICAgICAgIClcbiAgICAgICAgKVxuICAgICkge1xuICAgICAgICBjb250ZXh0LmxvZy5lcnJvcih0YXJnZXQucmFuZ2UsIFwiQ2Fubm90IHN0b3JlIHRvIHRoaXMgbG9jYXRpb25cIik7XG4gICAgICAgIHRhcmdldC5yZXNvbHZlZFR5cGUgPSBjb250ZXh0LmVycm9yVHlwZTtcbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVEZWZhdWx0VmFsdWVGb3JUeXBlKGNvbnRleHQ6IENoZWNrQ29udGV4dCwgdHlwZTogVHlwZSk6IE5vZGUge1xuICAgIGlmICh0eXBlLmlzTG9uZygpKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVMb25nKDApO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlLmlzSW50ZWdlcigpKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVJbnQoMCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUuaXNEb3VibGUoKSkge1xuICAgICAgICByZXR1cm4gY3JlYXRlRG91YmxlKDApO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlLmlzRmxvYXQoKSkge1xuICAgICAgICByZXR1cm4gY3JlYXRlRmxvYXQoMCk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGUgPT0gY29udGV4dC5ib29sZWFuVHlwZSkge1xuICAgICAgICByZXR1cm4gY3JlYXRlYm9vbGVhbihmYWxzZSk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGUuaXNDbGFzcygpKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVOdWxsKCk7XG4gICAgfVxuXG4gICAgYXNzZXJ0KHR5cGUuaXNSZWZlcmVuY2UoKSk7XG4gICAgcmV0dXJuIGNyZWF0ZU51bGwoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNpbXBsaWZ5QmluYXJ5KG5vZGU6IE5vZGUpOiB2b2lkIHtcbiAgICBsZXQgbGVmdCA9IG5vZGUuYmluYXJ5TGVmdCgpO1xuICAgIGxldCByaWdodCA9IG5vZGUuYmluYXJ5UmlnaHQoKTtcblxuICAgIC8vIENhbm9uaWNhbGl6ZSBjb21tdXRhdGl2ZSBvcGVyYXRvcnNcbiAgICBpZiAoKG5vZGUua2luZCA9PSBOb2RlS2luZC5BREQgfHwgbm9kZS5raW5kID09IE5vZGVLaW5kLk1VTFRJUExZIHx8XG4gICAgICAgIG5vZGUua2luZCA9PSBOb2RlS2luZC5CSVRXSVNFX0FORCB8fCBub2RlLmtpbmQgPT0gTm9kZUtpbmQuQklUV0lTRV9PUiB8fCBub2RlLmtpbmQgPT0gTm9kZUtpbmQuQklUV0lTRV9YT1IpICYmXG4gICAgICAgIGxlZnQua2luZCA9PSBOb2RlS2luZC5JTlQzMiAmJiByaWdodC5raW5kICE9IE5vZGVLaW5kLklOVDMyKSB7XG4gICAgICAgIG5vZGUuYXBwZW5kQ2hpbGQobGVmdC5yZW1vdmUoKSk7XG4gICAgICAgIGxlZnQgPSBub2RlLmJpbmFyeUxlZnQoKTtcbiAgICAgICAgcmlnaHQgPSBub2RlLmJpbmFyeVJpZ2h0KCk7XG4gICAgfVxuXG4gICAgLy8gQ29udmVydCBtdWx0aXBsaWNhdGlvbiBvciBkaXZpc2lvbiBieSBhIHBvd2VyIG9mIDIgaW50byBhIHNoaWZ0XG4gICAgaWYgKChub2RlLmtpbmQgPT0gTm9kZUtpbmQuTVVMVElQTFkgfHwgKG5vZGUua2luZCA9PSBOb2RlS2luZC5ESVZJREUgfHwgbm9kZS5raW5kID09IE5vZGVLaW5kLlJFTUFJTkRFUikgJiYgbm9kZS5yZXNvbHZlZFR5cGUuaXNVbnNpZ25lZCgpKSAmJlxuICAgICAgICByaWdodC5raW5kID09IE5vZGVLaW5kLklOVDMyICYmIGlzUG9zaXRpdmVQb3dlck9mMihyaWdodC5pbnRWYWx1ZSkpIHtcbiAgICAgICAgLy8gRXh0cmFjdCB0aGUgc2hpZnQgZnJvbSB0aGUgdmFsdWVcbiAgICAgICAgbGV0IHNoaWZ0ID0gLTE7XG4gICAgICAgIGxldCB2YWx1ZSA9IHJpZ2h0LmludFZhbHVlO1xuICAgICAgICB3aGlsZSAodmFsdWUgIT0gMCkge1xuICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZSA+PiAxO1xuICAgICAgICAgICAgc2hpZnQgPSBzaGlmdCArIDE7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBcInggKiAxNlwiID0+IFwieCA8PCA0XCJcbiAgICAgICAgaWYgKG5vZGUua2luZCA9PSBOb2RlS2luZC5NVUxUSVBMWSkge1xuICAgICAgICAgICAgbm9kZS5raW5kID0gTm9kZUtpbmQuU0hJRlRfTEVGVDtcbiAgICAgICAgICAgIHJpZ2h0LmludFZhbHVlID0gc2hpZnQ7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBcInggLyAxNlwiID0+IFwieCA+PiA0XCIgd2hlbiB4IGlzIHVuc2lnbmVkXG4gICAgICAgIGVsc2UgaWYgKG5vZGUua2luZCA9PSBOb2RlS2luZC5ESVZJREUpIHtcbiAgICAgICAgICAgIG5vZGUua2luZCA9IE5vZGVLaW5kLlNISUZUX1JJR0hUO1xuICAgICAgICAgICAgcmlnaHQuaW50VmFsdWUgPSBzaGlmdDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFwieCAlIDE2XCIgPT4gXCJ4ICYgMTVcIiB3aGVuIHggaXMgdW5zaWduZWRcbiAgICAgICAgZWxzZSBpZiAobm9kZS5raW5kID09IE5vZGVLaW5kLlJFTUFJTkRFUikge1xuICAgICAgICAgICAgbm9kZS5raW5kID0gTm9kZUtpbmQuQklUV0lTRV9BTkQ7XG4gICAgICAgICAgICByaWdodC5pbnRWYWx1ZSA9IHJpZ2h0LmludFZhbHVlIC0gMTtcbiAgICAgICAgfVxuXG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYXNzZXJ0KGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIEZsaXAgYWRkaXRpb24gd2l0aCBuZWdhdGlvbiBpbnRvIHN1YnRyYWN0aW9uXG4gICAgZWxzZSBpZiAobm9kZS5raW5kID09IE5vZGVLaW5kLkFERCAmJiByaWdodC5raW5kID09IE5vZGVLaW5kLk5FR0FUSVZFKSB7XG4gICAgICAgIG5vZGUua2luZCA9IE5vZGVLaW5kLlNVQlRSQUNUO1xuICAgICAgICByaWdodC5yZXBsYWNlV2l0aChyaWdodC51bmFyeVZhbHVlKCkucmVtb3ZlKCkpO1xuICAgIH1cblxuICAgIC8vIEZsaXAgYWRkaXRpb24gd2l0aCBuZWdhdGl2ZSBjb25zdGFudHMgaW50byBzdWJ0cmFjdGlvblxuICAgIGVsc2UgaWYgKG5vZGUua2luZCA9PSBOb2RlS2luZC5BREQgJiYgcmlnaHQuaXNOZWdhdGl2ZUludGVnZXIoKSkge1xuICAgICAgICBub2RlLmtpbmQgPSBOb2RlS2luZC5TVUJUUkFDVDtcbiAgICAgICAgcmlnaHQuaW50VmFsdWUgPSAtcmlnaHQuaW50VmFsdWU7XG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gYmluYXJ5SGFzVW5zaWduZWRBcmd1bWVudHMobm9kZTogTm9kZSk6IGJvb2xlYW4ge1xuICAgIGxldCBsZWZ0ID0gbm9kZS5iaW5hcnlMZWZ0KCk7XG4gICAgbGV0IHJpZ2h0ID0gbm9kZS5iaW5hcnlSaWdodCgpO1xuICAgIGxldCBsZWZ0VHlwZSA9IGxlZnQucmVzb2x2ZWRUeXBlO1xuICAgIGxldCByaWdodFR5cGUgPSByaWdodC5yZXNvbHZlZFR5cGU7XG5cbiAgICByZXR1cm4gbGVmdFR5cGUuaXNVbnNpZ25lZCgpICYmIHJpZ2h0VHlwZS5pc1Vuc2lnbmVkKCkgfHwgbGVmdFR5cGUuaXNVbnNpZ25lZCgpICYmIHJpZ2h0LmlzTm9uTmVnYXRpdmVJbnRlZ2VyKCkgfHxcbiAgICAgICAgbGVmdC5pc05vbk5lZ2F0aXZlSW50ZWdlcigpICYmIHJpZ2h0VHlwZS5pc1Vuc2lnbmVkKCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0JpbmFyeUxvbmcobm9kZTogTm9kZSk6IGJvb2xlYW4ge1xuICAgIGxldCBsZWZ0ID0gbm9kZS5iaW5hcnlMZWZ0KCk7XG4gICAgbGV0IHJpZ2h0ID0gbm9kZS5iaW5hcnlSaWdodCgpO1xuICAgIGxldCBsZWZ0VHlwZSA9IGxlZnQucmVzb2x2ZWRUeXBlO1xuICAgIGxldCByaWdodFR5cGUgPSByaWdodC5yZXNvbHZlZFR5cGU7XG5cbiAgICByZXR1cm4gbGVmdFR5cGUuaXNMb25nKCkgfHwgcmlnaHRUeXBlLmlzTG9uZygpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNCaW5hcnlEb3VibGUobm9kZTogTm9kZSk6IGJvb2xlYW4ge1xuICAgIGxldCBsZWZ0ID0gbm9kZS5iaW5hcnlMZWZ0KCk7XG4gICAgbGV0IHJpZ2h0ID0gbm9kZS5iaW5hcnlSaWdodCgpO1xuICAgIGxldCBsZWZ0VHlwZSA9IGxlZnQucmVzb2x2ZWRUeXBlO1xuICAgIGxldCByaWdodFR5cGUgPSByaWdodC5yZXNvbHZlZFR5cGU7XG5cbiAgICByZXR1cm4gbGVmdFR5cGUuaXNEb3VibGUoKSB8fCByaWdodFR5cGUuaXNEb3VibGUoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzU3ltYm9sQWNjZXNzQWxsb3dlZChjb250ZXh0OiBDaGVja0NvbnRleHQsIHN5bWJvbDogU3ltYm9sLCBub2RlOiBOb2RlLCByYW5nZTogU291cmNlUmFuZ2UpOiBib29sZWFuIHtcbiAgICBpZiAoc3ltYm9sLmlzVW5zYWZlKCkgJiYgIWNvbnRleHQuaXNVbnNhZmVBbGxvd2VkKSB7XG4gICAgICAgIGNvbnRleHQubG9nLmVycm9yKHJhbmdlLCBTdHJpbmdCdWlsZGVyX25ldygpXG4gICAgICAgICAgICAuYXBwZW5kKFwiQ2Fubm90IHVzZSBzeW1ib2wgJ1wiKVxuICAgICAgICAgICAgLmFwcGVuZChzeW1ib2wubmFtZSlcbiAgICAgICAgICAgIC5hcHBlbmQoXCInIG91dHNpZGUgYW4gJ3Vuc2FmZScgYmxvY2tcIilcbiAgICAgICAgICAgIC5maW5pc2goKSk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoc3ltYm9sLm5vZGUgIT0gbnVsbCAmJiBzeW1ib2wubm9kZS5pc1ByaXZhdGUoKSkge1xuICAgICAgICBsZXQgcGFyZW50ID0gc3ltYm9sLnBhcmVudCgpO1xuXG4gICAgICAgIGlmIChwYXJlbnQgIT0gbnVsbCAmJiBjb250ZXh0LmVuY2xvc2luZ0NsYXNzICE9IHBhcmVudCkge1xuICAgICAgICAgICAgY29udGV4dC5sb2cuZXJyb3IocmFuZ2UsIFN0cmluZ0J1aWxkZXJfbmV3KClcbiAgICAgICAgICAgICAgICAuYXBwZW5kKFwiQ2Fubm90IGFjY2VzcyBwcml2YXRlIHN5bWJvbCAnXCIpXG4gICAgICAgICAgICAgICAgLmFwcGVuZChzeW1ib2wubmFtZSlcbiAgICAgICAgICAgICAgICAuYXBwZW5kKFwiJyBoZXJlXCIpXG4gICAgICAgICAgICAgICAgLmZpbmlzaCgpKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmIChpc0Z1bmN0aW9uKHN5bWJvbC5raW5kKSAmJiAoc3ltYm9sLmlzU2V0dGVyKCkgPyAhbm9kZS5pc0Fzc2lnblRhcmdldCgpIDogIW5vZGUuaXNDYWxsVmFsdWUoKSkpIHtcbiAgICAgICAgaWYgKHN5bWJvbC5pc1NldHRlcigpKSB7XG4gICAgICAgICAgICBjb250ZXh0LmxvZy5lcnJvcihyYW5nZSwgU3RyaW5nQnVpbGRlcl9uZXcoKVxuICAgICAgICAgICAgICAgIC5hcHBlbmQoXCJDYW5ub3QgdXNlIHNldHRlciAnXCIpXG4gICAgICAgICAgICAgICAgLmFwcGVuZChzeW1ib2wubmFtZSlcbiAgICAgICAgICAgICAgICAuYXBwZW5kKFwiJyBoZXJlXCIpXG4gICAgICAgICAgICAgICAgLmZpbmlzaCgpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29udGV4dC5sb2cuZXJyb3IocmFuZ2UsIFN0cmluZ0J1aWxkZXJfbmV3KClcbiAgICAgICAgICAgICAgICAuYXBwZW5kKFwiTXVzdCBjYWxsIGZ1bmN0aW9uICdcIilcbiAgICAgICAgICAgICAgICAuYXBwZW5kKHN5bWJvbC5uYW1lKVxuICAgICAgICAgICAgICAgIC5hcHBlbmRDaGFyKCdcXCcnKVxuICAgICAgICAgICAgICAgIC5maW5pc2goKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZXNvbHZlKGNvbnRleHQ6IENoZWNrQ29udGV4dCwgbm9kZTogTm9kZSwgcGFyZW50U2NvcGU6IFNjb3BlKTogdm9pZCB7XG4gICAgbGV0IGtpbmQgPSBub2RlLmtpbmQ7XG4gICAgYXNzZXJ0KGtpbmQgPT0gTm9kZUtpbmQuRklMRSB8fCBwYXJlbnRTY29wZSAhPSBudWxsKTtcblxuICAgIGlmIChub2RlLnJlc29sdmVkVHlwZSAhPSBudWxsKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBub2RlLnJlc29sdmVkVHlwZSA9IGNvbnRleHQuZXJyb3JUeXBlO1xuXG4gICAgaWYgKGtpbmQgPT0gTm9kZUtpbmQuRklMRSB8fCBraW5kID09IE5vZGVLaW5kLkdMT0JBTCkge1xuICAgICAgICByZXNvbHZlQ2hpbGRyZW4oY29udGV4dCwgbm9kZSwgcGFyZW50U2NvcGUpO1xuICAgIH1cblxuICAgIGVsc2UgaWYgKGtpbmQgPT0gTm9kZUtpbmQuTU9EVUxFKSB7XG4gICAgICAgIGxldCBvbGRFbmNsb3NpbmdNb2R1bGUgPSBjb250ZXh0LmVuY2xvc2luZ01vZHVsZTtcbiAgICAgICAgaW5pdGlhbGl6ZVN5bWJvbChjb250ZXh0LCBub2RlLnN5bWJvbCk7XG4gICAgICAgIGNvbnRleHQuZW5jbG9zaW5nTW9kdWxlID0gbm9kZS5zeW1ib2w7XG4gICAgICAgIHJlc29sdmVDaGlsZHJlbihjb250ZXh0LCBub2RlLCBub2RlLnNjb3BlKTtcbiAgICAgICAgY29udGV4dC5lbmNsb3NpbmdNb2R1bGUgPSBvbGRFbmNsb3NpbmdNb2R1bGU7XG4gICAgfVxuXG4gICAgZWxzZSBpZiAoa2luZCA9PSBOb2RlS2luZC5JTVBPUlQgfHwga2luZCA9PSBOb2RlS2luZC5JTVBPUlRfRlJPTSkge1xuICAgICAgICAvL2lnbm9yZSBpbXBvcnRzXG4gICAgfVxuXG4gICAgZWxzZSBpZiAoa2luZCA9PSBOb2RlS2luZC5DTEFTUykge1xuICAgICAgICBsZXQgb2xkRW5jbG9zaW5nQ2xhc3MgPSBjb250ZXh0LmVuY2xvc2luZ0NsYXNzO1xuICAgICAgICBpbml0aWFsaXplU3ltYm9sKGNvbnRleHQsIG5vZGUuc3ltYm9sKTtcbiAgICAgICAgY29udGV4dC5lbmNsb3NpbmdDbGFzcyA9IG5vZGUuc3ltYm9sO1xuICAgICAgICByZXNvbHZlQ2hpbGRyZW4oY29udGV4dCwgbm9kZSwgbm9kZS5zY29wZSk7XG4gICAgICAgIGlmIChub2RlLnN5bWJvbC5raW5kID09IFN5bWJvbEtpbmQuVFlQRV9DTEFTUykge1xuICAgICAgICAgICAgbm9kZS5zeW1ib2wuZGV0ZXJtaW5lQ2xhc3NMYXlvdXQoY29udGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgY29udGV4dC5lbmNsb3NpbmdDbGFzcyA9IG9sZEVuY2xvc2luZ0NsYXNzO1xuICAgIH1cblxuICAgIGVsc2UgaWYgKGtpbmQgPT0gTm9kZUtpbmQuRU5VTSkge1xuICAgICAgICBpbml0aWFsaXplU3ltYm9sKGNvbnRleHQsIG5vZGUuc3ltYm9sKTtcbiAgICAgICAgcmVzb2x2ZUNoaWxkcmVuKGNvbnRleHQsIG5vZGUsIG5vZGUuc2NvcGUpO1xuICAgIH1cblxuICAgIGVsc2UgaWYgKGtpbmQgPT0gTm9kZUtpbmQuRlVOQ1RJT04pIHtcbiAgICAgICAgbGV0IGJvZHkgPSBub2RlLmZ1bmN0aW9uQm9keSgpO1xuICAgICAgICBpbml0aWFsaXplU3ltYm9sKGNvbnRleHQsIG5vZGUuc3ltYm9sKTtcblxuICAgICAgICBpZiAobm9kZS5zdHJpbmdWYWx1ZSA9PSBcImNvbnN0cnVjdG9yXCIgJiYgbm9kZS5wYXJlbnQua2luZCA9PSBOb2RlS2luZC5DTEFTUykge1xuICAgICAgICAgICAgbm9kZS5wYXJlbnQuY29uc3RydWN0b3JGdW5jdGlvbk5vZGUgPSBub2RlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGJvZHkgIT0gbnVsbCkge1xuICAgICAgICAgICAgbGV0IG9sZFJldHVyblR5cGUgPSBjb250ZXh0LmN1cnJlbnRSZXR1cm5UeXBlO1xuICAgICAgICAgICAgbGV0IG9sZFVuc2FmZUFsbG93ZWQgPSBjb250ZXh0LmlzVW5zYWZlQWxsb3dlZDtcbiAgICAgICAgICAgIGxldCByZXR1cm5UeXBlID0gbm9kZS5mdW5jdGlvblJldHVyblR5cGUoKTtcblxuICAgICAgICAgICAgaWYgKHJldHVyblR5cGUucmVzb2x2ZWRUeXBlLmlzVGVtcGxhdGUoKSAmJiByZXR1cm5UeXBlLmhhc1BhcmFtZXRlcnMoKSAmJiBub2RlLnBhcmVudCAhPSByZXR1cm5UeXBlLnJlc29sdmVkVHlwZS5zeW1ib2wubm9kZSkge1xuICAgICAgICAgICAgICAgIGRlcml2ZUNvbmNyZXRlQ2xhc3MoY29udGV4dCwgcmV0dXJuVHlwZSwgW3JldHVyblR5cGUuZmlyc3RDaGlsZC5maXJzdENoaWxkXSwgcmV0dXJuVHlwZS5yZXNvbHZlZFR5cGUuc3ltYm9sLnNjb3BlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29udGV4dC5jdXJyZW50UmV0dXJuVHlwZSA9IHJldHVyblR5cGUucmVzb2x2ZWRUeXBlO1xuICAgICAgICAgICAgY29udGV4dC5pc1Vuc2FmZUFsbG93ZWQgPSBub2RlLmlzVW5zYWZlKCk7XG4gICAgICAgICAgICByZXNvbHZlQ2hpbGRyZW4oY29udGV4dCwgYm9keSwgbm9kZS5zY29wZSk7XG5cbiAgICAgICAgICAgIGlmIChvbGRSZXR1cm5UeXBlICYmIG9sZFJldHVyblR5cGUuaXNUZW1wbGF0ZSgpICYmIHJldHVyblR5cGUuaGFzUGFyYW1ldGVycygpICYmIG5vZGUucGFyZW50ICE9IG9sZFJldHVyblR5cGUuc3ltYm9sLm5vZGUpIHtcbiAgICAgICAgICAgICAgICBkZXJpdmVDb25jcmV0ZUNsYXNzKGNvbnRleHQsIHJldHVyblR5cGUsIFtyZXR1cm5UeXBlLmZpcnN0Q2hpbGQuZmlyc3RDaGlsZF0sIG9sZFJldHVyblR5cGUuc3ltYm9sLnNjb3BlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gaWYgKG9sZFJldHVyblR5cGUgJiYgb2xkUmV0dXJuVHlwZS5pc1RlbXBsYXRlKCkgJiYgIW9sZFJldHVyblR5cGUuc3ltYm9sLm5vZGUuaGFzUGFyYW1ldGVycygpKSB7XG4gICAgICAgICAgICAvLyAgICAgZGVyaXZlQ29uY3JldGVDbGFzcyhjb250ZXh0LCBvbGRSZXR1cm5UeXBlLnN5bWJvbC5ub2RlLCBbb2xkUmV0dXJuVHlwZS5zeW1ib2wubm9kZS5maXJzdENoaWxkXSwgb2xkUmV0dXJuVHlwZS5zeW1ib2wuc2NvcGUpO1xuICAgICAgICAgICAgLy8gfVxuXG4gICAgICAgICAgICBjb250ZXh0LmN1cnJlbnRSZXR1cm5UeXBlID0gb2xkUmV0dXJuVHlwZTtcbiAgICAgICAgICAgIGNvbnRleHQuaXNVbnNhZmVBbGxvd2VkID0gb2xkVW5zYWZlQWxsb3dlZDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGVsc2UgaWYgKGtpbmQgPT0gTm9kZUtpbmQuUEFSQU1FVEVSKSB7XG4gICAgICAgIGxldCBzeW1ib2wgPSBub2RlLnN5bWJvbDtcblxuICAgIH1cblxuICAgIGVsc2UgaWYgKGtpbmQgPT0gTm9kZUtpbmQuVkFSSUFCTEUpIHtcbiAgICAgICAgbGV0IHN5bWJvbCA9IG5vZGUuc3ltYm9sO1xuICAgICAgICBpbml0aWFsaXplU3ltYm9sKGNvbnRleHQsIHN5bWJvbCk7XG5cbiAgICAgICAgbGV0IG9sZFVuc2FmZUFsbG93ZWQgPSBjb250ZXh0LmlzVW5zYWZlQWxsb3dlZDtcbiAgICAgICAgY29udGV4dC5pc1Vuc2FmZUFsbG93ZWQgPSBjb250ZXh0LmlzVW5zYWZlQWxsb3dlZCB8fCBub2RlLmlzVW5zYWZlKCk7XG5cbiAgICAgICAgbGV0IHZhbHVlID0gbm9kZS52YXJpYWJsZVZhbHVlKCk7XG4gICAgICAgIGlmICh2YWx1ZSAhPSBudWxsKSB7XG4gICAgICAgICAgICByZXNvbHZlQXNFeHByZXNzaW9uKGNvbnRleHQsIHZhbHVlLCBwYXJlbnRTY29wZSk7XG5cbiAgICAgICAgICAgIGNoZWNrQ29udmVyc2lvbihjb250ZXh0LCB2YWx1ZSwgc3ltYm9sLnJlc29sdmVkVHlwZVVuZGVybHlpbmdJZkVudW1WYWx1ZShjb250ZXh0KSwgQ29udmVyc2lvbktpbmQuSU1QTElDSVQpO1xuXG4gICAgICAgICAgICBpZiAoc3ltYm9sLnJlc29sdmVkVHlwZSAhPSB2YWx1ZS5yZXNvbHZlZFR5cGUpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZS5iZWNvbWVWYWx1ZVR5cGVPZihzeW1ib2wsIGNvbnRleHQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBWYXJpYWJsZSBpbml0aWFsaXplcnMgbXVzdCBiZSBjb21waWxlLXRpbWUgY29uc3RhbnRzXG4gICAgICAgICAgICBpZiAoc3ltYm9sLmtpbmQgPT0gU3ltYm9sS2luZC5WQVJJQUJMRV9HTE9CQUwgJiYgdmFsdWUua2luZCAhPSBOb2RlS2luZC5JTlQzMiAmJiB2YWx1ZS5raW5kICE9IE5vZGVLaW5kLkJPT0xFQU4gJiYgdmFsdWUua2luZCAhPSBOb2RlS2luZC5OVUxMKSB7XG4gICAgICAgICAgICAgICAgLy9jb250ZXh0LmxvZy5lcnJvcih2YWx1ZS5yYW5nZSwgXCJHbG9iYWwgaW5pdGlhbGl6ZXJzIG11c3QgYmUgY29tcGlsZS10aW1lIGNvbnN0YW50c1wiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGVsc2UgaWYgKHN5bWJvbC5yZXNvbHZlZFR5cGUgIT0gY29udGV4dC5lcnJvclR5cGUpIHtcbiAgICAgICAgICAgIHZhbHVlID0gY3JlYXRlRGVmYXVsdFZhbHVlRm9yVHlwZShjb250ZXh0LCBzeW1ib2wucmVzb2x2ZWRUeXBlKTtcbiAgICAgICAgICAgIHJlc29sdmVBc0V4cHJlc3Npb24oY29udGV4dCwgdmFsdWUsIHBhcmVudFNjb3BlKTtcbiAgICAgICAgICAgIG5vZGUuYXBwZW5kQ2hpbGQodmFsdWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQWxsb2NhdGUgZ2xvYmFsIHZhcmlhYmxlc1xuICAgICAgICBpZiAoc3ltYm9sLmtpbmQgPT0gU3ltYm9sS2luZC5WQVJJQUJMRV9HTE9CQUwgJiYgc3ltYm9sLnJlc29sdmVkVHlwZSAhPSBjb250ZXh0LmVycm9yVHlwZSkge1xuICAgICAgICAgICAgc3ltYm9sLm9mZnNldCA9IGNvbnRleHQuYWxsb2NhdGVHbG9iYWxWYXJpYWJsZU9mZnNldChzeW1ib2wucmVzb2x2ZWRUeXBlLnZhcmlhYmxlU2l6ZU9mKGNvbnRleHQpLCBzeW1ib2wucmVzb2x2ZWRUeXBlLnZhcmlhYmxlQWxpZ25tZW50T2YoY29udGV4dCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29udGV4dC5pc1Vuc2FmZUFsbG93ZWQgPSBvbGRVbnNhZmVBbGxvd2VkO1xuICAgIH1cblxuICAgIGVsc2UgaWYgKGtpbmQgPT0gTm9kZUtpbmQuQlJFQUsgfHwga2luZCA9PSBOb2RlS2luZC5DT05USU5VRSkge1xuICAgICAgICBsZXQgZm91bmQgPSBmYWxzZTtcbiAgICAgICAgbGV0IG4gPSBub2RlO1xuICAgICAgICB3aGlsZSAobiAhPSBudWxsKSB7XG4gICAgICAgICAgICBpZiAobi5raW5kID09IE5vZGVLaW5kLldISUxFKSB7XG4gICAgICAgICAgICAgICAgZm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbiA9IG4ucGFyZW50O1xuICAgICAgICB9XG4gICAgICAgIGlmICghZm91bmQpIHtcbiAgICAgICAgICAgIGNvbnRleHQubG9nLmVycm9yKG5vZGUucmFuZ2UsIFwiQ2Fubm90IHVzZSB0aGlzIHN0YXRlbWVudCBvdXRzaWRlIG9mIGEgbG9vcFwiKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGVsc2UgaWYgKGtpbmQgPT0gTm9kZUtpbmQuQkxPQ0spIHtcbiAgICAgICAgbGV0IG9sZFVuc2FmZUFsbG93ZWQgPSBjb250ZXh0LmlzVW5zYWZlQWxsb3dlZDtcbiAgICAgICAgaWYgKG5vZGUuaXNVbnNhZmUoKSkgY29udGV4dC5pc1Vuc2FmZUFsbG93ZWQgPSB0cnVlO1xuICAgICAgICByZXNvbHZlQ2hpbGRyZW4oY29udGV4dCwgbm9kZSwgbm9kZS5zY29wZSk7XG4gICAgICAgIGNvbnRleHQuaXNVbnNhZmVBbGxvd2VkID0gb2xkVW5zYWZlQWxsb3dlZDtcbiAgICB9XG5cbiAgICBlbHNlIGlmIChraW5kID09IE5vZGVLaW5kLklNUE9SVFMgfHwga2luZCA9PSBOb2RlS2luZC5DT05TVEFOVFMgfHwga2luZCA9PSBOb2RlS2luZC5WQVJJQUJMRVMpIHtcbiAgICAgICAgcmVzb2x2ZUNoaWxkcmVuKGNvbnRleHQsIG5vZGUsIHBhcmVudFNjb3BlKTtcbiAgICB9XG5cbiAgICBlbHNlIGlmIChraW5kID09IE5vZGVLaW5kLkFOWSkge1xuICAgICAgICAvL2ltcG9ydGVkIGZ1bmN0aW9ucyBoYXZlIGFueVR5cGVcbiAgICAgICAgbm9kZS5raW5kID0gTm9kZUtpbmQuVFlQRTtcbiAgICAgICAgbm9kZS5yZXNvbHZlZFR5cGUgPSBjb250ZXh0LmFueVR5cGU7XG4gICAgfVxuXG4gICAgZWxzZSBpZiAoa2luZCA9PSBOb2RlS2luZC5JTlQzMikge1xuICAgICAgICAvLyBVc2UgdGhlIHBvc2l0aXZlIGZsYWcgdG8gZGlmZmVyZW50aWF0ZSBiZXR3ZWVuIC0yMTQ3NDgzNjQ4IGFuZCAyMTQ3NDgzNjQ4XG4gICAgICAgIG5vZGUucmVzb2x2ZWRUeXBlID0gbm9kZS5pbnRWYWx1ZSA8IDAgJiYgIW5vZGUuaXNQb3NpdGl2ZSgpID8gY29udGV4dC51aW50MzJUeXBlIDogY29udGV4dC5pbnQzMlR5cGU7XG4gICAgfVxuXG4gICAgZWxzZSBpZiAoa2luZCA9PSBOb2RlS2luZC5JTlQ2NCkge1xuICAgICAgICBub2RlLnJlc29sdmVkVHlwZSA9IG5vZGUuaW50VmFsdWUgPCAwICYmICFub2RlLmlzUG9zaXRpdmUoKSA/IGNvbnRleHQudWludDY0VHlwZSA6IGNvbnRleHQuaW50NjRUeXBlO1xuICAgIH1cblxuICAgIGVsc2UgaWYgKGtpbmQgPT0gTm9kZUtpbmQuRkxPQVQzMikge1xuICAgICAgICBub2RlLnJlc29sdmVkVHlwZSA9IGNvbnRleHQuZmxvYXQzMlR5cGU7XG4gICAgfVxuXG4gICAgZWxzZSBpZiAoa2luZCA9PSBOb2RlS2luZC5GTE9BVDY0KSB7XG4gICAgICAgIG5vZGUucmVzb2x2ZWRUeXBlID0gY29udGV4dC5mbG9hdDY0VHlwZTtcbiAgICB9XG5cbiAgICBlbHNlIGlmIChraW5kID09IE5vZGVLaW5kLlNUUklORykge1xuICAgICAgICBub2RlLnJlc29sdmVkVHlwZSA9IGNvbnRleHQuc3RyaW5nVHlwZTtcbiAgICB9XG5cbiAgICBlbHNlIGlmIChraW5kID09IE5vZGVLaW5kLkJPT0xFQU4pIHtcbiAgICAgICAgbm9kZS5yZXNvbHZlZFR5cGUgPSBjb250ZXh0LmJvb2xlYW5UeXBlO1xuICAgIH1cblxuICAgIGVsc2UgaWYgKGtpbmQgPT0gTm9kZUtpbmQuTlVMTCkge1xuICAgICAgICBub2RlLnJlc29sdmVkVHlwZSA9IGNvbnRleHQubnVsbFR5cGU7XG4gICAgfVxuXG4gICAgZWxzZSBpZiAoa2luZCA9PSBOb2RlS2luZC5JTkRFWCkge1xuICAgICAgICByZXNvbHZlQ2hpbGRyZW5Bc0V4cHJlc3Npb25zKGNvbnRleHQsIG5vZGUsIHBhcmVudFNjb3BlKTtcblxuICAgICAgICBsZXQgdGFyZ2V0ID0gbm9kZS5pbmRleFRhcmdldCgpO1xuICAgICAgICBsZXQgdHlwZSA9IHRhcmdldC5yZXNvbHZlZFR5cGU7XG5cbiAgICAgICAgaWYgKHR5cGUgIT0gY29udGV4dC5lcnJvclR5cGUpIHtcbiAgICAgICAgICAgIGxldCBzeW1ib2wgPSB0eXBlLmhhc0luc3RhbmNlTWVtYmVycygpID8gdHlwZS5maW5kTWVtYmVyKFwiW11cIiwgU2NvcGVIaW50Lk5PUk1BTCkgOiBudWxsO1xuXG4gICAgICAgICAgICBpZiAoc3ltYm9sID09IG51bGwpIHtcblxuICAgICAgICAgICAgICAgIGlmICh0YXJnZXQucmVzb2x2ZWRUeXBlLnBvaW50ZXJUbyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnZlcnQgaW5kZXggdG8gcGludGVyIGluZGV4XG4gICAgICAgICAgICAgICAgICAgIG5vZGUua2luZCA9IE5vZGVLaW5kLlBPSU5URVJfSU5ERVg7XG4gICAgICAgICAgICAgICAgICAgIG5vZGUucmVzb2x2ZWRUeXBlID0gdGFyZ2V0LnJlc29sdmVkVHlwZS5wb2ludGVyVG8uc3ltYm9sLnJlc29sdmVkVHlwZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQubG9nLmVycm9yKG5vZGUuaW50ZXJuYWxSYW5nZSwgU3RyaW5nQnVpbGRlcl9uZXcoKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZChcIkNhbm5vdCBpbmRleCBpbnRvIHR5cGUgJ1wiKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCh0YXJnZXQucmVzb2x2ZWRUeXBlLnRvU3RyaW5nKCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kQ2hhcignXFwnJylcbiAgICAgICAgICAgICAgICAgICAgICAgIC5maW5pc2goKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBhc3NlcnQoc3ltYm9sLmtpbmQgPT0gU3ltYm9sS2luZC5GVU5DVElPTl9JTlNUQU5DRSB8fCBzeW1ib2wua2luZCA9PSBTeW1ib2xLaW5kLkZVTkNUSU9OX0dMT0JBTCAmJiBzeW1ib2wuc2hvdWxkQ29udmVydEluc3RhbmNlVG9HbG9iYWwoKSk7XG5cbiAgICAgICAgICAgICAgICAvLyBDb252ZXJ0IHRvIGEgcmVndWxhciBmdW5jdGlvbiBjYWxsIGFuZCByZXNvbHZlIHRoYXQgaW5zdGVhZFxuICAgICAgICAgICAgICAgIG5vZGUua2luZCA9IE5vZGVLaW5kLkNBTEw7XG4gICAgICAgICAgICAgICAgdGFyZ2V0LnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgIG5vZGUuaW5zZXJ0Q2hpbGRCZWZvcmUobm9kZS5maXJzdENoaWxkLCBjcmVhdGVNZW1iZXJSZWZlcmVuY2UodGFyZ2V0LCBzeW1ib2wpKTtcbiAgICAgICAgICAgICAgICBub2RlLnJlc29sdmVkVHlwZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZUFzRXhwcmVzc2lvbihjb250ZXh0LCBub2RlLCBwYXJlbnRTY29wZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBlbHNlIGlmIChraW5kID09IE5vZGVLaW5kLkFMSUdOX09GKSB7XG4gICAgICAgIGxldCB0eXBlID0gbm9kZS5hbGlnbk9mVHlwZSgpO1xuICAgICAgICByZXNvbHZlQXNUeXBlKGNvbnRleHQsIHR5cGUsIHBhcmVudFNjb3BlKTtcbiAgICAgICAgbm9kZS5yZXNvbHZlZFR5cGUgPSBjb250ZXh0LmludDMyVHlwZTtcblxuICAgICAgICBpZiAodHlwZS5yZXNvbHZlZFR5cGUgIT0gY29udGV4dC5lcnJvclR5cGUpIHtcbiAgICAgICAgICAgIG5vZGUuYmVjb21lSW50ZWdlckNvbnN0YW50KHR5cGUucmVzb2x2ZWRUeXBlLmFsbG9jYXRpb25BbGlnbm1lbnRPZihjb250ZXh0KSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBlbHNlIGlmIChraW5kID09IE5vZGVLaW5kLlNJWkVfT0YpIHtcbiAgICAgICAgbGV0IHR5cGUgPSBub2RlLnNpemVPZlR5cGUoKTtcbiAgICAgICAgcmVzb2x2ZUFzVHlwZShjb250ZXh0LCB0eXBlLCBwYXJlbnRTY29wZSk7XG4gICAgICAgIG5vZGUucmVzb2x2ZWRUeXBlID0gY29udGV4dC5pbnQzMlR5cGU7XG5cbiAgICAgICAgaWYgKHR5cGUucmVzb2x2ZWRUeXBlICE9IGNvbnRleHQuZXJyb3JUeXBlKSB7XG4gICAgICAgICAgICBub2RlLmJlY29tZUludGVnZXJDb25zdGFudCh0eXBlLnJlc29sdmVkVHlwZS5hbGxvY2F0aW9uU2l6ZU9mKGNvbnRleHQpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGVsc2UgaWYgKGtpbmQgPT0gTm9kZUtpbmQuVEhJUykge1xuICAgICAgICBsZXQgc3ltYm9sID0gcGFyZW50U2NvcGUuZmluZE5lc3RlZChcInRoaXNcIiwgU2NvcGVIaW50Lk5PUk1BTCwgRmluZE5lc3RlZC5OT1JNQUwpO1xuICAgICAgICBpZiAoc3ltYm9sID09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnRleHQubG9nLmVycm9yKG5vZGUucmFuZ2UsIFwiQ2Fubm90IHVzZSAndGhpcycgaGVyZVwiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG5vZGUuYmVjb21lU3ltYm9sUmVmZXJlbmNlKHN5bWJvbCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBlbHNlIGlmIChraW5kID09IE5vZGVLaW5kLlBBUlNFX0VSUk9SKSB7XG4gICAgICAgIG5vZGUucmVzb2x2ZWRUeXBlID0gY29udGV4dC5lcnJvclR5cGU7XG4gICAgfVxuXG4gICAgZWxzZSBpZiAoa2luZCA9PSBOb2RlS2luZC5OQU1FKSB7XG4gICAgICAgIGxldCBuYW1lID0gbm9kZS5zdHJpbmdWYWx1ZTtcbiAgICAgICAgbGV0IHN5bWJvbCA9IHBhcmVudFNjb3BlLmZpbmROZXN0ZWQobmFtZSwgU2NvcGVIaW50Lk5PUk1BTCwgRmluZE5lc3RlZC5OT1JNQUwpO1xuXG4gICAgICAgIGlmIChzeW1ib2wgPT0gbnVsbCkge1xuICAgICAgICAgICAgbGV0IGJ1aWxkZXIgPSBTdHJpbmdCdWlsZGVyX25ldygpXG4gICAgICAgICAgICAgICAgLmFwcGVuZChcIk5vIHN5bWJvbCBuYW1lZCAnXCIpXG4gICAgICAgICAgICAgICAgLmFwcGVuZChuYW1lKVxuICAgICAgICAgICAgICAgIC5hcHBlbmQoXCInIGhlcmVcIik7XG5cbiAgICAgICAgICAgIC8vIEluIEphdmFTY3JpcHQsIFwidGhpcy5cIiBiZWZvcmUgaW5zdGFuY2Ugc3ltYm9scyBpcyByZXF1aXJlZFxuICAgICAgICAgICAgc3ltYm9sID0gcGFyZW50U2NvcGUuZmluZE5lc3RlZChuYW1lLCBTY29wZUhpbnQuTk9STUFMLCBGaW5kTmVzdGVkLkFMTE9XX0lOU1RBTkNFX0VSUk9SUyk7XG4gICAgICAgICAgICBpZiAoc3ltYm9sICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBidWlsZGVyXG4gICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoXCIsIGRpZCB5b3UgbWVhbiAndGhpcy5cIilcbiAgICAgICAgICAgICAgICAgICAgLmFwcGVuZChzeW1ib2wubmFtZSlcbiAgICAgICAgICAgICAgICAgICAgLmFwcGVuZChcIic/XCIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBQZW9wbGUgbWF5IHRyeSB0byB1c2UgdHlwZXMgZnJvbSBUeXBlU2NyaXB0XG4gICAgICAgICAgICBlbHNlIGlmIChuYW1lID09IFwibnVtYmVyXCIpIGJ1aWxkZXIuYXBwZW5kKFwiLCB5b3UgY2Fubm90IHVzZSBnZW5lcmljIG51bWJlciB0eXBlIGZyb20gVHlwZVNjcmlwdCFcIik7XG5cbiAgICAgICAgICAgIGVsc2UgaWYgKG5hbWUgPT0gXCJib29sXCIpIGJ1aWxkZXIuYXBwZW5kKFwiLCBkaWQgeW91IG1lYW4gJ2Jvb2xlYW4nP1wiKTtcblxuICAgICAgICAgICAgY29udGV4dC5sb2cuZXJyb3Iobm9kZS5yYW5nZSwgYnVpbGRlci5maW5pc2goKSk7XG4gICAgICAgIH1cblxuICAgICAgICBlbHNlIGlmIChzeW1ib2wuc3RhdGUgPT0gU3ltYm9sU3RhdGUuSU5JVElBTElaSU5HKSB7XG4gICAgICAgICAgICBjb250ZXh0LmxvZy5lcnJvcihub2RlLnJhbmdlLCBTdHJpbmdCdWlsZGVyX25ldygpXG4gICAgICAgICAgICAgICAgLmFwcGVuZChcIkN5Y2xpYyByZWZlcmVuY2UgdG8gc3ltYm9sICdcIilcbiAgICAgICAgICAgICAgICAuYXBwZW5kKG5hbWUpXG4gICAgICAgICAgICAgICAgLmFwcGVuZChcIicgaGVyZVwiKVxuICAgICAgICAgICAgICAgIC5maW5pc2goKSk7XG4gICAgICAgIH1cblxuICAgICAgICBlbHNlIGlmIChpc1N5bWJvbEFjY2Vzc0FsbG93ZWQoY29udGV4dCwgc3ltYm9sLCBub2RlLCBub2RlLnJhbmdlKSkge1xuXG4gICAgICAgICAgICBpbml0aWFsaXplU3ltYm9sKGNvbnRleHQsIHN5bWJvbCk7XG5cbiAgICAgICAgICAgIG5vZGUuc3ltYm9sID0gc3ltYm9sO1xuICAgICAgICAgICAgbm9kZS5yZXNvbHZlZFR5cGUgPSBzeW1ib2wucmVzb2x2ZWRUeXBlO1xuXG4gICAgICAgICAgICBpZiAobm9kZS5yZXNvbHZlZFR5cGUuaXNHZW5lcmljKCkpIHtcbiAgICAgICAgICAgICAgICBub2RlLmZsYWdzIHw9IE5PREVfRkxBR19HRU5FUklDO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBJbmxpbmUgY29uc3RhbnRzXG4gICAgICAgICAgICBpZiAoc3ltYm9sLmtpbmQgPT0gU3ltYm9sS2luZC5WQVJJQUJMRV9DT05TVEFOVCkge1xuXG4gICAgICAgICAgICAgICAgaWYgKHN5bWJvbC5yZXNvbHZlZFR5cGUgPT0gY29udGV4dC5ib29sZWFuVHlwZSkge1xuICAgICAgICAgICAgICAgICAgICBub2RlLmJlY29tZUJvb2xlYW5Db25zdGFudChzeW1ib2wub2Zmc2V0ICE9IDApO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHN5bWJvbC5yZXNvbHZlZFR5cGUgPT0gY29udGV4dC5mbG9hdDMyVHlwZSkge1xuICAgICAgICAgICAgICAgICAgICBub2RlLmJlY29tZUZsb2F0Q29uc3RhbnQoc3ltYm9sLm9mZnNldCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoc3ltYm9sLnJlc29sdmVkVHlwZSA9PSBjb250ZXh0LmZsb2F0NjRUeXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIG5vZGUuYmVjb21lRG91YmxlQ29uc3RhbnQoc3ltYm9sLm9mZnNldCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoc3ltYm9sLnJlc29sdmVkVHlwZSA9PSBjb250ZXh0LmludDY0VHlwZSkge1xuICAgICAgICAgICAgICAgICAgICBub2RlLmJlY29tZUxvbmdDb25zdGFudChzeW1ib2wub2Zmc2V0KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbm9kZS5iZWNvbWVJbnRlZ2VyQ29uc3RhbnQoc3ltYm9sLm9mZnNldCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZWxzZSBpZiAoa2luZCA9PSBOb2RlS2luZC5DQVNUKSB7XG4gICAgICAgIGxldCB2YWx1ZSA9IG5vZGUuY2FzdFZhbHVlKCk7XG4gICAgICAgIGxldCB0eXBlID0gbm9kZS5jYXN0VHlwZSgpO1xuICAgICAgICByZXNvbHZlQXNFeHByZXNzaW9uKGNvbnRleHQsIHZhbHVlLCBwYXJlbnRTY29wZSk7XG4gICAgICAgIHJlc29sdmVBc1R5cGUoY29udGV4dCwgdHlwZSwgcGFyZW50U2NvcGUpO1xuICAgICAgICBsZXQgY2FzdGVkVHlwZSA9IHR5cGUucmVzb2x2ZWRUeXBlO1xuICAgICAgICBjaGVja0NvbnZlcnNpb24oY29udGV4dCwgdmFsdWUsIGNhc3RlZFR5cGUsIENvbnZlcnNpb25LaW5kLkVYUExJQ0lUKTtcbiAgICAgICAgbm9kZS5yZXNvbHZlZFR5cGUgPSBjYXN0ZWRUeXBlO1xuXG4gICAgICAgIC8vIEF1dG9tYXRpY2FsbHkgZm9sZCBjb25zdGFudHNcbiAgICAgICAgaWYgKHZhbHVlLmtpbmQgPT0gTm9kZUtpbmQuSU5UMzIgJiYgY2FzdGVkVHlwZS5pc0ludGVnZXIoKSkge1xuICAgICAgICAgICAgbGV0IHJlc3VsdCA9IHZhbHVlLmludFZhbHVlO1xuICAgICAgICAgICAgbGV0IHNoaWZ0ID0gMzIgLSBjYXN0ZWRUeXBlLmludGVnZXJCaXRDb3VudChjb250ZXh0KTtcbiAgICAgICAgICAgIG5vZGUuYmVjb21lSW50ZWdlckNvbnN0YW50KGNhc3RlZFR5cGUuaXNVbnNpZ25lZCgpXG4gICAgICAgICAgICAgICAgPyBjYXN0ZWRUeXBlLmludGVnZXJCaXRNYXNrKGNvbnRleHQpICYgcmVzdWx0XG4gICAgICAgICAgICAgICAgOiByZXN1bHQgPDwgc2hpZnQgPj4gc2hpZnQpO1xuICAgICAgICB9XG4gICAgICAgIC8vaTMyIHRvIGYzMlxuICAgICAgICBlbHNlIGlmICh2YWx1ZS5raW5kID09IE5vZGVLaW5kLklOVDMyICYmIGNhc3RlZFR5cGUuaXNGbG9hdCgpKSB7XG4gICAgICAgICAgICBub2RlLmJlY29tZUZsb2F0Q29uc3RhbnQodmFsdWUuaW50VmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIC8vaTMyIHRvIGY2NFxuICAgICAgICBlbHNlIGlmICh2YWx1ZS5raW5kID09IE5vZGVLaW5kLklOVDMyICYmIGNhc3RlZFR5cGUuaXNEb3VibGUoKSkge1xuICAgICAgICAgICAgbm9kZS5iZWNvbWVEb3VibGVDb25zdGFudCh2YWx1ZS5pbnRWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy9mMzIgdG8gaTMyXG4gICAgICAgIGVsc2UgaWYgKHZhbHVlLmtpbmQgPT0gTm9kZUtpbmQuRkxPQVQzMiAmJiBjYXN0ZWRUeXBlLmlzSW50ZWdlcigpKSB7XG4gICAgICAgICAgICBub2RlLmJlY29tZUludGVnZXJDb25zdGFudChNYXRoLnJvdW5kKHZhbHVlLmZsb2F0VmFsdWUpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGVsc2UgaWYgKGtpbmQgPT0gTm9kZUtpbmQuRE9UKSB7XG4gICAgICAgIGxldCB0YXJnZXQgPSBub2RlLmRvdFRhcmdldCgpO1xuICAgICAgICByZXNvbHZlKGNvbnRleHQsIHRhcmdldCwgcGFyZW50U2NvcGUpO1xuXG4gICAgICAgIGlmICh0YXJnZXQucmVzb2x2ZWRUeXBlICE9IGNvbnRleHQuZXJyb3JUeXBlKSB7XG4gICAgICAgICAgICBpZiAodGFyZ2V0LmlzVHlwZSgpICYmICh0YXJnZXQucmVzb2x2ZWRUeXBlLmlzRW51bSgpIHx8IHRhcmdldC5yZXNvbHZlZFR5cGUuaGFzSW5zdGFuY2VNZW1iZXJzKCkpIHx8XG4gICAgICAgICAgICAgICAgIXRhcmdldC5pc1R5cGUoKSAmJiB0YXJnZXQucmVzb2x2ZWRUeXBlLmhhc0luc3RhbmNlTWVtYmVycygpKSB7XG4gICAgICAgICAgICAgICAgbGV0IG5hbWUgPSBub2RlLnN0cmluZ1ZhbHVlO1xuXG4gICAgICAgICAgICAgICAgLy8gRW1wdHkgbmFtZXMgYXJlIGxlZnQgb3ZlciBmcm9tIHBhcnNlIGVycm9ycyB0aGF0IGhhdmUgYWxyZWFkeSBiZWVuIHJlcG9ydGVkXG4gICAgICAgICAgICAgICAgaWYgKG5hbWUubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgc3ltYm9sID0gdGFyZ2V0LnJlc29sdmVkVHlwZS5maW5kTWVtYmVyKG5hbWUsIG5vZGUuaXNBc3NpZ25UYXJnZXQoKSA/IFNjb3BlSGludC5QUkVGRVJfU0VUVEVSIDogU2NvcGVIaW50LlBSRUZFUl9HRVRURVIpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChzeW1ib2wgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5sb2cuZXJyb3Iobm9kZS5pbnRlcm5hbFJhbmdlLCBTdHJpbmdCdWlsZGVyX25ldygpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZChcIk5vIG1lbWJlciBuYW1lZCAnXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZChuYW1lKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoXCInIG9uIHR5cGUgJ1wiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQodGFyZ2V0LnJlc29sdmVkVHlwZS50b1N0cmluZygpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmRDaGFyKCdcXCcnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5maW5pc2goKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBBdXRvbWF0aWNhbGx5IGNhbGwgZ2V0dGVyc1xuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzeW1ib2wuaXNHZXR0ZXIoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUucGFyZW50LnN0cmluZ1ZhbHVlID09PSBub2RlLnN0cmluZ1ZhbHVlICYmIG5vZGUucGFyZW50LmtpbmQgPT09IE5vZGVLaW5kLkNBTEwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlLnBhcmVudC5yZXNvbHZlZFR5cGUgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuc3ltYm9sID0gc3ltYm9sO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUucmVzb2x2ZWRUeXBlID0gc3ltYm9sLnJlc29sdmVkVHlwZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlQXNFeHByZXNzaW9uKGNvbnRleHQsIG5vZGUucGFyZW50LCBwYXJlbnRTY29wZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUua2luZCA9IE5vZGVLaW5kLkNBTEw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5hcHBlbmRDaGlsZChjcmVhdGVNZW1iZXJSZWZlcmVuY2UodGFyZ2V0LnJlbW92ZSgpLCBzeW1ib2wpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlLnJlc29sdmVkVHlwZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZUFzRXhwcmVzc2lvbihjb250ZXh0LCBub2RlLCBwYXJlbnRTY29wZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChpc1N5bWJvbEFjY2Vzc0FsbG93ZWQoY29udGV4dCwgc3ltYm9sLCBub2RlLCBub2RlLmludGVybmFsUmFuZ2UpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbml0aWFsaXplU3ltYm9sKGNvbnRleHQsIHN5bWJvbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlLnN5bWJvbCA9IHN5bWJvbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUucmVzb2x2ZWRUeXBlID0gc3ltYm9sLnJlc29sdmVkVHlwZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSW5saW5lIGNvbnN0YW50c1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN5bWJvbC5raW5kID09IFN5bWJvbEtpbmQuVkFSSUFCTEVfQ09OU1RBTlQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlLmJlY29tZUludGVnZXJDb25zdGFudChzeW1ib2wub2Zmc2V0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29udGV4dC5sb2cuZXJyb3Iobm9kZS5pbnRlcm5hbFJhbmdlLCBTdHJpbmdCdWlsZGVyX25ldygpXG4gICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoXCJUaGUgdHlwZSAnXCIpXG4gICAgICAgICAgICAgICAgICAgIC5hcHBlbmQodGFyZ2V0LnJlc29sdmVkVHlwZS50b1N0cmluZygpKVxuICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKFwiJyBoYXMgbm8gbWVtYmVyc1wiKVxuICAgICAgICAgICAgICAgICAgICAuZmluaXNoKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZWxzZSBpZiAoa2luZCA9PSBOb2RlS2luZC5DQUxMKSB7XG4gICAgICAgIGxldCB2YWx1ZSA9IG5vZGUuY2FsbFZhbHVlKCk7XG4gICAgICAgIHJlc29sdmVBc0V4cHJlc3Npb24oY29udGV4dCwgdmFsdWUsIHBhcmVudFNjb3BlKTtcblxuICAgICAgICBpZiAodmFsdWUucmVzb2x2ZWRUeXBlICE9IGNvbnRleHQuZXJyb3JUeXBlKSB7XG4gICAgICAgICAgICBsZXQgc3ltYm9sID0gdmFsdWUuc3ltYm9sO1xuXG4gICAgICAgICAgICAvLyBPbmx5IGZ1bmN0aW9ucyBhcmUgY2FsbGFibGVcbiAgICAgICAgICAgIGlmIChzeW1ib2wgPT0gbnVsbCB8fCAhaXNGdW5jdGlvbihzeW1ib2wua2luZCkpIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmxvZy5lcnJvcih2YWx1ZS5yYW5nZSwgU3RyaW5nQnVpbGRlcl9uZXcoKVxuICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKFwiQ2Fubm90IGNhbGwgdmFsdWUgb2YgdHlwZSAnXCIpXG4gICAgICAgICAgICAgICAgICAgIC5hcHBlbmQodmFsdWUucmVzb2x2ZWRUeXBlLnRvU3RyaW5nKCkpXG4gICAgICAgICAgICAgICAgICAgIC5hcHBlbmRDaGFyKCdcXCcnKVxuICAgICAgICAgICAgICAgICAgICAuZmluaXNoKCkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpbml0aWFsaXplU3ltYm9sKGNvbnRleHQsIHN5bWJvbCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoc3ltYm9sLnNob3VsZENvbnZlcnRJbnN0YW5jZVRvR2xvYmFsKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IG5hbWUgPSBjcmVhdGVTeW1ib2xSZWZlcmVuY2Uoc3ltYm9sKTtcbiAgICAgICAgICAgICAgICAgICAgbm9kZS5pbnNlcnRDaGlsZEJlZm9yZSh2YWx1ZSwgbmFtZS53aXRoUmFuZ2UodmFsdWUuaW50ZXJuYWxSYW5nZSkpO1xuICAgICAgICAgICAgICAgICAgICBub2RlLmluc2VydENoaWxkQmVmb3JlKHZhbHVlLCB2YWx1ZS5kb3RUYXJnZXQoKS5yZW1vdmUoKSk7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IG5hbWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbGV0IHJldHVyblR5cGUgPSBzeW1ib2wubm9kZS5mdW5jdGlvblJldHVyblR5cGUoKTtcbiAgICAgICAgICAgICAgICBsZXQgYXJndW1lbnRWYXJpYWJsZSA9IHN5bWJvbC5ub2RlLmZ1bmN0aW9uRmlyc3RBcmd1bWVudElnbm9yaW5nVGhpcygpO1xuICAgICAgICAgICAgICAgIGxldCBhcmd1bWVudFZhbHVlID0gdmFsdWUubmV4dFNpYmxpbmc7XG5cbiAgICAgICAgICAgICAgICAvLyBNYXRjaCBhcmd1bWVudCB2YWx1ZXMgd2l0aCB2YXJpYWJsZXNcbiAgICAgICAgICAgICAgICB3aGlsZSAoYXJndW1lbnRWYXJpYWJsZSAhPSByZXR1cm5UeXBlICYmIGFyZ3VtZW50VmFsdWUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlQXNFeHByZXNzaW9uKGNvbnRleHQsIGFyZ3VtZW50VmFsdWUsIHBhcmVudFNjb3BlKTtcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tDb252ZXJzaW9uKGNvbnRleHQsIGFyZ3VtZW50VmFsdWUsIGFyZ3VtZW50VmFyaWFibGUuc3ltYm9sLnJlc29sdmVkVHlwZSwgQ29udmVyc2lvbktpbmQuSU1QTElDSVQpO1xuICAgICAgICAgICAgICAgICAgICBhcmd1bWVudFZhcmlhYmxlID0gYXJndW1lbnRWYXJpYWJsZS5uZXh0U2libGluZztcbiAgICAgICAgICAgICAgICAgICAgYXJndW1lbnRWYWx1ZSA9IGFyZ3VtZW50VmFsdWUubmV4dFNpYmxpbmc7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gTm90IGVub3VnaCBhcmd1bWVudHM/XG4gICAgICAgICAgICAgICAgaWYgKHJldHVyblR5cGUucmVzb2x2ZWRUeXBlICE9IGNvbnRleHQuYW55VHlwZSkge1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChhcmd1bWVudFZhcmlhYmxlICE9IHJldHVyblR5cGUgJiYgIWFyZ3VtZW50VmFyaWFibGUuaGFzVmFyaWFibGVWYWx1ZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmxvZy5lcnJvcihub2RlLmludGVybmFsUmFuZ2UsIFN0cmluZ0J1aWxkZXJfbmV3KClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKFwiTm90IGVub3VnaCBhcmd1bWVudHMgZm9yIGZ1bmN0aW9uICdcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKHN5bWJvbC5uYW1lKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmRDaGFyKCdcXCcnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5maW5pc2goKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBUb28gbWFueSBhcmd1bWVudHM/XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGFyZ3VtZW50VmFsdWUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGFyZ3VtZW50VmFsdWUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmVBc0V4cHJlc3Npb24oY29udGV4dCwgYXJndW1lbnRWYWx1ZSwgcGFyZW50U2NvcGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3VtZW50VmFsdWUgPSBhcmd1bWVudFZhbHVlLm5leHRTaWJsaW5nO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5sb2cuZXJyb3Iobm9kZS5pbnRlcm5hbFJhbmdlLCBTdHJpbmdCdWlsZGVyX25ldygpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZChcIlRvbyBtYW55IGFyZ3VtZW50cyBmb3IgZnVuY3Rpb24gJ1wiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoc3ltYm9sLm5hbWUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZENoYXIoJ1xcJycpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmZpbmlzaCgpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChyZXR1cm5UeXBlLnJlc29sdmVkVHlwZS5pc0FycmF5KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgVGVybWluYWwud3JpdGUocmV0dXJuVHlwZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFBhc3MgdGhlIHJldHVybiB0eXBlIGFsb25nXG4gICAgICAgICAgICAgICAgbm9kZS5yZXNvbHZlZFR5cGUgPSByZXR1cm5UeXBlLnJlc29sdmVkVHlwZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGVsc2UgaWYgKGtpbmQgPT0gTm9kZUtpbmQuREVMRVRFKSB7XG4gICAgICAgIGxldCB2YWx1ZSA9IG5vZGUuZGVsZXRlVHlwZSgpO1xuXG4gICAgICAgIGlmICh2YWx1ZSAhPSBudWxsKSB7XG4gICAgICAgICAgICByZXNvbHZlQXNFeHByZXNzaW9uKGNvbnRleHQsIHZhbHVlLCBwYXJlbnRTY29wZSk7XG5cbiAgICAgICAgICAgIGlmICh2YWx1ZS5yZXNvbHZlZFR5cGUgPT0gbnVsbCB8fCB2YWx1ZS5yZXNvbHZlZFR5cGUgPT0gY29udGV4dC52b2lkVHlwZSkge1xuICAgICAgICAgICAgICAgIGNvbnRleHQubG9nLmVycm9yKHZhbHVlLnJhbmdlLCBcIlVuZXhwZWN0ZWQgZGVsZXRlIHZhbHVlICd2b2lkJ1wiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29udGV4dC5sb2cuZXJyb3Iobm9kZS5yYW5nZSwgU3RyaW5nQnVpbGRlcl9uZXcoKVxuICAgICAgICAgICAgICAgIC5hcHBlbmQoXCJFeHBlY3RlZCBkZWxldGUgdmFsdWUgJ1wiKVxuICAgICAgICAgICAgICAgIC5hcHBlbmQoY29udGV4dC5jdXJyZW50UmV0dXJuVHlwZS50b1N0cmluZygpKVxuICAgICAgICAgICAgICAgIC5hcHBlbmRDaGFyKCdcXCcnKVxuICAgICAgICAgICAgICAgIC5maW5pc2goKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBlbHNlIGlmIChraW5kID09IE5vZGVLaW5kLlJFVFVSTikge1xuICAgICAgICBsZXQgdmFsdWUgPSBub2RlLnJldHVyblZhbHVlKCk7XG5cbiAgICAgICAgaWYgKHZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgICAgIHJlc29sdmVBc0V4cHJlc3Npb24oY29udGV4dCwgdmFsdWUsIHBhcmVudFNjb3BlKTtcblxuICAgICAgICAgICAgaWYgKGNvbnRleHQuY3VycmVudFJldHVyblR5cGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGlmIChjb250ZXh0LmN1cnJlbnRSZXR1cm5UeXBlICE9IGNvbnRleHQudm9pZFR5cGUpIHtcblxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUucmVzb2x2ZWRUeXBlLmlzVGVtcGxhdGUoKSAmJiB2YWx1ZS5oYXNQYXJhbWV0ZXJzKCkgJiYgbm9kZS5wYXJlbnQgIT0gdmFsdWUucmVzb2x2ZWRUeXBlLnN5bWJvbC5ub2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZXJpdmVDb25jcmV0ZUNsYXNzKGNvbnRleHQsIHZhbHVlLCBbdmFsdWUuZmlyc3RDaGlsZC5maXJzdENoaWxkXSwgdmFsdWUucmVzb2x2ZWRUeXBlLnN5bWJvbC5zY29wZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBjaGVja0NvbnZlcnNpb24oY29udGV4dCwgdmFsdWUsIGNvbnRleHQuY3VycmVudFJldHVyblR5cGUsIENvbnZlcnNpb25LaW5kLklNUExJQ0lUKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5sb2cuZXJyb3IodmFsdWUucmFuZ2UsIFwiVW5leHBlY3RlZCByZXR1cm4gdmFsdWUgaW4gZnVuY3Rpb24gcmV0dXJuaW5nICd2b2lkJ1wiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG5vZGUucGFyZW50LnJldHVybk5vZGUgPSBub2RlO1xuXG4gICAgICAgIH1cblxuICAgICAgICBlbHNlIGlmIChjb250ZXh0LmN1cnJlbnRSZXR1cm5UeXBlICE9IG51bGwgJiYgY29udGV4dC5jdXJyZW50UmV0dXJuVHlwZSAhPSBjb250ZXh0LnZvaWRUeXBlKSB7XG4gICAgICAgICAgICBjb250ZXh0LmxvZy5lcnJvcihub2RlLnJhbmdlLCBTdHJpbmdCdWlsZGVyX25ldygpXG4gICAgICAgICAgICAgICAgLmFwcGVuZChcIkV4cGVjdGVkIHJldHVybiB2YWx1ZSBpbiBmdW5jdGlvbiByZXR1cm5pbmcgJ1wiKVxuICAgICAgICAgICAgICAgIC5hcHBlbmQoY29udGV4dC5jdXJyZW50UmV0dXJuVHlwZS50b1N0cmluZygpKVxuICAgICAgICAgICAgICAgIC5hcHBlbmRDaGFyKCdcXCcnKVxuICAgICAgICAgICAgICAgIC5maW5pc2goKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBlbHNlIGlmIChraW5kID09IE5vZGVLaW5kLkVNUFRZKSB7XG4gICAgfVxuXG4gICAgZWxzZSBpZiAoa2luZCA9PSBOb2RlS2luZC5QQVJBTUVURVJTKSB7XG4gICAgICAgIC8vIHJlc29sdmVBc1R5cGUoY29udGV4dCwgbm9kZS5nZW5lcmljVHlwZSgpLCBwYXJlbnRTY29wZSk7XG4gICAgICAgIC8vIHJlc29sdmVBc0V4cHJlc3Npb24oY29udGV4dCwgbm9kZS5leHByZXNzaW9uVmFsdWUoKSwgcGFyZW50U2NvcGUpO1xuICAgICAgICAvLyBjb250ZXh0LmxvZy5lcnJvcihub2RlLnJhbmdlLCBcIkdlbmVyaWNzIGFyZSBub3QgaW1wbGVtZW50ZWQgeWV0XCIpO1xuICAgIH1cblxuICAgIGVsc2UgaWYgKGtpbmQgPT0gTm9kZUtpbmQuRVhURU5EUykge1xuICAgICAgICByZXNvbHZlQXNUeXBlKGNvbnRleHQsIG5vZGUuZXh0ZW5kc1R5cGUoKSwgcGFyZW50U2NvcGUpO1xuICAgICAgICAvL2NvbnRleHQubG9nLmVycm9yKG5vZGUucmFuZ2UsIFwiU3ViY2xhc3NpbmcgaXMgbm90IGltcGxlbWVudGVkIHlldFwiKTtcbiAgICB9XG5cbiAgICBlbHNlIGlmIChraW5kID09IE5vZGVLaW5kLklNUExFTUVOVFMpIHtcbiAgICAgICAgbGV0IGNoaWxkID0gbm9kZS5maXJzdENoaWxkO1xuICAgICAgICB3aGlsZSAoY2hpbGQgIT0gbnVsbCkge1xuICAgICAgICAgICAgcmVzb2x2ZUFzVHlwZShjb250ZXh0LCBjaGlsZCwgcGFyZW50U2NvcGUpO1xuICAgICAgICAgICAgY2hpbGQgPSBjaGlsZC5uZXh0U2libGluZztcbiAgICAgICAgfVxuICAgICAgICBjb250ZXh0LmxvZy5lcnJvcihub2RlLnJhbmdlLCBcIkludGVyZmFjZXMgYXJlIG5vdCBpbXBsZW1lbnRlZCB5ZXRcIik7XG4gICAgfVxuXG4gICAgZWxzZSBpZiAoa2luZCA9PSBOb2RlS2luZC5FWFBSRVNTSU9OKSB7XG4gICAgICAgIHJlc29sdmVBc0V4cHJlc3Npb24oY29udGV4dCwgbm9kZS5leHByZXNzaW9uVmFsdWUoKSwgcGFyZW50U2NvcGUpO1xuICAgIH1cblxuICAgIGVsc2UgaWYgKGtpbmQgPT0gTm9kZUtpbmQuV0hJTEUpIHtcbiAgICAgICAgbGV0IHZhbHVlID0gbm9kZS53aGlsZVZhbHVlKCk7XG4gICAgICAgIGxldCBib2R5ID0gbm9kZS53aGlsZUJvZHkoKTtcbiAgICAgICAgcmVzb2x2ZUFzRXhwcmVzc2lvbihjb250ZXh0LCB2YWx1ZSwgcGFyZW50U2NvcGUpO1xuICAgICAgICBjaGVja0NvbnZlcnNpb24oY29udGV4dCwgdmFsdWUsIGNvbnRleHQuYm9vbGVhblR5cGUsIENvbnZlcnNpb25LaW5kLklNUExJQ0lUKTtcbiAgICAgICAgcmVzb2x2ZShjb250ZXh0LCBib2R5LCBwYXJlbnRTY29wZSk7XG4gICAgfVxuXG4gICAgZWxzZSBpZiAoa2luZCA9PSBOb2RlS2luZC5JRikge1xuICAgICAgICBsZXQgdmFsdWUgPSBub2RlLmlmVmFsdWUoKTtcbiAgICAgICAgbGV0IHllcyA9IG5vZGUuaWZUcnVlKCk7XG4gICAgICAgIGxldCBubyA9IG5vZGUuaWZGYWxzZSgpO1xuICAgICAgICByZXNvbHZlQXNFeHByZXNzaW9uKGNvbnRleHQsIHZhbHVlLCBwYXJlbnRTY29wZSk7XG4gICAgICAgIGNoZWNrQ29udmVyc2lvbihjb250ZXh0LCB2YWx1ZSwgY29udGV4dC5ib29sZWFuVHlwZSwgQ29udmVyc2lvbktpbmQuSU1QTElDSVQpO1xuICAgICAgICByZXNvbHZlKGNvbnRleHQsIHllcywgcGFyZW50U2NvcGUpO1xuICAgICAgICBpZiAobm8gIT0gbnVsbCkge1xuICAgICAgICAgICAgcmVzb2x2ZShjb250ZXh0LCBubywgcGFyZW50U2NvcGUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZWxzZSBpZiAoa2luZCA9PSBOb2RlS2luZC5IT09LKSB7XG4gICAgICAgIGxldCB2YWx1ZSA9IG5vZGUuaG9va1ZhbHVlKCk7XG4gICAgICAgIGxldCB5ZXMgPSBub2RlLmhvb2tUcnVlKCk7XG4gICAgICAgIGxldCBubyA9IG5vZGUuaG9va0ZhbHNlKCk7XG4gICAgICAgIHJlc29sdmVBc0V4cHJlc3Npb24oY29udGV4dCwgdmFsdWUsIHBhcmVudFNjb3BlKTtcbiAgICAgICAgY2hlY2tDb252ZXJzaW9uKGNvbnRleHQsIHZhbHVlLCBjb250ZXh0LmJvb2xlYW5UeXBlLCBDb252ZXJzaW9uS2luZC5JTVBMSUNJVCk7XG4gICAgICAgIHJlc29sdmUoY29udGV4dCwgeWVzLCBwYXJlbnRTY29wZSk7XG4gICAgICAgIHJlc29sdmUoY29udGV4dCwgbm8sIHBhcmVudFNjb3BlKTtcbiAgICAgICAgY2hlY2tDb252ZXJzaW9uKGNvbnRleHQsIHllcywgbm8ucmVzb2x2ZWRUeXBlLCBDb252ZXJzaW9uS2luZC5JTVBMSUNJVCk7XG4gICAgICAgIGxldCBjb21tb25UeXBlID0gKHllcy5yZXNvbHZlZFR5cGUgPT0gY29udGV4dC5udWxsVHlwZSA/IG5vIDogeWVzKS5yZXNvbHZlZFR5cGU7XG4gICAgICAgIGlmICh5ZXMucmVzb2x2ZWRUeXBlICE9IGNvbW1vblR5cGUgJiYgKHllcy5yZXNvbHZlZFR5cGUgIT0gY29udGV4dC5udWxsVHlwZSB8fCAhY29tbW9uVHlwZS5pc1JlZmVyZW5jZSgpKSAmJlxuICAgICAgICAgICAgbm8ucmVzb2x2ZWRUeXBlICE9IGNvbW1vblR5cGUgJiYgKG5vLnJlc29sdmVkVHlwZSAhPSBjb250ZXh0Lm51bGxUeXBlIHx8ICFjb21tb25UeXBlLmlzUmVmZXJlbmNlKCkpKSB7XG4gICAgICAgICAgICBjb250ZXh0LmxvZy5lcnJvcihzcGFuUmFuZ2VzKHllcy5yYW5nZSwgbm8ucmFuZ2UpLCBTdHJpbmdCdWlsZGVyX25ldygpXG4gICAgICAgICAgICAgICAgLmFwcGVuZChcIlR5cGUgJ1wiKVxuICAgICAgICAgICAgICAgIC5hcHBlbmQoeWVzLnJlc29sdmVkVHlwZS50b1N0cmluZygpKVxuICAgICAgICAgICAgICAgIC5hcHBlbmQoXCInIGlzIG5vdCB0aGUgc2FtZSBhcyB0eXBlICdcIilcbiAgICAgICAgICAgICAgICAuYXBwZW5kKG5vLnJlc29sdmVkVHlwZS50b1N0cmluZygpKVxuICAgICAgICAgICAgICAgIC5hcHBlbmRDaGFyKCdcXCcnKVxuICAgICAgICAgICAgICAgIC5maW5pc2goKSk7XG4gICAgICAgIH1cbiAgICAgICAgbm9kZS5yZXNvbHZlZFR5cGUgPSBjb21tb25UeXBlO1xuICAgIH1cblxuICAgIGVsc2UgaWYgKGtpbmQgPT0gTm9kZUtpbmQuQVNTSUdOKSB7XG4gICAgICAgIGxldCBsZWZ0ID0gbm9kZS5iaW5hcnlMZWZ0KCk7XG4gICAgICAgIGxldCByaWdodCA9IG5vZGUuYmluYXJ5UmlnaHQoKTtcblxuICAgICAgICBpZiAobGVmdC5raW5kID09IE5vZGVLaW5kLklOREVYKSB7XG4gICAgICAgICAgICByZXNvbHZlQ2hpbGRyZW5Bc0V4cHJlc3Npb25zKGNvbnRleHQsIGxlZnQsIHBhcmVudFNjb3BlKTtcblxuICAgICAgICAgICAgbGV0IHRhcmdldCA9IGxlZnQuaW5kZXhUYXJnZXQoKTtcbiAgICAgICAgICAgIGxldCB0eXBlID0gdGFyZ2V0LnJlc29sdmVkVHlwZTtcblxuICAgICAgICAgICAgaWYgKHR5cGUgIT0gY29udGV4dC5lcnJvclR5cGUpIHtcbiAgICAgICAgICAgICAgICBsZXQgc3ltYm9sID0gdHlwZS5oYXNJbnN0YW5jZU1lbWJlcnMoKSA/IHR5cGUuZmluZE1lbWJlcihcIltdPVwiLCBTY29wZUhpbnQuTk9STUFMKSA6IG51bGw7XG5cbiAgICAgICAgICAgICAgICBpZiAoc3ltYm9sID09IG51bGwpIHtcblxuICAgICAgICAgICAgICAgICAgICBpZiAodGFyZ2V0LnJlc29sdmVkVHlwZS5wb2ludGVyVG8gIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZWZ0LmtpbmQgPSBOb2RlS2luZC5QT0lOVEVSX0lOREVYO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGVmdC5yZXNvbHZlZFR5cGUgPSB0YXJnZXQucmVzb2x2ZWRUeXBlLnBvaW50ZXJUby5zeW1ib2wucmVzb2x2ZWRUeXBlO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmxvZy5lcnJvcihsZWZ0LmludGVybmFsUmFuZ2UsIFN0cmluZ0J1aWxkZXJfbmV3KClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKFwiQ2Fubm90IGluZGV4IGludG8gdHlwZSAnXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCh0YXJnZXQucmVzb2x2ZWRUeXBlLnRvU3RyaW5nKCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZENoYXIoJ1xcJycpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmZpbmlzaCgpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBhc3NlcnQoc3ltYm9sLmtpbmQgPT0gU3ltYm9sS2luZC5GVU5DVElPTl9JTlNUQU5DRSk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gQ29udmVydCB0byBhIHJlZ3VsYXIgZnVuY3Rpb24gY2FsbCBhbmQgcmVzb2x2ZSB0aGF0IGluc3RlYWRcbiAgICAgICAgICAgICAgICAgICAgbm9kZS5raW5kID0gTm9kZUtpbmQuQ0FMTDtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0LnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICAgICBsZWZ0LnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAobGVmdC5sYXN0Q2hpbGQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5pbnNlcnRDaGlsZEJlZm9yZShub2RlLmZpcnN0Q2hpbGQsIGxlZnQubGFzdENoaWxkLnJlbW92ZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBub2RlLmluc2VydENoaWxkQmVmb3JlKG5vZGUuZmlyc3RDaGlsZCwgY3JlYXRlTWVtYmVyUmVmZXJlbmNlKHRhcmdldCwgc3ltYm9sKSk7XG4gICAgICAgICAgICAgICAgICAgIG5vZGUuaW50ZXJuYWxSYW5nZSA9IHNwYW5SYW5nZXMobGVmdC5pbnRlcm5hbFJhbmdlLCByaWdodC5yYW5nZSk7XG4gICAgICAgICAgICAgICAgICAgIG5vZGUucmVzb2x2ZWRUeXBlID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZUFzRXhwcmVzc2lvbihjb250ZXh0LCBub2RlLCBwYXJlbnRTY29wZSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZighbGVmdC5yZXNvbHZlZFR5cGUpIHtcbiAgICAgICAgICAgIHJlc29sdmVBc0V4cHJlc3Npb24oY29udGV4dCwgbGVmdCwgcGFyZW50U2NvcGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQXV0b21hdGljYWxseSBjYWxsIHNldHRlcnNcbiAgICAgICAgaWYgKGxlZnQuc3ltYm9sICE9IG51bGwgJiYgbGVmdC5zeW1ib2wuaXNTZXR0ZXIoKSkge1xuICAgICAgICAgICAgbm9kZS5raW5kID0gTm9kZUtpbmQuQ0FMTDtcbiAgICAgICAgICAgIG5vZGUuaW50ZXJuYWxSYW5nZSA9IGxlZnQuaW50ZXJuYWxSYW5nZTtcbiAgICAgICAgICAgIG5vZGUucmVzb2x2ZWRUeXBlID0gbnVsbDtcbiAgICAgICAgICAgIHJlc29sdmVBc0V4cHJlc3Npb24oY29udGV4dCwgbm9kZSwgcGFyZW50U2NvcGUpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVzb2x2ZUFzRXhwcmVzc2lvbihjb250ZXh0LCByaWdodCwgcGFyZW50U2NvcGUpO1xuICAgICAgICBjaGVja0NvbnZlcnNpb24oY29udGV4dCwgcmlnaHQsIGxlZnQucmVzb2x2ZWRUeXBlLCBDb252ZXJzaW9uS2luZC5JTVBMSUNJVCk7XG4gICAgICAgIGNoZWNrU3RvcmFnZShjb250ZXh0LCBsZWZ0KTtcbiAgICAgICAgbm9kZS5yZXNvbHZlZFR5cGUgPSBsZWZ0LnJlc29sdmVkVHlwZTtcbiAgICB9XG5cbiAgICBlbHNlIGlmIChraW5kID09IE5vZGVLaW5kLk5FVykge1xuICAgICAgICBDb21waWxlci5tYWxsb2NSZXF1aXJlZCA9IHRydWU7XG4gICAgICAgIGxldCB0eXBlID0gbm9kZS5uZXdUeXBlKCk7XG4gICAgICAgIHJlc29sdmVBc1R5cGUoY29udGV4dCwgdHlwZSwgcGFyZW50U2NvcGUpO1xuXG4gICAgICAgIGlmICh0eXBlLnJlc29sdmVkVHlwZS5pc1RlbXBsYXRlKCkgJiYgdHlwZS5oYXNQYXJhbWV0ZXJzKCkgJiYgbm9kZS5wYXJlbnQgIT0gdHlwZS5yZXNvbHZlZFR5cGUuc3ltYm9sLm5vZGUpIHtcbiAgICAgICAgICAgIGRlcml2ZUNvbmNyZXRlQ2xhc3MoY29udGV4dCwgdHlwZSwgW3R5cGUuZmlyc3RDaGlsZC5maXJzdENoaWxkXSwgdHlwZS5yZXNvbHZlZFR5cGUuc3ltYm9sLnNjb3BlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlLnJlc29sdmVkVHlwZSAhPSBjb250ZXh0LmVycm9yVHlwZSkge1xuICAgICAgICAgICAgaWYgKCF0eXBlLnJlc29sdmVkVHlwZS5pc0NsYXNzKCkpIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmxvZy5lcnJvcih0eXBlLnJhbmdlLCBTdHJpbmdCdWlsZGVyX25ldygpXG4gICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoXCJDYW5ub3QgY29uc3RydWN0IHR5cGUgJ1wiKVxuICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKHR5cGUucmVzb2x2ZWRUeXBlLnRvU3RyaW5nKCkpXG4gICAgICAgICAgICAgICAgICAgIC5hcHBlbmRDaGFyKCdcXCcnKVxuICAgICAgICAgICAgICAgICAgICAuZmluaXNoKCkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBub2RlLnJlc29sdmVkVHlwZSA9IHR5cGUucmVzb2x2ZWRUeXBlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy9Db25zdHJ1Y3RvcnMgYXJndW1lbnRzXG4gICAgICAgIGxldCBjaGlsZCA9IHR5cGUubmV4dFNpYmxpbmc7XG4gICAgICAgIGxldCBjb25zdHJ1Y3Rvck5vZGUgPSBub2RlLmNvbnN0cnVjdG9yTm9kZSgpO1xuICAgICAgICBsZXQgYXJndW1lbnRWYXJpYWJsZSA9IGNvbnN0cnVjdG9yTm9kZS5mdW5jdGlvbkZpcnN0QXJndW1lbnQoKTtcbiAgICAgICAgd2hpbGUgKGNoaWxkICE9IG51bGwpIHtcbiAgICAgICAgICAgIHJlc29sdmVBc0V4cHJlc3Npb24oY29udGV4dCwgY2hpbGQsIHBhcmVudFNjb3BlKTtcbiAgICAgICAgICAgIGNoZWNrQ29udmVyc2lvbihjb250ZXh0LCBjaGlsZCwgYXJndW1lbnRWYXJpYWJsZS5zeW1ib2wucmVzb2x2ZWRUeXBlLCBDb252ZXJzaW9uS2luZC5JTVBMSUNJVCk7XG4gICAgICAgICAgICBjaGlsZCA9IGNoaWxkLm5leHRTaWJsaW5nO1xuICAgICAgICAgICAgYXJndW1lbnRWYXJpYWJsZSA9IGFyZ3VtZW50VmFyaWFibGUubmV4dFNpYmxpbmc7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBNYXRjaCBhcmd1bWVudCB2YWx1ZXMgd2l0aCB2YXJpYWJsZXNcbiAgICAgICAgLy8gd2hpbGUgKGFyZ3VtZW50VmFyaWFibGUgIT0gcmV0dXJuVHlwZSAmJiBhcmd1bWVudFZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgLy8gICAgIHJlc29sdmVBc0V4cHJlc3Npb24oY29udGV4dCwgYXJndW1lbnRWYWx1ZSwgcGFyZW50U2NvcGUpO1xuICAgICAgICAvLyAgICAgY2hlY2tDb252ZXJzaW9uKGNvbnRleHQsIGFyZ3VtZW50VmFsdWUsIGFyZ3VtZW50VmFyaWFibGUuc3ltYm9sLnJlc29sdmVkVHlwZSwgQ29udmVyc2lvbktpbmQuSU1QTElDSVQpO1xuICAgICAgICAvLyAgICAgYXJndW1lbnRWYXJpYWJsZSA9IGFyZ3VtZW50VmFyaWFibGUubmV4dFNpYmxpbmc7XG4gICAgICAgIC8vICAgICBhcmd1bWVudFZhbHVlID0gYXJndW1lbnRWYWx1ZS5uZXh0U2libGluZztcbiAgICAgICAgLy8gfVxuICAgIH1cblxuICAgIGVsc2UgaWYgKGtpbmQgPT0gTm9kZUtpbmQuUE9JTlRFUl9UWVBFKSB7XG4gICAgICAgIGxldCB2YWx1ZSA9IG5vZGUudW5hcnlWYWx1ZSgpO1xuICAgICAgICByZXNvbHZlQXNUeXBlKGNvbnRleHQsIHZhbHVlLCBwYXJlbnRTY29wZSk7XG5cbiAgICAgICAgaWYgKGNvbnRleHQudGFyZ2V0ID09IENvbXBpbGVUYXJnZXQuSkFWQVNDUklQVCkge1xuICAgICAgICAgICAgY29udGV4dC5sb2cuZXJyb3Iobm9kZS5pbnRlcm5hbFJhbmdlLCBcIkNhbm5vdCB1c2UgcG9pbnRlcnMgd2hlbiBjb21waWxpbmcgdG8gSmF2YVNjcmlwdFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qZWxzZSBpZiAoIWNvbnRleHQuaXNVbnNhZmVBbGxvd2VkKSB7XG4gICAgICAgICBjb250ZXh0LmxvZy5lcnJvcihub2RlLmludGVybmFsUmFuZ2UsIFwiQ2Fubm90IHVzZSBwb2ludGVycyBvdXRzaWRlIGFuICd1bnNhZmUnIGJsb2NrXCIpO1xuICAgICAgICAgfSovXG5cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsZXQgdHlwZSA9IHZhbHVlLnJlc29sdmVkVHlwZTtcblxuICAgICAgICAgICAgaWYgKHR5cGUgIT0gY29udGV4dC5lcnJvclR5cGUpIHtcbiAgICAgICAgICAgICAgICAvLyBpZiAoKCF0eXBlLmlzSW50ZWdlcigpICYmICF0eXBlLnN5bWJvbC5ub2RlLmlzVHVyYm8oKSkgJiYgdHlwZS5wb2ludGVyVG8gPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIC8vICAgICBjb250ZXh0LmxvZy5lcnJvcihub2RlLmludGVybmFsUmFuZ2UsIFN0cmluZ0J1aWxkZXJfbmV3KClcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIC5hcHBlbmQoXCJDYW5ub3QgY3JlYXRlIGEgcG9pbnRlciB0byBub24taW50ZWdlciB0eXBlICdcIilcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIC5hcHBlbmQodHlwZS50b1N0cmluZygpKVxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgLmFwcGVuZENoYXIoJ1xcJycpXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAuZmluaXNoKCkpO1xuICAgICAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgIC8vIGVsc2Uge1xuICAgICAgICAgICAgICAgIG5vZGUucmVzb2x2ZWRUeXBlID0gdHlwZS5wb2ludGVyVHlwZSgpO1xuICAgICAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGVsc2UgaWYgKGtpbmQgPT0gTm9kZUtpbmQuUE9JTlRFUl9JTkRFWCkge1xuICAgICAgICBkZWJ1Z2dlclxuICAgIH1cbiAgICBlbHNlIGlmIChraW5kID09IE5vZGVLaW5kLkRFUkVGRVJFTkNFKSB7XG4gICAgICAgIGxldCB2YWx1ZSA9IG5vZGUudW5hcnlWYWx1ZSgpO1xuICAgICAgICByZXNvbHZlQXNFeHByZXNzaW9uKGNvbnRleHQsIHZhbHVlLCBwYXJlbnRTY29wZSk7XG4gICAgICAgIGxldCB0eXBlID0gdmFsdWUucmVzb2x2ZWRUeXBlO1xuXG4gICAgICAgIGlmICh0eXBlICE9IGNvbnRleHQuZXJyb3JUeXBlKSB7XG4gICAgICAgICAgICBpZiAodHlwZS5wb2ludGVyVG8gPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnRleHQubG9nLmVycm9yKG5vZGUuaW50ZXJuYWxSYW5nZSwgU3RyaW5nQnVpbGRlcl9uZXcoKVxuICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKFwiQ2Fubm90IGRlcmVmZXJlbmNlIHR5cGUgJ1wiKVxuICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKHR5cGUudG9TdHJpbmcoKSlcbiAgICAgICAgICAgICAgICAgICAgLmFwcGVuZENoYXIoJ1xcJycpXG4gICAgICAgICAgICAgICAgICAgIC5maW5pc2goKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG5vZGUucmVzb2x2ZWRUeXBlID0gdHlwZS5wb2ludGVyVG87XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBlbHNlIGlmIChraW5kID09IE5vZGVLaW5kLkFERFJFU1NfT0YpIHtcbiAgICAgICAgbGV0IHZhbHVlID0gbm9kZS51bmFyeVZhbHVlKCk7XG4gICAgICAgIHJlc29sdmVBc0V4cHJlc3Npb24oY29udGV4dCwgdmFsdWUsIHBhcmVudFNjb3BlKTtcbiAgICAgICAgY29udGV4dC5sb2cuZXJyb3Iobm9kZS5pbnRlcm5hbFJhbmdlLCBcIlRoZSBhZGRyZXNzLW9mIG9wZXJhdG9yIGlzIG5vdCBzdXBwb3J0ZWRcIik7XG4gICAgfVxuXG4gICAgZWxzZSBpZiAoaXNVbmFyeShraW5kKSkge1xuICAgICAgICBsZXQgdmFsdWUgPSBub2RlLnVuYXJ5VmFsdWUoKTtcbiAgICAgICAgcmVzb2x2ZUFzRXhwcmVzc2lvbihjb250ZXh0LCB2YWx1ZSwgcGFyZW50U2NvcGUpO1xuXG4gICAgICAgIC8vIE9wZXJhdG9yIFwiIVwiIGlzIGhhcmQtY29kZWRcbiAgICAgICAgaWYgKGtpbmQgPT0gTm9kZUtpbmQuTk9UKSB7XG4gICAgICAgICAgICBjaGVja0NvbnZlcnNpb24oY29udGV4dCwgdmFsdWUsIGNvbnRleHQuYm9vbGVhblR5cGUsIENvbnZlcnNpb25LaW5kLklNUExJQ0lUKTtcbiAgICAgICAgICAgIG5vZGUucmVzb2x2ZWRUeXBlID0gY29udGV4dC5ib29sZWFuVHlwZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNwZWNpYWwtY2FzZSBsb25nIHR5cGVzXG4gICAgICAgIGVsc2UgaWYgKHZhbHVlLnJlc29sdmVkVHlwZS5pc0xvbmcoKSkge1xuICAgICAgICAgICAgaWYgKHZhbHVlLnJlc29sdmVkVHlwZS5pc1Vuc2lnbmVkKCkpIHtcbiAgICAgICAgICAgICAgICBub2RlLmZsYWdzID0gbm9kZS5mbGFncyB8IE5PREVfRkxBR19VTlNJR05FRF9PUEVSQVRPUjtcbiAgICAgICAgICAgICAgICBub2RlLnJlc29sdmVkVHlwZSA9IGNvbnRleHQudWludDY0VHlwZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbm9kZS5yZXNvbHZlZFR5cGUgPSBjb250ZXh0LmludDY0VHlwZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gQXV0b21hdGljYWxseSBmb2xkIGNvbnN0YW50c1xuICAgICAgICAgICAgaWYgKHZhbHVlLmtpbmQgPT0gTm9kZUtpbmQuSU5UNjQpIHtcbiAgICAgICAgICAgICAgICBsZXQgaW5wdXQgPSB2YWx1ZS5sb25nVmFsdWU7XG4gICAgICAgICAgICAgICAgbGV0IG91dHB1dCA9IGlucHV0O1xuICAgICAgICAgICAgICAgIGlmIChraW5kID09IE5vZGVLaW5kLkNPTVBMRU1FTlQpIG91dHB1dCA9IH5pbnB1dDtcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChraW5kID09IE5vZGVLaW5kLk5FR0FUSVZFKSBvdXRwdXQgPSAtaW5wdXQ7XG4gICAgICAgICAgICAgICAgbm9kZS5iZWNvbWVMb25nQ29uc3RhbnQob3V0cHV0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNwZWNpYWwtY2FzZSBpbnRlZ2VyIHR5cGVzXG4gICAgICAgIGVsc2UgaWYgKHZhbHVlLnJlc29sdmVkVHlwZS5pc0ludGVnZXIoKSkge1xuICAgICAgICAgICAgaWYgKHZhbHVlLnJlc29sdmVkVHlwZS5pc1Vuc2lnbmVkKCkpIHtcbiAgICAgICAgICAgICAgICBub2RlLmZsYWdzID0gbm9kZS5mbGFncyB8IE5PREVfRkxBR19VTlNJR05FRF9PUEVSQVRPUjtcbiAgICAgICAgICAgICAgICBub2RlLnJlc29sdmVkVHlwZSA9IGNvbnRleHQudWludDMyVHlwZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbm9kZS5yZXNvbHZlZFR5cGUgPSBjb250ZXh0LmludDMyVHlwZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gQXV0b21hdGljYWxseSBmb2xkIGNvbnN0YW50c1xuICAgICAgICAgICAgaWYgKHZhbHVlLmtpbmQgPT0gTm9kZUtpbmQuSU5UMzIpIHtcbiAgICAgICAgICAgICAgICBsZXQgaW5wdXQgPSB2YWx1ZS5pbnRWYWx1ZTtcbiAgICAgICAgICAgICAgICBsZXQgb3V0cHV0ID0gaW5wdXQ7XG4gICAgICAgICAgICAgICAgaWYgKGtpbmQgPT0gTm9kZUtpbmQuQ09NUExFTUVOVCkgb3V0cHV0ID0gfmlucHV0O1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGtpbmQgPT0gTm9kZUtpbmQuTkVHQVRJVkUpIG91dHB1dCA9IC1pbnB1dDtcbiAgICAgICAgICAgICAgICBub2RlLmJlY29tZUludGVnZXJDb25zdGFudChvdXRwdXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gU3BlY2lhbC1jYXNlIGRvdWJsZSB0eXBlc1xuICAgICAgICBlbHNlIGlmICh2YWx1ZS5yZXNvbHZlZFR5cGUuaXNEb3VibGUoKSkge1xuXG4gICAgICAgICAgICBub2RlLnJlc29sdmVkVHlwZSA9IGNvbnRleHQuZmxvYXQ2NFR5cGU7XG5cbiAgICAgICAgICAgIC8vIEF1dG9tYXRpY2FsbHkgZm9sZCBjb25zdGFudHNcbiAgICAgICAgICAgIGlmICh2YWx1ZS5raW5kID09IE5vZGVLaW5kLkZMT0FUNjQpIHtcbiAgICAgICAgICAgICAgICBsZXQgaW5wdXQgPSB2YWx1ZS5kb3VibGVWYWx1ZTtcbiAgICAgICAgICAgICAgICBsZXQgb3V0cHV0ID0gaW5wdXQ7XG4gICAgICAgICAgICAgICAgaWYgKGtpbmQgPT0gTm9kZUtpbmQuQ09NUExFTUVOVCkgb3V0cHV0ID0gfmlucHV0O1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGtpbmQgPT0gTm9kZUtpbmQuTkVHQVRJVkUpIG91dHB1dCA9IC1pbnB1dDtcbiAgICAgICAgICAgICAgICBub2RlLmJlY29tZURvdWJsZUNvbnN0YW50KG91dHB1dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTcGVjaWFsLWNhc2UgZmxvYXQgdHlwZXNcbiAgICAgICAgZWxzZSBpZiAodmFsdWUucmVzb2x2ZWRUeXBlLmlzRmxvYXQoKSkge1xuXG4gICAgICAgICAgICBub2RlLnJlc29sdmVkVHlwZSA9IGNvbnRleHQuZmxvYXQzMlR5cGU7XG5cbiAgICAgICAgICAgIC8vIEF1dG9tYXRpY2FsbHkgZm9sZCBjb25zdGFudHNcbiAgICAgICAgICAgIGlmICh2YWx1ZS5raW5kID09IE5vZGVLaW5kLkZMT0FUMzIpIHtcbiAgICAgICAgICAgICAgICBsZXQgaW5wdXQgPSB2YWx1ZS5mbG9hdFZhbHVlO1xuICAgICAgICAgICAgICAgIGxldCBvdXRwdXQgPSBpbnB1dDtcbiAgICAgICAgICAgICAgICBpZiAoa2luZCA9PSBOb2RlS2luZC5DT01QTEVNRU5UKSBvdXRwdXQgPSB+aW5wdXQ7XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoa2luZCA9PSBOb2RlS2luZC5ORUdBVElWRSkgb3V0cHV0ID0gLWlucHV0O1xuICAgICAgICAgICAgICAgIG5vZGUuYmVjb21lRmxvYXRDb25zdGFudChvdXRwdXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gU3VwcG9ydCBjdXN0b20gb3BlcmF0b3JzXG4gICAgICAgIGVsc2UgaWYgKHZhbHVlLnJlc29sdmVkVHlwZSAhPSBjb250ZXh0LmVycm9yVHlwZSkge1xuICAgICAgICAgICAgbGV0IG5hbWUgPSBub2RlLmludGVybmFsUmFuZ2UudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIGxldCBzeW1ib2wgPSB2YWx1ZS5yZXNvbHZlZFR5cGUuZmluZE1lbWJlcihuYW1lLCBTY29wZUhpbnQuTk9UX0JJTkFSWSk7XG5cbiAgICAgICAgICAgIC8vIEF1dG9tYXRpY2FsbHkgY2FsbCB0aGUgZnVuY3Rpb25cbiAgICAgICAgICAgIGlmIChzeW1ib2wgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIG5vZGUuYXBwZW5kQ2hpbGQoY3JlYXRlTWVtYmVyUmVmZXJlbmNlKHZhbHVlLnJlbW92ZSgpLCBzeW1ib2wpLndpdGhSYW5nZShub2RlLnJhbmdlKS53aXRoSW50ZXJuYWxSYW5nZShub2RlLmludGVybmFsUmFuZ2UpKTtcbiAgICAgICAgICAgICAgICBub2RlLmtpbmQgPSBOb2RlS2luZC5DQUxMO1xuICAgICAgICAgICAgICAgIG5vZGUucmVzb2x2ZWRUeXBlID0gbnVsbDtcbiAgICAgICAgICAgICAgICByZXNvbHZlQXNFeHByZXNzaW9uKGNvbnRleHQsIG5vZGUsIHBhcmVudFNjb3BlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29udGV4dC5sb2cuZXJyb3Iobm9kZS5pbnRlcm5hbFJhbmdlLCBTdHJpbmdCdWlsZGVyX25ldygpXG4gICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoXCJDYW5ub3QgdXNlIHVuYXJ5IG9wZXJhdG9yICdcIilcbiAgICAgICAgICAgICAgICAgICAgLmFwcGVuZChuYW1lKVxuICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKFwiJyB3aXRoIHR5cGUgJ1wiKVxuICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKHZhbHVlLnJlc29sdmVkVHlwZS50b1N0cmluZygpKVxuICAgICAgICAgICAgICAgICAgICAuYXBwZW5kQ2hhcignXFwnJylcbiAgICAgICAgICAgICAgICAgICAgLmZpbmlzaCgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGVsc2UgaWYgKGlzQmluYXJ5KGtpbmQpKSB7XG4gICAgICAgIGxldCBsZWZ0ID0gbm9kZS5iaW5hcnlMZWZ0KCk7XG4gICAgICAgIGxldCByaWdodCA9IG5vZGUuYmluYXJ5UmlnaHQoKTtcblxuICAgICAgICByZXNvbHZlQXNFeHByZXNzaW9uKGNvbnRleHQsIGxlZnQsIHBhcmVudFNjb3BlKTtcbiAgICAgICAgcmVzb2x2ZUFzRXhwcmVzc2lvbihjb250ZXh0LCByaWdodCwgcGFyZW50U2NvcGUpO1xuXG4gICAgICAgIGxldCBsZWZ0VHlwZSA9IGxlZnQucmVzb2x2ZWRUeXBlO1xuICAgICAgICBpZiAoKGxlZnRUeXBlLmlzRG91YmxlKCkgJiYgcmlnaHQucmVzb2x2ZWRUeXBlLmlzRmxvYXQoKSkgfHxcbiAgICAgICAgICAgIChsZWZ0VHlwZS5pc0xvbmcoKSAmJiByaWdodC5yZXNvbHZlZFR5cGUuaXNJbnRlZ2VyKCkpKSB7XG4gICAgICAgICAgICByaWdodC5iZWNvbWVUeXBlT2YobGVmdCwgY29udGV4dCk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcmlnaHRUeXBlID0gcmlnaHQucmVzb2x2ZWRUeXBlO1xuXG4gICAgICAgIC8vIE9wZXJhdG9ycyBcIiYmXCIgYW5kIFwifHxcIiBhcmUgaGFyZC1jb2RlZFxuICAgICAgICBpZiAoa2luZCA9PSBOb2RlS2luZC5MT0dJQ0FMX09SIHx8IGtpbmQgPT0gTm9kZUtpbmQuTE9HSUNBTF9BTkQpIHtcbiAgICAgICAgICAgIGNoZWNrQ29udmVyc2lvbihjb250ZXh0LCBsZWZ0LCBjb250ZXh0LmJvb2xlYW5UeXBlLCBDb252ZXJzaW9uS2luZC5JTVBMSUNJVCk7XG4gICAgICAgICAgICBjaGVja0NvbnZlcnNpb24oY29udGV4dCwgcmlnaHQsIGNvbnRleHQuYm9vbGVhblR5cGUsIENvbnZlcnNpb25LaW5kLklNUExJQ0lUKTtcbiAgICAgICAgICAgIG5vZGUucmVzb2x2ZWRUeXBlID0gY29udGV4dC5ib29sZWFuVHlwZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNwZWNpYWwtY2FzZSBwb2ludGVyIHR5cGVzIChpdCdzIHRoZSBlbWl0dGVyJ3Mgam9iIHRvIHNjYWxlIHRoZSBpbnRlZ2VyIGRlbHRhIGJ5IHRoZSBzaXplIG9mIHRoZSBwb2ludGVyIHRhcmdldClcbiAgICAgICAgZWxzZSBpZiAoa2luZCA9PSBOb2RlS2luZC5BREQgJiYgbGVmdFR5cGUucG9pbnRlclRvICE9IG51bGwgJiYgcmlnaHRUeXBlLmlzSW50ZWdlcigpKSB7XG4gICAgICAgICAgICBub2RlLnJlc29sdmVkVHlwZSA9IGxlZnRUeXBlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU3BlY2lhbC1jYXNlIHBvaW50ZXIgdHlwZXNcbiAgICAgICAgZWxzZSBpZiAoKGtpbmQgPT0gTm9kZUtpbmQuTEVTU19USEFOIHx8IGtpbmQgPT0gTm9kZUtpbmQuTEVTU19USEFOX0VRVUFMIHx8XG4gICAgICAgICAgICBraW5kID09IE5vZGVLaW5kLkdSRUFURVJfVEhBTiB8fCBraW5kID09IE5vZGVLaW5kLkdSRUFURVJfVEhBTl9FUVVBTCkgJiYgKFxuICAgICAgICAgICAgbGVmdFR5cGUucG9pbnRlclRvICE9IG51bGwgfHwgcmlnaHRUeXBlLnBvaW50ZXJUbyAhPSBudWxsKSkge1xuICAgICAgICAgICAgbm9kZS5yZXNvbHZlZFR5cGUgPSBjb250ZXh0LmJvb2xlYW5UeXBlO1xuXG4gICAgICAgICAgICAvLyBCb3RoIHBvaW50ZXIgdHlwZXMgbXVzdCBiZSBleGFjdGx5IHRoZSBzYW1lXG4gICAgICAgICAgICBpZiAobGVmdFR5cGUgIT0gcmlnaHRUeXBlKSB7XG4gICAgICAgICAgICAgICAgY29udGV4dC5sb2cuZXJyb3Iobm9kZS5pbnRlcm5hbFJhbmdlLCBTdHJpbmdCdWlsZGVyX25ldygpXG4gICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoXCJDYW5ub3QgY29tcGFyZSB0eXBlICdcIilcbiAgICAgICAgICAgICAgICAgICAgLmFwcGVuZChsZWZ0VHlwZS50b1N0cmluZygpKVxuICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKFwiJyB3aXRoIHR5cGUgJ1wiKVxuICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKHJpZ2h0VHlwZS50b1N0cmluZygpKVxuICAgICAgICAgICAgICAgICAgICAuYXBwZW5kQ2hhcignXFwnJylcbiAgICAgICAgICAgICAgICAgICAgLmZpbmlzaCgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE9wZXJhdG9ycyBmb3IgaW50ZWdlcnMgYW5kIGZsb2F0cyBhcmUgaGFyZC1jb2RlZFxuICAgICAgICBlbHNlIGlmIChcbiAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICBsZWZ0VHlwZS5pc0ludGVnZXIoKSB8fCBsZWZ0VHlwZS5pc0xvbmcoKSB8fFxuICAgICAgICAgICAgICAgIGxlZnRUeXBlLmlzRmxvYXQoKSB8fCBsZWZ0VHlwZS5pc0RvdWJsZSgpIHx8XG4gICAgICAgICAgICAgICAgKGxlZnRUeXBlLmlzR2VuZXJpYygpICYmIHJpZ2h0VHlwZS5pc0dlbmVyaWMoKSlcbiAgICAgICAgICAgICkgJiZcblxuICAgICAgICAgICAga2luZCAhPSBOb2RlS2luZC5FUVVBTCAmJiBraW5kICE9IE5vZGVLaW5kLk5PVF9FUVVBTCkge1xuXG4gICAgICAgICAgICBsZXQgaXNGbG9hdDogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICAgICAgbGV0IGlzRmxvYXQ2NDogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgICAgICAgICBpZiAobGVmdFR5cGUuaXNGbG9hdCgpIHx8IGxlZnRUeXBlLmlzRG91YmxlKCkpIHtcbiAgICAgICAgICAgICAgICBpc0Zsb2F0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBpc0Zsb2F0NjQgPSBsZWZ0VHlwZS5pc0RvdWJsZSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgaXNVbnNpZ25lZCA9IGJpbmFyeUhhc1Vuc2lnbmVkQXJndW1lbnRzKG5vZGUpO1xuXG4gICAgICAgICAgICAvLyBBcml0aG1ldGljIG9wZXJhdG9yc1xuICAgICAgICAgICAgaWYgKGtpbmQgPT0gTm9kZUtpbmQuQUREIHx8XG4gICAgICAgICAgICAgICAga2luZCA9PSBOb2RlS2luZC5TVUJUUkFDVCB8fFxuICAgICAgICAgICAgICAgIGtpbmQgPT0gTm9kZUtpbmQuTVVMVElQTFkgfHxcbiAgICAgICAgICAgICAgICBraW5kID09IE5vZGVLaW5kLkRJVklERSB8fFxuICAgICAgICAgICAgICAgIGtpbmQgPT0gTm9kZUtpbmQuUkVNQUlOREVSIHx8XG4gICAgICAgICAgICAgICAga2luZCA9PSBOb2RlS2luZC5CSVRXSVNFX0FORCB8fFxuICAgICAgICAgICAgICAgIGtpbmQgPT0gTm9kZUtpbmQuQklUV0lTRV9PUiB8fFxuICAgICAgICAgICAgICAgIGtpbmQgPT0gTm9kZUtpbmQuQklUV0lTRV9YT1IgfHxcbiAgICAgICAgICAgICAgICBraW5kID09IE5vZGVLaW5kLlNISUZUX0xFRlQgfHxcbiAgICAgICAgICAgICAgICBraW5kID09IE5vZGVLaW5kLlNISUZUX1JJR0hUKSB7XG5cbiAgICAgICAgICAgICAgICBsZXQgaXNMb25nID0gaXNCaW5hcnlMb25nKG5vZGUpO1xuICAgICAgICAgICAgICAgIGxldCBjb21tb25UeXBlO1xuXG4gICAgICAgICAgICAgICAgaWYgKGlzRmxvYXQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29tbW9uVHlwZSA9IGlzQmluYXJ5RG91YmxlKG5vZGUpID8gY29udGV4dC5mbG9hdDY0VHlwZSA6IGNvbnRleHQuZmxvYXQzMlR5cGU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29tbW9uVHlwZSA9IGlzVW5zaWduZWQgPyAoaXNMb25nID8gY29udGV4dC51aW50NjRUeXBlIDogY29udGV4dC51aW50MzJUeXBlKSA6IChpc0xvbmcgPyBjb250ZXh0LmludDY0VHlwZSA6IGNvbnRleHQuaW50MzJUeXBlKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoaXNVbnNpZ25lZCkge1xuICAgICAgICAgICAgICAgICAgICBub2RlLmZsYWdzID0gbm9kZS5mbGFncyB8IE5PREVfRkxBR19VTlNJR05FRF9PUEVSQVRPUjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjaGVja0NvbnZlcnNpb24oY29udGV4dCwgbGVmdCwgY29tbW9uVHlwZSwgQ29udmVyc2lvbktpbmQuSU1QTElDSVQpO1xuICAgICAgICAgICAgICAgIGNoZWNrQ29udmVyc2lvbihjb250ZXh0LCByaWdodCwgY29tbW9uVHlwZSwgQ29udmVyc2lvbktpbmQuSU1QTElDSVQpO1xuICAgICAgICAgICAgICAgIG5vZGUucmVzb2x2ZWRUeXBlID0gY29tbW9uVHlwZTtcblxuICAgICAgICAgICAgICAgIC8vIFR5cGUgY29udmVyc2lvblxuICAgICAgICAgICAgICAgIGlmIChjb21tb25UeXBlID09IGNvbnRleHQuaW50NjRUeXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChsZWZ0LmtpbmQgPT0gTm9kZUtpbmQuSU5UMzIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQua2luZCA9IE5vZGVLaW5kLklOVDY0O1xuICAgICAgICAgICAgICAgICAgICAgICAgbGVmdC5yZXNvbHZlZFR5cGUgPSBjb250ZXh0LmludDY0VHlwZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChyaWdodC5raW5kID09IE5vZGVLaW5kLklOVDMyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByaWdodC5raW5kID0gTm9kZUtpbmQuSU5UNjQ7XG4gICAgICAgICAgICAgICAgICAgICAgICByaWdodC5yZXNvbHZlZFR5cGUgPSBjb250ZXh0LmludDY0VHlwZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIEF1dG9tYXRpY2FsbHkgZm9sZCBjb25zdGFudHNcbiAgICAgICAgICAgICAgICBpZiAoKGxlZnQua2luZCA9PSBOb2RlS2luZC5JTlQzMiB8fCBsZWZ0LmtpbmQgPT0gTm9kZUtpbmQuSU5UNjQpICYmXG4gICAgICAgICAgICAgICAgICAgIChyaWdodC5raW5kID09IE5vZGVLaW5kLklOVDMyIHx8IHJpZ2h0LmtpbmQgPT0gTm9kZUtpbmQuSU5UNjQpKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBpbnB1dExlZnQgPSBsZWZ0LmludFZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBsZXQgaW5wdXRSaWdodCA9IHJpZ2h0LmludFZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBsZXQgb3V0cHV0ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGtpbmQgPT0gTm9kZUtpbmQuQUREKSBvdXRwdXQgPSBpbnB1dExlZnQgKyBpbnB1dFJpZ2h0O1xuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChraW5kID09IE5vZGVLaW5kLkJJVFdJU0VfQU5EKSBvdXRwdXQgPSBpbnB1dExlZnQgJiBpbnB1dFJpZ2h0O1xuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChraW5kID09IE5vZGVLaW5kLkJJVFdJU0VfT1IpIG91dHB1dCA9IGlucHV0TGVmdCB8IGlucHV0UmlnaHQ7XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGtpbmQgPT0gTm9kZUtpbmQuQklUV0lTRV9YT1IpIG91dHB1dCA9IGlucHV0TGVmdCBeIGlucHV0UmlnaHQ7XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGtpbmQgPT0gTm9kZUtpbmQuRElWSURFKSBvdXRwdXQgPSBpbnB1dExlZnQgLyBpbnB1dFJpZ2h0O1xuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChraW5kID09IE5vZGVLaW5kLk1VTFRJUExZKSBvdXRwdXQgPSBpbnB1dExlZnQgKiBpbnB1dFJpZ2h0O1xuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChraW5kID09IE5vZGVLaW5kLlJFTUFJTkRFUikgb3V0cHV0ID0gaW5wdXRMZWZ0ICUgaW5wdXRSaWdodDtcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoa2luZCA9PSBOb2RlS2luZC5TSElGVF9MRUZUKSBvdXRwdXQgPSBpbnB1dExlZnQgPDwgaW5wdXRSaWdodDtcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoa2luZCA9PSBOb2RlS2luZC5TSElGVF9SSUdIVCkgb3V0cHV0ID0gaXNVbnNpZ25lZCA/ICgoaW5wdXRMZWZ0KSA+PiAoaW5wdXRSaWdodCkpIDogaW5wdXRMZWZ0ID4+IGlucHV0UmlnaHQ7XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGtpbmQgPT0gTm9kZUtpbmQuU1VCVFJBQ1QpIG91dHB1dCA9IGlucHV0TGVmdCAtIGlucHV0UmlnaHQ7XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgcmV0dXJuO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChsZWZ0LmtpbmQgPT0gTm9kZUtpbmQuSU5UMzIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuYmVjb21lSW50ZWdlckNvbnN0YW50KG91dHB1dCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlLmJlY29tZUxvbmdDb25zdGFudChvdXRwdXQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoKGxlZnQua2luZCA9PSBOb2RlS2luZC5GTE9BVDMyIHx8IGxlZnQua2luZCA9PSBOb2RlS2luZC5GTE9BVDY0KSAmJlxuICAgICAgICAgICAgICAgICAgICAocmlnaHQua2luZCA9PSBOb2RlS2luZC5GTE9BVDMyIHx8IHJpZ2h0LmtpbmQgPT0gTm9kZUtpbmQuRkxPQVQ2NCkpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGlucHV0TGVmdCA9IGxlZnQuZmxvYXRWYWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGlucHV0UmlnaHQgPSByaWdodC5mbG9hdFZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBsZXQgb3V0cHV0ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGtpbmQgPT0gTm9kZUtpbmQuQUREKSBvdXRwdXQgPSBpbnB1dExlZnQgKyBpbnB1dFJpZ2h0O1xuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChraW5kID09IE5vZGVLaW5kLkJJVFdJU0VfQU5EKSBvdXRwdXQgPSBpbnB1dExlZnQgJiBpbnB1dFJpZ2h0O1xuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChraW5kID09IE5vZGVLaW5kLkJJVFdJU0VfT1IpIG91dHB1dCA9IGlucHV0TGVmdCB8IGlucHV0UmlnaHQ7XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGtpbmQgPT0gTm9kZUtpbmQuQklUV0lTRV9YT1IpIG91dHB1dCA9IGlucHV0TGVmdCBeIGlucHV0UmlnaHQ7XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGtpbmQgPT0gTm9kZUtpbmQuRElWSURFKSBvdXRwdXQgPSBpbnB1dExlZnQgLyBpbnB1dFJpZ2h0O1xuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChraW5kID09IE5vZGVLaW5kLk1VTFRJUExZKSBvdXRwdXQgPSBpbnB1dExlZnQgKiBpbnB1dFJpZ2h0O1xuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChraW5kID09IE5vZGVLaW5kLlJFTUFJTkRFUikgb3V0cHV0ID0gaW5wdXRMZWZ0ICUgaW5wdXRSaWdodDtcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoa2luZCA9PSBOb2RlS2luZC5TSElGVF9MRUZUKSBvdXRwdXQgPSBpbnB1dExlZnQgPDwgaW5wdXRSaWdodDtcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoa2luZCA9PSBOb2RlS2luZC5TSElGVF9SSUdIVCkgb3V0cHV0ID0gaW5wdXRMZWZ0ID4+IGlucHV0UmlnaHQ7XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGtpbmQgPT0gTm9kZUtpbmQuU1VCVFJBQ1QpIG91dHB1dCA9IGlucHV0TGVmdCAtIGlucHV0UmlnaHQ7XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgcmV0dXJuO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChsZWZ0LmtpbmQgPT0gTm9kZUtpbmQuRkxPQVQzMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5iZWNvbWVGbG9hdENvbnN0YW50KG91dHB1dCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlLmJlY29tZURvdWJsZUNvbnN0YW50KG91dHB1dCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc2ltcGxpZnlCaW5hcnkobm9kZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBDb21wYXJpc29uIG9wZXJhdG9yc1xuICAgICAgICAgICAgZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAga2luZCA9PSBOb2RlS2luZC5MRVNTX1RIQU4gfHxcbiAgICAgICAgICAgICAgICBraW5kID09IE5vZGVLaW5kLkxFU1NfVEhBTl9FUVVBTCB8fFxuICAgICAgICAgICAgICAgIGtpbmQgPT0gTm9kZUtpbmQuR1JFQVRFUl9USEFOIHx8XG4gICAgICAgICAgICAgICAga2luZCA9PSBOb2RlS2luZC5HUkVBVEVSX1RIQU5fRVFVQUwpIHtcblxuICAgICAgICAgICAgICAgIGxldCBleHBlY3RlZFR5cGUgPSBpc0Zsb2F0ID8gKGlzRmxvYXQ2NCA/IGNvbnRleHQuZmxvYXQ2NFR5cGUgOiBjb250ZXh0LmZsb2F0MzJUeXBlKSA6IChpc1Vuc2lnbmVkID8gY29udGV4dC51aW50MzJUeXBlIDogY29udGV4dC5pbnQzMlR5cGUpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGlzVW5zaWduZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgbm9kZS5mbGFncyA9IG5vZGUuZmxhZ3MgfCBOT0RFX0ZMQUdfVU5TSUdORURfT1BFUkFUT1I7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGxlZnRUeXBlICE9IHJpZ2h0VHlwZSkge1xuICAgICAgICAgICAgICAgICAgICBjaGVja0NvbnZlcnNpb24oY29udGV4dCwgbGVmdCwgZXhwZWN0ZWRUeXBlLCBDb252ZXJzaW9uS2luZC5JTVBMSUNJVCk7XG4gICAgICAgICAgICAgICAgICAgIGNoZWNrQ29udmVyc2lvbihjb250ZXh0LCByaWdodCwgZXhwZWN0ZWRUeXBlLCBDb252ZXJzaW9uS2luZC5JTVBMSUNJVCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbm9kZS5yZXNvbHZlZFR5cGUgPSBjb250ZXh0LmJvb2xlYW5UeXBlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmxvZy5lcnJvcihub2RlLmludGVybmFsUmFuZ2UsIFwiVGhpcyBvcGVyYXRvciBpcyBub3QgY3VycmVudGx5IHN1cHBvcnRlZFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFN1cHBvcnQgY3VzdG9tIG9wZXJhdG9yc1xuICAgICAgICBlbHNlIGlmIChsZWZ0VHlwZSAhPSBjb250ZXh0LmVycm9yVHlwZSkge1xuICAgICAgICAgICAgbGV0IG5hbWUgPSBub2RlLmludGVybmFsUmFuZ2UudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIGxldCBzeW1ib2wgPSBsZWZ0VHlwZS5maW5kTWVtYmVyKFxuICAgICAgICAgICAgICAgIGtpbmQgPT0gTm9kZUtpbmQuTk9UX0VRVUFMID8gXCI9PVwiIDpcbiAgICAgICAgICAgICAgICAgICAga2luZCA9PSBOb2RlS2luZC5MRVNTX1RIQU5fRVFVQUwgPyBcIj5cIiA6XG4gICAgICAgICAgICAgICAgICAgICAgICBraW5kID09IE5vZGVLaW5kLkdSRUFURVJfVEhBTl9FUVVBTCA/IFwiPFwiIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgICAgIFNjb3BlSGludC5OT1RfVU5BUlkpO1xuXG4gICAgICAgICAgICAvLyBBdXRvbWF0aWNhbGx5IGNhbGwgdGhlIGZ1bmN0aW9uXG4gICAgICAgICAgICBpZiAoc3ltYm9sICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBsZWZ0ID0gY3JlYXRlTWVtYmVyUmVmZXJlbmNlKGxlZnQucmVtb3ZlKCksIHN5bWJvbCkud2l0aFJhbmdlKG5vZGUucmFuZ2UpLndpdGhJbnRlcm5hbFJhbmdlKG5vZGUuaW50ZXJuYWxSYW5nZSk7XG4gICAgICAgICAgICAgICAgcmlnaHQucmVtb3ZlKCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoa2luZCA9PSBOb2RlS2luZC5OT1RfRVFVQUwgfHxcbiAgICAgICAgICAgICAgICAgICAga2luZCA9PSBOb2RlS2luZC5MRVNTX1RIQU5fRVFVQUwgfHxcbiAgICAgICAgICAgICAgICAgICAga2luZCA9PSBOb2RlS2luZC5HUkVBVEVSX1RIQU5fRVFVQUwpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNhbGwgPSBjcmVhdGVDYWxsKGxlZnQpO1xuICAgICAgICAgICAgICAgICAgICBjYWxsLmFwcGVuZENoaWxkKHJpZ2h0KTtcbiAgICAgICAgICAgICAgICAgICAgbm9kZS5raW5kID0gTm9kZUtpbmQuTk9UO1xuICAgICAgICAgICAgICAgICAgICBub2RlLmFwcGVuZENoaWxkKGNhbGwud2l0aFJhbmdlKG5vZGUucmFuZ2UpLndpdGhJbnRlcm5hbFJhbmdlKG5vZGUucmFuZ2UpKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbm9kZS5hcHBlbmRDaGlsZChsZWZ0KTtcbiAgICAgICAgICAgICAgICAgICAgbm9kZS5hcHBlbmRDaGlsZChyaWdodCk7XG4gICAgICAgICAgICAgICAgICAgIG5vZGUua2luZCA9IE5vZGVLaW5kLkNBTEw7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbm9kZS5yZXNvbHZlZFR5cGUgPSBudWxsO1xuICAgICAgICAgICAgICAgIHJlc29sdmVBc0V4cHJlc3Npb24oY29udGV4dCwgbm9kZSwgcGFyZW50U2NvcGUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBBdXRvbWF0aWNhbGx5IGltcGxlbWVudCBlcXVhbGl0eSBvcGVyYXRvcnNcbiAgICAgICAgICAgIGVsc2UgaWYgKGtpbmQgPT0gTm9kZUtpbmQuRVFVQUwgfHwga2luZCA9PSBOb2RlS2luZC5OT1RfRVFVQUwpIHtcbiAgICAgICAgICAgICAgICBub2RlLnJlc29sdmVkVHlwZSA9IGNvbnRleHQuYm9vbGVhblR5cGU7XG5cbiAgICAgICAgICAgICAgICBpZiAobGVmdFR5cGUgIT0gY29udGV4dC5lcnJvclR5cGUgJiYgcmlnaHRUeXBlICE9IGNvbnRleHQuZXJyb3JUeXBlICYmIGxlZnRUeXBlICE9IHJpZ2h0VHlwZSAmJiAhY2FuQ29udmVydChjb250ZXh0LCByaWdodCwgbGVmdFR5cGUsIENvbnZlcnNpb25LaW5kLklNUExJQ0lUKSAmJiAhY2FuQ29udmVydChjb250ZXh0LCBsZWZ0LCByaWdodFR5cGUsIENvbnZlcnNpb25LaW5kLklNUExJQ0lUKSkge1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmxvZy5lcnJvcihub2RlLmludGVybmFsUmFuZ2UsIFN0cmluZ0J1aWxkZXJfbmV3KClcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoXCJDYW5ub3QgY29tcGFyZSB0eXBlICdcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQobGVmdFR5cGUudG9TdHJpbmcoKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoXCInIHdpdGggdHlwZSAnXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKHJpZ2h0VHlwZS50b1N0cmluZygpKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZENoYXIoJ1xcJycpXG4gICAgICAgICAgICAgICAgICAgICAgICAuZmluaXNoKCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29udGV4dC5sb2cuZXJyb3Iobm9kZS5pbnRlcm5hbFJhbmdlLCBTdHJpbmdCdWlsZGVyX25ldygpXG4gICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoXCJDYW5ub3QgdXNlIGJpbmFyeSBvcGVyYXRvciAnXCIpXG4gICAgICAgICAgICAgICAgICAgIC5hcHBlbmQobmFtZSlcbiAgICAgICAgICAgICAgICAgICAgLmFwcGVuZChcIicgd2l0aCB0eXBlICdcIilcbiAgICAgICAgICAgICAgICAgICAgLmFwcGVuZChsZWZ0VHlwZS50b1N0cmluZygpKVxuICAgICAgICAgICAgICAgICAgICAuYXBwZW5kQ2hhcignXFwnJylcbiAgICAgICAgICAgICAgICAgICAgLmZpbmlzaCgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGVsc2UgaWYgKGtpbmQgPT0gTm9kZUtpbmQuVFlQRSkge1xuICAgICAgICAvL2lnbm9yZSB0eXBlc1xuICAgIH1cblxuICAgIGVsc2Uge1xuICAgICAgICBUZXJtaW5hbC5lcnJvcihgVW5leHBlY3RlZCBraW5kOiAke05vZGVLaW5kW2tpbmRdfWApO1xuICAgICAgICBhc3NlcnQoZmFsc2UpO1xuICAgIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb21waWxlci9hbmFseXplci90eXBlLWNoZWNrZXIudHMiLCIvKipcbiAqIENyZWF0ZWQgYnkgTmlkaW4gVmluYXlha2FuIG9uIDExLzAxLzE3LlxuICovXG5leHBvcnQgY29uc3QgTUlOX0lOVDMyX1ZBTFVFOm51bWJlciA9IC1NYXRoLnBvdygyLDMxKTtcbmV4cG9ydCBjb25zdCBNQVhfSU5UMzJfVkFMVUU6bnVtYmVyID0gTWF0aC5wb3coMiwzMSkgLSAxO1xuXG5leHBvcnQgY29uc3QgTUlOX1VJTlQzMl9WQUxVRTpudW1iZXIgPSAwO1xuZXhwb3J0IGNvbnN0IE1BWF9VSU5UMzJfVkFMVUU6bnVtYmVyID0gTWF0aC5wb3coMiwzMikgLSAxO1xuXG4vL0ZJWE1FOiBDYW5ub3QgcmVwcmVzZW50IDY0IGJpdCBpbnRlZ2VyIGluIGphdmFzY3JpcHRcbmV4cG9ydCBjb25zdCBNSU5fSU5UNjRfVkFMVUU6bnVtYmVyID0gLU1hdGgucG93KDIsNjMpO1xuZXhwb3J0IGNvbnN0IE1BWF9JTlQ2NF9WQUxVRTpudW1iZXIgPSBNYXRoLnBvdygyLDYzKSAtIDE7XG5leHBvcnQgY29uc3QgTUlOX1VJTlQ2NF9WQUxVRTpudW1iZXIgPSAwO1xuZXhwb3J0IGNvbnN0IE1BWF9VSU5UNjRfVkFMVUU6bnVtYmVyID0gTWF0aC5wb3coMiw2NCkgLSAxO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb21waWxlci9jb25zdC50cyIsImltcG9ydCB7aXNGdW5jdGlvbiwgU1lNQk9MX0ZMQUdfVVNFRH0gZnJvbSBcIi4uL2NvcmUvc3ltYm9sXCI7XG5pbXBvcnQge05vZGUsIE5vZGVLaW5kfSBmcm9tIFwiLi4vY29yZS9ub2RlXCI7XG5pbXBvcnQge0NvbXBpbGVyfSBmcm9tIFwiLi4vY29tcGlsZXJcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIHRyZWVTaGFraW5nTWFya0FsbFVzZWQobm9kZTogTm9kZSk6IHZvaWQge1xuICAgIHZhciBzeW1ib2wgPSBub2RlLnN5bWJvbDtcbiAgICBpZiAoc3ltYm9sICE9IG51bGwgJiYgIXN5bWJvbC5pc1VzZWQoKSAmJiBpc0Z1bmN0aW9uKHN5bWJvbC5raW5kKSAmJiBzeW1ib2wubm9kZSAhPSBudWxsKSB7XG4gICAgICAgIHN5bWJvbC5mbGFncyA9IHN5bWJvbC5mbGFncyB8IFNZTUJPTF9GTEFHX1VTRUQ7XG4gICAgICAgIHRyZWVTaGFraW5nTWFya0FsbFVzZWQoc3ltYm9sLm5vZGUpO1xuICAgICAgICBpZiAobm9kZSA9PSBzeW1ib2wubm9kZSkgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChub2RlLmtpbmQgPT0gTm9kZUtpbmQuTkVXKSB7XG4gICAgICAgIHZhciB0eXBlID0gbm9kZS5uZXdUeXBlKCkucmVzb2x2ZWRUeXBlO1xuICAgICAgICBpZiAodHlwZS5zeW1ib2wgIT0gbnVsbCkge1xuICAgICAgICAgICAgdHlwZS5zeW1ib2wuZmxhZ3MgfD0gU1lNQk9MX0ZMQUdfVVNFRDtcbiAgICAgICAgICAgIHR5cGUuc3ltYm9sLm5vZGUuY29uc3RydWN0b3JGdW5jdGlvbk5vZGUuc3ltYm9sLmZsYWdzID0gU1lNQk9MX0ZMQUdfVVNFRDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHZhciBjaGlsZCA9IG5vZGUuZmlyc3RDaGlsZDtcbiAgICB3aGlsZSAoY2hpbGQgIT0gbnVsbCkge1xuICAgICAgICB0cmVlU2hha2luZ01hcmtBbGxVc2VkKGNoaWxkKTtcbiAgICAgICAgY2hpbGQgPSBjaGlsZC5uZXh0U2libGluZztcbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0cmVlU2hha2luZ1NlYXJjaEZvclVzZWQobm9kZTogTm9kZSk6IHZvaWQge1xuICAgIGlmIChub2RlLmtpbmQgPT0gTm9kZUtpbmQuRlVOQ1RJT04gJiYgKG5vZGUuaXNFeHBvcnQoKSB8fCBub2RlLmlzU3RhcnQoKSkpIHtcbiAgICAgICAgaWYgKChub2RlLnN5bWJvbC5uYW1lID09PSBcIm1hbGxvY1wiIHx8IG5vZGUuc3ltYm9sLm5hbWUgPT09IFwiZnJlZVwiKSAmJiAhQ29tcGlsZXIubWFsbG9jUmVxdWlyZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRyZWVTaGFraW5nTWFya0FsbFVzZWQobm9kZSk7XG4gICAgfVxuXG4gICAgZWxzZSBpZiAobm9kZS5raW5kID09IE5vZGVLaW5kLkdMT0JBTCB8fCBub2RlLmtpbmQgPT0gTm9kZUtpbmQuQ0xBU1MpIHtcbiAgICAgICAgdmFyIGNoaWxkID0gbm9kZS5maXJzdENoaWxkO1xuICAgICAgICB3aGlsZSAoY2hpbGQgIT0gbnVsbCkge1xuICAgICAgICAgICAgdHJlZVNoYWtpbmdTZWFyY2hGb3JVc2VkKGNoaWxkKTtcbiAgICAgICAgICAgIGNoaWxkID0gY2hpbGQubmV4dFNpYmxpbmc7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobm9kZS5raW5kID09IE5vZGVLaW5kLkNMQVNTICYmIG5vZGUuaXNFeHBvcnQoKSkge1xuICAgICAgICAgICAgbm9kZS5zeW1ib2wuZmxhZ3MgPSBub2RlLnN5bWJvbC5mbGFncyB8IFNZTUJPTF9GTEFHX1VTRUQ7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0cmVlU2hha2luZ1JlbW92ZVVudXNlZChub2RlOiBOb2RlKTogdm9pZCB7XG4gICAgaWYgKG5vZGUua2luZCA9PSBOb2RlS2luZC5GVU5DVElPTiAmJiAhbm9kZS5zeW1ib2wuaXNVc2VkKCkgJiYgbm9kZS5yYW5nZS5zb3VyY2UuaXNMaWJyYXJ5KSB7XG4gICAgICAgIC8vIGlmIChub2RlLnN5bWJvbC5raW5kID09IFN5bWJvbEtpbmQuRlVOQ1RJT05fSU5TVEFOQ0UpIHtcbiAgICAgICAgLy8gICAgIGlmICghbm9kZS5wYXJlbnQuc3ltYm9sLmlzVXNlZCgpKSB7XG4gICAgICAgIC8vICAgICAgICAgbm9kZS5yZW1vdmUoKTtcbiAgICAgICAgLy8gICAgIH1cbiAgICAgICAgLy8gfSBlbHNlIHtcbiAgICAgICAgbm9kZS5yZW1vdmUoKTtcbiAgICAgICAgLy8gfVxuICAgIH1cblxuICAgIGVsc2UgaWYgKG5vZGUua2luZCA9PSBOb2RlS2luZC5HTE9CQUwgfHwgbm9kZS5raW5kID09IE5vZGVLaW5kLkNMQVNTKSB7XG4gICAgICAgIHZhciBjaGlsZCA9IG5vZGUuZmlyc3RDaGlsZDtcbiAgICAgICAgd2hpbGUgKGNoaWxkICE9IG51bGwpIHtcbiAgICAgICAgICAgIHZhciBuZXh0ID0gY2hpbGQubmV4dFNpYmxpbmc7XG4gICAgICAgICAgICB0cmVlU2hha2luZ1JlbW92ZVVudXNlZChjaGlsZCk7XG4gICAgICAgICAgICBjaGlsZCA9IG5leHQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobm9kZS5raW5kID09IE5vZGVLaW5kLkNMQVNTICYmICFub2RlLnN5bWJvbC5pc1VzZWQoKSAmJiAhbm9kZS5pc0RlY2xhcmUoKSAmJiBub2RlLnJhbmdlLnNvdXJjZS5pc0xpYnJhcnkpIHtcbiAgICAgICAgICAgIG5vZGUucmVtb3ZlKCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0cmVlU2hha2luZyhub2RlOiBOb2RlKTogdm9pZCB7XG4gICAgdHJlZVNoYWtpbmdTZWFyY2hGb3JVc2VkKG5vZGUpO1xuICAgIHRyZWVTaGFraW5nUmVtb3ZlVW51c2VkKG5vZGUpO1xufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbXBpbGVyL29wdGltaXplci9zaGFraW5nLnRzIiwiaW1wb3J0IHtjcmVhdGVSYW5nZSwgTG9nLCBTb3VyY2V9IGZyb20gXCIuLi8uLi91dGlscy9sb2dcIjtcbmltcG9ydCB7Q29tcGlsZXJ9IGZyb20gXCIuLi9jb21waWxlclwiO1xuaW1wb3J0IHtpc0FscGhhLCBpc051bWJlciwgVG9rZW5LaW5kfSBmcm9tIFwiLi4vc2Nhbm5lci9zY2FubmVyXCI7XG5pbXBvcnQge1N0cmluZ0J1aWxkZXJfbmV3fSBmcm9tIFwiLi4vLi4vdXRpbHMvc3RyaW5nYnVpbGRlclwiO1xuaW1wb3J0IHtGaWxlU3lzdGVtfSBmcm9tIFwiLi4vLi4vdXRpbHMvZmlsZXN5c3RlbVwiO1xuaW1wb3J0IHtUZXJtaW5hbH0gZnJvbSBcIi4uLy4uL3V0aWxzL3Rlcm1pbmFsXCI7XG5cbmNvbnN0IGphdmFzY3JpcHQgPSByZXF1aXJlKFwiLi4vLi4vZXh0cmFzL2phdmFzY3JpcHQudGJzXCIpO1xuXG5leHBvcnQgZnVuY3Rpb24gcHJlcGFyc2Uoc291cmNlOiBTb3VyY2UsIGNvbXBpbGVyOiBDb21waWxlciwgbG9nOiBMb2cpOiBib29sZWFuIHtcblxuICAgIGxldCBjb250ZW50cyA9IHNvdXJjZS5jb250ZW50cztcbiAgICBsZXQgbGltaXQgPSBjb250ZW50cy5sZW5ndGg7XG4gICAgbGV0IHBhdGhTZXBhcmF0b3IgPSBzb3VyY2UubmFtZS5pbmRleE9mKFwiL1wiKSA+IC0xID8gXCIvXCIgOiAoc291cmNlLm5hbWUuaW5kZXhPZihcIlxcXFxcIikgPiAtMSA/IFwiXFxcXFwiIDogXCIvXCIpO1xuICAgIGxldCBiYXNlUGF0aDogc3RyaW5nID0gc291cmNlLm5hbWUuc3Vic3RyaW5nKDAsIHNvdXJjZS5uYW1lLmxhc3RJbmRleE9mKHBhdGhTZXBhcmF0b3IpKTtcbiAgICBsZXQgd2FudE5ld2xpbmUgPSBmYWxzZTtcbiAgICBsZXQgY2FwdHVyZUltcG9ydEZyb20gPSBmYWxzZTtcbiAgICBsZXQgY2FwdHVyZUltcG9ydFBhdGggPSBmYWxzZTtcbiAgICBsZXQgaSA9IDA7XG5cbiAgICB3aGlsZSAoaSA8IGxpbWl0KSB7XG4gICAgICAgIGxldCBzdGFydCA9IGk7XG4gICAgICAgIGxldCBjID0gY29udGVudHNbaV07XG4gICAgICAgIGkgPSBpICsgMTtcblxuICAgICAgICBpZiAoYyA9PSAnICcgfHwgYyA9PSAnXFx0JyB8fCBjID09ICdcXHInKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBraW5kID0gVG9rZW5LaW5kLkVORF9PRl9GSUxFO1xuXG4gICAgICAgIC8vIE5ld2xpbmVcbiAgICAgICAgaWYgKGMgPT0gJ1xcbicpIHtcbiAgICAgICAgICAgIGlmICghd2FudE5ld2xpbmUpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gUHJlcHJvY2Vzc29yIGNvbW1hbmRzIGFsbCBlbmQgaW4gYSBuZXdsaW5lXG4gICAgICAgICAgICB3YW50TmV3bGluZSA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgZWxzZSBpZiAoYyA9PSAnLycpIHtcblxuICAgICAgICAgICAgLy8gU2luZ2xlLWxpbmUgY29tbWVudHNcbiAgICAgICAgICAgIGlmIChpIDwgbGltaXQgJiYgY29udGVudHNbaV0gPT0gJy8nKSB7XG4gICAgICAgICAgICAgICAgaSA9IGkgKyAxO1xuXG4gICAgICAgICAgICAgICAgd2hpbGUgKGkgPCBsaW1pdCAmJiBjb250ZW50c1tpXSAhPSAnXFxuJykge1xuICAgICAgICAgICAgICAgICAgICBpID0gaSArIDE7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIE11bHRpLWxpbmUgY29tbWVudHNcbiAgICAgICAgICAgIGlmIChpIDwgbGltaXQgJiYgY29udGVudHNbaV0gPT0gJyonKSB7XG4gICAgICAgICAgICAgICAgaSA9IGkgKyAxO1xuICAgICAgICAgICAgICAgIGxldCBmb3VuZEVuZCA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgd2hpbGUgKGkgPCBsaW1pdCkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgbmV4dCA9IGNvbnRlbnRzW2ldO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXh0ID09ICcqJyAmJiBpICsgMSA8IGxpbWl0ICYmIGNvbnRlbnRzW2kgKyAxXSA9PSAnLycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvdW5kRW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGkgPSBpICsgMjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaSA9IGkgKyAxO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICghZm91bmRFbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgbG9nLmVycm9yKGNyZWF0ZVJhbmdlKHNvdXJjZSwgc3RhcnQsIHN0YXJ0ICsgMiksIFwiVW50ZXJtaW5hdGVkIG11bHRpLWxpbmUgY29tbWVudFwiKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gSWRlbnRpZmllclxuICAgICAgICBlbHNlIGlmIChpc0FscGhhKGMpKSB7XG4gICAgICAgICAgICB3aGlsZSAoaSA8IGxpbWl0ICYmIChpc0FscGhhKGNvbnRlbnRzW2ldKSB8fCBpc051bWJlcihjb250ZW50c1tpXSkpKSB7XG4gICAgICAgICAgICAgICAgaSA9IGkgKyAxO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBLZXl3b3Jkc1xuICAgICAgICAgICAgbGV0IGxlbmd0aCA9IGkgLSBzdGFydDtcbiAgICAgICAgICAgIGlmIChsZW5ndGggPj0gMiAmJiBsZW5ndGggPD0gMTApIHtcbiAgICAgICAgICAgICAgICBsZXQgdGV4dCA9IGNvbnRlbnRzLnNsaWNlKHN0YXJ0LCBpKTtcblxuICAgICAgICAgICAgICAgIGlmICh0ZXh0ID09IFwiaW1wb3J0XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FwdHVyZUltcG9ydEZyb20gPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0ZXh0ID09IFwiZnJvbVwiICYmIGNhcHR1cmVJbXBvcnRGcm9tKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhcHR1cmVJbXBvcnRGcm9tID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGNhcHR1cmVJbXBvcnRQYXRoID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ2hhcmFjdGVyIG9yIHN0cmluZ1xuICAgICAgICBlbHNlIGlmIChjYXB0dXJlSW1wb3J0UGF0aCAmJiAoYyA9PSAnXCInIHx8IGMgPT0gJ1xcJycgfHwgYyA9PSAnYCcpKSB7XG5cbiAgICAgICAgICAgIGNhcHR1cmVJbXBvcnRQYXRoID0gZmFsc2U7XG5cbiAgICAgICAgICAgIHdoaWxlIChpIDwgbGltaXQpIHtcbiAgICAgICAgICAgICAgICBsZXQgbmV4dCA9IGNvbnRlbnRzW2ldO1xuXG4gICAgICAgICAgICAgICAgLy8gRXNjYXBlIGFueSBjaGFyYWN0ZXIgaW5jbHVkaW5nIG5ld2xpbmVzXG4gICAgICAgICAgICAgICAgaWYgKGkgKyAxIDwgbGltaXQgJiYgbmV4dCA9PSAnXFxcXCcpIHtcbiAgICAgICAgICAgICAgICAgICAgaSA9IGkgKyAyO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIE9ubHkgYWxsb3cgbmV3bGluZXMgaW4gdGVtcGxhdGUgbGl0ZXJhbHNcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChuZXh0ID09ICdcXG4nICYmIGMgIT0gJ2AnKSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIEhhbmRsZSBhIG5vcm1hbCBjaGFyYWN0ZXJcbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaSA9IGkgKyAxO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIEVuZCB0aGUgc3RyaW5nIHdpdGggYSBtYXRjaGluZyBxdW90ZSBjaGFyYWN0ZXJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5leHQgPT0gYykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRleHQgPSBjb250ZW50cy5zbGljZShzdGFydCArIDEsIGkgLSAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vRklYTUU6IElmIHRoZSBpbXBvcnQgYWxyZWFkeSByZXNvbHZlZCBkb24ndCBhZGQgaXQgYWdhaW4uXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgaW1wb3J0Q29udGVudCA9IHJlc29sdmVJbXBvcnQoYmFzZVBhdGggKyBwYXRoU2VwYXJhdG9yICsgdGV4dCwgdGV4dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW1wb3J0Q29udGVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBpbGVyLmFkZElucHV0QmVmb3JlKHRleHQsIGltcG9ydENvbnRlbnQsIHNvdXJjZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGtpbmQgPSBjID09ICdcXCcnID8gVG9rZW5LaW5kLkNIQVJBQ1RFUiA6IFRva2VuS2luZC5TVFJJTkc7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiByZXNvbHZlSW1wb3J0KGltcG9ydFBhdGg6IHN0cmluZywgb3JpZ2luYWw6c3RyaW5nKTogc3RyaW5nIHtcbiAgICBsZXQgY29udGVudHMgPSBudWxsO1xuICAgIGlmIChvcmlnaW5hbCA9PT0gXCJqYXZhc2NyaXB0XCIpIHtcbiAgICAgICAgY29udGVudHMgPSBqYXZhc2NyaXB0O1xuICAgIH1lbHNlIHtcbiAgICAgICAgY29udGVudHMgPSBGaWxlU3lzdGVtLnJlYWRUZXh0RmlsZShpbXBvcnRQYXRoKTtcbiAgICB9XG4gICAgaWYgKGNvbnRlbnRzID09IG51bGwpIHtcbiAgICAgICAgVGVybWluYWwuZXJyb3IoU3RyaW5nQnVpbGRlcl9uZXcoKS5hcHBlbmQoXCJDYW5ub3QgcmVhZCBmcm9tIFwiKS5hcHBlbmQoaW1wb3J0UGF0aCkuZmluaXNoKCkpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb21waWxlci9wYXJzZXIvcHJlcGFyc2VyLnRzIiwiaW1wb3J0IHtMb2csIHNwYW5SYW5nZXMsIFNvdXJjZSwgRGlhZ25vc3RpY0tpbmR9IGZyb20gXCIuLi8uLi91dGlscy9sb2dcIjtcbmltcG9ydCB7U3RyaW5nQnVpbGRlcl9uZXd9IGZyb20gXCIuLi8uLi91dGlscy9zdHJpbmdidWlsZGVyXCI7XG5pbXBvcnQge1Rva2VuS2luZCwgVG9rZW4sIHRva2VuVG9TdHJpbmd9IGZyb20gXCIuLi9zY2FubmVyL3NjYW5uZXJcIjtcbmltcG9ydCB7UHJlY2VkZW5jZX0gZnJvbSBcIi4uL3BhcnNlci9wYXJzZXJcIjtcbmV4cG9ydCBlbnVtIFByZXByb2Nlc3NvclZhbHVlIHtcbiAgRkFMU0UsXG4gIFRSVUUsXG4gIEVSUk9SLFxufVxuXG5leHBvcnQgY2xhc3MgUHJlcHJvY2Vzc29yRmxhZyB7XG4gIGlzRGVmaW5lZDogYm9vbGVhbjtcbiAgbmFtZTogc3RyaW5nO1xuICBuZXh0OiBQcmVwcm9jZXNzb3JGbGFnO1xufVxuXG4vLyBUaGlzIHByZXByb2Nlc3NvciBpbXBsZW1lbnRzIHRoZSBmbGFnLW9ubHkgY29uZGl0aW9uYWwgYmVoYXZpb3IgZnJvbSBDIy5cbi8vIFRoZXJlIGFyZSB0d28gc2NvcGVzIGZvciBmbGFnczogZ2xvYmFsLWxldmVsIGFuZCBmaWxlLWxldmVsLiBUaGlzIGlzIHN0b3JlZFxuLy8gdXNpbmcgYW4gZXZlci1ncm93aW5nIGxpbmtlZCBsaXN0IG9mIFByZXByb2Nlc3NvckZsYWcgb2JqZWN0cyB0aGF0IHR1cm4gYVxuLy8gZmxhZyBlaXRoZXIgb24gb3Igb2ZmLiBUaGF0IHdheSBmaWxlLWxldmVsIHN0YXRlIGNhbiBqdXN0IHJlZmVyZW5jZSB0aGVcbi8vIG1lbW9yeSBvZiB0aGUgZ2xvYmFsLWxldmVsIHN0YXRlIGFuZCB0aGUgZ2xvYmFsLWxldmVsIHN0YXRlIGNhbiBlYXNpbHkgYmVcbi8vIHJlc3RvcmVkIGFmdGVyIHBhcnNpbmcgYSBmaWxlIGp1c3QgYnkgcmVzdG9yaW5nIHRoZSBwb2ludGVyLlxuZXhwb3J0IGNsYXNzIFByZXByb2Nlc3NvciB7XG4gIGZpcnN0RmxhZzogUHJlcHJvY2Vzc29yRmxhZztcbiAgaXNEZWZpbmVBbmRVbmRlZkFsbG93ZWQ6IGJvb2xlYW47XG4gIHByZXZpb3VzOiBUb2tlbjtcbiAgY3VycmVudDogVG9rZW47XG4gIGxvZzogTG9nO1xuXG4gIHBlZWsoa2luZDogVG9rZW5LaW5kKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuY3VycmVudC5raW5kID09IGtpbmQ7XG4gIH1cblxuICBlYXQoa2luZDogVG9rZW5LaW5kKTogYm9vbGVhbiB7XG4gICAgaWYgKHRoaXMucGVlayhraW5kKSkge1xuICAgICAgdGhpcy5hZHZhbmNlKCk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBhZHZhbmNlKCk6IHZvaWQge1xuICAgIGlmICghdGhpcy5wZWVrKFRva2VuS2luZC5FTkRfT0ZfRklMRSkpIHtcbiAgICAgIHRoaXMucHJldmlvdXMgPSB0aGlzLmN1cnJlbnQ7XG4gICAgICB0aGlzLmN1cnJlbnQgPSB0aGlzLmN1cnJlbnQubmV4dDtcbiAgICB9XG4gIH1cblxuICB1bmV4cGVjdGVkVG9rZW4oKTogdm9pZCB7XG4gICAgdGhpcy5sb2cuZXJyb3IodGhpcy5jdXJyZW50LnJhbmdlLCBTdHJpbmdCdWlsZGVyX25ldygpXG4gICAgICAuYXBwZW5kKFwiVW5leHBlY3RlZCBcIilcbiAgICAgIC5hcHBlbmQodG9rZW5Ub1N0cmluZyh0aGlzLmN1cnJlbnQua2luZCkpXG4gICAgICAuZmluaXNoKCkpO1xuICB9XG5cbiAgZXhwZWN0KGtpbmQ6IFRva2VuS2luZCk6IGJvb2xlYW4ge1xuICAgIGlmICghdGhpcy5wZWVrKGtpbmQpKSB7XG4gICAgICB0aGlzLmxvZy5lcnJvcih0aGlzLmN1cnJlbnQucmFuZ2UsIFN0cmluZ0J1aWxkZXJfbmV3KClcbiAgICAgICAgLmFwcGVuZChcIkV4cGVjdGVkIFwiKVxuICAgICAgICAuYXBwZW5kKHRva2VuVG9TdHJpbmcoa2luZCkpXG4gICAgICAgIC5hcHBlbmQoXCIgYnV0IGZvdW5kIFwiKVxuICAgICAgICAuYXBwZW5kKHRva2VuVG9TdHJpbmcodGhpcy5jdXJyZW50LmtpbmQpKVxuICAgICAgICAuZmluaXNoKCkpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHRoaXMuYWR2YW5jZSgpO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgcmVtb3ZlVG9rZW5zRnJvbShiZWZvcmU6IFRva2VuKTogdm9pZCB7XG4gICAgYmVmb3JlLm5leHQgPSB0aGlzLmN1cnJlbnQ7XG4gICAgdGhpcy5wcmV2aW91cyA9IGJlZm9yZTtcbiAgfVxuXG4gIGlzRGVmaW5lZChuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICB2YXIgZmxhZyA9IHRoaXMuZmlyc3RGbGFnO1xuICAgIHdoaWxlIChmbGFnICE9IG51bGwpIHtcbiAgICAgIGlmIChmbGFnLm5hbWUgPT0gbmFtZSkge1xuICAgICAgICByZXR1cm4gZmxhZy5pc0RlZmluZWQ7XG4gICAgICB9XG4gICAgICBmbGFnID0gZmxhZy5uZXh0O1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBkZWZpbmUobmFtZTogc3RyaW5nLCBpc0RlZmluZWQ6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICB2YXIgZmxhZyA9IG5ldyBQcmVwcm9jZXNzb3JGbGFnKCk7XG4gICAgZmxhZy5pc0RlZmluZWQgPSBpc0RlZmluZWQ7XG4gICAgZmxhZy5uYW1lID0gbmFtZTtcbiAgICBmbGFnLm5leHQgPSB0aGlzLmZpcnN0RmxhZztcbiAgICB0aGlzLmZpcnN0RmxhZyA9IGZsYWc7XG4gIH1cblxuICBydW4oc291cmNlOiBTb3VyY2UsIGxvZzogTG9nKTogdm9pZCB7XG4gICAgdmFyIGZpcnN0VG9rZW4gPSBzb3VyY2UuZmlyc3RUb2tlbjtcblxuICAgIGlmIChmaXJzdFRva2VuICE9IG51bGwgJiYgZmlyc3RUb2tlbi5raW5kID09IFRva2VuS2luZC5QUkVQUk9DRVNTT1JfTkVFREVEKSB7XG4gICAgICB2YXIgZmlyc3RGbGFnID0gdGhpcy5maXJzdEZsYWc7XG5cbiAgICAgIC8vIEluaXRpYWxpemVcbiAgICAgIHRoaXMuaXNEZWZpbmVBbmRVbmRlZkFsbG93ZWQgPSB0cnVlO1xuICAgICAgdGhpcy5wcmV2aW91cyA9IGZpcnN0VG9rZW47XG4gICAgICB0aGlzLmN1cnJlbnQgPSBmaXJzdFRva2VuLm5leHQ7XG4gICAgICB0aGlzLmxvZyA9IGxvZztcblxuICAgICAgLy8gRG9uJ3QgcGFyc2UgdGhpcyBmaWxlIGlmIHByZXByb2Nlc3NpbmcgZmFpbGVkXG4gICAgICBpZiAoIXRoaXMuc2Nhbih0cnVlKSkge1xuICAgICAgICBzb3VyY2UuZmlyc3RUb2tlbiA9IG51bGw7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gTWFrZSBzdXJlIGJsb2NrcyBhcmUgYmFsYW5jZWRcbiAgICAgIGlmICghdGhpcy5wZWVrKFRva2VuS2luZC5FTkRfT0ZfRklMRSkpIHtcbiAgICAgICAgdGhpcy51bmV4cGVjdGVkVG9rZW4oKTtcbiAgICAgIH1cblxuICAgICAgLy8gUmVzdG9yZSB0aGUgZ2xvYmFsLWxldmVsIHN0YXRlIGluc3RlYWQgb2YgbGV0dGluZyB0aGUgZmlsZS1sZXZlbCBzdGF0ZVxuICAgICAgLy8gbGVhayBvdmVyIGludG8gdGhlIG5leHQgZmlsZSB0aGF0IHRoZSBwcmVwcm9jZXNzb3IgaXMgcnVuIG9uXG4gICAgICB0aGlzLmZpcnN0RmxhZyA9IGZpcnN0RmxhZztcblxuICAgICAgLy8gU2tpcCBvdmVyIHRoZSBQUkVQUk9DRVNTT1JfTkVFREVEIHRva2VuIHNvIHRoZSBwYXJzZXIgZG9lc24ndCBzZWUgaXRcbiAgICAgIHNvdXJjZS5maXJzdFRva2VuID0gc291cmNlLmZpcnN0VG9rZW4ubmV4dDtcbiAgICB9XG4gIH1cblxuICAvLyBTY2FuIG92ZXIgdGhlIG5leHQgcmVhY2hhYmxlIHRva2VucywgZXZhbHVhdGUgI2RlZmluZS8jdW5kZWYgZGlyZWN0aXZlcyxcbiAgLy8gYW5kIGZvbGQgI2lmLyNlbHNlIGNoYWlucy4gU3RvcCBvbiAjZWxpZi8jZWxzZS8jZW5kaWYuIFJldHVybiBmYWxzZSBvblxuICAvLyBmYWlsdXJlLiBUYWtlcyBhIGJvb2xlYW5lYW4gZmxhZyBmb3Igd2hldGhlciBvciBub3QgY29udHJvbCBmbG93IGlzIGxpdmUgaW5cbiAgLy8gdGhpcyBibG9jay5cbiAgc2Nhbihpc1BhcmVudExpdmU6IGJvb2xlYW4pOiBib29sZWFuIHtcbiAgICB3aGlsZSAoIXRoaXMucGVlayhUb2tlbktpbmQuRU5EX09GX0ZJTEUpICYmXG4gICAgICAgICF0aGlzLnBlZWsoVG9rZW5LaW5kLlBSRVBST0NFU1NPUl9FTElGKSAmJlxuICAgICAgICAhdGhpcy5wZWVrKFRva2VuS2luZC5QUkVQUk9DRVNTT1JfRUxTRSkgJiZcbiAgICAgICAgIXRoaXMucGVlayhUb2tlbktpbmQuUFJFUFJPQ0VTU09SX0VORElGKSkge1xuICAgICAgdmFyIHByZXZpb3VzID0gdGhpcy5wcmV2aW91cztcbiAgICAgIHZhciBjdXJyZW50ID0gdGhpcy5jdXJyZW50O1xuXG4gICAgICAvLyAjZGVmaW5lIG9yICN1bmRlZlxuICAgICAgaWYgKHRoaXMuZWF0KFRva2VuS2luZC5QUkVQUk9DRVNTT1JfREVGSU5FKSB8fCB0aGlzLmVhdChUb2tlbktpbmQuUFJFUFJPQ0VTU09SX1VOREVGKSkge1xuICAgICAgICAvLyBPbmx5IHByb2Nlc3MgdGhlIGRpcmVjdGl2ZSBpZiBjb250cm9sIGZsb3cgaXMgbGl2ZSBhdCB0aGlzIHBvaW50XG4gICAgICAgIGlmICh0aGlzLmV4cGVjdChUb2tlbktpbmQuSURFTlRJRklFUikgJiYgaXNQYXJlbnRMaXZlKSB7XG4gICAgICAgICAgdGhpcy5kZWZpbmUodGhpcy5wcmV2aW91cy5yYW5nZS50b1N0cmluZygpLCBjdXJyZW50LmtpbmQgPT0gVG9rZW5LaW5kLlBSRVBST0NFU1NPUl9ERUZJTkUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSGVscCBvdXQgcGVvcGxlIHRyeWluZyB0byB1c2UgdGhpcyBsaWtlIENcbiAgICAgICAgaWYgKHRoaXMuZWF0KFRva2VuS2luZC5GQUxTRSkgfHwgdGhpcy5lYXQoVG9rZW5LaW5kLklOVDMyKSAmJiB0aGlzLnByZXZpb3VzLnJhbmdlLnRvU3RyaW5nKCkgPT0gXCIwXCIpIHtcbiAgICAgICAgICB0aGlzLmxvZy5lcnJvcih0aGlzLnByZXZpb3VzLnJhbmdlLCBcIlVzZSAnI3VuZGVmJyB0byB0dXJuIGEgcHJlcHJvY2Vzc29yIGZsYWcgb2ZmXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2NhbiB1cCB0byB0aGUgbmV4dCBuZXdsaW5lXG4gICAgICAgIGlmICghdGhpcy5wZWVrKFRva2VuS2luZC5FTkRfT0ZfRklMRSkgJiYgIXRoaXMuZXhwZWN0KFRva2VuS2luZC5QUkVQUk9DRVNTT1JfTkVXTElORSkpIHtcbiAgICAgICAgICB3aGlsZSAoIXRoaXMuZWF0KFRva2VuS2luZC5QUkVQUk9DRVNTT1JfTkVXTElORSkgJiYgIXRoaXMuZWF0KFRva2VuS2luZC5FTkRfT0ZfRklMRSkpIHtcbiAgICAgICAgICAgIHRoaXMuYWR2YW5jZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRoZXNlIHN0YXRlbWVudHMgYXJlIG9ubHkgdmFsaWQgYXQgdGhlIHRvcCBvZiB0aGUgZmlsZVxuICAgICAgICBpZiAoIXRoaXMuaXNEZWZpbmVBbmRVbmRlZkFsbG93ZWQpIHtcbiAgICAgICAgICB0aGlzLmxvZy5lcnJvcihzcGFuUmFuZ2VzKGN1cnJlbnQucmFuZ2UsIHRoaXMucHJldmlvdXMucmFuZ2UpLFxuICAgICAgICAgICAgXCJBbGwgJyNkZWZpbmUnIGFuZCAnI3VuZGVmJyBkaXJlY3RpdmVzIG11c3QgYmUgYXQgdGhlIHRvcCBvZiB0aGUgZmlsZVwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJlbW92ZSBhbGwgb2YgdGhlc2UgdG9rZW5zXG4gICAgICAgIHRoaXMucmVtb3ZlVG9rZW5zRnJvbShwcmV2aW91cyk7XG4gICAgICB9XG5cbiAgICAgIC8vICN3YXJuaW5nIG9yICNlcnJvclxuICAgICAgZWxzZSBpZiAodGhpcy5lYXQoVG9rZW5LaW5kLlBSRVBST0NFU1NPUl9XQVJOSU5HKSB8fCB0aGlzLmVhdChUb2tlbktpbmQuUFJFUFJPQ0VTU09SX0VSUk9SKSkge1xuICAgICAgICB2YXIgbmV4dCA9IHRoaXMuY3VycmVudDtcblxuICAgICAgICAvLyBTY2FuIHVwIHRvIHRoZSBuZXh0IG5ld2xpbmVcbiAgICAgICAgd2hpbGUgKCF0aGlzLnBlZWsoVG9rZW5LaW5kLlBSRVBST0NFU1NPUl9ORVdMSU5FKSAmJiAhdGhpcy5wZWVrKFRva2VuS2luZC5FTkRfT0ZfRklMRSkpIHtcbiAgICAgICAgICB0aGlzLmFkdmFuY2UoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE9ubHkgcHJvY2VzcyB0aGUgZGlyZWN0aXZlIGlmIGNvbnRyb2wgZmxvdyBpcyBsaXZlIGF0IHRoaXMgcG9pbnRcbiAgICAgICAgaWYgKGlzUGFyZW50TGl2ZSkge1xuICAgICAgICAgIHZhciByYW5nZSA9IHRoaXMuY3VycmVudCA9PSBuZXh0ID8gY3VycmVudC5yYW5nZSA6IHNwYW5SYW5nZXMobmV4dC5yYW5nZSwgdGhpcy5wcmV2aW91cy5yYW5nZSk7XG4gICAgICAgICAgdGhpcy5sb2cuYXBwZW5kKHJhbmdlLCByYW5nZS50b1N0cmluZygpLCBjdXJyZW50LmtpbmQgPT0gVG9rZW5LaW5kLlBSRVBST0NFU1NPUl9XQVJOSU5HID8gRGlhZ25vc3RpY0tpbmQuV0FSTklORyA6IERpYWdub3N0aWNLaW5kLkVSUk9SKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJlbW92ZSBhbGwgb2YgdGhlc2UgdG9rZW5zXG4gICAgICAgIHRoaXMuZWF0KFRva2VuS2luZC5QUkVQUk9DRVNTT1JfTkVXTElORSk7XG4gICAgICAgIHRoaXMucmVtb3ZlVG9rZW5zRnJvbShwcmV2aW91cyk7XG4gICAgICB9XG5cbiAgICAgIC8vICNpZlxuICAgICAgZWxzZSBpZiAodGhpcy5lYXQoVG9rZW5LaW5kLlBSRVBST0NFU1NPUl9JRikpIHtcbiAgICAgICAgdmFyIGlzTGl2ZSA9IGlzUGFyZW50TGl2ZTtcblxuICAgICAgICAvLyBTY2FuIG92ZXIgdGhlIGVudGlyZSBpZi1lbHNlIGNoYWluXG4gICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgdmFyIGNvbmRpdGlvbiA9IHRoaXMucGFyc2VFeHByZXNzaW9uKFByZWNlZGVuY2UuTE9XRVNUKTtcblxuICAgICAgICAgIC8vIFJlamVjdCBpZiB0aGUgY29uZGl0aW9uIGlzIG1pc3NpbmdcbiAgICAgICAgICBpZiAoY29uZGl0aW9uID09IFByZXByb2Nlc3NvclZhbHVlLkVSUk9SIHx8ICF0aGlzLmV4cGVjdChUb2tlbktpbmQuUFJFUFJPQ0VTU09SX05FV0xJTkUpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gUmVtb3ZlIHRoZSAjaWYvI2VsaWYgaGVhZGVyXG4gICAgICAgICAgdGhpcy5yZW1vdmVUb2tlbnNGcm9tKHByZXZpb3VzKTtcblxuICAgICAgICAgIC8vIFNjYW4gdG8gdGhlIG5leHQgI2VsaWYsICNlbHNlLCBvciAjZW5kaWZcbiAgICAgICAgICBpZiAoIXRoaXMuc2Nhbihpc0xpdmUgJiYgY29uZGl0aW9uID09IFByZXByb2Nlc3NvclZhbHVlLlRSVUUpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gUmVtb3ZlIHRoZXNlIHRva2Vucz9cbiAgICAgICAgICBpZiAoIWlzTGl2ZSB8fCBjb25kaXRpb24gPT0gUHJlcHJvY2Vzc29yVmFsdWUuRkFMU0UpIHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlVG9rZW5zRnJvbShwcmV2aW91cyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gS2VlcCB0aGVzZSB0b2tlbnMgYnV0IHJlbW92ZSBhbGwgc3Vic2VxdWVudCBicmFuY2hlc1xuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaXNMaXZlID0gZmFsc2U7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gVXBkYXRlIHRoZSBwcmV2aW91cyBwb2ludGVyIHNvIHdlIHJlbW92ZSBmcm9tIGhlcmUgbmV4dFxuICAgICAgICAgIHByZXZpb3VzID0gdGhpcy5wcmV2aW91cztcblxuICAgICAgICAgIC8vICNlbGlmXG4gICAgICAgICAgaWYgKHRoaXMuZWF0KFRva2VuS2luZC5QUkVQUk9DRVNTT1JfRUxJRikpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vICNlbHNlXG4gICAgICAgICAgaWYgKHRoaXMuZWF0KFRva2VuS2luZC5QUkVQUk9DRVNTT1JfRUxTRSkpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5leHBlY3QoVG9rZW5LaW5kLlBSRVBST0NFU1NPUl9ORVdMSU5FKSkge1xuICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFJlbW92ZSB0aGUgI2Vsc2VcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlVG9rZW5zRnJvbShwcmV2aW91cyk7XG5cbiAgICAgICAgICAgIC8vIFNjYW4gdG8gdGhlICNlbmRpZlxuICAgICAgICAgICAgaWYgKCF0aGlzLnNjYW4oaXNMaXZlKSkge1xuICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFJlbW92ZSB0aGVzZSB0b2tlbnM/XG4gICAgICAgICAgICBpZiAoIWlzTGl2ZSkge1xuICAgICAgICAgICAgICB0aGlzLnJlbW92ZVRva2Vuc0Zyb20ocHJldmlvdXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vICNlbmRpZlxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQWxsIGlmLWVsc2UgY2hhaW5zIGVuZCB3aXRoIGFuICNlbmRpZlxuICAgICAgICBwcmV2aW91cyA9IHRoaXMucHJldmlvdXM7XG4gICAgICAgIGlmICghdGhpcy5leHBlY3QoVG9rZW5LaW5kLlBSRVBST0NFU1NPUl9FTkRJRikgfHwgIXRoaXMucGVlayhUb2tlbktpbmQuRU5EX09GX0ZJTEUpICYmICF0aGlzLmV4cGVjdChUb2tlbktpbmQuUFJFUFJPQ0VTU09SX05FV0xJTkUpKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVtb3ZlVG9rZW5zRnJvbShwcmV2aW91cyk7XG4gICAgICB9XG5cbiAgICAgIC8vIFNraXAgbm9ybWFsIHRva2Vuc1xuICAgICAgZWxzZSB7XG4gICAgICAgIHRoaXMuaXNEZWZpbmVBbmRVbmRlZkFsbG93ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5hZHZhbmNlKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBwYXJzZVByZWZpeCgpOiBQcmVwcm9jZXNzb3JWYWx1ZSB7XG4gICAgdmFyIGlzRGVmaW5lZE9wZXJhdG9yID0gZmFsc2U7XG4gICAgdmFyIHN0YXJ0ID0gdGhpcy5jdXJyZW50O1xuXG4gICAgLy8gdHJ1ZSBvciBmYWxzZVxuICAgIGlmICh0aGlzLmVhdChUb2tlbktpbmQuVFJVRSkpIHJldHVybiBQcmVwcm9jZXNzb3JWYWx1ZS5UUlVFO1xuICAgIGlmICh0aGlzLmVhdChUb2tlbktpbmQuRkFMU0UpKSByZXR1cm4gUHJlcHJvY2Vzc29yVmFsdWUuRkFMU0U7XG5cbiAgICAvLyBJZGVudGlmaWVyXG4gICAgaWYgKHRoaXMuZWF0KFRva2VuS2luZC5JREVOVElGSUVSKSkge1xuICAgICAgdmFyIG5hbWUgPSB0aGlzLnByZXZpb3VzLnJhbmdlLnRvU3RyaW5nKCk7XG5cbiAgICAgIC8vIFJlY292ZXIgZnJvbSBhIEMtc3R5bGUgZGVmaW5lIG9wZXJhdG9yXG4gICAgICBpZiAodGhpcy5wZWVrKFRva2VuS2luZC5MRUZUX1BBUkVOVEhFU0lTKSAmJiBuYW1lID09IFwiZGVmaW5lZFwiKSB7XG4gICAgICAgIGlzRGVmaW5lZE9wZXJhdG9yID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgZWxzZSB7XG4gICAgICAgIHZhciBpc1RydWUgPSB0aGlzLmlzRGVmaW5lZChuYW1lKTtcbiAgICAgICAgcmV0dXJuIGlzVHJ1ZSA/IFByZXByb2Nlc3NvclZhbHVlLlRSVUUgOiBQcmVwcm9jZXNzb3JWYWx1ZS5GQUxTRTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyAhXG4gICAgaWYgKHRoaXMuZWF0KFRva2VuS2luZC5OT1QpKSB7XG4gICAgICB2YXIgdmFsdWUgPSB0aGlzLnBhcnNlRXhwcmVzc2lvbihQcmVjZWRlbmNlLlVOQVJZX1BSRUZJWCk7XG4gICAgICBpZiAodmFsdWUgPT0gUHJlcHJvY2Vzc29yVmFsdWUuRVJST1IpIHJldHVybiBQcmVwcm9jZXNzb3JWYWx1ZS5FUlJPUjtcbiAgICAgIHJldHVybiB2YWx1ZSA9PSBQcmVwcm9jZXNzb3JWYWx1ZS5UUlVFID8gUHJlcHJvY2Vzc29yVmFsdWUuRkFMU0UgOiBQcmVwcm9jZXNzb3JWYWx1ZS5UUlVFO1xuICAgIH1cblxuICAgIC8vIEdyb3VwXG4gICAgaWYgKHRoaXMuZWF0KFRva2VuS2luZC5MRUZUX1BBUkVOVEhFU0lTKSkge1xuICAgICAgdmFyIGZpcnN0ID0gdGhpcy5jdXJyZW50O1xuICAgICAgdmFyIHZhbHVlID0gdGhpcy5wYXJzZUV4cHJlc3Npb24oUHJlY2VkZW5jZS5MT1dFU1QpO1xuICAgICAgaWYgKHZhbHVlID09IFByZXByb2Nlc3NvclZhbHVlLkVSUk9SIHx8ICF0aGlzLmV4cGVjdChUb2tlbktpbmQuUklHSFRfUEFSRU5USEVTSVMpKSB7XG4gICAgICAgIHJldHVybiBQcmVwcm9jZXNzb3JWYWx1ZS5FUlJPUjtcbiAgICAgIH1cblxuICAgICAgLy8gUmVjb3ZlciBmcm9tIGEgQy1zdHlsZSBkZWZpbmUgb3BlcmF0b3JcbiAgICAgIGlmIChpc0RlZmluZWRPcGVyYXRvcikge1xuICAgICAgICB2YXIgYnVpbGRlciA9IFN0cmluZ0J1aWxkZXJfbmV3KCkuYXBwZW5kKFwiVGhlcmUgaXMgbm8gJ2RlZmluZWQnIG9wZXJhdG9yXCIpO1xuICAgICAgICBpZiAoZmlyc3Qua2luZCA9PSBUb2tlbktpbmQuSURFTlRJRklFUiAmJiB0aGlzLnByZXZpb3VzID09IGZpcnN0Lm5leHQpIHtcbiAgICAgICAgICBidWlsZGVyLmFwcGVuZChcIiAoanVzdCB1c2UgJ1wiKS5hcHBlbmQoZmlyc3QucmFuZ2UudG9TdHJpbmcoKSkuYXBwZW5kKFwiJyBpbnN0ZWFkKVwiKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxvZy5lcnJvcihzcGFuUmFuZ2VzKHN0YXJ0LnJhbmdlLCB0aGlzLnByZXZpb3VzLnJhbmdlKSwgYnVpbGRlci5maW5pc2goKSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG5cbiAgICAvLyBSZWNvdmVyIGZyb20gYSBDLXN0eWxlIGJvb2xlYW5lYW5cbiAgICBpZiAodGhpcy5lYXQoVG9rZW5LaW5kLklOVDMyKSkge1xuICAgICAgdmFyIGlzVHJ1ZSA9IHRoaXMucHJldmlvdXMucmFuZ2UudG9TdHJpbmcoKSAhPSBcIjBcIjtcbiAgICAgIHRoaXMubG9nLmVycm9yKHRoaXMucHJldmlvdXMucmFuZ2UsIFN0cmluZ0J1aWxkZXJfbmV3KClcbiAgICAgICAgLmFwcGVuZChcIlVuZXhwZWN0ZWQgaW50ZWdlciAoZGlkIHlvdSBtZWFuICdcIilcbiAgICAgICAgLmFwcGVuZChpc1RydWUgPyBcInRydWVcIiA6IFwiZmFsc2VcIilcbiAgICAgICAgLmFwcGVuZChcIicpP1wiKVxuICAgICAgICAuZmluaXNoKCkpO1xuICAgICAgcmV0dXJuIGlzVHJ1ZSA/IFByZXByb2Nlc3NvclZhbHVlLlRSVUUgOiBQcmVwcm9jZXNzb3JWYWx1ZS5GQUxTRTtcbiAgICB9XG5cbiAgICB0aGlzLnVuZXhwZWN0ZWRUb2tlbigpO1xuICAgIHJldHVybiBQcmVwcm9jZXNzb3JWYWx1ZS5FUlJPUjtcbiAgfVxuXG4gIHBhcnNlSW5maXgocHJlY2VkZW5jZTogUHJlY2VkZW5jZSwgbGVmdDogUHJlcHJvY2Vzc29yVmFsdWUpOiBQcmVwcm9jZXNzb3JWYWx1ZSB7XG4gICAgdmFyIG9wZXJhdG9yID0gdGhpcy5jdXJyZW50LmtpbmQ7XG5cbiAgICAvLyA9PSBvciAhPVxuICAgIGlmIChwcmVjZWRlbmNlIDwgUHJlY2VkZW5jZS5FUVVBTCAmJiAodGhpcy5lYXQoVG9rZW5LaW5kLkVRVUFMKSB8fCB0aGlzLmVhdChUb2tlbktpbmQuTk9UX0VRVUFMKSkpIHtcbiAgICAgIHZhciByaWdodCA9IHRoaXMucGFyc2VFeHByZXNzaW9uKFByZWNlZGVuY2UuRVFVQUwpO1xuICAgICAgaWYgKHJpZ2h0ID09IFByZXByb2Nlc3NvclZhbHVlLkVSUk9SKSByZXR1cm4gUHJlcHJvY2Vzc29yVmFsdWUuRVJST1I7XG4gICAgICByZXR1cm4gKG9wZXJhdG9yID09IFRva2VuS2luZC5FUVVBTCkgPT0gKGxlZnQgPT0gcmlnaHQpID8gUHJlcHJvY2Vzc29yVmFsdWUuVFJVRSA6IFByZXByb2Nlc3NvclZhbHVlLkZBTFNFO1xuICAgIH1cblxuICAgIC8vICYmXG4gICAgaWYgKHByZWNlZGVuY2UgPCBQcmVjZWRlbmNlLkxPR0lDQUxfQU5EICYmIHRoaXMuZWF0KFRva2VuS2luZC5MT0dJQ0FMX0FORCkpIHtcbiAgICAgIHZhciByaWdodCA9IHRoaXMucGFyc2VFeHByZXNzaW9uKFByZWNlZGVuY2UuTE9HSUNBTF9BTkQpO1xuICAgICAgaWYgKHJpZ2h0ID09IFByZXByb2Nlc3NvclZhbHVlLkVSUk9SKSByZXR1cm4gUHJlcHJvY2Vzc29yVmFsdWUuRVJST1I7XG4gICAgICByZXR1cm4gKGxlZnQgPT0gUHJlcHJvY2Vzc29yVmFsdWUuVFJVRSAmJiByaWdodCA9PSBQcmVwcm9jZXNzb3JWYWx1ZS5UUlVFKSA/IFByZXByb2Nlc3NvclZhbHVlLlRSVUUgOiBQcmVwcm9jZXNzb3JWYWx1ZS5GQUxTRTtcbiAgICB9XG5cbiAgICAvLyB8fFxuICAgIGlmIChwcmVjZWRlbmNlIDwgUHJlY2VkZW5jZS5MT0dJQ0FMX09SICYmIHRoaXMuZWF0KFRva2VuS2luZC5MT0dJQ0FMX09SKSkge1xuICAgICAgdmFyIHJpZ2h0ID0gdGhpcy5wYXJzZUV4cHJlc3Npb24oUHJlY2VkZW5jZS5MT0dJQ0FMX09SKTtcbiAgICAgIGlmIChyaWdodCA9PSBQcmVwcm9jZXNzb3JWYWx1ZS5FUlJPUikgcmV0dXJuIFByZXByb2Nlc3NvclZhbHVlLkVSUk9SO1xuICAgICAgcmV0dXJuIChsZWZ0ID09IFByZXByb2Nlc3NvclZhbHVlLlRSVUUgfHwgcmlnaHQgPT0gUHJlcHJvY2Vzc29yVmFsdWUuVFJVRSkgPyBQcmVwcm9jZXNzb3JWYWx1ZS5UUlVFIDogUHJlcHJvY2Vzc29yVmFsdWUuRkFMU0U7XG4gICAgfVxuXG4gICAgLy8gSG9va1xuICAgIGlmIChwcmVjZWRlbmNlID09IFByZWNlZGVuY2UuTE9XRVNUICYmIHRoaXMuZWF0KFRva2VuS2luZC5RVUVTVElPTl9NQVJLKSkge1xuICAgICAgdmFyIG1pZGRsZSA9IHRoaXMucGFyc2VFeHByZXNzaW9uKFByZWNlZGVuY2UuTE9XRVNUKTtcbiAgICAgIGlmIChtaWRkbGUgPT0gUHJlcHJvY2Vzc29yVmFsdWUuRVJST1IgfHwgIXRoaXMuZXhwZWN0KFRva2VuS2luZC5DT0xPTikpIHtcbiAgICAgICAgcmV0dXJuIFByZXByb2Nlc3NvclZhbHVlLkVSUk9SO1xuICAgICAgfVxuXG4gICAgICB2YXIgcmlnaHQgPSB0aGlzLnBhcnNlRXhwcmVzc2lvbihQcmVjZWRlbmNlLkxPV0VTVCk7XG4gICAgICBpZiAocmlnaHQgPT0gUHJlcHJvY2Vzc29yVmFsdWUuRVJST1IpIHtcbiAgICAgICAgcmV0dXJuIFByZXByb2Nlc3NvclZhbHVlLkVSUk9SO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbGVmdCA9PSBQcmVwcm9jZXNzb3JWYWx1ZS5UUlVFID8gbWlkZGxlIDogcmlnaHQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIGxlZnQ7XG4gIH1cblxuICBwYXJzZUV4cHJlc3Npb24ocHJlY2VkZW5jZTogUHJlY2VkZW5jZSk6IFByZXByb2Nlc3NvclZhbHVlIHtcbiAgICAvLyBQcmVmaXhcbiAgICB2YXIgdmFsdWUgPSB0aGlzLnBhcnNlUHJlZml4KCk7XG4gICAgaWYgKHZhbHVlID09IFByZXByb2Nlc3NvclZhbHVlLkVSUk9SKSB7XG4gICAgICByZXR1cm4gUHJlcHJvY2Vzc29yVmFsdWUuRVJST1I7XG4gICAgfVxuXG4gICAgLy8gSW5maXhcbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgdmFyIGN1cnJlbnQgPSB0aGlzLmN1cnJlbnQ7XG4gICAgICB2YWx1ZSA9IHRoaXMucGFyc2VJbmZpeChwcmVjZWRlbmNlLCB2YWx1ZSk7XG4gICAgICBpZiAodmFsdWUgPT0gUHJlcHJvY2Vzc29yVmFsdWUuRVJST1IpIHJldHVybiBQcmVwcm9jZXNzb3JWYWx1ZS5FUlJPUjtcbiAgICAgIGlmICh0aGlzLmN1cnJlbnQgPT0gY3VycmVudCkgYnJlYWs7XG4gICAgfVxuXG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tcGlsZXIvcHJlcHJvY2Vzc29yL3ByZXByb2Nlc3Nvci50cyIsImltcG9ydCB7Q29tcGlsZVRhcmdldH0gZnJvbSBcIi4uL2NvbXBpbGVyL2NvbXBpbGUtdGFyZ2V0XCI7XG4vLyBsaWJyYXJ5IGZpbGVzXG5jb25zdCBtYXRoID0gcmVxdWlyZSgnLi9jb21tb24vbWF0aC50YnMnKTtcbmNvbnN0IHR5cGVzID0gcmVxdWlyZSgnLi9jb21tb24vdHlwZXMudGJzJyk7XG5jb25zdCBhcnJheSA9IHJlcXVpcmUoJy4vY29tbW9uL2FycmF5LnRicycpO1xuY29uc3QganN0eXBlcyA9IHJlcXVpcmUoJy4vdHVyYm8vdHlwZXMudGJzJyk7XG5jb25zdCBydW50aW1lID0gcmVxdWlyZSgncmF3LWxvYWRlciEuL3R1cmJvL3J1bnRpbWUuanMnKTtcbmNvbnN0IHdyYXBwZXIgPSByZXF1aXJlKCdyYXctbG9hZGVyIS4vdHVyYm8vd3JhcHBlci5qcycpO1xuY29uc3QgbWFsbG9jID0gcmVxdWlyZSgnLi9jb21tb24vbWFsbG9jLnRicycpO1xuY29uc3QgYnVpbHRpbnMgPSByZXF1aXJlKCcuL3dlYmFzc2VtYmx5L2J1aWx0aW5zLnRicycpO1xuY29uc3QgaW5pdGlhbGl6ZXIgPSByZXF1aXJlKCcuL3dlYmFzc2VtYmx5L2luaXRpYWxpemVyLnRicycpO1xuXG5leHBvcnQgY2xhc3MgTGlicmFyeSB7XG4gICAgc3RhdGljIGdldCh0YXJnZXQ6IENvbXBpbGVUYXJnZXQpIHtcbiAgICAgICAgbGV0IGxpYjtcblxuICAgICAgICBzd2l0Y2ggKHRhcmdldCkge1xuICAgICAgICAgICAgY2FzZSBDb21waWxlVGFyZ2V0LkpBVkFTQ1JJUFQ6XG4gICAgICAgICAgICAgICAgbGliID0ganN0eXBlcyArIFwiXFxuXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIENvbXBpbGVUYXJnZXQuV0VCQVNTRU1CTFk6XG4gICAgICAgICAgICAgICAgbGliID0gW1xuICAgICAgICAgICAgICAgICAgICB0eXBlcyxcbiAgICAgICAgICAgICAgICAgICAgaW5pdGlhbGl6ZXIsXG4gICAgICAgICAgICAgICAgICAgIGJ1aWx0aW5zLFxuICAgICAgICAgICAgICAgICAgICBtYXRoLFxuICAgICAgICAgICAgICAgICAgICBtYWxsb2MsXG4gICAgICAgICAgICAgICAgICAgIGFycmF5XG4gICAgICAgICAgICAgICAgXS5qb2luKCdcXG4nKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBsaWI7XG4gICAgfVxuXG4gICAgc3RhdGljIGdldFJ1bnRpbWUodGFyZ2V0KTogc3RyaW5nIHtcbiAgICAgICAgc3dpdGNoICh0YXJnZXQpIHtcbiAgICAgICAgICAgIGNhc2UgQ29tcGlsZVRhcmdldC5KQVZBU0NSSVBUOlxuICAgICAgICAgICAgICAgIHJldHVybiBydW50aW1lICsgXCJcXG5cIjtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0V3JhcHBlcih0YXJnZXQpOiBzdHJpbmcge1xuICAgICAgICBzd2l0Y2ggKHRhcmdldCkge1xuICAgICAgICAgICAgY2FzZSBDb21waWxlVGFyZ2V0LkpBVkFTQ1JJUFQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHdyYXBwZXIgKyBcIlxcblwiO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJcIjtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9saWJyYXJ5L2xpYnJhcnkudHMiLCIvLy88cmVmZXJlbmNlIHBhdGg9XCJkZWNsYXJhdGlvbnMuZC50c1wiIC8+XG5pbXBvcnQge3dyaXRlTG9nVG9UZXJtaW5hbH0gZnJvbSBcIi4vdXRpbHMvbG9nXCI7XG5pbXBvcnQge1N0cmluZ0J1aWxkZXJfbmV3fSBmcm9tIFwiLi91dGlscy9zdHJpbmdidWlsZGVyXCI7XG5pbXBvcnQge0NvbXBpbGVyLCByZXBsYWNlRmlsZUV4dGVuc2lvbn0gZnJvbSBcIi4vY29tcGlsZXIvY29tcGlsZXJcIjtcbmltcG9ydCB7Q29tcGlsZVRhcmdldH0gZnJvbSBcIi4vY29tcGlsZXIvY29tcGlsZS10YXJnZXRcIjtcbmltcG9ydCB7VGVybWluYWx9IGZyb20gXCIuL3V0aWxzL3Rlcm1pbmFsXCI7XG5pbXBvcnQge0NvbG9yfSBmcm9tIFwiLi91dGlscy9jb2xvclwiO1xuaW1wb3J0IHtGaWxlU3lzdGVtfSBmcm9tIFwiLi91dGlscy9maWxlc3lzdGVtXCI7XG5cbi8qKlxuICogVHVyYm9TY3JpcHQgY29tcGlsZXIgbWFpbiBlbnRyeVxuICovXG5leHBvcnQgY2xhc3MgQ29tbWFuZExpbmVBcmd1bWVudCB7XG4gICAgdGV4dDogc3RyaW5nO1xuICAgIG5leHQ6IENvbW1hbmRMaW5lQXJndW1lbnQ7XG59XG5cbmxldCBmaXJzdEFyZ3VtZW50OiBDb21tYW5kTGluZUFyZ3VtZW50O1xubGV0IGxhc3RBcmd1bWVudDogQ29tbWFuZExpbmVBcmd1bWVudDtcblxuZXhwb3J0IGZ1bmN0aW9uIG1haW5fYWRkQXJndW1lbnQodGV4dDogc3RyaW5nKTogdm9pZCB7XG4gICAgbGV0IGFyZ3VtZW50ID0gbmV3IENvbW1hbmRMaW5lQXJndW1lbnQoKTtcbiAgICBhcmd1bWVudC50ZXh0ID0gdGV4dDtcblxuICAgIGlmIChmaXJzdEFyZ3VtZW50ID09IG51bGwpIGZpcnN0QXJndW1lbnQgPSBhcmd1bWVudDtcbiAgICBlbHNlIGxhc3RBcmd1bWVudC5uZXh0ID0gYXJndW1lbnQ7XG4gICAgbGFzdEFyZ3VtZW50ID0gYXJndW1lbnQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtYWluX3Jlc2V0KCk6IHZvaWQge1xuICAgIGZpcnN0QXJndW1lbnQgPSBudWxsO1xuICAgIGxhc3RBcmd1bWVudCA9IG51bGw7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwcmludFVzYWdlKCk6IHZvaWQge1xuICAgIFRlcm1pbmFsLndyaXRlKGBcblVzYWdlOiB0YyBbRkxBR1NdIFtJTlBVVFNdXG5cbiAgLS1oZWxwICAgICAgICAgICBQcmludCB0aGlzIG1lc3NhZ2UuXG4gIC0tb3V0IFtQQVRIXSAgICAgRW1pdCBjb2RlIHRvIFBBVEggKHRoZSB0YXJnZXQgZm9ybWF0IGlzIHRoZSBmaWxlIGV4dGVuc2lvbikuXG4gICAgLS13YXNtICAgICAgICAgRXhwbGljaXQgd2ViYXNzZW1ibHkgb3V0cHV0IFxuICAtLWRlZmluZSBbTkFNRV0gIERlZmluZSB0aGUgZmxhZyBOQU1FIGluIGFsbCBpbnB1dCBmaWxlcy5cblxuRXhhbXBsZXM6XG5cbiAgdGMgc3JjLyoudGJzIC0tb3V0IG1haW4ud2FzbVxuYCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtYWluX2VudHJ5KCk6IGludDMyIHtcbiAgICBsZXQgdGFyZ2V0ID0gQ29tcGlsZVRhcmdldC5OT05FO1xuICAgIGxldCBhcmd1bWVudCA9IGZpcnN0QXJndW1lbnQ7XG4gICAgbGV0IGlucHV0Q291bnQgPSAwO1xuICAgIGxldCBvdXRwdXQ6IHN0cmluZztcblxuICAgIC8vIFByaW50IHVzYWdlIGJ5IGRlZmF1bHRcbiAgICBpZiAoZmlyc3RBcmd1bWVudCA9PSBudWxsKSB7XG4gICAgICAgIHByaW50VXNhZ2UoKTtcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgfVxuXG4gICAgLy8gSW5pdGlhbCBwYXNzIG92ZXIgdGhlIGFyZ3VtZW50IGxpc3RcbiAgICB3aGlsZSAoYXJndW1lbnQgIT0gbnVsbCkge1xuICAgICAgICBsZXQgdGV4dCA9IGFyZ3VtZW50LnRleHQ7XG4gICAgICAgIGlmICh0ZXh0LnN0YXJ0c1dpdGgoXCItXCIpKSB7XG4gICAgICAgICAgICBpZiAodGV4dCA9PSBcIi1oXCIgfHwgdGV4dCA9PSBcIi1oZWxwXCIgfHwgdGV4dCA9PSBcIi0taGVscFwiIHx8IHRleHQgPT0gXCIvP1wiKSB7XG4gICAgICAgICAgICAgICAgcHJpbnRVc2FnZSgpO1xuICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0ZXh0ID09IFwiLS1jcHBcIikge1xuICAgICAgICAgICAgICAgIHRhcmdldCA9IENvbXBpbGVUYXJnZXQuQ1BQO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0ZXh0ID09IFwiLS1qc1wiKSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0ID0gQ29tcGlsZVRhcmdldC5KQVZBU0NSSVBUO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0ZXh0ID09IFwiLS13YXNtXCIpIHtcbiAgICAgICAgICAgICAgICB0YXJnZXQgPSBDb21waWxlVGFyZ2V0LldFQkFTU0VNQkxZO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0ZXh0ID09IFwiLS1kZWZpbmVcIiAmJiBhcmd1bWVudC5uZXh0ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBhcmd1bWVudCA9IGFyZ3VtZW50Lm5leHQ7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRleHQgPT0gXCItLW91dFwiICYmIGFyZ3VtZW50Lm5leHQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGFyZ3VtZW50ID0gYXJndW1lbnQubmV4dDtcbiAgICAgICAgICAgICAgICBvdXRwdXQgPSBhcmd1bWVudC50ZXh0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBUZXJtaW5hbC5lcnJvcihTdHJpbmdCdWlsZGVyX25ldygpLmFwcGVuZChcIkludmFsaWQgZmxhZzogXCIpLmFwcGVuZCh0ZXh0KS5maW5pc2goKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpbnB1dENvdW50ID0gaW5wdXRDb3VudCArIDE7XG4gICAgICAgIH1cbiAgICAgICAgYXJndW1lbnQgPSBhcmd1bWVudC5uZXh0O1xuICAgIH1cblxuICAgIC8vIE11c3QgaGF2ZSBpbnB1dHNcbiAgICBpZiAoaW5wdXRDb3VudCA9PSAwKSB7XG4gICAgICAgIFRlcm1pbmFsLmVycm9yKFwiTm8gaW5wdXQgZmlsZXNcIik7XG4gICAgICAgIHJldHVybiAxO1xuICAgIH1cblxuICAgIC8vIE11c3QgaGF2ZSBhbiBvdXRwdXRcbiAgICBpZiAob3V0cHV0ID09IG51bGwpIHtcbiAgICAgICAgVGVybWluYWwuZXJyb3IoXCJNaXNzaW5nIGFuIG91dHB1dCBmaWxlICh1c2UgdGhlwqAtLW91dCBmbGFnKVwiKTtcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgfVxuXG4gICAgLy8gQXV0b21hdGljYWxseSBzZXQgdGhlIHRhcmdldCBiYXNlZCBvbiB0aGUgZmlsZSBleHRlbnNpb25cbiAgICAvL0MgZW1pdHRlciBhbmQgdmFuaWxsYSBqYXZhc2NyaXB0IGVtaXR0ZXIgaXMgZGlzYWJsZWQgZHVlIHRvIG91dGRhdGVkIGNvZGUgYmFzZS5cbiAgICBpZiAodGFyZ2V0ID09IENvbXBpbGVUYXJnZXQuTk9ORSkge1xuICAgICAgICBpZiAob3V0cHV0LmVuZHNXaXRoKFwiLndhc21cIikpIHRhcmdldCA9IENvbXBpbGVUYXJnZXQuV0VCQVNTRU1CTFk7XG4gICAgICAgIC8vIGVsc2UgaWYgKG91dHB1dC5lbmRzV2l0aChcIi5jXCIpKSB0YXJnZXQgPSBDb21waWxlVGFyZ2V0LkM7XG4gICAgICAgIC8vIGVsc2UgaWYgKG91dHB1dC5lbmRzV2l0aChcIi5qc1wiKSkgdGFyZ2V0ID0gQ29tcGlsZVRhcmdldC5UVVJCT19KQVZBU0NSSVBUO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIFRlcm1pbmFsLmVycm9yKFwiTWlzc2luZyBhIHRhcmdldCAodXNlIGVpdGhlciAtLWMsIC0tanMsIC0tYXNtanMgb3IgLS13YXNtKVwiKTtcbiAgICAgICAgICAgIFRlcm1pbmFsLmVycm9yKFwiTWlzc2luZyBhIHRhcmdldCAodXNlIGVpdGhlciAtLWFzbWpzIG9yIC0td2FzbSlcIik7XG4gICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIFN0YXJ0IHRoZSBjb21waWxhdGlvblxuICAgIGxldCBjb21waWxlciA9IG5ldyBDb21waWxlcigpO1xuICAgIGNvbXBpbGVyLmluaXRpYWxpemUodGFyZ2V0LCBvdXRwdXQpO1xuXG4gICAgLy8gU2Vjb25kIHBhc3Mgb3ZlciB0aGUgYXJndW1lbnQgbGlzdFxuICAgIGFyZ3VtZW50ID0gZmlyc3RBcmd1bWVudDtcbiAgICB3aGlsZSAoYXJndW1lbnQgIT0gbnVsbCkge1xuICAgICAgICBsZXQgdGV4dCA9IGFyZ3VtZW50LnRleHQ7XG4gICAgICAgIGlmICh0ZXh0ID09IFwiLS1kZWZpbmVcIikge1xuICAgICAgICAgICAgYXJndW1lbnQgPSBhcmd1bWVudC5uZXh0O1xuICAgICAgICAgICAgY29tcGlsZXIucHJlcHJvY2Vzc29yLmRlZmluZShhcmd1bWVudC50ZXh0LCB0cnVlKTtcbiAgICAgICAgfSBlbHNlIGlmICh0ZXh0ID09IFwiLS1vdXRcIikge1xuICAgICAgICAgICAgYXJndW1lbnQgPSBhcmd1bWVudC5uZXh0O1xuICAgICAgICB9IGVsc2UgaWYgKCF0ZXh0LnN0YXJ0c1dpdGgoXCItXCIpKSB7XG4gICAgICAgICAgICBsZXQgY29udGVudHMgPSBGaWxlU3lzdGVtLnJlYWRUZXh0RmlsZSh0ZXh0KTtcbiAgICAgICAgICAgIGlmIChjb250ZW50cyA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgVGVybWluYWwuZXJyb3IoU3RyaW5nQnVpbGRlcl9uZXcoKS5hcHBlbmQoXCJDYW5ub3QgcmVhZCBmcm9tIFwiKS5hcHBlbmQodGV4dCkuZmluaXNoKCkpO1xuICAgICAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29tcGlsZXIuYWRkSW5wdXQodGV4dCwgY29udGVudHMpO1xuICAgICAgICB9XG4gICAgICAgIGFyZ3VtZW50ID0gYXJndW1lbnQubmV4dDtcbiAgICB9XG5cbiAgICAvLyBGaW5pc2ggdGhlIGNvbXBpbGF0aW9uXG4gICAgY29tcGlsZXIuZmluaXNoKCk7XG4gICAgd3JpdGVMb2dUb1Rlcm1pbmFsKGNvbXBpbGVyLmxvZyk7XG5cbiAgICAvLyBPbmx5IGVtaXQgdGhlIG91dHB1dCBpZiB0aGUgY29tcGlsYXRpb24gc3VjY2VlZGVkXG4gICAgaWYgKCFjb21waWxlci5sb2cuaGFzRXJyb3JzKCkpIHtcbiAgICAgICAgaWYgKHRhcmdldCA9PSBDb21waWxlVGFyZ2V0LkNQUCAmJiBGaWxlU3lzdGVtLndyaXRlVGV4dEZpbGUob3V0cHV0LCBjb21waWxlci5vdXRwdXRDUFApICYmXG4gICAgICAgICAgICBGaWxlU3lzdGVtLndyaXRlVGV4dEZpbGUocmVwbGFjZUZpbGVFeHRlbnNpb24ob3V0cHV0LCBcIi5oXCIpLCBjb21waWxlci5vdXRwdXRIKSB8fFxuICAgICAgICAgICAgdGFyZ2V0ID09IENvbXBpbGVUYXJnZXQuSkFWQVNDUklQVCAmJiBGaWxlU3lzdGVtLndyaXRlVGV4dEZpbGUob3V0cHV0LCBjb21waWxlci5vdXRwdXRKUykgfHxcbiAgICAgICAgICAgIHRhcmdldCA9PSBDb21waWxlVGFyZ2V0LldFQkFTU0VNQkxZICYmIEZpbGVTeXN0ZW0ud3JpdGVCaW5hcnlGaWxlKG91dHB1dCwgY29tcGlsZXIub3V0cHV0V0FTTSkgJiZcbiAgICAgICAgICAgIEZpbGVTeXN0ZW0ud3JpdGVUZXh0RmlsZShvdXRwdXQgKyBcIi5sb2dcIiwgY29tcGlsZXIub3V0cHV0V0FTTS5sb2cpKSB7XG4gICAgICAgICAgICBUZXJtaW5hbC53cml0ZShcIlxcblwiKTtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG5cbiAgICAgICAgVGVybWluYWwuZXJyb3IoU3RyaW5nQnVpbGRlcl9uZXcoKS5hcHBlbmQoXCJDYW5ub3Qgd3JpdGUgdG8gXCIpLmFwcGVuZChvdXRwdXQpLmZpbmlzaCgpKTtcbiAgICB9XG5cbiAgICBUZXJtaW5hbC53cml0ZShcIlxcblwiKTtcblxuICAgIHJldHVybiAxO1xufVxuXG5leHBvcnQgY29uc3QgbWFpbiA9IHtcbiAgICBhZGRBcmd1bWVudDogbWFpbl9hZGRBcmd1bWVudCxcbiAgICByZXNldDogbWFpbl9yZXNldCxcbiAgICBlbnRyeTogbWFpbl9lbnRyeVxufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGNvbXBpbGVTdHJpbmcoc291cmNlOnN0cmluZywgdGFyZ2V0OkNvbXBpbGVUYXJnZXQgPSBDb21waWxlVGFyZ2V0LldFQkFTU0VNQkxZKSB7XG4gICAgVGVybWluYWwuc2lsZW50ID0gdHJ1ZTtcbiAgICBpZih0eXBlb2YgVFVSQk9fUEFUSCA9PT0gXCJ1bmRlZmluZWRcIil7XG4gICAgICAgIFRVUkJPX1BBVEggPSBcIlwiO1xuICAgIH1cbiAgICBsZXQgaW5wdXQgPSBcInRtcC1zdHJpbmctc291cmNlLnRic1wiO1xuICAgIGxldCBvdXRwdXQgPSBcInRtcC1zdHJpbmctc291cmNlLndhc21cIjtcbiAgICBGaWxlU3lzdGVtLndyaXRlVGV4dEZpbGUoXCJ0bXAtc3RyaW5nLXNvdXJjZS50YnNcIiwgc291cmNlLCB0cnVlKTtcbiAgICBsZXQgY29tcGlsZXIgPSBuZXcgQ29tcGlsZXIoKTtcbiAgICBjb21waWxlci5pbml0aWFsaXplKHRhcmdldCwgb3V0cHV0KTtcbiAgICBjb21waWxlci5hZGRJbnB1dChpbnB1dCwgc291cmNlKTtcbiAgICBjb21waWxlci5maW5pc2goKTtcbiAgICBUZXJtaW5hbC5zaWxlbnQgPSBmYWxzZTtcbiAgICBpZiAoIWNvbXBpbGVyLmxvZy5oYXNFcnJvcnMoKSkge1xuICAgICAgICByZXR1cm4gY29tcGlsZXIub3V0cHV0V0FTTTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB3cml0ZUxvZ1RvVGVybWluYWwoY29tcGlsZXIubG9nKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy90dXJib3NjcmlwdC50cyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImZzXCIpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGV4dGVybmFsIFwiZnNcIlxuLy8gbW9kdWxlIGlkID0gNTJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==